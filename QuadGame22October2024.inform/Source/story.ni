"The Quad Game: Welcome to the University of Illinois" by the Electronic Literatures & Literacies Lab

VOLUME 1 - SETTING THE STAGE

BOOK 1 - BACKSTAGE SET-UP

PART 1 - DATA SETTINGS

Use MAX_SYMBOLS of 100000.
Use MAX_NUM_STATIC_STRINGS of 100000.
Use MAX_STATIC_DATA of 40000000.
Use MAX_OBJECTS of 3000000.
Use MAX_PROP_TABLE_SIZE of 3400000.
Use MAX_DICT_ENTRIES of 10000.
Use MAX_VERBS of 700.
Use MAX_ACTIONS of 800.
Use MAX_ARRAYS of 60000.
Use MAX_OBJ_PROP_COUNT of 400.
Use SYMBOLS_CHUNK_SIZE of 14000. 

PART 2 - EXTENSIONS and RELEASE INFORMATION

Release along with a website and an interpreter.
Use American dialect and the serial comma.
Use Scoring.

Include Basic Screen Effects by Emily Short.
Include Punctuation Removal by Emily Short.
Include Rideable Vehicles by Graham Nelson. 

[
[Include Glulx Text Effects by Emily Short. ]
Release along with a "OneColumnPintar" website and an interpreter. 
]


PART 3 - RULEBOOK CHANGES and GLOBAL DEFAULTS

The describe what's on scenery supporters in room descriptions rule is not listed in any rulebook.

can't take other people rule response (A) is "You can't carry around people, animals, or monsters, so don't even try.". 

can't take what's fixed in place rule response (A) is "You can't take that.".

Instead of going nowhere:
	let X be a random Navigable direction;
	say "[one of]You try to go [noun] but find yourself unable to do so[or]You meander about but don't really get anywhere[or]You struggle for a while trying to make your way [noun], but alas it seems you won't be going that way[as decreasingly likely outcomes]. How about going [bold type][X][roman type]?";
	stop the action.

Instead of taking a backdrop:
	say "[one of]You take the [noun] into your heart, which better be enough because you can’t take it with you any other way.[or]Nope, you can’t take that.[or]That’s not happening.[or]The [noun] doesn’t want to be taken.[purely at random]."

PART 4 - DEBUGGING TOOLS

Chapter 1 - Not for Release

[The ListingRoomProxies tool will provide a list of Room Proxies that were made, but never added to the Table of Room Proxies. This will cause a Run-Time error if the player attempts to enter the building]

StatsReporting is an action applying to nothing.
Understand "stats" as StatsReporting. 

Carry out StatsReporting:
	say "There are [number of rooms] rooms, and [number of things] things, and [number of persons] persons and [number of animals] animals and [number of men] men and [number of women] women and [number of RoomProxies] room proxies."

ListingRoomProxies is an action applying to nothing.
Understand "LRP" as ListingRoomProxies.

Carry out ListingRoomProxies:
	let L be the list of RoomProxies;
	repeat with R running through L:
		if R is a RoomProxy listed in the Table of Campus Building Data:
			do nothing;
		else:
			let LOC be the location of R;
			say "[R],[LOC][line break]."

[Not all the Things listed here need a description -- declared values are also objects that will show up in the llist]

ListingObjectsWithoutDescriptions is an action applying to nothing.
Understand "LOWD" as ListingObjectsWithoutDescriptions.

Carry out ListingObjectsWithoutDescriptions:
	let L be the list of things;
	say "These are objects in the game that are missing descriptions.[paragraph break]";
	repeat with R running through L:
		if R is not an EndingsFound and the description of R is "":
			say "[printed name of R][line break]".

ListingOrphanRooms is an action applying to nothing.
Understand "LOR" as ListingOrphanRooms.

Carry out ListingOrphanRooms:
	say "[list of rooms that are not in a region]".


ListingOutdoorRooms is an action applying to nothing.
Understand "LODR" as ListingOutdoorRooms .

Carry out ListingOutdoorRooms :
	let L be the list of outdoor rooms;
	repeat with R running through L:
		say "[R][line break]".

Chapter 2 - Backdoors

Definition: a direction (called X) is Navigable if the room X from the location is a room.
WhichWaying is an action applying to nothing.
Understand "Which Way" and "Way" and "which way can I go" and "Where can I go" and "Exits" as WhichWaying.
Carry out WhichWaying:
	if the number of entries in the list of Navigable Directions is 0:
		say "There are no apparent exits from this location.";
	else:
		say "You may go [list of Navigable Directions]."

XYZZYing is an action applying to nothing.
Understand "XYZZY" and "say XYZZY" as XYZZYing.
Carry out XYZZYing:
	say "Traditionally this command opens locked doors, moves boulders, kills monsters, and provides crucial hints. Sadly, in this game it does nothing at all. Or so it appears.";
	repeat with R running through outdoor rooms:
		now R is visited;
	 now player has CampusMap.

Chapter 3 - Debugging Seasons 


[Rule to see if seasons are working correctly -- comment this out in ordinary play]

[
Every turn: 
	say "Turn is [turn count]. SeasonTurner is [SeasonTurner]. Day is [DayCounter].[line break]";
	say "It is a beautiful [CurrentSeason] ";
	if DayTime is true: 
		say "day at ";
	if DayTime is false: 
		say "night at ";
	say "[Time of Day].".
]
	
[
See HourPassing in Actions -- "Pass [x] hours" to advance the clock can also be used to debug days and seasons
]


PART 5 - INTERNAL FUNCTIONS

To Scrub the Text:
	let T be "[the player's command]" in lower case;
	replace the regular expression "\p" in T with "";
	replace the regular expression "(?i)the " in T with "";
	replace the regular expression "(?i) an " in T with " ";
	replace the regular expression "(?i) a " in T with " ";
	replace the regular expression "(?i)^a " in T with "";
	replace the text "  " in T with " ";
	replace the regular expression "^ " in T with "";
	change the text of the player's command to T.

[To Wait a Bit:
	if Glulx timekeeping is supported:
		wait 1000 milliseconds before continuing, strictly. IMPLEMENT FOR PUBLIC RELEASE]

BOOK 2 - ASSERTIONS

PART 1 - PROPERTIES

Chapter 1 - Properties of Things

Definition: a thing is present if it is in the location or it is held by the player.

A thing can be examined or unexamined. A thing is usually unexamined.

After examining something:
	now the noun is examined.

A thing can be readable or unreadable. A thing is usually unreadable.
A thing can be undrinkable or drinkable. A thing is usually undrinkable.
A thing can be known or unknown.  A thing is usually unknown.
A thing can be clean or dirty. A thing is usually clean.
A thing can be evil or good. A thing is usually good.
A thing can be a gas, a liquid or a solid. A thing is usually a solid.
A thing can be flippable or not flippable.  A thing is usually not flippable.
A thing can be flipped or not flipped. A thing is usually not flipped.
A thing can be harmful or harmless. A thing is usually harmless.
A thing can be cheap or valuable. A thing is usually valuable.
A thing can be large, medium, or small. A thing is usually medium.
a thing can be Recyclable, Unrecyclable, or NotTrash.  A thing is usually Unrecyclable. 
A thing can be blunt or sharp. A thing is usually blunt.
A thing can be important or useless. A thing is usually useless.
A thing can be stable or unstable or wobbling or falling or fallen.  A thing is usually stable.
A thing can be detectable or undetectable.  A thing is usually undetectable.
A thing can be kickable or unkickable. A thing is usually unkickable.
A thing can be scored or unscored. A thing is usually scored.
A thing can be awoken or dormant. A thing is usually dormant.
A thing can be investigable or uninvestigable. A thing is usually investigable.
a thing can be crushable or uncrushable. a thing is usually uncrushable.
A thing can be tuned or untuned. A thing is usually untuned.
An thing can be learned or unlearned. A thing is usually unlearned.
A thing can be twirlable or nontwirlable. A thing is usually nontwirlable.

A thing can be photogenic or unphotogenic.
A thing is usually unphotogenic. an animal is usually photogenic. 
A thing can be snapped or unsnapped. A thing is usually unsnapped.
A thing can be scavengerhuntable or notscavengerhuntable. A thing is usually notscavengerhuntable.

Chapter 2 - Properties of People

self is a thing. [is this really necessary -- seems to be built in]
a person can be dead or alive. a person is usually alive.
A person can be awake or asleep. A person is usually awake.

Chapter 3 - Properties of Rooms

A room can be bussable or unbussable. A room is usually unbussable.
A room can be available or unavailable. A room is usually available.
A room can be scored or unscored.  A room is usually unscored.

A room can be culty or unculty. A room is usually unculty.

PART 2 - KINDS

Chapter 1 - Kinds of Things

a book is a kind of thing. A book is usually readable.

an instrument is a kind of thing. an instrument is usually untuned and unlearned.

a fallenleaf is a kind of thing. A fallenleaf is usually readable. 
the plural of fallenleaf is fallenleafs.

a chemical compound is a kind of thing.  a chemical compound is usually harmless.

a rare item is a kind of thing. a rare item is usually valuable.

A bag is a kind of container. A bag is usually open and openable. A bag can be zippered or buttoned. A bag is usually zippered.
A backpack is a kind of bag. A backpack is zippered.

An instrument is a kind of thing.
An instrument is either percussion or wind or stringed or electronic.

a plant is a kind of thing.
a plant can be Medicinal or Decorative. A plant is usually Medicinal.
a plant can be Healthy or Dying or Deceased.
an herb is a kind of medicinal plant. an herb is usually Deceased.
a ficus is a kind of decorative plant. a ficus is usually Healthy.

a preparation is a kind of thing.
a preparation can be Consumable or Topical. A preparation is usually Consumable.
an inf is a kind of consumable preparation.
a tinct is a kind of consumable preparation.
a poultice is a kind of topical preparation.
a solvent is a kind of thing.

a coat is a kind of wearable thing.

A weapon is a kind of thing. a weapon is usually sharp.
A gun is a kind of weapon. A gun can be semi-automatic, automatic, revolver, repeater, or bolt action. A gun is usually semi-automatic. a weapon can be electrified or not electrified. a weapon is usually not electrified.

A candy is a kind of edible thing. A candy can be slobbery or not slobbery. A candy is usually not slobbery.

a napkin is a kind of thing.
   a used tissue is a dirty napkin.  a sleeve is a clean napkin.

A MorrowMonsterDoor is a kind of thing. 
	A MorrowMonsterDoor is usually fixed in place.

Chapter 2 - Kinds of Specialized Things

A vacuum cleaner is a kind of device.
A vacuum cleaner can be low-power or high-power or super high-power. A vacuum cleaner is usually super high-power.

A lightswitch is a kind of device. A lightswitch is usually switched on.
The description of a lightswitch is usually "Just what it sounds like, a simple lever to control the light in the room.".
The printed name of a lightswitch is usually "light switch".
Understand "light" and "switch" and "light switch" as lightswitch.

A cache is a kind of container. A cache is usually open and openable.

a flask is a kind of container. a flask is openable.
a flask can be closed or open. A flask is usually closed.

a mortar is a kind of container.

[See Fablab Game for usage]

A meteor is a kind of thing. A meteor can be distant or approaching or exploding or exploded.  A meteor is usually distant.

A receptacle is a kind of container. a receptacle is usually open.

Chapter 3 - Kinds of People

a staff member is a kind of person. a staff member can be a Teacher or an Attendant.

a monster is a kind of person.  
an EscapedSpirit is a kind of person. 

An insect is a kind of animal. An insect can be flying or crawling or hopping.  An insect is usually flying.

A volunteer is a kind of person.

A cultist is a kind of person.

Chapter 4 - Kinds of Values

AttackStatus is a kind of value. The AttackStatuses are Unattacked and Attacked and Liberated.
The player has an AttackStatus. The player is Unattacked.

ZombieAttackStatus is a kind of value. The ZombieAttackStatuses are ZombieAttacked, ZombieLiberated and  ZombieFriendly. The player has a ZombieAttackStatus. The player is ZombieFriendly.

CyborgAttackStatus is a kind of value. The CyborgAttackStatuses are CyborgFree, CyborgAttacked and CyborgLiberated.  The player has a CyborgAttackStatus. The player is CyborgFree.

SearchStatus is a kind of value. The SearchStatuses are Obvious and Hidden and Revealed.
A monster has a SearchStatus. A monster is usually Hidden.

Chapter 5 - Kinds of Rooms and Regions

An Interior Location is a kind of room.  [a room from which one goes directly outside]

An OutdoorRegion is a kind of region. [one in which all of its locations are outside of buildings]
An IndoorRegion is a kind of region. [one in which all of its locations are inside a building]

A room can be indoor or outdoor. A room is usually outdoor.
Definition: a room is indoor if it is in an IndoorRegion.
Definition: a room is outdoor if it is in an OutdoorRegion.


PART 3 - DEFAULT RULES FOR WHOLE MAP 

Instead of going nowhere:
	let X be a random Navigable direction;
	say "[one of]You try to go [noun] but find yourself unable to do so[or]You meander about but don't really get anywhere[or]You struggle for a while trying to make your way [noun], but alas it seems you won't be going that way[as decreasingly likely outcomes]. How about going [bold type][X][roman type]?";
	stop the action.

Instead of taking a backdrop:
	say "[one of]You take the [noun] into your heart, which better be enough because you can’t take it with you any other way.[or]Nope, you can’t take that.[or]That’s not happening.[or]The [noun] doesn’t want to be taken.[purely at random]."

BOOK 3 - ACTIONS

PART 1 - EXISTING ACTIONS

Chapter 1 -  Synonyms for Existing Actions

[Attacking]
Understand "smack [something]" as attacking.
Understand "crush [something]" as attacking.
Understand "smash [something]" as attacking.
Understand "slaughter [something]" as attacking.

[Burning]
Understand "roast [something]" as burning.

[Cutting]
Understand "slice [something]" as cutting.

[Drinking]
Understand "sip [something]" as drinking.
Understand "guzzle [something]" as drinking.
Understand "quaff [something]" as drinking.
Understand "imbibe [something]" as drinking.

[Dropping]
Understand "abandon [something]" as dropping.
Understand "plonk [something]" as dropping.
Understand "relinquish [something]" as dropping.
Understand "fling [something]" as dropping.
[Understand "toss [something]" as dropping.
Understand "throw away [something]" as dropping.]

[Eating]
Understand "consume [something]" as eating.
Understand "gormandize [something]" as eating.
Understand "devour [something]" as eating.
Understand "masticate [something]" as eating.
Understand "scarf down [something]" as eating.
Understand "nibble [something]" as eating.
Understand "munch [something]" as eating.
Understand "swallow [something]" as eating.
Understand "consume [something]" as eating.
Understand "gulp [something]" as eating.

[Entering]
Understand "use [an open door]" as entering.
Understand "welcome [someone]" as entering.
understand "jump into [something]" as entering.
Understand "jump in [something]" as entering.

[Examining]
Understand "investigate [something]" as examining.
Understand "look into [something]" as examining.
Understand "read [something unreadable]" as examining.
Understand "ex [something]" as examining.
Understand "inspect [something]" as examining.
Understand "study [something]" as examining.
Understand "peruse [something unreadable]" as examining.
Understand "analyze [something]" as examining.
Understand "scrutinize [something]"as examining.
Understand "look at [something]" as examining.
Understand "admire [something]" as examining.
Understand "gaze at [something]" as examining.
Understand "peek at [something]" as examining.
Understand "view [something unreadable]" as examining.

[Flipping]
Understand "overturn [something]" as flipping.
Understand "flip [something]" as flipping.
Understand "flip [something] over" as flipping.
Understand "turn [something] over" as flipping.
Understand "push [something] over" as flipping.

[Giving it to]
Understand "administer [something] to" as giving it to.
Understand "feed [something] to" as giving it to.

[Jumping]
Understand "leap" as jumping.
Understand "bound" as jumping.
Understand "bounce" as jumping.

[Kissing]
Understand "blow kiss at [someone]" as kissing.

[Listening]
Understand "hear [something]" as listening.

[Looking]
Understand "bye" and "goodbye" as looking.

[Opening]
Understand "use [a door]" as opening.
Understand "unscrew [something]" as opening.
Understand "pry off [something]" as opening.
Understand "pry open [something]" as opening.
Understand "pry [something]" as opening.
Understand "force [something]" as opening.
Understand "break open [something]" as opening.

[Playing]
Understand "perform on [something]" as playing.

[Pushing]
Understand "thrust [something]" and "force [something]" as pushing.

[Rubbing]
Understand "sweep [something]" as rubbing.

[Saying sorry]
Understand "I apologize" as saying sorry.

[Squeezing]
Understand "wring [something]" as squeezing.

[Switching on]
Understand "use [a switched off device]" as switching on.
Understand "flip [something] on" and "toggle [something] on" as switching on.
Understand "boot up [something]" as switching on.

[Switching off]
Understand "shut down [something]" as switching off.
Understand "flip [something] off" and "toggle [something] off" as switching off.

[Taking]
Understand "steal [something]" as taking.
Understand "swipe [something]" as taking.
Understand "grab [something]" as taking.
Understand "filch [something]" as taking.
Understand "borrow [something]" as taking.
Understand "gain [something]" as taking.
Understand "acquire [something]" as taking.
Understand "pocket [something]" as taking.
Understand "snatch [something]" as taking.
Understand "reach for [something]" as taking.

[Taking on]
Understand "undress [something]" as taking off.

[Throwing it at]
Understand "chucking [something] at [something]"as throwing it at.
Understand "hurl [something] at [something]" as throwing it at.

[Touching]
Understand "feel [something]" as touching.
Understand "rub [something]" as touching.
Understand "prod [something]" as touching.
Understand "poke [something]" as touching.
Understand "stroke [something]" as touching.

[Waiting]
Understand "stop" as waiting.
Understand "anticipate" as waiting.
Understand "stand by" as waiting.
Understand "sit tight" as waiting.
Understand "waste time" as waiting.

[Wearing]
Understand "equip [something]" as wearing.
Understand "dress in [something]" as wearing.


Chapter 2 - Blocked Actions, Something New, and Changed Defaults 

The block sleeping rule is not listed in the check sleeping rulebook.
The block attacking rule is not listed in the check attacking rulebook.
The block drinking rule is not listed in the check drinking rulebook.
The block waking rule is not listed in the check waking rulebook.
The block asking rule is not listed in the report asking it about rulebook.

Understand the command "read" as something new.
reading is an action applying to one thing.
Understand "read [something]" and "read about [something]" and "view [something]" and "peruse [something]" as reading.

Check reading:
	if noun is not readable:
		say "Try as you might, that's not something you can read, except in a metaphorical way."

Carry out reading:
	   say "You read the [noun], but learn nothing of significance."

Understand the command "check" as something new. 

Checking is an action applying to one visible thing.
Understand "check [something]" as checking.

Carry out checking:
	say "You check [noun] over and find nothing amiss."


Understand the command "run" as something new. 
Understand "run" as running. 
Running is an action applying to nothing. 

Check running:
	if the location of the player is indoor:
		say "This is not a great place to go for a run.";
		stop the action.

Carry out running:
	say "You take off running."; 
	let S be the list of rooms adjacent to the player; 
	repeat with X running through S:
		if X is an interior location:
			remove X from S;
	if the number of entries in S is greater than 0:
		sort S in random order;
		let R be entry 1 in S;
		now player is in R;
		increment PlayerExercise;
	else:
		say "You run in place a while, but you don't really build up a sweat."
		
Instead of waiting:
	 say "You play a game on your phone. You look up ten minutes later."; 
	 increase the time of day by 9 minutes. [1 minute default minute passed per turn + 9 extra]

PART 2 - Extra-diegetic Actions

HourPassing is an action applying to one number. 
Understand "Pass [number] hour" and "pass [number] hours" and "pass [number]" as HourPassing.

Carry out HourPassing:
	let X be the number understood;
	now time of day is time of day + X hours.


PART 3 - NEW ACTIONS

Chapter 1 -- Conversing

Instead of asking [someone]:
	say "You can ask [the noun] ABOUT or FOR things."

Interrogating it about is an action applying to two visible things. Understand "ask [someone] about [any thing]" and "ask [someone] for [any thing]" and "talk to [someone] about [any thing]" as interrogating it about.

Check Interrogating it about:
	if noun is not a person:
		say "Why don't you ask something that can actually talk?";
		stop the action.

Carry out Interrogating it about:
	say "You inquire about [second noun] but learn nothing important."

Talking to is an action applying to one visible thing. Understand "talk to [something]" as talking to.

Check talking to something:
	if noun is not a person:
		say "How about talking to something that can talk back?";
		stop the action.

Carry out talking to:
	say "You chat away for a while, but you don't get much of a reply."

Querying about is an action applying to one visible thing.
Understand "ask about [any thing]" and "ask for [any thing]" and "talk about [any thing]" as querying about.

Definition: a person is other if it is not the player.
To decide if the player is alone:
	if the number of visible other people in the location is 0:
		decide yes;
	else:
		decide no.

[The purpose of this rule is to allow the player to ask about things without naming who they're asking if there's only one NPC in the room. It is a courtesy rule.]

Check Querying about:
	if player is alone:
		say "You can't expect an answer when you're talking to yourself.";
		stop the action.

Instead of Querying about anything:
	place noun in scope;
	if the player is alone:
		say "If you are asking yourself the question, you must listen more closely for the answer.";
	else:
		let X be a random other person in the location;
		try interrogating X about the noun.

ThingAsking is an action applying to one thing and one topic.
Understand "ask [something] about [text]" as ThingAsking.

Check ThingAsking:
	say "You attempt to have a conversation with the [noun]. Unsurprisingly, it has nothing to say. Perhaps you should try talking to someone who can talk back?";
	stop the action.


Chapter 2 - Other Communication

sending an email is an action applying to one visible thing.
Understand "email [something]" as sending an email.

Check sending an email:
	if a computer is not visible:
		say "You need a computer if you wish to email someone.";
		stop the action.

Carry out sending an email:
	say "You have some trouble getting the exact wording correct, but you manage to write an acceptable email...hopefully you'll get a response soon enough."


Following is an action applying to one thing. 
Understand "follow [someone]" as following.

Apologizing is an action applying to one visible thing.  
Understand "apologize to [something]" as apologizing.

Check Apologizing:
	if noun is not a person:
		say "No one heard you.";
		stop the action.

Carry out Apologizing:
	say "You apologize profusely.";
	stop the action.

Submitting is an action applying to one visible thing. 
Understand "submit to [something]" as submitting.

Carry out submitting:
	say "You avert your eyes as you lower yourself to the ground in front of the [noun].  You stop yourself before you are fully supine and realizing that you are trying to submit to a [noun]. You feel embarrassed and quickly get up.";
	stop the action.

Accusing is an action applying to one visible thing.
Understand "accuse [someone]" as accusing.

Carry out accusing:
	say "You accuse [noun] but they ignore you."

GenericallyGiving is an action applying to one visible thing.
Understand "donate [something]" and "give [something]" and "offer [something]" as GenericallyGiving.

Check GenericallyGiving:
	if the player is alone:
		say "There's nobody here to give things to.";
		stop the action.

Carry out GenericallyGiving:
	say "Your offer is not received."
	
Ordering is an action applying to one visible thing.
understand "order [something]" as ordering.

Report ordering:
	say "You order the [noun]."


Chapter 3 - Animal-related Actions
	
Petting is an action applying to one visible thing.
Understand "pet [something]" as petting.
Check petting:
	if noun is a man or noun is a woman:
		say "You can't just pet people. You might end up rubbing them the wrong way.";
		stop the action;
	else if noun is not an animal:
		say "You start to pet the [noun], but you stop because it just looks weird to pet a [noun].";
		stop the action;
Report petting:
		say "You give the [noun] a couple of friendly pats and the [noun] looks much happier.";

Bugcatching is an action applying to nothing.
Understand "catch bugs" or "catch insects" or "catch the bugs" or "catch the insects" or "use net" or "wave net" as bugcatching.

Carry out Bugcatching:
	   say "You run around trying to catch some bugs."
	
Understand the command "feed" as something new.

SquirrelFeeding is an action applying to one carried thing and one thing.

understand "feed [things] to [something]" as SquirrelFeeding.

Check SquirrelFeeding:
	if second noun is not a squirrelperson: 
		if second noun is a person:
			say "The [second noun] looks at you confusedly and slowly backs away.";
			stop the action;
		else:
			say "It looks like the [second noun] does not want to be fed, considering it is inanimate and does not have a mouth.";
			stop the action;
	else if noun is inedible:
		say "You cannot feed that to the [second noun].";
		stop the action.

Carry out SquirrelFeeding:
	if player is not carrying the noun:
		say "You can't feed the [second noun] what you don't have.";
		stop the action;
	else:
		say "You feed the [noun] to the [second noun].";
		now the noun is nowhere.


Chapter 4 - Fighting

Check attacking:
	if the noun is not a person:
		say "Although it might feel emotionally satisfying to attack [noun], you know you will feel stupid later, so you bring your temper under control.";
		stop the action.

Carry out attacking:
	   say "You prepare to attack, but then consider whether a more subtle response might be in order.";
	stop the action. 

carry out attacking:
	say "You attack the [noun] but it doesn't have much of an effect."

weaponattacking is an action applying to two visible things.
[consider removing the visible modifier of the attack action. How with that influence gameplay]
Understand "attack [something] with [something]" and "crush [something] with [something]" and "smash [something] with [something]" and "pulverize [something] with [something]" as weaponattacking.

carry out weaponattacking:
	say "You attack the [noun] with the [second noun] but nothing much happens."



Kicking is an action applying to one thing.
Understand "kick [something]" and "punt [something]" as kicking.

Check kicking:
	   if noun is not kickable:
		say "Could you kick that? Maybe. Something, however, compels you not to.";
		stop the action.

Carry out kicking:
	say "You kick [noun], but it has little effect.";

Slapping is an action applying to one visible thing.
Understand "slap [something]" as slapping.
Carry out slapping:
	say "You swing as hard as you can and have successfully hit [noun]!"

Flailing is an action applying to nothing.
Understand "flail" as flailing.

Banishing is an action applying to one visible thing.
Understand "banish [something]" as banishing.

Check banishing:
	if noun is not an EscapedSpirit:
		say "You recite a prayer that does nothing." instead;
		stop the action.

Carry out banishing:
	say "The spirit is banished.";
	stop the action.



Chapter 5 - Bodily Functions

Dancing is an action applying to nothing.
Understand "dance" as dancing.
Carry out dancing:
	say "You bust some moves. People stare in awe."

Check drinking:
	if noun is undrinkable:
		say "That doesn't appear to be something you can drink.";
		stop the action.

Carry out drinking:
	say "You take a sip of [the noun]."

Chugging is an action applying to one visible thing.
Understand "chug [something]" as chugging.

Check Chugging:
	if noun is not drinkable:
		say "You need something to drink if you want to chug.";
		stop the action.

Carry out chugging:
	say "You chug the [noun]";
	now noun is nowhere.

Understand "nap" and "take nap" as sleeping.
Carry out sleeping:
	increase Time of Day by 1 hour;
	increase Time of Day by a random number between 1 and 15 minutes;
	say "You doze off. That was refreshing, but gosh look at the time!"

Breathing is an action applying to nothing.
Understand "take a breath" and "breathe" and "breathe deeply" and "breath" as breathing.

Carry out breathing:
	say "You take a breath."

Holding Breath is an action applying to nothing.
Understand "hold my breath" and "hold breath" and "hold your breath" as holding breath.

Carry out holding breath:
	say "You hold your breath for a while just to prove to yourself you could do it. Yep. Still can."

Licking is an action applying to one visible thing.
Understand "lick [something]" as licking.

Check licking:
	if noun is not edible:
		say "Bleh, gross. Why would you even do that?";
		stop the action.

Carry out licking:
	say "You take a lick."

Understand "shave [something]" as Shaving.
Shaving is an action applying to one visible thing.
Check Shaving:
	if the player does not have razor:
		say "What would you shave with?";
		stop the action.

Carry out Shaving:
	say "You attempt to shave the [noun]."

Clapping is an action applying to nothing.
Understand "clap" as clapping.
Report clapping:
	say "*clap*";

Understand "apply [something]" as Applying.
Applying is an action applying to one visible thing.
Carry out Applying:
	say "You apply some.".



Waking it is an action applying to one visible thing.
Understand "wake [someone]" and "wake [someone] up" and "wake up [someone]" as waking it.

DoingYourBusiness is an action applying to nothing.
Understand "poop" and "pee" and "piss" and "shit" and "do my business" and "do number one" and "do number two" and "urinate" and "defecate" as DoingYourBusiness.

Check DoingYourBusiness:
	say "You feel no urge to go at the moment.";
	stop the action.

Chapter 6 - Psychological Actions

Philosophizing is an action applying to nothing.
Understand "philosophize" and "contemplate existence" as philosophizing.

Check philosophizing:
	if the player is not in ISRDiningHall:
		say "You have nothing to think about.";
		stop the action.

Carry out philosophizing the first time:
	say "You take a moment and consider it all. Why are you here? What brought you to this point? Is morality socially constructed, or is there some deeper, hidden meaning behind it? How can justice exist without itself being juxtaposed by injustice? Can free will truly exist in a universe that is causally determined? And how many licks does it take to get to the center of a Tootsie Pop? You shudder, suddenly uneasy with the implications of these thoughts. After a moment, you collect yourself. There will be time to grapple with these questions later.";

Carry out philosophizing:
	say "You're not in a philosophical frame of mind."

Unfocusing is an action applying to nothing. Understand "unfocus" as unfocusing.

Instead of Unfocusing:
	if the light is switched on:
		say "You can't coax your eyes to unfocus through the angry, buzzing glare of the fluorescents";
		stop the action;
	else if the player is not in the Creepy Bathroom:
		say "You unfocus your eyes. Lines blur as shapes and shadows blend together. You feel like this could be useful if you had a way to reflect on your surroundings.";
		stop the action.
Carry Out Unfocusing:
	say "You unfocus your eyes. Lines blur as shapes and shadows blend together.";
	now unfocused is true.

Strategically analyzing is an action applying to one visible thing.
Understand "strategically analyze [something]" as strategically analyzing.
Carry out strategically analyzing:
	say "You concentrate carefully on the target. There might be something to help you in this situation."

Check strategically analyzing:
	if noun is not group of zombie students:
		say "That doesn't seem so threatening. There is no need.";
		stop the action.

Investigating is an action applying to one object.
Understand "Investigate [something]" and "use magnifying glass on [something]" and "search [something]" and "use glass on [something]" as investigating.

Wallowing is an action applying to nothing. Understand "Wallow" as wallowing.

Carry out Wallowing:
	say "Traditionally this command makes things worse. Makes everything worse."

Praying is an action applying to nothing.
Understand "pray" as Praying.
Check Praying:
	if player is not in InsideUnion:
		say "You pray quietly for a moment."

GodPraying is an action applying to one visible thing.
Understand "pray to [something]" as GodPraying.
Carry out GodPraying:
	say "You pray to [noun] with quiet fervor.";
	stop the action.

Chapter 7 - Investigatory Actions

DumpsterDiving is an action applying to nothing. 

Understand "dive" and "dumpster dive" and "do a dumpster dive" and "dive into recycling bin" and "dive into trash can" and "dive into bin" and "dumpster dive into bin" and "dumpster dive into recycling bin" and "dumpster dive into trash can" and "dig in bin" and "dig in can" and "skip" and "skip dip" and "dip" as DumpsterDiving. 

Check DumpsterDiving:
	if the number of receptacles in the location is 0:
		say "There's no trash here for you to explore.";
		stop the action.

Carry out DumpsterDiving:
	Repeat with R running through Receptacles in the location:
		say "You dig around in the [R] and see [if the number of things in R is not 0][a list of things in R]. [else]nothing of interest. ";
	if the player is alone:
		say "[line break]";
		stop the action;
	else:
		say "[paragraph break]";
		say "When you pull your head out of the trash, you notice [a list of other people in the location] looking at you with amusement."
		
Instead of searching a TrashCan:
	   try DumpsterDiving;


Scanning is an action applying to nothing.
Understand "scan" as scanning.


Chapter 8 - Fixing Actions 


[Krannert -- Tuning]

[
An instrument can be tuned or untuned.
An instrument can be learned or unlearned.
]

Tuning is an action applying to one carried thing.
Understand "tune [something]" as tuning.
Check tuning:
	If the noun is not an instrument:
		say "You attempt to make the [noun] emit pleasant tones, but realize it cannot be played musically.";
		stop the action.
Report tuning:
	Say "You run through a couple of scales on the [noun], adjusting various pitches as you go, until each note is perfectly in tune.".
Carry out tuning:
	Now the noun is tuned.

Chapter 9 - Actions that are Performances

[Krannert Catacombs -- Twirling]
[A thing can be twirlable or nontwirlable. A thing is usually nontwirlable.]

Twirling is an action applying to one visible thing.
Understand "twirl [something]" and "twirl the [something]" as twirling.

Check twirling:
	If the number of present twirlable things is 0:
		say "You make twirling motions with your hands, but it looks a little silly.";
	stop the action.

Carry out twirling:
	let T be a random present twirlable thing; 
	say "Gripping the noun at its center, you give it a spin."
	
Playing is an action applying to one thing.
Understand "play [something]" and "perform [something]" as playing.

Carry out Playing:
	say "You play [noun] for a while."

Backflipping is an action applying to nothing.
Understand "do backflip" and "do a backflip" and "flip" and "backflip" as backflipping.
Carry out backflipping:
	say "You plant your feet and bend your knees before taking a deep breath. With full belief in yourself, you simultaneously jump and lean. The world spins around you for a moment before it rumbles back into place in your eyes. You did a backflip for some reason.";
	stop the action.


Chapter 10 - Actions that Make Something

[Fablab ]
Understand "sew [something]" as Sewing.
Sewing is an action applying to one visible thing.

Check Sewing:
	if a sewing machine is not visible:
		say "You need a sewing machine if you want to sew.";
		stop the action;
	else if sewing machine is switched off:
		say "You're not going to get very far with the sewing machine switched off.";
		stop the action.

Carry out Sewing:
	say "You make your best attempt to sew the [noun]."

OnlySewing is an action applying to nothing.
Understand "sew" as OnlySewing.
Check OnlySewing:
	say "You could sew the air, but I don't think it would hang together very well."


Chapter 11 - Physical Actions 

[------------------------------------------------------------------------] 
Understand "use [something]" as using.
Using is an action applying to one thing.

Understand "use [something preferably held] on [a locked lockable thing]" as unlocking it with (with nouns reversed). Understand "use [something preferably held] on [an unlocked lockable thing]" as locking it with (with nouns reversed).

Carry out using: say "It's not clear what you want to do with the [noun]."

[------------------------------------------------------------------------] 

Understand "unlock [something]" as unlocking keylessly. Unlocking keylessly is an action applying to one thing.

Check unlocking keylessly:
	if the noun is unlocked:
		say "[The noun] is already unlocked.";
		stop the action;
	if the noun is not lockable:
		say "You can't lock that."

Carry out unlocking keylessly:
	let L be the noun;
	repeat with K running through the list of things carried by the player:
		if K unlocks L:
			try unlocking L with K;
			stop the action;
	say "You don't have what's needed to unlock the [noun].".
	
Rule for supplying a missing second noun while unlocking:
	if player is carrying a key:
		now second noun is key;
		stop the action;
	else:
		say "You have to have the right key to unlock that.";
		stop the action.

[------------------------------------------------------------------------] 

Setting is an action applying to one visible thing.
Understand "set [something]" as setting.
Carry out setting:
	say "You set the [noun] in place."

[------------------------------------------------------------------------] 
	
deepdigging is an action applying to one visible thing.
Understand "dig in [something]"  or "dig [something]" as deepdigging.

Check deepdigging: 
	say "You dig around in the [noun] for a while, but don't find anything significant."

digging is an action applying to nothing. 
Understand "dig" as digging. 

Instead of digging: 
	say "You dig a while, but don't find anything significant."

[------------------------------------------------------------------------] 

Unfolding is an action applying to one thing.
Understand "unfold [something]" as unfolding.
A thing can be folded or unfolded. A thing is usually unfolded. 

Check unfolding:
	if the noun is unfolded: 
		say "You can't unfold something that isn't folded."; 
		stop the action.
		
Carry out unfolding:
	say "You unfold the [noun].";
		now player has noun;
		continue the action.

[------------------------------------------------------------------------] 

Flipping is an action applying to one touchable thing.

Check flipping something:
	if the noun is not flippable:
		say "You probably wouldn't be able to lift this, much less flip it.";
		stop the action;
	otherwise if the noun is a supporter (called the item):
		if something is on the item:
			say "As you prepare to flip the [noun], you notice that several things would tumble should you continue.  Considering [italic type](incorrectly)[roman type] yourself to be a civilized member of society, you decide not to flip the [noun].";
			stop the action;
	otherwise if the noun is flipped:
		say "The [noun] is already overturned.";
		stop the action;
Carry out flipping something:
	now the noun is flipped;
Report flipping something:
	say "You flip the [noun] over, marveling at how much stronger you are than you thought. Though you must admit, it probably has less to do with your strength and more to do with your usual weakness.".

[------------------------------------------------------------------------] 

Smoking is an action applying to one thing.

Understand "smoke [something]" as Smoking.
Understand "puff [something]" as Smoking.
Understand "take a drag off [something]" as Smoking.
Understand "take a pull off [something]" as Smoking.

Carry out Smoking:
	say "You attempt to smoke the [noun] and succeed in looking ridiculous."

Rule for supplying a missing noun while smoking:
	let N be a random thing in the location;
	now noun is N.

Expelling is an action applying to one visible thing.
Understand "expel [something]" as expelling.
Understand "expel" as expelling.

Purging is an action applying to one visible thing.
Understand "purge [something]" as purging.

Condemning is an action applying to one visible thing.
Understand "condemn [something]" as condemning.
Understand "condemn" as Condemning.

Absorbing is an action applying to one visible thing.
Understand "drain [something]" as absorbing.
Understand "drain" and "draining" and "absorb" as Absorbing.

Deathgripping is an action applying to one visible thing.
Understand "deathgrip [something]" as touching.
Understand "death grip" and "grip" and "strangle" and "choke" as deathgripping.

Cursing is an action applying to one visible thing.
Understand "curse [something]" as cursing.
Understand "cursing" and "cursed" and "bewitch" and "damn" and "hex" as Cursing.

Destroying is an action applying to one visible thing.
Understand "destroy [something]" as destroying.
Understand "destroy" and "break" and "remove" and "breakable" and "destroyable" as destroying.

Aiding is an action applying to one visible thing.
Understand "help [something]" and "aid [something]" as Aiding.

Snatching is an action applying to one visible thing.
Understand "snatches" and "snatch" as snatching.
Understand "snatches [something]" as snatching.

Dragging is an action applying to one visible thing.
Understand "drag [something]" as dragging.
Understand "drag" and "drags" and "dragged" and "dragging" as dragging.

Understand "appear" and "appearing" and "appeared" and "appears" as appearing.
Understand "[something] appears" as appearing.
Appearing is an action applying to one visible thing.

Unzipping is an action applying to one visible thing. Understand "unzip [something]" as unzipping.
Check unzipping:
	if the noun is not zippered:
		say "It doesn't have a zipper to unzip.";
		stop the action;
	if the noun is locked:
		say "You'll need to unlock it first.";
		stop the action.

Carry out unzipping:
	say "Unzipped.";
	if the noun is a bag, now noun is open.

Unbuttoning is an action applying to one visible thing. Understand "unbutton [something]" as unbuttoning.
Check unbuttoning:
	if the noun is not buttoned:
		say "It doesn't have a button to unbutton.";
		stop the action;
	if the noun is locked:
		say "You'll need to unlock it first.";
		stop the action.

Carry out unbuttoning:
	say "Unbuttoned.";
	if the noun is a bag, now noun is open.

Instead of opening a zippered thing:
	if the noun is locked:
		say "You'll need to unlock it first.";
		stop the action;
	else:
		say "Unzipped.";
		now the noun is open.

Instead of closing a zippered thing:
	say "Zipped.";
	now the noun is closed.


eateverything is an action applying to nothing.
understand "eat everything" as eateverything.
Instead of eateverything:
	repeat with X running through things carried by player:
		if X is edible:
			try eating X;

Understand "prod [something]", "poke [something]", "stroke [something]" as touching.

Understand "drumm [something]" or "beat [something]" or "drum [something]" as drumming.
Drumming is an action applying to one visible thing.

a thing is either drummable or undrummable. A thing is usually drummable.
yourself is undrummable.

Check drumming:
	if noun is undrummable:
		say "You drum [noun]. You only make the pitter patter of your hands. Disappointing.";
		stop the action.

Carry out drumming:
	say "[noun] makes a satisfying rhythmic and resounding beat."

A thing can be tearable or untearable.
A thing is usually untearable.
Some papers are tearable.

Understand "tear [something]" as tearing. Tearing is an action applying to one visible thing.

Check tearing:
	if noun is untearable:
		say "Whoa, calm down buddy.";
		Stop the action.

Carry out tearing:
	say "You tear the [noun] to tiny shreds.".

Understand "Make coffee" as CoffeeMaking. CoffeeMaking is an action applying to nothing.

SickBeatsDropping is an action applying to nothing.

Understand "drop some sick beats" and "drop some beats" and "drop beats" and "drop sick beats" as
SickBeatsDropping.

Carry out SickBeatsDropping:
	say "You have a great voice but unfortunately no one is around to hear your sick beats.";
	stop the action.

Instead of SickBeatsDropping  when player is in math library lobby or player is in Mathstacks or player is in Mathcomputerarea:
	say "You attempt to drop some beats, but you get glares from the students trying to study. Perhaps you should do it somewhere else.".

folding is an action applying to one thing.

Understand "make origami with [something]" and "fold shapes with [something]" and "fold [something]" as folding. 

Check folding:
	if noun is unorigamiable:
		say "Try as you might, you cannot fold [the noun] into any distinctive shape.";
		stop the action;
	if player is not holding noun:
		say "You can't fold something you're not holding."

Carry out folding: 
	say "You fold [the noun] into a beautiful butterfly and it flies out of your hand and into the sky!"; 
	now the noun is nowhere.


Resting is an action applying to nothing.
Understand "rest" and "take a rest" and "nap" and "snooze" as resting.
Carry out resting:
	say "You find the nearest, most comfortable-looking section of the ground and doze off. A few hours pass.";
	increase the time of day by 3 hours.


Understand "use napkin" and "wipe mouth" as Using Napkin.

Using Napkin is an action applying to one thing.

Carry out Using Napkin:
	say "You wipe your mouth all clean."

Check Using Napkin:
	if napkin is dirty:
		say "Gross! You wipe whatever was on that napkin all over your face!";
		stop the action.



VOLUME 2 - THE GAME WORLD

BOOK 1 - LAUNCHING THE WORLD

PART 1 - Opening Screen

After printing the banner text:
	say "[line break][italic type]The Quad Game is an Interactive Fiction sandbox created at the University of Illinois Urbana Champaign. To date it has had 100+ authors who have written 258,155 words,  creating [number of rooms] locations, [number of things] things, [number of persons] persons, and [number of endingsfound - 1] narrative resolutions but no ending. Like all sandboxes, this one has bugs. New authors learn to write code by finding and fixing them, invariably leaving new bugs for future contributors to find. The Quad Game is a text-based game. What you can do will be context-specific but here are the basics: [paragraph break]
	[bold type]LOOK (L) [roman type]helps you to recall where you are.[line break] 
	[bold type]EXAMINE (X) [roman type]things listed in descriptions and [bold type]TAKE [roman type]whatever you can.[line break]
	[bold type]INVENTORY (I) [roman type]shows you what you are carrying.[line break]
	[bold type]GO north or any other cardinal direction (N, NW, NE, S, SW, SE, W, E), or up and down. [line break]
		 GO in(side), out(side), ENTER[roman type] or [bold type]EXIT[roman type] campus buildings or enterable containers. [line break]
	 [bold type]WHICH WAY (WAY) [roman type]provides available directions.[line break]
	 [bold type]TALK TO [roman type]people and [bold type]ASK [roman type]them [bold type]ABOUT [roman type]relevant topics.[line break]
	[bold type]SNAP[roman type]or[bold type] PHOTOGRAPH [roman type]things you find curious or beautiful. [line break]
	 [bold type]STATUS[roman type] will show your progress.[line break]
	[bold type]HELP [roman type]will repeat these instructions. 
	 [bold type]CREDITS [roman type]will give credit where credit is due. [line break]
	 Finally, [bold type]SAVE [roman type]your game before you [bold type]QUIT[roman type] or your progress will be lost!".

[	 [bold type]STATUS [roman type]tells you how many endings you have found.[line break]   ]

[The player is in Center of the Quad.] [CHANGE BACK BEFORE SENDING]
The player is in Western SCD.

Center of the Quad is a room.  "You are standing in the center of the main quad on the University of Illinois campus. You are surrounded by a sea of grass, criss-crossed with sidewalks that lead in all directions. You are free to choose your own path."
The printed name of Center of the Quad is "Center of the Quad".
Understand "Quad" and "main quad" as Center of the Quad.

After deciding the scope of the player while the location of the player is in Center of the Quad:
	if the noun is a roomproxy:
		place noun in scope. 
		
the player is holding a icard.
Understand "icard" and "i-card" and "your i-card" and "my i-card" and "my icard" and "card" as icard.
The description of icard is "This is U of I identification card. You're unsatisfied with the picture. It doesn't look like you at all. You know, maybe it isn't actually you."

ID Picture is part of icard.
Understand "ID pic" and "pic" and "photo" and "id photo" as ID picture.
The description of ID Picture is "Best that the picture remains in your imagination."

[This NPC is underdeveloped -- it requires many more keywords to make him useful. ]

PART 2 - When Play Begins 


BadLuck is a truth state variable.  [this involve the GraySquirrel -- maybe delete when luck is implemented throughout the game!]

When play begins:
	now time of day is 8:30 AM;
	now the left hand status line is "[location][if location is outdoor] ~ [CurrentWeather]";
	now the right hand status line is "[time of day]";
	set special events.


PART 3 - Special Events
	
To set special events:
	let S be a random number between 50 and 100;
	Silver Mine Delivers in S turns from now;
	let N be a random number between 150 and 500;
	Balabanoa Turns on the Plastic Fantastic Lover in N turns from now;
	let X be a random number between 1000 and 1500;
	Player Falls Down in X turns from now.


At the time when Silver Mine Delivers:
	say "A delivery man from Silver Mine walks up to you and exclaims, 'There you are! You ordered delivery, right? Here's your sandwich. He plucks a ten out of your hand and says, 'Thanks for the tip,' and disappears. You find this extremely odd, since the Silver Mine subs on Daniel Street closed down in 2015. You think twice about eating the sandwich.";
	now gotSub is true;
	decrease the price of your available cash by $10.00;
	now the player has the SilverMine sub.

At the time when Balabanoa Turns on the Plastic Fantastic Lover:
	say "Somewhere in the distance a machine clicks on.  Nothing has ever sounded so horrible, so delightful.  That hum is like the swoon of sleep and cosmic ecstasy.";
	let B be a random number between 25 and 50;
	Violet Hums in B turns from now.

At the time when Violet Hums:
	say "In the far, far distance you hear a violet hum, the subtle sense of ekstasis."

At the time when Player Falls Down:
	say "Suddenly you trip and fall for literally no reason whatsoever. What the f*** game master?!?!"

every turn when the time of day is 9:10 AM and HadCoffee is false:
	say "You are starting to get a headache from lack of caffeine. Perhaps you should find some coffee?".

Every turn when the turn count is 50 and HadCoffee is false:
	say "You feel your caffeine headache getting worse."
	
Every turn when the turn count is 100 and HadCoffee is false:
	say "You might want to get some coffee or things could get bad."

Every turn when the turn count is 150 and HadCoffee is false:
	say "Your caffeine withdrawal is giving you the shakes." 

Every turn when the turn count is 200 and HadCoffee is false:
	say "Your vision blacks out for a moment, and then comes back. Coffee would fix that." 
	
Every turn when the turn count is 250 and HadCoffee is false:
	say "Your feet are dragging, your lids are drooping, your brain is pounding. Seriously, find some coffee before you're ended."

Every turn when the turn count is 300 and HadCoffee is false:
	say "Your headache has reached world ending proportions. Despite your body's multiple warning, you have failed to locate a cup of coffee. Something inside you just gives up. You fall limply to the ground.";
	now CaffeineWithdrawal is Completed;
	now CurrentEnding is CaffeineWithdrawal; 
	End the Journey.

Every turn:
	if time of day is 12:00 pm:
		now the Burrito King Food Truck is in Transportation Building.
	
Every turn: 
	if time of day is 5:00 pm:
		now the Burrito King Food Truck is in South Entrance to Krannert. 
	
Every turn: 
	if time of day is 9:00 pm:
		now the Burrito King Food Truck is in Siebel Design Center.

Every turn: 
	if time of day is 7:00 am: 
		now the Burrito King Food Truck is in Campbell Hall. 


CornSquirrelOriginalRoom is a room that varies. [Used to track where player originally was before they visit corn squirrel.]
At the time when the Corn Squirrel Visits:
	now CornSquirrelOriginalRoom is the location;
	say "You grow woozy, most likely an effect of the golden kernel you just couldn't keep yourself from eating. As your vision fades to black, you feel tiny slight wet paws scuttle all around you.";
	now player is in CornSquirrelDimension.

PART 4 - Universal Backdrops 

IndoorLightSource is a backdrop. 
OurdoorLightSource is a backdrop. 

this university building is a backdrop. this university building is everywhere.
The description of this university building is "You can see several university buildings from here."

ubiquitousquad is a backdrop. ubiquitousquad is everywhere. 
The description of ubiquitousquad is "The Quad is the U of I. The U of I is the Quad. But seriously, there are three of them all in a line from south to north. They have grass and sidewalks chalked with the day's events, and you can play frisbee while listening to religious exhortations against immorality on your way to class like any good college town."

understand "the quad" and "main quad" and "north quad" and "south quad" and "bardeen quad" and "quad" as ubiquitousquad.
The printed name of ubiquitousquad is "the Quad".

ubiquitous path is a backdrop. The path is everywhere.
Understand "the paths" and "paths" and "the sidewalk" and "sidewalk" and "sidewalks" as ubiquitous path.
The description of ubiquitous path is "The road goes ever on and on."

The ground is a backdrop. The ground is everywhere.
The description of the ground is "The ground is what you're standing on."

UbiquitousGrass is a backdrop. ubiquitousgrass is everywhere. 
Understand "grass" as ubiquitousGrass. The description of UbiquitousGrass is "The campus is very green, and the grass is no exception, most months of the year." 

CampusTour is a backdrop. CampusTour is everywhere. Understand "tour" and "tour group" as CampusTour. 

the description of CampusTour is "There's always a tour group wandering across campus somewhere. It starts at the Alumni Center."


Instead of taking a backdrop:
	   say "[one of]You take the [noun] into your heart, which better be enough because you can’t take it with you any other way.[or]Nope, you can’t take that.[or]That’s not happening.[or]The [noun] doesn’t want to be taken.[at random]."

ubiquitousstudents are a backdrop. ubiquitousstudents are everywhere. "Students are students. They are literally everywhere." Understand "students" as ubiquitousstudents.
The printed name of ubiquitousstudents is "U of I students".

Instead of talking to ubiquitousstudents:
	say "You try to start up a conversation with some students, but they are too busy to talk to you."

Does the player mean examining the ubiquitousstudents when the player is alone:
	it is very likely.



PART 5 - Squirrels

a SquirrelPerson is a kind of person. a SquirrelPerson is photogenic.  

SquirrelsSnapped is a number variable.

UbiquitousSquirrel is a backdrop. UbiquitousSquirrel is everywhere.

Instead of taking a squirrelperson:
	say "You remember reading that squirrels can carry the virus that cause the Black Plague, and decide you'd rather not get bitten." 

Instead of photographing UbiquitousSquirrel:
	say "You take a picture of a nearby squirrel, but it comes out fuzzy so you delete it.";
	stop the action.

Rule for clarifying the parser's choice of the UbiquitousSquirrel: say "".

Understand "squirrel" as UbiquitousSquirrel .
The printed name of UbiquitousSquirrel is "squirrel".

Instead of taking UbiquitousSquirrel:
	say "The squirrels on this campus are tricky and quick. You'll never catch one.";
	stop the action.

SquirrelHappy is a number variable.
giveGraySquirrelFood is a truth state variable.  

a GraySquirrel is a squirrelperson. "An adorable little gray squirrel, of the kind found all across campus, is here.".
the GraySquirrel is in Gregory Hall.
Understand "squirrel" and "gray squirrel" and "squirel" and "sqirrel" as GraySquirrel.
The description of GraySquirrel is "The small, fluffy squirrel regards you curiously. It seems fearless and has no trouble approaching quite close to you.".
the printed name of GraySquirrel is "gray squirrel".

Instead of photographing a GraySquirrel for the first time:
	say "The squirrel pays no attention to you or your phone. It must get this a lot. You quickly take the picture.";
	now the GraySquirrel is snapped;
	increment SquirrelsSnapped.

Does the player mean examining GraySquirrel when GraySquirrel is in the location: it is very likely.
Does the player mean talking to GraySquirrel when GraySquirrel is in the location: it is very likely.
Does the player mean photographing GraySquirrel when GraySquirrel is in the location: it is very likely.

Rule for clarifying the parser's choice of the GraySquirrel: say ""
[ the gray squirrel is sent to player randomly outside ]


Instead of giving something to the GraySquirrel:
	if the noun is edible:
		increment SquirrelHappy;
		if giveGraySquirrelFood is false:
			now giveGraySquirrelFood is true;
			say "The squirrel takes a wary nibble at what you have offered it.";
			now the GraySquirrel has the noun;
			stop the action;
	else:
		say "The squirrel cocks its head and leans forward, node and whiskers twitching. It takes the proffered item from your palm and scampers off with a shake of its fluffy tail.";
		now the GraySquirrel has the noun;
		if the GraySquirrel is in Gregory Hall:
			now GraySquirrel is in Henry Administration;
			stop the action;
		else if GraySquirrel is in Henry Administration:
			now GraySquirrel is in Gregory Hall. 
		

Instead of attacking the GraySquirrel:
	say "When you menacingly approach the tiny, furry creature, it squeaks in surprise, and disappears. You won't be seeing it again, which is too bad, really and potentially fatal.";
	now GraySquirrel is nowhere;
	now BadLuck is true;
	stop the action.

RedTailedSquirrel is a scenery squirrelperson. 
RedTailedSquirrel is in Illini Grove.
The description of RedTailedSquirrel is "You are astonished at how red its tail is. Must be a different gene pool over here."

understand "red-tailed squirrel" and "red tailed squirel" and "squirrel" and "squirel" as RedTailedSquirrel.

the printed name of RedTailedSquirrel is "red-tailed squirrel."

Instead of photographing RedTailedSquirrel for the first time: 
	say "The squirrel swishes its tail with obvious vanity, and you make sure that the light is showing off its beautiful coloring."; 
	now RedTailedSquirrel is snapped;
	increment SquirrelsSnapped.

Does the player mean examining RedTailedSquirrel when RedTailedSquirrel is in the location: it is very likely.
Does the player mean talking to RedTailedSquirrel when RedTailedSquirrel is in the location: it is very likely.
Does the player mean photographing RedTailedSquirrel when RedTailedSquirrel is in the location: it is very likely.

Rule for clarifying the parser's choice of the RedTailedSquirrel: say "".


ElmTreeSquirrel is a scenery squirrelperson. 
ElmTreeSquirrel is in Elm Top.  
Understand "squirrel" and "elm tree squirrel" as ElmTreeSquirrel.
The printed name of ElmTreeSquirrel is "elm tree Squirrel".


Instead of photographing ElmTreeSquirrel for the first time: 
	say "The squirrel gestures to you in a way that suggests you should take a selfie of the two of you throwing acorns at the heads of  passing students, so you do that, with the tiny squirrel sized cell phone you are carrying. Great pic!";
	now ElmTreeSquirrel is snapped;
	increment SquirrelsSnapped.

Does the player mean examining ElmTreeSquirrel when player is in Elm Top: it is very likely.
Does the player mean talking to ElmTreeSquirrel when player is in Elm Top: it is very likely.
Does the player mean photographing ElmTreeSquirrel when player is in Elm Top: it is very likely.

Rule for clarifying the parser's choice of the ElmTreeSquirrel: say "".


Instead of examining ElmTreesquirrel for the first time:
	say "The squirrel is dropping acorns out of the tree, trying to hit people on the head with them. He hands you an acorn and invites you to join him. You are a little nervous leaning out so far over the branch, but you manage to plop your nut straight down onto the head of a passing professor. Fun!";
	stop the action.
	
Instead of examining ElmTreeSquirrel:
	say "The squirrel has lost interest in you."

Instead of talking to ElmTreeSquirrel: 
	try examining ElmTreeSquirrel.
	
StacksSquirrel is a squirrelperson. "There is a squirrel on the top of one of the bookshelves."
StacksSquirrel is in mathstacks. 
The description of StacksSquirrel is "It looks just like the squirrels found all over the rest of campus. You find it strange that there would be one inside the library though.".

Instead of photographing StacksSquirrel for the first time: 
	say "You take a quick pic of the squirrel -- its eyes are glowing like a deer in the headlights, but the weird part is that you weren't using your flash.";
	now StacksSquirrel is snapped;
	increment SquirrelsSnapped.
	
Understand "squirrel" as StacksSquirrel.  The printed name of StacksSquirrel is "library squirrel".

Does the player mean examining StacksSquirrel when StacksSquirrel is in the location: it is very likely.
Does the player mean talking to StacksSquirrel when StacksSquirrel is in the location: it is very likely.
Does the player mean photographing StacksSquirrel when StacksSquirrel is in the location: it is very likely.

Rule for clarifying the parser's choice of the GraySquirrel: say "".


the WorldSquirrel is a scenery squirrelperson.

Understand "squirrel" and "may pole squirrel" and "May Squirrel" as WorldSquirrel.

The printed name of WorldSquirrel is "May Day squirrel". 

Does the player mean examining WorldSquirrel when player is in SouthEndSouthQuad: it is very likely.

Does the player mean talking to WorldSquirrel when player is in SouthEndSouthQuad: it is very likely.

Does the player mean photographing WorldSquirrel when player is in SouthEndSouthQuad: it is very likely.

Rule for clarifying the parser's choice of the WorldSquirrel: say "".

Instead of photographing the WorldSquirrel for the first time:
	say "The squirrel clambers down a few feet to let you get a better shot.";
	now the WorldSquirrel is snapped;
	increment SquirrelsSnapped.

WelcomeSquirrel is a squirrelperson. "[WelcomeSquirrel Appearance]".  
WelcomeSquirrel is in Center of the Quad. 

Understand "squirrel" and "squirel" and "spirited squirrel" and "Welcome Squirrel" as WelcomeSquirrel .

The printed name of WelcomeSquirrel is "the spirited squirrel".


Instead of photographing WelcomeSquirrel for the first time:
	say "The spirited squirrel shows its teeth the camera. You suppose that's a smile, and you snap the pic.";
	now WelcomeSquirrel is snapped;
	increment SquirrelsSnapped. 
	
Instead of photographing a squirrelperson for the second time:
	say "You already snapped that squirrel. You don't want to annoy it."
	
Instead of photographing a squirrelperson for the third time:
	say "When you raise your camera, to take a picture of the squirrel, it makes an irritated chitting sound and turns around to show you its backside. You already took a picture of this squirrel. It seems pretty annoyed. Better not risk it." 
	
Instead of talking to UbiquitousSquirrel:
	if WorldSquirrel is in the location of the player:
		try talking to WorldSquirrel instead;
		stop the action;
	if WelcomeSquirrel is in the location of the player:
		try talking to WelcomeSquirrel instead;
	else:
		say "The gray squirrels you see in the distance does not seem to be paying any attention to you. Better find one that can talk."

Instead of examining UbiquitousSquirrel:
	if WorldSquirrel is in the location of the player:
		try examining WorldSquirrel instead;
	else if WelcomeSquirrel is in the location of the player:
		try examining the WelcomeSquirrel instead;
	else:
		say "There's nowhere on campus you won't be able to see a squirrel. They are in every way admirable and worthy of respect."

Instead of interrogating UbiquitousSquirrel about something:
	if WorldSquirrel is in the location of the player:
		try talking to WorldSquirrel instead;
	else if WelcomeSquirrel is in the location of the player:
		try talking to WelcomeSquirrel instead.
		
Instead of asking UbiquitousSquirrel about something:
	if WorldSquirrel is in the location of the player:
		try talking to WorldSquirrel instead;
	else if WelcomeSquirrel is in the location of the player:
		try talking to WelcomeSquirrel instead.

PART 6 - Campus Map 

CampusMap is a folded, undescribed thing in Center of Quad. 

Understand "Map" and "Campus Map" as CampusMap.
The printed name of CampusMap is "a grass-stained Campus Map".

Instead of examining ubiquitousgrass when player is in Center of Quad:
	if CampusMap is in Center of Quad: 
		say "You peer through the grass. A colorful map catches your eye. How did you not see that before? Maybe somebody dropped it. You look around, but there's no one in sight. Ah well, it's your now!";
		now player has CampusMap;
	else:
		say "You search through the grass hopefully, but there's nothing there."

Definition: a room is mappable if it is outdoor and it is visited and it contains a RoomProxy.

CampusMapQuery is a truth state variable.

Instead of unfolding Campusmap:
	try examining CampusMap instead.

Instead of examining CampusMap:
	now player is holding CampusMap;
	now CampusMap is examined;
	say "You unfold the crumpled and green-stained map.[paragraph break]The Campus Map shows a grid of linked boxes. ";
	if number of entries in list of mappable rooms is 0:
		say "Oddly, none of them are labeled. How that is going to help you get around campus, you have no idea. You fold it back up again.";
		stop the action;
	if number of entries in list of mappable rooms is 1:
		say "Only one location is labeled on the map, [list of mappable rooms] -- which happens to be the one place you've visited. Hmm.";
		stop the action;
	else:
		say "They are labeled: [bold type][list of mappable rooms].";
[		 repeat with N running from 1 to the number of rows in the Table of Campus Building Data:
			choose row N in the Table of Campus Building Data;
			if RoomLocation entry is mappable:
				say "[bold type][RoomLocation entry], ";]
		say "[line break]";
		say "[roman type]You can ";
		say "GO TO " in upper case;
		say "any building on the map to head there directly along the quickest route."


CurrentLocation is a room that varies.
PlayerDestination is a room that varies.

GoingDirectly is an action applying to one thing.
Understand "Go to [any outdoor room]" as GoingDirectly.

Check GoingDirectly:
	if noun is unvisited:
		say "You can only go directly to a location you've already visited.";
		stop the action;
	if noun is indoor:
		say "You can only go directly to outdoor locations."

Carry out GoingDirectly:
	if player is not holding CampusMap:
		say "You can't go directly to a building unless you have a map. Keep your eyes out for one!";
		stop the action;
	else:
		now PlayerDestination is noun;
		say "You study the Campus Map for a moment and then [one of]head[or]walk[or]meander[or]run[or]skip[or]wander[or]stride[or]pace[or]navigate[or]travel[at random] towards [PlayerDestination].";
[		wait a bit; ]
		say "[line break]You have arrived at your destination!";
		now player is in the PlayerDestination.

PART 7 - Room Proxies

[ Every room that is a Campus Building also has a "RoomProxy" object associated with it. This allows the player to examine the building, which otherwise is only the name of a room and could not be examined. This table also allows enter buildings that exist on the same place in the map. From Anniversary plaza, for example, it is possible to enter both the union and Harker. It is possible to enter a building from multiple directions in this way. Since saying "ENTER" to go into a building may feel awkward for players; this allows the player to ENTER UNION, and they can ENTER HARKER from the same spot.  This should help to maintain a grid-map and still allow the player to enter multiple buildings from the same space. Please try to match the naming conventions that have been set up., where the RoomProxy is the CamelCase version of the regular room name.

BlahHallInterior is an Interior Location. " Description."
The printed name of BlahHallInterior is " Inside Blah Hall".
Blah Hall is outside from BlahInterior. " Description."
BlahHall is a RoomProxy in Blah Hall.
The printed name of BlahHall is "Blah Hall".
Understand "Blah" and "Blah Hall" as BlahHall.
]

A RoomProxy is a kind of enterable container.  A RoomProxy is scenery. a Roomproxy is usually Photogenic. 

RoomProxyTest is a truth state variable.
Rule for reaching inside a room:
	if RoomProxyTest is false:
		say "You can only look at that from where you are.";
		deny access;
	else:
		allow access.


ProxyList is a list of RoomProxies that varies.

Rule for supplying a missing noun when entering:
	now noun is this university building;
	stop the action.

Instead of entering this university building:
	try going inside;
	stop the action.

Does the player mean entering this university building:
	it is very likely.

Table of Campus Building Data
RoomProxy	Interior Location	RoomLocation
ACESLibrary	ACESLibraryInterior	ACES Library
AdamsLab	AdamsLabInterior	Adams Lab
Campus Observatory 	ObservatoryInterior 	Morrow Plots
AltgeldHall	AltgeldHallInterior	Altgeld Hall
AllenHall	AllenInterior	Allen
ArtDesignBuilding 	ArtDesignInterior	Art Design Building
AnimalSciencesLab	ASLInterior	Animal Sciences Lab
ArmoryNortheast	ArmoryNEInterior	Armory Northeast
ArmoryNorth	ArmoryNInterior	Armory North
ArmoryNorthwest	ArmoryNWInterior	Armory Northwest
ArmorySoutheast	ArmorySEInterior	Armory Southeast
ArmorySouth	ArmorySInterior	Armory South
ArmorySouthwest	ArmorySWInterior	Armory Southwest
BandBuilding	BandBuildingInterior	Armory Southeast
CafeParadiso	CafeParadisoInterior	Cafe Paradiso
CollegeOfBusiness	BusinessInterior 	College of Business
CampbellHall	CampbellHallInterior	Campbell Hall
CampusObservatory	ObservatoryInterior	Morrow Plots
CanopyClub	CanopyClubInterior	Urbana Eateries
ChampaignEspresso	ChampaignEspressoInterior	DanielStreet2016 
CivilEngineeringBuilding	CivilEngineeringInterior	Civil Engineering Building
CUFabLab	FabLabInterior	CU Community Fab Lab
DavenportHall	DavenportHallInterior	Davenport Hall
DavidKinleyHall	DavidKinleyHallInterior	David Kinley Hall
Dean	DeanInterior	SouthGreenStreet
DigitalComputerLab	DCLInterior	Digital Computer Lab
EasternSCD	EasternSCDInterior	Eastern SCD
ECEBuilding	ECEBuildingInterior 	ECE Building
EducationBuilding	EducationBuildingInterior	Education Building
EngineeringHall	EngineeringHallInterior 	Engineering Hall
EnglishBuilding	EnglishBuildingInterior	English Building
EpiscopalChapel	EpiscopalInterior	Episcopal Garden
EverittLab	EverittLabInterior	Everitt Lab
FlaggHall	FlaggHallInterior	Flagg Hall
FLB	FLBInterior 	Foreign Language Building
FoellingerHall	FoellingerHallInterior	Foellinger Hall
GoodwinApartments	GoodwinInterior	Goodwin Apartments
GraingerLibrary	GraingerLibraryInterior	Grainger Library
GregoryHall	GregoryHallInterior	Gregory Hall
HarkerHall	HarkerHallInterior	Harker Hall 
HenryAdmin	HenryAdministrationInterior	Henry Administration
IceArena	IceArenaInterior	Ice Arena
IlliniHall	IlliniHallInterior	Illini Hall
IlliniUnionBookstore	BookstoreInterior	Illini Union Bookstore
IlliniUnionNorth	Illini Union North	Circle Drive
IlliniUnionSouth	Illini Union South	Anniversary Plaza
IllinoisStreetResidences	ISRInterior	Illinois Street Residence Halls
InstituteGenomicBiology	IGBInterior	Institute of Genomic Biology
InternationalStudies	InternationalInterior	International Studies Building
TheiSchool	iSchoolInterior	The iSchool
NewiSchool	NewiSchoolInterior	DanielStreet2023
JapanHouse	JapanHouseInterior	Japan House
JurassicGrill	JurassicGrillInterior	NorthGreenStreet
Kams	KamsInterior	DanielStreet2016 
Kung Fu Tea	KungFuTeaInterior	6thAndGreenSouth
WestKrannertArtMuseum	WestKAMInterior 	WestEndKAM
EastKrannertArtMuseum	EastKAMInterior 	EastEndKAM
LincolnHall	LincolnHallInterior	Lincoln Hall
LoomisLab	LoomisLabInterior	Loomis Lab
MadiganLab	MadiganInterior	Edward Madigan Lab
MainLibrary	MainLibraryInterior	Main Library
McKinleyHealthCenter	McKinleyInterior	McKinley Health Center
MATSEB	MatsebInterior 	Materials Science
McDonalds	McDonaldsInterior	NorthGreenStreet
McKinleyFoundation	McKinleyFoundInterior	McKinley Foundation	
MEBuilding	MEBuildingInterior 	Mechanical Engineering Building
MechanicalEngineeringLab 	MELabInterior	Mechanical Engineering Lab
MurphyPub	MurphyInterior	NorthGreenStreet
MusicBuilding	MusicBuildingInterior	Music Building
NaturalHistoryBuilding	NaturalHistoryInterior2015 	NaturalHistoryBuilding2015
NCSAOutside    	NCSAInterior    	NCSA
NewmanCenter	NewmanInterior	Newman Center
NewmanCenter	NewmanNorthInterior	NorthNewmanCenter
NoyesLab	NoyesLabInterior	Noyes Lab
NuclearLab	NuclearLabInterior	Nuclear Lab
PAR	PARInterior	Pennsylvania Avenue Residence Halls
Panera	PaneraInterior	NorthGreenStreet
PicnicShelter	Picnic Shelter	Illini Grove
PresbyHall	PresbyInterior 	Presby Hall	
PsychologyBuilding	PsychologyInterior	Psychology Building
RedHerring	RedHerringInterior	Red Herring
SiebelCenter	SiebelCenterInterior	Siebel Center Building
SilverMineSubs	SilverMineInterior	DanielStreet2016 
SmithHall	SmithHallInterior	Smith Hall
SpeechBuilding	SpeechHearingInterior	Speech Building
SpoonHouse	SpoonHouseInterior	NorthGreenStreet
SpurlockMuseum	SpurlockMuseumInterior	Spurlock Museum
StockPavilion	StockPavilionInterior	Stock Pavilion
TalbotLaboratory	TalbotLabInterior	Talbot Laboratory
Target	TargetInterior	SouthGreenStreet
TownePlaceSuites	TownePlaceSuitesInterior	TownePlace Suites
TurnerHall	TurnerHallInterior	TurnerHall
TurnerServices	TurnerInterior	Turner Student Services
TwinCityBibleChurch	TwinCityChurchInterior	Twin City Bible Church
UndergradLibrary	UGLibrary	Undergraduate Library Courtyard
UrbanaEspresso	UrbanaEspressoInterior	Urbana Eateries
WesternSCD	WesternSCDInterior	Western SCD
WohlersHall	WohlersInterior	Wohler's Hall
YMCABuilding	YMCAInterior	YMCA
BrosBar	BrothersInterior	SouthGreenStreet


[Rule for deciding the scope of the player when examining a RoomProxy (this is the Can See RoomProxy in an interior location rule):
	if the player is in an interior location:
		let L be the location of the player;
		choose row with an interior location of L in the Table of Campus Building Data;
		place the RoomProxy entry in scope;
	continue the action.]



currentregion is a region that varies. currentregion is MainQuadNeighborhood.

Every turn when player is not in currentregion:
	repeat with X running through regions:
		if the location is in X:
			now currentregion is X.

Definition: a roomproxy is proximal if it is regionally in currentregion.

After deciding the scope of the player:
	if the number of proximal roomproxies is greater than 0:
		repeat with x running through proximal roomproxies:
			place x in scope;
	if the player is in an interior location:
		let L be the location of the player;
		choose row with an interior location of L in the Table of Campus Building Data;
		place the RoomProxy entry in scope;
	continue the action.

[this replaces the old description of the backdrop called this university building -- in the backdrop section, to list the buildings which can be seen from any outdoor location.]

Instead of examining university building:
	if the location of the player is outdoor:
		say "You can see several university buildings from here. There is [list of proximal roomproxies].";
	else:
		say "You'll have to exit this building to look at another one."


Instead of entering a RoomProxy:
	now RoomProxyTest is true;
	if location of the player is an Interior Location listed in the Table of Campus Building Data:
		let L be the location of the player;
		choose row with Interior Location of L in the Table of Campus Building Data;
		if RoomProxy entry is the noun:
			say "You are already in [noun]!";
			stop the action;
	if location of the player is a RoomLocation listed in the Table of Campus Building Data:
		now RoomProxyTest is false;
		choose row with RoomProxy of the noun in the Table of Campus Building Data;
		if location of the player is RoomLocation entry:
			say "You make your way into [Interior Location entry].";
			now player is in Interior Location entry;
			now RoomProxyTest is true;
			stop the action;
		else:
			let L be the location of the player;
			choose row with RoomLocation of L in the Table of Campus Building Data;
			if RoomProxy entry is the noun:
				say "You make your way into [Interior Location entry].";
				now player is in Interior Location entry;
				now RoomProxyTest is true;
				stop the action;
			else:
				now player is in the location;
				stop the action;
	else:
		now RoomProxyTest is false.

Escaping from is an action applying to one visible thing. Understand "exit [something]" as escaping from.

Instead of escaping from [something]:
	if player is in an enterable container:
		now player is in the location;
	if player is in an interior location:
		let L be the location;
		choose row with an interior location of L in the Table of Campus Building Data;
		say "You exit the building.";
		now player is in RoomLocation entry;
		stop the action;
	else:
		try going outside.

Escaping is an action applying to nothing. Understand "escape" and "run away" as escaping.
Instead of escaping:
	if player is in an enterable container:
		say "You get out of the [noun].";
		now player is in the location;
	if player is in an interior location:
		let L be the location;
		choose row with an interior location of L in the Table of Campus Building Data;
		say "You exit the building.";
		now player is in RoomLocation entry;
		stop the action;
	else:
		try going outside.


BOOK 2 - THE PLAYER

PART 1 - The Player's Belongings

the player is wearing basic clothes.

Instead of examining player: 
	if player carries something:
		say "You are carrying [a list of things carried by the player]. ";
	if player is wearing something:
		say "You are wearing [a list of things worn by the player].";
	else:
		say "[line break]"

pants pocket is an open container. pants pocket is part of basic clothes.
Understand "pants leg" and "pockets" and "your pocket" and "my pocket" and "your pockets" and "my pockets" as pants pocket. 
The printed name of pants pocket is "your pocket".

Instead of examining basic clothes:
	say "Your clothes are pretty basic. [if unexamined]You may seek to enhance them in your wanderings. ";
	if the SpecialAcorn is in pants pocket:
		say "As you pat yourself down, accounting for your precious belongings you feel something unexpectedly lumpy in your pocket. Reaching further, you pull out an acorn!";
		now player has SpecialAcorn; 
	else:
		if the number of things in pants pocket is not 0:
			say "[paragraph break]In your pocket you can feel [list of things in pants pocket with indefinite articles].";
		else:
			say "Your pants pockets are empty."

SpecialAcorn is an edible thing in pants pocket.
The description of SpecialAcorn is "[if Specialacorn is in pants pocket]It is a warm brown nut that comfortably fits in your pocket.[else]It is a perfectly shaped acorn. If you were a squirrel it would probably look like a snack."
The printed name of SpecialAcorn is "a perfect acorn".
understand "acorn" and "lump" as SpecialAcorn.

Instead of eating the SpecialAcorn:
	say "You gnaw on the tough outer shell of the nut for a while. It isn't doing your teeth any favors, so you slip it back nto your pocket instead. If only you were a squirrel, you think wistfully.";
	now SpecialAcorn is in pants pocket. 

	
Instead of examining self: 
	if the player carries something:
		say "You are carrying [a list of things carried by the player]. ";
	if the player is wearing something:
		say "You are wearing [a list of things worn by the player].";
	else:
		say "[line break]".
	 

your foot is a thing. your foot is part of the player.  understand "my foot" and "bloody foot" as your foot.

Instead of taking off basic clothes: 
	say "[line break][italic type]Woohoo! The freedom of nakedness is exhilirating! You streak across campus, and stop randomly when your enthusiasm runs out. As random people are taking your picture and posting it on social media, you decide to put your clothes back on.[roman type][line break]";
	now player is in a random outdoor room. 

PART 2 - The Player's Wristwatch

[The player's watch is a time travel device -- set it to a particular year and go there]

SundialSet is a truth state variable. SundialSet is false.
TimeTravelDevice is a truth state variable. TimeTravelDevice is false. 

The player is wearing your wristwatch.
The description of the wristwatch is "A watch. It's digital, but not particularly smart. You picked it up on the cheap."

Understand "digital watch" and "wristwatch" and "watch" and "smartwatch" and "tiny dial" and "dial" as your wristwatch.


Instead of examining your wristwatch:
	if SundialSet is false:
		say "Your watch says that it is time is [time of day - 3 minutes]. It's running slow again. You're going to need to find the correct time so you can set it.";
		stop the action;
	else if TimeTravelDevice is false:
		say "Your watch says that it is [time of day + 1 minute]. Since you set it by the sundial, you feel pretty confident that's the right time. Another dial allows you to [bold type]set alarm[roman type] to any time. At the bottom of the face there are tiny letters that say 'Travel to 2023.' A tiny dial hidden in the side of the watch allows you to [bold type]change year [roman type]to [ErasAvailable of the player].";
		now TimeTravelDevice is true;
	else:
		say "Your watch tells you that it [time of day + 1 minute] in [currentyear]. The tiny dial almost hidden in the side of the watch lets you [bold type]change year [roman type]to [ErasAvailable of the player]." 

Instead of setting wristwatch:
	if SundialSet is false:
		say "If you'd like to set you watch, you'll need to find a timepiece with the correct time.";
	else:
		say "Your wristwatch has already been set to the correct time."


the alarm is a switched off device. The alarm is part of your wristwatch.
Instead of examining the alarm:
	say "The good part of your watch alarm is that it's impossible to ignore. That's the bad part too. You can set the alarm to any number of minutes.".

alarmIsSet is a truth state variable. alarmIsSet is true.
Snooze is a number variable. Snooze is 20.

every turn when alarmIsSet is true:
	if Snooze is 0 and the player has the wristwatch and the location of the player is outdoor:
		say "'BEEP BEEP BEEP!' The alarm on your watch is going off.";
		now the alarm is switched on;
	else:
		decrease Snooze by 1.

instead of switching off wristwatch:
	try switching off alarm.

instead of switching on wristwatch:
	try switching on alarm.

instead of switching off alarm:
	if alarmIsSet is true:
		if Snooze is 0 and player has wristwatch:
			say "You fumble wildly with the tiny buttons and manage to finally turn off the alarm.";
			now Snooze is a random number between 20 and 100;
			now the alarm is switched off;
		else:
			say "You tap a button and your alarm turns off with an electronic chirp.";
			now Snooze is a random number between 200 and 500;
		stop the action;
	else:
		say "You double check that your alarm is off.".

instead of setting alarm:
	try switching on alarm.

Instead of setting wristwatch:
	try switching on alarm.

Instead of switching on alarm:
	let N be a random number between 1 and 50;
	say "You set your alarm for [N] minutes from now.";
	now Snooze is N;
	stop the action.

AlarmSetting is an action applying to one thing and one number.
Understand "set [something] to [number]" and "set [something] to [number] minutes" and "set [something] for [number] minutes" as AlarmSetting.

Check AlarmSetting:
	if noun is not alarm:
		say "That can't be set.";
		stop the action.

Carry out AlarmSetting:
	let N be the number understood;
	say "You set the [noun] to [N]."

Instead of AlarmSetting alarm:
	let N be the number understood;
	say "You set your wristwatch alarm to go off in [N] minutes from now.";
	now Snooze is N;
	now the alarm is switched on.

PART 3 - The Player's Wallet

your wallet is a container.
The description of your wallet is "Your wallet is a little faded, but it does what you need it to do."
The player carries your wallet. The wallet contains your available cash.
Understand "money" as your available cash.

Price is a kind of value. $10.99 specifies a price.

Your available cash has a price. The price of your available cash is $25.00. The printed name of your available cash is "[price of your available cash] in cash".

Instead of examining your available cash:
	say "You have [price of your available cash] in cash".

Instead of taking your available cash:
	say "Best to leave it alone until you need to buy something."

Instead of buying your available cash:
	say "The money belongs to you; you buy things with it."

[All things for sale in the game should be declared to be "a ware" and a price should be set. Bey default things are for sale if their price is higher than 0; otherwise, they are free.]

A ware is a kind of thing. A ware has a price. The price of a ware is usually $0.00.

A ware can be Coffee-Beverage or NonCoffee-Beverage or NonBeverage. 

After examining something for sale, say "It costs [the price of the noun]."

Definition: a ware is free if the price of it is $0.00.
Definition: a ware is for sale if it is not free.

Instead of taking something for sale:
	say "You need to pay for [noun] first."

Before buying something for sale when your available cash is not in the wallet:
	say "You don't have any money." instead.

Before buying something for sale when the price of the available cash is less than the price of the noun:
	say "You can't afford to buy [the noun]."

Instead of buying something:
	decrease the price of the available cash by the price of the noun;
	say "You pay [the price of the noun] for [the noun], leaving yourself with [the price of the available cash].";
	now the price of the noun is $0.00;
	now the player is carrying the noun.

PART 4 - The Player's Best Friend

yourbestfriend is a person. "Your best friend is standing here. She cannot talk to you right now because she is too busy texting you.".
yourbestfriend is in Japan House.
Understand "my friend" and "friend" and "your best friend" and "my best friend" and "best friend" and "bestie" and "my bestie" as yourbestfriend.
The printed name of yourbestfriend is "your best friend".
The description of yourbestfriend is "You know how it is. It's not possible to fairly judge anything about your best friend. They just are who they are.".

instead of talking to yourbestfriend:
	say "She'd rather text you."


YouHaveAText is a truth state variable. YouHaveAText is false.

[Variables to allow best friend to send a message when they find a scavenger hunt item]
BestFriendPhoto is a truth state variable. BestFriendPhoto is false.
BestFriendLocation is a text variable.
BestFriendScavengerItem is a text variable.

To say TextNotification:
	say "[one of]You hear a brief, but lovely set of harmonic dings, downloaded from a recording of a Tuvan throat singer, that indicates you have received a text.[or]Your phone dings harmonically.[stopping]".

Every turn:
	let L be the location of yourbestfriend;
	let S be the list of rooms adjacent to L;
	repeat with X running through S:
		if X is an interior location:
			remove X from S;
	if the number of entries in S is greater than 0:
		sort S in random order;
		let R be entry 1 in S;
		move yourbestfriend to R;
		[Notify player if they found scavenger hunt item]
		if a scavengerhuntable thing is in the location of yourbestfriend:
			if player is carrying yourphone:
				say "[TextNotification]";
				now YouHaveAText is true;
				now PersonTextSentFrom is yourbestfriend;
				now BestFriendPhoto is true;
				let items be the list of scavengerhuntable things in the location of yourbestfriend;
				let i be entry 1 in items;
				now BestFriendScavengerItem is the printed name of i;
				now BestFriendLocation is the printed name of the location of yourbestfriend;
	if a random chance of 1 in 50 succeeds:
		[To prevent this from overwriting a different text message]
		if player is carrying yourphone and YouHaveAText is false:
			say "[TextNotification]";
			now PersonTextSentFrom is yourbestfriend;
			now BestFriendLocation is the printed name of the location of yourbestfriend;
			now YouHaveAText is true.


PART 5 - The Player's Phone

Chapter 1 - Phone Rules

yourphone is a small switched on device.
The player is carrying yourphone.
The printed name of yourphone is "your phone".
Understand "cell" and "smart phone" and "cellphone" and "smartphone" and "your phone" and "my phone" and "my smartphone" and "your smartphone" and "my cell phone" and "cell phone" and "phone" and "my phone" and "home button" and "camera" as yourphone.

Instead of examining yourphone:
	say "You carry a quirky offbrand un-smart phone. It has no apps that actually work. You mostly use it to CHECK TEXTS, SNAP photographs, CHECK the PHOTOS you have taken or SEND a TEXT. You may also TEXT [italic type]some message[roman type]. Your phone is currently switched [if yourphone is switched on]on.[else]off."

contactlist is a readable thing.
contactlist is part of yourphone.

The description of contactlist is "You don't know who most of the people in your phone contact list are."
The printed name of contactlist is "phone contact list".
understand "contact list" and "contacts" as contactlist.

[could specify the names of people in contact list the player can text]

text messages are a scenery readable thing. Text messages are a part of yourphone.
Understand "texts" and "text" and "text messages" and "messages" as text messages.

Instead of checking yourphone:
	try checking text messages.

[See Check Your Messages Section Below]

Instead of switching on yourphone:
	if yourphone is switched on:
		say "Your phone is already switched on, so when you press the power button, it actually shuts it off. Your phone is now switched off.";
		stop the action;
	else:
		say "Your press the power button on your phone and turn it on.";
		now yourphone is switched on.

Instead of switching off yourphone:
	if yourphone is switched off:
		say "Your phone was already off, so by pushing the power button, you actually turn it back on.";
		stop the action;
	else:
		say "You turn off your phone, which is totally your choice, but how will you get your text messages now?";
		now yourphone is switched off;
		stop the action.

Instead of dropping yourphone:
	say "You consider freeing yourself from the burden of your phone, but you change your mind.";
	stop the action.

Chapter 2 - Checking Messages

PersonTextSentFrom is a person that varies.
PersonTextSentFrom is yourbestfriend. [This should always be updated when a text is sent, it is initialized here to help prevent errors]
BFFTextQuery is a truth state variable. BFFTextQuery is false.
PicSent is a truth state variable. PicSent is false.


Instead of examining text messages:
	Check Your Messages.

Instead of reading text messages:
	Check Your Messages.

Instead of checking text messages:
	Check Your Messages.

To Check Your Messages:
	if yourphone is switched off:
		say "Your phone is switched off. You'll have to turn it on to check your messages.";
		stop the action;
	if YouHaveAText is true:
		if PicSent is true:
			say "You check your text messages. There's one from your best friend that says '[one of]cute pic![or]great shot[or]aaaaaawwww[or]nice[or]thanks for sending pic[at random]'[line break]";
			now PicSent is false;
			now YouHaveAText is false;
			stop the action;
		else:
			say "You check your messages. There's one from [PersonTextSentFrom] that says [run paragraph on]";
			if PersonTextSentFrom is yourbestfriend and BestFriendPhoto is true:
				say "'just found [BestFriendScavengerItem] at [BestFriendLocation] lol'";
				now BestFriendPhoto is false;
			else if PersonTextSentFrom is yourbestfriend:
				say "'i'm at [BestFriendLocation]. where r u?'[line break]" in lower case;
				now BFFTextQuery is true;
			if PersonTextSentfrom is QuestGiver:
				let n be number of EndingsFound minus 1;
				if n minus NumberOfEndings is greater than 0:
					let ends be the list of Incompleted EndingsFound;
					remove NoEnding from ends, if present;
					sort ends in random order;
					let exEnd be entry 1 in ends;
					say "[one of]'Have you checked out [the RegionLoc corresponding to a ending of exEnd in the Table of Endings]?'[or]'I recommend taking a look around [the RegionLoc corresponding to a ending of exEnd in the Table of Endings].'[or]'If you're looking for something to do you should go to [the RegionLoc corresponding to a ending of exEnd in the Table of Endings].'[at random]";
			now YouHaveAText is false;
			stop the action;
	else:
		say "You don't have any new texts.";
		stop the action.

test quests with "w / check texts / e / check texts / w / check texts / e / check texts";


Chapter 3 - Sending a Text

TextingNobody is an action applying to nothing.
Understand "text" and "send text" and "write text" and "send a text" and "write a text" and "text somebody" and "send a text message" and "send an email" and "send message" and "send a message" as TextingNobody.

After deciding the scope of the player when textingNobody:
	place yourbestfriend in scope.

Carry out TextingNobody:
	say "You send a quick text to your best friend saying where you are."

TextingSomeone is an action applying to one visible thing.
Understand "text [someone]" and "send a text to [someone]" as TextingSomeone.

Carry out TextingSomeone:
	say "You send a quick text to [noun] saying you are at [location of the player in lower case]."

Instead of TextingSomeone:
	if noun is yourbestfriend and BFFTextQuery is true:
		say "You text [noun] saying '[location of the player in lower case]'.";
		now BFFTextQuery is false;
		stop the action;
	else:
		if number of snapped things is greater than 0:
			let ST be a random snapped thing;
			say "You text the picture of the [ST] to [noun].";
			now PicSent is true;
		else:
			say "You send a quick text to [noun]."

After deciding the scope of the player when TextingSomeone:
	place yourbestfriend in scope.



LastText is a text that varies.

TextingReply is an action applying to one topic.
Understand "text [text]" and "reply [text]" and "respond [text]" as TextingReply.
Carry out TextingReply:
	let LastText be the topic understood;
	say "[line break]You type '[LastText]' into your phone and send it off."

Chapter 4 - Taking Pictures

TakingSelfie is an action applying to nothing.
Understand "take a selfie" and "take selfie" and "snap self" and "snap myself" and "photograph myself" as TakingSelfie.

Check TakingSelfie:
	if player is not holding yourphone:
		say "You can't take selfies without your phone.";
		stop the action.

Carry out TakingSelfie:
	say "You take a selfie, but you don't like how it looks so you delete it."

SnappingPics is an action applying to nothing.
Understand "snap" and "snap a pic" and "take a pic" and "snap a picture" and "take a picture" and "take a photo" and "snap a photo" and "snap a photograph" and "take a photograph" and "photograph" as SnappingPics.

Check SnappingPics:
	if there is a snapped thing in the location:
		let S be a random snapped thing in the location;
		say "You already have a photo of the [S].";
		stop the action;
	else if a photogenic thing is in the location:
		continue the action;
	else:
		say "You consider taking a picture, but there's nothing here worth capturing.";
		stop the action.


Carry out SnappingPics:
	if a photogenic thing is in the location:
		let P be a random photogenic thing in the location;
		say "You take a photograph of the [P].";
		now P is snapped;
		stop the action.

Photographing is an action applying to one visible thing.
	Understand "take a picture of [something]" and "photograph [something]" and "snap a picture of [something]" and "snap a pic of [something]" and "snap [something]" and "shoot [something]" and "capture [something]"  as photographing.
	
Check Photographing:
	if the number of photogenic things in the location is 0:
		say "You consider taking a picture, but there's nothing very interesting to capture."; 
		stop the action;
	if noun is snapped:
		say "You already have a photo of the [noun].";
		stop the action.

Carry out Photographing:
	say "You take a picture of the [noun].";
	now noun is snapped.

PhotoGallery is a part of yourphone. The description of PhotoGallery is "You scroll through your photographs. You have so far captured [list of snapped things with indefinite articles]."
Understand "my pics" and "photographs" and "gallery" and "my gallery" and "my photos" and "photos"as PhotoGallery.

PictureChecking is an action applying to nothing. 
Understand "check pics" and "check pictures" and "check photos" and "check photographs" as PictureChecking.
Carry out PictureChecking: 
	say "You quickly scroll through the pictures on your phone. ";
	if number of snapped things is 0:
		say "Sadly, there aren't any, because you haven't taken any yet.";
		stop the action;
	else:
		if the number of snapped things is 1:
			say "You have only taken one picture, of [list of snapped things with indefinite articles].";
		else:
			say "You have taken picture of: [list of snapped things with indefinite articles]."
			

PART 6 - QuestGiver

[QuestGiver occasionally sends the player hints on where to find endings to the game]
QuestGiver is a person. QuestGiver is nowhere. The printed name of QuestGiver is "Potential Spam".

Every turn:
	let n be number of EndingsFound minus 1;
	if n minus NumberOfEndings is greater than 0:
		if a random chance of 1 in 200 succeeds:
			if player is carrying yourphone and YouHaveAText is false:
				say "[TextNotification]";
				now PersonTextSentFrom is QuestGiver;
				now YouHaveAText is true.
			
BOOK 3 - DAYS AND SEASONS 

PART 1 - Seasons as Backgrounds and Scenes

[The four seasons are created as backdrops, so that they can be referred to by the player. A season variable -- CurrentSeason, records the specific season at every moment in the game. The four seasons are also created as Scenes, connected to the Season Backdrops (which allows the player to refer to the seasons when needed since the player can never refer to a Scene object. ].

[Day Counter is used to count up to 92 -- the number of days in each season]
DayCounter is a number variable. DayCounter is 0.

[SeasonTurner is used to set the 4 seasons]
SeasonTurner is a number variable. SeasonTurner is 1.

a season is a kind of backdrop. 

Spring is a season. Spring is everywhere.
The description of Spring is "Birds are busy, and so are the trees, putting out buds and flowers, as the days grow longer. Spring is here."

Summer is a season. Summer is everywhere.
The description of summer is "The days are long and sunny, but the campus feels empty, as most students have fled back to other homes. Summer is here."

Autumn is a season. Autumn is everywhere. Understand "fall" as Autumn.
The description of autumn is "You have noticed the summer days getting shorter and the air getting crisper. Autumn is here and the fall semester at the University of Illinois has already well begun."

Winter is a season. Winter is everywhere. 
The description of winter is "The days are short and dark, and the air is cold, and your breath is frosty. Winter is here."

CurrentSeason is a season that varies.  CurrentSeason is Autumn.

AutumnTime is a recurring scene. 
AutumnTime begins when turn count is greater than 1 and DayCounter is 1 and SeasonTurner is 1.  
AutumnTime ends when SeasonTurner is not 1.
When AutumnTime begins:
	say "[description of autumn][line break]";
	now CurrentSeason is Autumn.

WinterTime is a recurring scene. 
WinterTime begins when DayCounter is 1 and SeasonTurner is 2. 
Wintertime ends when SeasonTurner is not 2. 
When WinterTime begins:
	say "[description of winter]";
	now CurrentSeason is Winter.
	
SpringTime is a recurring scene.  
SpringTime begins when DayCounter is 1 and SeasonTurner is 3. 
SpringTime ends when SeasonTurner is not 3. 

When SpringTime begins:
	say "[description of spring]";
	now CurrentSeason is Spring;
	Do Spring Things.
	
To Do Spring things:
	now May Pole is in SouthEndSouthQuad;
	now WorldSquirrel is in SouthEndSouthQuad.


SummerTime is a recurring scene.  
SummerTime begins when DayCounter is 1 and SeasonTurner is 4. 
SummerTime ends when SeasonTurner is not 4. 
When SummerTime begins:
	say "[description of summer]";
	now CurrentSeason is Summer;
	Do Summer Things.
	
To Do Summer things:
	now May Pole is nowhere; 
	now WorldSquirrel is nowhere.

[The player can be prompted to change the season -- designers can also add rules that can change the season by changing the SeasonTurner number variable to the number associated with the desired Season. ("now SeasonTurner is Note that it's not possible to just begin or end a scene directly -- we have to change the condition which triggers a scene to begin or end . When we change the season this way, the DayCounter resets to Day 1 of that season -- more or less the September and March Equinoxes and the December and June Solstices ]

SeasonChanging is an action applying to one thing. 
Understand "seasonchange [season]" as SeasonChanging.  [This rule allows designers to move the player to a different seasons when necessary == > "try seasonchanging winter".]

Understand "change season to [season]" as SeasonChanging.  [This more readable rule allows players to change season if they want to -- but they would have to be told that they can do this, because they are unlikely to just try it. It works if they do! ]

Carry out SeasonChanging:
	now DayCounter is 1;
	if noun is CurrentSeason:
		say "It is already [CurrentSeason]";
		stop the action;
	else:
		now CurrentSeason is noun;
	if noun is Autumn:
		now SeasonTurner is 1;
	else if noun is Winter:
		now SeasonTurner is 2;
	else if noun is Spring:
		now SeasonTurner is 3;
	else if noun is Summer:
		now SeasonTurner is 4;
	say "Your head spins a bit and the days buzz past more quickly than they usually do. You find that it is now [CurrentSeason]."

		
PART 2 - Days, Seasons, and Changing Weather 

[A Boolean Variable distinguishes Day from Night, which are created as separate scenes ]

DayTime is a truth state variable.  DayTime is true. 

Day is a recurring scene. 
Day begins when DayTime is true. Day ends when DayTime is false.

Night is a recurring scene. 
Night begins when DayTime is false. Night ends when DayTime is true. 

[The following rule controls DayTime. Rather than choosing a particular time to change day to night (which would take one line of code), we need a more reliable system -- since some events in the game will fastforward time. Note that in Inform the 24 clock resets at 4:00am rather than midnight  -- thus making sure night happens is harder than making sure day happens. There has to be a rule that sets nighttime to also be between 4:00 and our seasonally specific dawn. ]

Every turn when DayTime is false: 
	if AutumnTime is happening:
		if the time of day is after 6:30 am and the time of day is before 6:30 pm: 
			now DayTime is true;
	if WinterTime is happening: 
		if the time of day is after 8:00 am and the time of day is before 5:00 pm:
			now DayTime is true;
	if SpringTime is happening:
		if the time of day is after 6:30 am and the time of day is before 6:30 pm: 
			now DayTime is true;
	if SummerTime is happening:
		if the time of day is after 5:00 am and the time of day is before 8:00 pm:
			now DayTime is true.

When Day Begins:
	if turn count is greater than 1:
		say "As the sun rises above the eastern horizon, street lights wink out, leaving paths in soft morning shadow. Squirrels across campus begin their day.";
	increment DayCounter;
	if DayCounter is 5:  [it is set at 5 for debugging purposes -- set it to 92!!!]
		now DayCounter is 1;
		increment SeasonTurner;
		if SeasonTurner is 5:
			now SeasonTurner is 1.   [restarts the year at autumn]

Every turn when DayTime is true: 
	if AutumnTime is happening:
		if the time of day is after 6:30 pm and the time of day is before 3:59 am:
			now DayTime is false; 
		if the time of day is after 4:00 am and the time of day is before 6:30 am:
			now DayTime is false;  		
	if WinterTime is happening: 
		if the time of day is after 5:00 pm and the time of day is before 3:59 am:
			now DayTime is false; 
		if the time of day is after 4:00 am and the time of day is before 8:00 am:
			now DayTime is false; 
	if SpringTime is happening:
		if the time of day is after 6:30 pm and the time of day is before 3:59 am:
			now DayTime is false; 
		if the time of day is after 4:00 am and the time of day is before 6:30 am:
			now DayTime is false; 
	if SummerTime is happening:
		if the time of day is after 8:00 pm and the time of day is before 3:59 am:
			now DayTime is false; 
		if the time of day is after 4:00 am and the time of day is before 5:00 am:
			now DayTime is false; 
			
When Night begins: 
	say "As sun diminishes in the western sky and evening settles across the campus, street lights awaken to brighten the paths and disperse the shadows."

PART 3 3  Weather Conditions

[Weather is a new kind of thing, that has variable attributes]

A WeatherCondition is a kind of thing.
	A WeatherCondition has a text called IndoorDescription. 
	A WeatherCondition has a text called OutdoorDescription. 

[These attributes make sure than weather is appropriate for the day/season]
A WeatherCondition can be Seasonal or Unique. A WeatherCondition is usually Seasonal. 

A WeatherCondition can be Anytime or Nighttime. A Weathercondition is usually Anytime.

A WeatherCondition can be NormalForAutumn or UnusualForAutumn. 
	A WeatherCondition is usually NormalForAutumn.

A Weathercondition can be NormalForWinter or UnusualForWinter. 
	A WeatherCondition is usually NormalForWinter.

A WeatherCondition can be NormalForSpring or UnusualForSpring. 
	A WeatherCondition is usually NormalForSpring.

A WeatherCondition can be NormalForSummer or UnusualForSummer. 
	A WeatherCondition is usually NormalForSummer.

[UPDATE OPPORTUNITY: Add an additional text for WeatherCondition that prints when the weather changes:
	A Weathercondition has a text called AnnouncementDescription.   ]


[Here are the assertions for various weather conditions and values for their variables]

clear skies is a WeatherCondition.
IndoorDescription of clear skies is "Bright sunlight filters in through the nearby window. It’s such a beautiful day that you wish you were outside instead."
OutdoorDescription of clear skies is "It’s a beautiful day! Birds are singing, flowers are blooming, and there isn't a cloud in the sky."

partly cloudy is a WeatherCondition. 
IndoorDescription of partly cloudy is "Through a nearby window you can see that the blue sky outside is speckled with beautiful, wispy white clouds that catch the sunlight."
OutdoorDescription of partly cloudy is "The blue sky above you is filled with beautiful, wispy white clouds that catch the sunlight."

overcast is a WeatherCondition.
IndoorDescription of overcast is "Outside, the thick, angry clouds hang dangerously low in the sky. You’re glad you’re inside."
OutdoorDescription of overcast is "Thick, heavy gray clouds have gathered overhead about you, looking like very angry cotton candy."

lightly drizzing is a WeatherCondition.
IndoorDescription of lightly drizzing is "You can hear the gentle tap of rain against the roof above you."
OutdoorDescription of lightly drizzing is "As light droplets of rain begin to patter down around you, you realize you left your umbrella at home."

steadily raining is an UnusualForWinter WeatherCondition.
IndoorDescription of steadily raining is "The heavy rain drums down on the roof so hard that you’re worried the downpour might bring it down! Thank goodness you’re inside."
OutdoorDescription of steadily raining is "The rain pours down with the fury of the heavens. There’s not an inch of you or your backpack that isn’t soaked through. Hope your laptop’s waterproof!"

thunderstorming is an UnusualForWinter WeatherCondition.
IndoorDescription of thunderstorming is "A clash of thunder rings out, loud enough to shake the building! Thank goodness you’re inside."
OutdoorDescription of thunderstorming is "A sudden flash of lightning streaks across the sky, and you barely brace yourself before the thunderous boom. Better get inside!"

breezy is a WeatherCondition.
IndoorDescription of breezy is "Through the window you can see the wind playing with the branches of the trees."
OutdoorDescription of breezy is "The wind playfully messes with your hair."

dangerously windy is a WeatherCondition.
IndoorDescription of dangerously windy is "The howling wind outside rattles the doors, windows and walls."
OutdoorDescription of dangerously windy is "You can barely take a step forward with the blustering wind blowing against you. Quick, find something to hold on to before you get blown away!"

lightly snowing is an UnusualForSummer WeatherCondition.
IndoorDescription of lightly snowing is "Outside, the faint layer of snow looks almost like powdered sugar. You have to resist the urge to go outside and lick the sidewalk."
OutdoorDescription of lightly snowing is "You stick out your tongue and manage to catch a single drifting snowflake. It doesn’t taste like anything, but it makes you feel good about yourself anyway. Perfect weather to [bold type]Make snow angels."

snowing heavily is an UnusualForSpring, UnusualforSummer, UnusualForAutumn WeatherCondition.
IndoorDescription of snowing heavily is "Snow begins to fall so thick you can barely see more than a block ahead!"
OutdoorDescription of snowing heavily is "You can barely see outside through the thick layers of packed snow piled against the windows."

blizzard conditions is an UnusualForSpring, UnusualforSummer, UnusualForAutumn  WeatherCondition.
IndoorDescription of blizzard conditions is "The frigid wind whips at your face, and all the snow is making it hard to see. It might be good to get inside."
OutdoorDescription of blizzard conditions is "A gust of frigid windswept snow rattles the windows, and you can see a thin layer of frost forming on the glass."

scorchingingly hot is an UnusualForSpring, UnusualForWinter WeatherCondition. 
IndoorDescription of scorchingingly hot is "The sun is blistering now. Outside, sweat-drenched students hurry between buildings."
OutdoorDescription of scorchingingly hot is "The sun is blistering right now. The sidewalk feels hot enough to fry an egg on, and you’re almost tempted to try. "

[UPDATE OPPORTUNITY: The following four weather conditions are not called at random by the weather system. They should be triggered by some player action, which could be visiting a location for the first time, or examining something. They could be announced by an NPC running by and pointing upward, etc...  At the moment, these will neer appear]

[UPDATE OPPORTUNITY: These weather messages need to be different by day and night]

raining ashes is a Unique, UnusualForSpring, UnusualforSummer, UnusualForAutumn, UnusualForWinter WeatherCondition.
IndoorDescription of raining ashes is "A thick layer of gray... snow? Has begun to coat the nearby windows, you can't tell what it is from the inside the building."
OutdoorDescription of raining ashes is "Overhead, a thick layer of gray ash has begun to fall from the sky. You’re almost certain that there are no volcanoes in Urbana…right?"

strange lights is a Unique, Nighttime, UnusualForSpring, UnusualforSummer, UnusualForAutumn, UnusualForWinter WeatherCondition. 
IndoorDescription of strange lights is "Outside a nearby window, you see various iridescent lights beginning to swirl and coalesce in the alarmingly-rapidly darkening sky. You feel an urge to go outside and check the weather!"
OutdoorDescription of strange lights is "Above your head, you see various iridescent lights beginning to swirl and coalesce in the alarmingly-rapidly darkening sky. They seem to be most intense in the direction of the Morrow Plots cornfield."

meteor shower is a Unique, Nighttime, UnusualForSpring, UnusualforSummer, UnusualForAutumn, UnusualForWinter WeatherCondition.
IndoorDescription of meteor shower is "Outside a nearby window, you see various iridescent lights beginning to swirl and coalesce in the alarmingly-rapidly darkening sky. You feel an urge to go outside and check the weather!"
OutdoorDescription of meteor shower is "You see students pointing up to the sky, when you look up you see streaks of light flash across the sky. Ooo a meteor shower!"

Creator Credit is a Unique, UnusualForSpring, UnusualforSummer, UnusualForAutumn, UnusualForWinter WeatherCondition.
OutdoorDescription of Creator Credit is "You look above and see rays of light passing through some nearby clouds. You can't help but notice the clouds spell out 'Clouds brought to you by Jake, Edrian, and Annie!'"

PART 4 - Changing the Weather

[Here is a a variable to record the weather condition for any given moment in the game, and set an initial value  first weather condition]

CurrentWeather is a WeatherCondition that varies. 
CurrentWeather is clear skies. 

[Changing the weather requires determining how long a weather condition will last. A counter can measure the time between changes. It randomly sets the weather to something that is consistent with the season. Different messages will display if the player is outdoors, or in the entry room of a building, which has a window. Random weather reports will not be given when the player is deeper inside any building, so as not to interrupt narratives in progress  -- instead the player just feels that the weather is changing.]

WeatherChangeCounter is a number variable.  WeatherChangeCounter is 0.

[UPDATE NEEDED (see above). The descriptions in this rule need to be the as yet unwritten announcement of weather change texts, rather than the weather reminder texts used here ]

Every turn when a random chance of 1 in 200 succeeds: 
	if WeatherchangeCounter is greater than 30:
		Change the Weather;
		if the location of the player is outdoor: 
			say "The weather is changing. [OutdoorDescription of CurrentWeather][line break]";
		else if player is in an interior location:
			say "The weather is changing. [IndoorDescription of CurrentWeather][line break]";
		else:
			say "You feel like the weather might be changing."

To Change the Weather:
	if AutumnTime is happening:
		let X be a random NormalForAutumn WeatherCondition;
		now CurrentWeather is X; 
	else if WinterTime is happening:
		let X be a random NormalForWinter WeatherCondition;
		now CurrentWeather is X; 
	else if SpringTime is happening:
		let X be a random NormalForSpring WeatherCondition;
		now CurrentWeather is X; 
	else if SummerTime is happening:
		let X be a random NormalForSummer WeatherCondition;
		now CurrentWeather is X;
	now WeatherchangeCounter is 0.


PART 5 - Reporting the Weather

[This is the action that allows the player to check the weather and receive a response depending on whether the player is indoors or outdoors].

Understand "weather" and "Check weather" and "Check the weather" and "examine weather" as weatherchecking.
weatherchecking is an action applying to nothing.

Carry out weatherchecking:
	if the location of the player is outdoor: 
		say "[Description of CurrentSeason][paragraph break] [OutdoorDescription of CurrentWeather][paragraph break]";
		now WeatherChangecounter is 0;
	else:
		say "You check the weather app on your phone which tells you that it's [Currentseason] and [CurrentWeather] outside.";
		now WeatherChangecounter is 0.
		
[Here is a random event rule that sets the frequency of random messages reminding the player what the weather is. The frequency of weather changing, and the frequency of these notices can be tweaked to be more natural, or to be responsive to a storyline.  the WeatherChangecounter makes sure that the weather won't change right after the current weather is reported, and it won't be reported right after it is changed.  ]

Every turn when a random chance of 1 in 100 succeeds:
	if WeatherchangeCounter is greater than 30:
		if the location of the player is outdoor: 
			say "[OutdoorDescription of CurrentWeather][line break]";
			now WeatherChangecounter is 0;
		else if player is in an interior location:
			say "[IndoorDescription of CurrentWeather][line break]";
			now WeatherChangecounter is 0.

Instead of weatherchecking when CurrentWeather is strange lights and the location of the player is morrow plots: 
	if AbductedbyAliens is not completed:
		say "You look up into the sky to find the source of the strange lights. Suddenly a circle of sky directly above you begins to rapidly change color and shape until you realize: it isn't the sky at all! It's a UFO! Before you can run however, the bottom of the UFO opens up an a beam of light shoots out. You try to move your legs but it's hopeless as you are lifted off the the ground and into the alien craft"; [alien abduction ending]
		now AbductedbyAliens is completed;
		now CurrentEnding is AbductedbyAliens; 
		End the Journey;
		stop the action;
	else:
		say "The aliens are not coming back for you. Once was enough."

Understand "Make a snow angel", "Make snow angel", "Make snowangel", "Make a snowangel" and "Make angel" as snowangeling.
snowangeling is an action applying to nothing.
Check snowangeling:
	if player is in an indoor location:
		say "You need snow to do that!";
		stop the action.

Carry out snowangeling:
	if currentweather is Lightly Snowing: 
		say "You lay back and begin flailing your arms and legs to make a snow angel. There isn't a lot of snow so your angel isn't that visually interesting, but you had fun!";
	if currentweather is Heavily Snowing:
		say "You lay back and work hard to push your arms and legs through the snow. Voila! A snow angel, a pretty cool one too!";
	if currentweather is Blizzard Conditions:
		say "You get to work on your masterpiece and exert all your strength to move the snow aside with your body. You get up an examine your work of art. It's truly worthy of a chef's kiss. Unfortunately, in a few moments the snow angel hole is completely filled by more snow!";
	else:
		say "A rather unsatisfying experience without snow on the ground."

VOLUME 3 - THE MAIN QUAD

BOOK 1 - REGIONS

MainQuadOutdoor is a region.

MainQuadNeighborhood is an OutdoorRegion in MainQuadOutdoor.
Center of the Quad and Grassy Spot and Grassy Expanse and Harker Hall and Foreign Language Building and Foellinger Hall and Lincoln Hall and Gregory Hall and English Building and Henry Administration and Anniversary Plaza and Altgeld Passage and Noyes Lab and Davenport Hall and Shady Grove are in MainQuadNeighborhood.

MainQuadIndoor is a region.

AltgeldMap is an IndoorRegion in MainQuadIndoor.
AltgeldHallInterior and MathFirstFloor and MathSecondFloor and Math Library Lobby and MathStacks and MathComputerArea and MathThirdFloor and MathLounge and MathRoom314 are in AltgeldMap.

LincolnHallMap is an IndoorRegion  in MainQuadIndoor.
 LincolnHallInterior, Lincoln Hall Second Floor Lobby, Lincoln Hall Classroom, Lincoln Hall Second Floor Wait Room are in LincolnHallMap.

GregoryHallMap is an IndoorRegion in MainQuadIndoor. 
Gregory 100 and EntranceGreg213 and Gregory 213 and EntranceGreg223 and Gregory 223 are in GregoryHallMap.

ZombieMap is an IndoorRegion in MainQuadIndoor.
GregoryHallInterior, GregoryHallBasement, GregoryHallBathroom, YMCAInterior, YMCABasement, Foul Tunnel, Long Tunnel, Artifact Tunnel, UnderSpurlockMuseum, SpurlockElevator, Zombie's Lair and Language Tunnel and FLBBasement and FLBInterior and G32 and HoleInTheGround and Tunnel to Spurlock and SpurlockElevator and Ancient Books Exhibit are in ZombieMap.

EnglishMap is an IndoorRegion in MainQuadIndoor.
EnglishBuildingInterior, EnglishBasement, EnglishBathroom, English Classroom, and English Advising Office are in EnglishMap.

HenryAdminMap is an IndoorRegion in MainQuadIndoor.
HenryAdministrationInterior, Student Financial Services, HenryWestWing and HenryEastWing are in HenryAdminMap.

UnionMap is an IndoorRegion in MainQuadIndoor.
The Union Basement and Rec-Room Entrance and RR Pool Tables and RRFrontDesk and Food Court and Illini Union South and Illini Union North and IlliniUnionBank are in UnionMap.

HarkerMap is an IndoorRegion in MainQuadIndoor.
HarkerHallInterior and UIF are in HarkerMap.

NaturalHistoryMap is an IndoorRegion in MainQuadIndoor.
NaturalHistoryInterior2015 and  Sub-basement and Natural History Landing and Heinz Von Foerster's Laboratory and Herbert Brun's office and Humberto Marturana's Office and Heinz Von Foerster's Laboratory and Warren McCulloch's office and NaturalHistoryLanding and Time Tunnel and Conference room is in NaturalHistoryMap.

NoyesLabMap is an IndoorRegion in MainQuadIndoor.
NoyesLabInterior and Noyes 100 and East Corridor and South Corridor and Merit Room and Self-Proclaimed Grave and Noyes Hallway are in NoyesLabMap.

NoyesTerritoryMap is an IndoorRegion in MainQuadIndoor.
Landing 0, Landing 1, Landing 2, Landing 3, Desolate Storage Room 1 and Dimly Lit Hallway are in NoyesTerritoryMap.

NoyesUndergroundMap is an IndoorRegion in MainQuadIndoor.
Noyes Basement and Tunnel Entrance, Tunnel Branch 1, Tunnel Branch 2, Bottom of Stairway 1, Top of Stairway 1, WESLH, EESLH, and Second Level Hall are in NoyesUndergroundMap.

DavenportMap is an IndoorRegion in MainQuadIndoor.
DavenportHallInterior is in DavenportMap

SquirrelHavenMap is an IndoorRegion in MainQuadIndoor.
Tree interior and Elm Top and ElmTreeBasement and Rusty Steam Room and Steam Tunnel 1 and Quad Pit and Steam Tunnel 2 and Steam Tunnel 2/3 Junction and Steam Tunnel 3 and EternalFlameBasement are in SquirrelHavenMap.

FoellingerMap is an IndoorRegion in MainQuadIndoor. Foellinger Auditorium and FoellingerHallInterior are in FoellingerMap.

BOOK 2 - OUT of DOORS

PART 1 - ROOMS

Grassy Spot is south of Center of the Quad and southwest of Davenport Hall and west of Shady Grove. "You are standing in a grassy area at the south end of the Main Quad. The Union lies far to the [bold type]north[roman type]. An impressive sight. You are hemmed in to the [bold type]south[roman type] by a curving bed of flowers and bushes tastefully decorating the area below the Foellinger courtyard railing. You can cut across the grass towards Lincoln Hall to the [bold type]west[roman type], and into a shady thoroughfare in the [bold type]east[roman type]."

bed of flowers is a scenery enterable container in Grassy Spot. 
The description of bed of flowers is "The landscaping here is really well done."

Understand "curving bed" and "curving bed of flowers and bushes" and "bed of flowers and bushes" and "flowers and bushes" as bed of flowers.

instead of entering bed of flowers:
	say "You crawl into the bed of flowers and make yourself comfortable there. You immediately fall asleep, because you're  chronically sleep deprived. You wake up later in the day, jump up cheerfully, brushing the dirt and dead leaves off of your clothes."; 
	let x be a random number between 60 and 180;
	increase time of day by x minutes.

Foellinger Hall is west of Foreign Language Building and south of Grassy Spot and southwest of Shady Grove. "You are standing on the steps of Foellinger Hall. You can go[bold type] in [roman type]from here. To the [bold type]north[roman type] of you, a lovely curving stone railing divides the semi-circular courtyard from the grassy Quad. From here you have a beautiful view of the Union looming majestically at the far end and the Quad filled with milling students. An [bold type]east-west[roman type] path cuts across the courtyard between Gregory Hall and the Foreign Language Building, and [bold type]south[roman type] will take you around the side of Foellinger to the back of the building."
Understand "Foellinger Courtyard" as Foellinger Hall.

Instead of going south from Grassy Spot:
	say "[line break][italic type]A line of shrubbery underneath the Foellinger Courtyard railing blocks your way going south.  So, you head around the railing to the [bold type]southeast[italic type] and then swing back [bold type]west[italic type] to enter the courtyard in front of the steps to Foellinger Hall.[roman type]";
	now player is in Foellinger Hall;
	stop the action.

Instead of going north from Foellinger Hall: 
	say "[line break][italic type]You climb on top of the stone railing and consider whether your long jump is good enough to take you over the flowers and shrubbery and land you safely on the grass. You take a deep breath and leap, flying bravely into the air, and landing in a flower bed.[paragraph break]When you come to, you are surprised to see that a small crowd has gathered to observe whether or not you are still alive. No one offers to help you up. From here on, you resolve to take the long way around.[roman type][line break]";
	now player is in Grassy Spot.
	
Gregory Hall is south of Lincoln Hall and southwest of Grassy Spot and west of Foellinger Hall and east of Episcopal Garden. "Gregory Hall is located at a busy confluence of streaming pedestrians, bicycles, buses  and cars. You can [bold type]enter [roman type]Gregory Hall, go [bold type]north[roman type] to Lincoln Hall, [bold type]east[roman type] to Foellinger Hall or [bold type]south[roman type] to the Main Library. If you're looking for a quick legal smoke, or a prayer, head [bold type]west[roman type]."

Lincoln Hall is west of Grassy Spot and south of the English Building and southwest of Center of the Quad and northwest of Foellinger Hall. "You are standing beside the Eternal Flame, a gift from the graduating class of 1912.  It is topped by an electric light and partially surrounded by a very inviting circular bench. From here you can [bold type]enter[roman type] Lincoln Hall, head [bold type]south[roman type] towards Gregory, [bold type]east[roman type] back to the Quad, [bold type]north[roman type] to the English Building, or [bold type]west[roman type] to the YMCA."


English Building is southwest of Grassy Expanse and west of Center of the Quad and north of Lincoln Hall and south of Henry Administration and northwest of grassy spot. "[if unvisited]There is no sign on the side of this building that faces the Quad, Its demeanor is decidedly non-scientific, which is to say, it looks as if it does not benefit from the same funding as the science buildings. 'This must be the English Building,' you think. You can go[bold type] in [roman type]to the building or go any other direction from here.[else]You are standing outside the English building. If you don't want to [bold type]enter[roman type], you can go [bold type]north[roman type] to Henry Administration Building, [bold type]east[roman type] to the Quad, [bold type]south[roman type] to Lincoln Hall, or [bold type]west[roman type] to the Illini Union Bookstore."

Henry Administration is northwest of Center of the Quad. "You are standing outside Henry Administration Building. You can go[bold type] in [roman type]to the building from here. The Anniversary Plaza is directly to the [bold type]east[roman type], Altgeld Hall is to the [bold type]north[roman type], and the English Building is due [bold type]south[roman type]. If you want to catch a bus, there's a stop next to the bookstore which is to the [bold type]west[roman type]."
The printed name of Henry Administration is "Henry Administration Building".

Altgeld Hall is northwest of Anniversary Plaza.
The description of Altgeld Hall is "You are standing outside of Altgeld Hall, which you can [bold type]enter[roman type] from here. You can also go [bold type]north[roman type] to the famous Alma Mater statue, [bold type]south[roman type] to Henry Administration building. or [bold type]east [roman type]to a small courtyard near the student union." 

Altgeld Passage is east of Mysterious Hall and south of Altgeld Hall and west of Anniversary Plaza and southwest of Union Courtyard and north of Henry Administration. "This busy thoroughfare links Wright Street to the Quad. A mysterious hall is to the  [bold type]west[roman type], Henry Administration is to the  [bold type]south[roman type], Anniversary Plaza is to the  [bold type]east[roman type] and Altgeld Hall is to the  [bold type]north[roman type]."

Illini Union Bookstore is south of Mysterious Hall and west of Henry Administration and northwest of English Building and southwest of Altgeld Passage and northeast of Psychology Building. "[BookstoreDescription]"

[Bookstore Description is in Bus Station code]

[why is Coble Hall mysterious? It now holds all the campuses area centers -- probably time to renovate this building!]

Mysterious Hall is north of Illini Union Bookstore. "[if Mysterious-Hall-Sign is unexamined]You've passed by this hall countless times on your way to the bookstore but you never actually noticed it before. It looks like any other hall on campus with its red brick exterior, stone steps, and wooden door. There is a sign to your left.[else]Ah yes, Coble Hall. To be honest, you have no desire to enter. You can go to the bookstore (as usual) by going [bold type]south[roman type]. To the [bold type]north[roman type] is Illini Hall. Altgeld Passage is to the [bold type]east[roman type] and Swanlund Hall is to the [bold type]west[roman type]."

Mysterious-Hall-Sign is a scenery thing in Mysterious Hall. The description of Mysterious-Hall-Sign is "[fixed letter spacing]COBLE HALL[roman type]". Understand "sign" as Mysterious-Hall-Sign.

Instead of examining Mysterious-Hall-Sign:
	now Mysterious-Hall-Sign is examined;
	now the printed name of Mysterious Hall is "Coble Hall";
	continue the action.

Grassy Expanse is north of Center of the Quad and east of Henry Administration. "You are near the north end of the quad, surrounded by a grassy lawn in every direction. To the [bold type]north[roman type] is the busy Illini Union. Other buildings ring the edges of the rectangular quad in every direction."

Anniversary Plaza is north of Grassy Expanse, northeast of Henry Administration and east of Altgeld Passage. "[if unvisited]You stand on the wide plaza on the north end of the Quad that is the back entry to the Illini Union. This is a busy and popular spot where student organizations advertise their events and spread awareness about different causes. [end if]From Anniversary Plaza, the Quad lies verdantly gleaming to the [bold type]south[roman type]. You can [bold type]enter[roman type] the Student Union from here. A busy pedestrian passageway runs [bold type]east[roman type] and [bold type]west[roman type]."

Travis is a man in English Building. "A guy is walking back and forth on the sidewalk. His t-shirt says 'Ask Me Anything.'"

understand "guy" as Travis. 

The description of Travis is "The guy waves at you as he notices you looking at his t-shirt. Perhaps you can TALK to him or ASK him about something."

Instead of talking to Travis for the first time: 
	say "'Ah! Hey there! I've never met you before. Name's Travis! I've gotten myself the job of the lifetime here, and I know my way around every nook and cranny on this campus. If you ever get lost, feel free to ASK me a question!'"
	
Instead of talking to Travis: 
	say "Travis grins. 'Like the t-shirt says, you can ask me about anything!'"

Instead of interrogating Travis about an item listed in the Table of Travis Responses: 
	say "[reply entry][paragraph break]"

Table of Travis Responses 
Item 	Reply 
Eduardo 	"'That man is scary, I tell ya! Rumor has it he's a crime boss, but if you get on his good side, something good might happen! Just...uh...Don't mention I called him scary...'"
Henchmen 	"'Eduardo's known for having servants that do the work for him, but he doesn't let anything bad happen to them. I'd advise not messing with them, but if you ever meet them, their names are Bob and Lou!'"
Diamond 	"'I've heard stories about a man who lost a diamond after some fight broke out on campus. If I were in your shoes, I'd go and give it back to them!'"
Retro Voucher 	"'If you beat Packed Man, you'll get a voucher! That'll let you score a prize in the Rec-Room by the counter!'"
Arcade Machine 	"'Packed Man's a really tough game, but it's all about persistence! Keep at it long enough, and you'll score a voucher to gain a prize in the Rec-Room!'"
Rec-Room Employee 	"'He's not much of a talker, but he does his job. If you ever get sick down there, you can ask him for some medicine to feel better!'"
EnglishBuilding 	"'Rumor has it, there's a ghost haunting that building. Not only that, some rumored-to-be crime boss named Eduardo works there! ...Don't tell him I said that.'"
Illini Union North	"'That's one of the hallmarks on this campus! I highly suggest visiting it; there's a ton of things to do! Go to Jamba Juice, play the arcade, get coffee, you name it! Personally, I go there for the bowling myself!'"
Illini Union South	"'That's one of the hallmarks on this campus! I highly suggest visiting it; there's a ton of things to do! Go to Jamba Juice, play the arcade, get coffee, you name it! Personally, I go there for the bowling myself!'"

[End of tour guide section.]



Noyes Lab is northeast of Center of the Quad and east of Grassy Expanse and southeast of Anniversary Plaza and north of Davenport Hall. "You are outside Noyes Lab, where Chemistry happens. The Quad opens up from here to the [bold type]east[roman type] and [bold type]southeast[roman type]. You can get to the Union by going [bold type]northwest[roman type], and a range of other buildings are all around you."

Davenport Hall is east of Center of the Quad and southeast of Grassy Expanse. "You are standing on a busy thoroughfare. Beside you looms Davenport Hall, a massive old brick building. You can [bold type]enter[roman type] Davenport Hall from here, or continue on your way in any direction."
The printed name of Davenport Hall is "Davenport Hall".

Shady Grove is southeast of Center of the Quad and south of Davenport Hall and north of Foreign Language Building. "In the shady, winding walkway that passes [bold type]east[roman type] and [bold type]west[roman type] between Davenport Hall to the [bold type]north[roman type] and the Foreign Language Building to the [bold type]south[roman type], there is an impressively large Elm Tree that is the home to squirrels and many campus legends. There are acorns scattered all around the base of the trunk. You find this odd, considering it is an Elm tree."

Foreign Language Building is southeast of Grassy Spot and south of Shady Grove and north of Smith Hall. "You are standing outside the Foreign Language Building. You can go[bold type] in [roman type]from here, go [bold type]west[roman type] to Foellinger Hall, or [bold type]south[roman type] to Smith Hall."


PART 2 - CURIOSITIES

Chapter 1 - Stone Railing

After deciding the scope of the player when player is in Grassy Spot:
	place the stone railing in scope.

Stone Railing is a scenery supporter in Foellinger Hall.

Instead of climbing stone railing:
	try going north.
	
Instead of examining the stone railing:
	if player is in Foellinger Hall:
		say "This is one of your favorite spots on the Quad. Sometimes, when no one is looking you try to walk along it like a tightrope. You can never stay on very long.";
	if player is in Grassy Spot:
		say "You can't climb up to the Foellinger Courtyard without trampling on the flowers. Better go around."


Chapter 2 - Eternal Flame

eternal flame is photogenic and scavengerhuntable scenery in Lincoln Hall. "The Eternal Flame has a sign on it indicating that it is being repaired. Sadly, the eternal flame has gone out."
Understand "electric light" and "light" as Eternal Flame.

EternalFlameSign is part of Eternal Flame.
The description of EternalFlameSign is "The sign was written with an orange sharpie. It says 'Flame Being Repaired.' The area smells vaguely of acorns."

Understand "sign" and "eternal flame sign" and "crude sign" and "repair sign" as EternalFlameSign.
The printed name of EternalFlameSign is "crudely made repair sign".

Instead of taking EternalFlameSign:
	say "That wouldn't be a nice thing to do.";
	stop the action.

inviting circular bench is a scenery container in Lincoln Hall. "From this bench you can reflect on the great legacy of the University of Illinois. This would be a more impressive feeling if the Eternal Flame was an actual flame, or if the electric light were working."

instead of entering inviting circular bench:
	say "You sit on the bench and contemplate the weightiness of college life.";
	now player is on circular bench.


Chapter 3 - Elm Tree

scattered acorns are scenery in shady grove. 
The description of scattered acorns is "They seem to have fallen from the Elm tree, which is weird, since acorns grow on oak trees, last you heard." 

understand "acorn" as scattered acorns.

Instead of taking scattered acorns: 
	if SpecialAcorn is in Shady Grove: 
		say "You consider taking a bunch of acorns, but you're not really that hungry and you're carrying too much stuff already, so you stash one acorn in your pocket and leave the others for the squirrels.";
		now SpecialAcorn is in pants pocket;
	else:
		say "You decide you don't need another acorn."

Impressive Elm Tree is a backdrop. Impressive Elm Tree is in Shady Grove and Tree Interior.
Understand "trunk" and "roots" and "undergrowth" as impressive elm tree.
Instead of examining the impressive elm tree for the first time:
	say "Pushing away the undergrowth around the base of the tree, you discover a crevice between the tree's roots. You might be able to open it up a bit more if you try."
Instead of examining the impressive elm tree:
	say "The roots are thick. They look very old. [if dark crevice is open]The crevice between the roots looks wide enough for you to pass through." 

dark crevice is an openable open enterable scenery container. The dark crevice is part of Impressive Elm Tree. 
Understand "crack" and "opening" as dark crevice.
The description of dark crevice is "With a little effort, you can probably widen the opening a bit."

Instead of opening the dark crevice:
	if player is in Shady Grove and dark crevice is open:
		say "[line break][italic type]As you brush the undergrowth away from the base of the tree, you find that the crack is widening by the second, or perhaps it is you who are shrinking -- rapidly! Your newly squirrel-sized body moves into the interior of the Elm tree, curiously. Your nose smells acorns, and your tiny tummy rumbles.[roman type][line break]"; 
		now player is in Tree interior;
		stop the action;
	if player is in Tree Interior:
		say "[line break][italic type]As your squeeze your little squirrel body through the opening, you start changing back to your original shape and size. Hoping no one noticed, you brush bits of sticks and leaves off of yourself as you stand up.[roman type][line break]";
		now player is in Shady Grove.
		
Instead of entering dark crevice: 
	say "You'll have to open it first."

Tree interior is a room.  "[if unvisited]The tree itself turns out to be much larger on the inside than it looked from the outside. In fact, it's as big as a small house, or say, a Tardis. Since you are a squirrel, it would be quite easy for you to go [bold type]up[roman type] a steep ramp carved inside the main body of the tree. Of course, it is equally possible for you to scramble [bold type]down[roman type] into the tunnels that generations of squirrels have dug below the trees roots. [else]You can climb back up the tree, or open the crack in the root to escape back to humanity. Alternately, a slight mist rises from a hole below."

Tree interior is indoor. 
The printed name of Tree interior is "Tree Interior".

Elm Top is above Tree Interior.  "[if unvisited]You clamber up the ramp, feeling a strange craving for acorns.  The ramp goes upwards seemingly forever until at last a tiny hole appears above and you climb out upon a branch.  From here you can see the entire Quad. What a view! Another squirrel sits on the branch some 10 feet away facing you.  It gives you a look as if to say:  'Huh, another human.' [else]You clamber up the tree and sit on a branch far above the ground, enjoying the view."

[Add random sights -- perhaps clues to various game modules]

Instead of jumping when player is in Elm Top:
	say "Despite a shriek of warning from the little squirrel, you take a running jump off the end of the branch. Wheee! You feel like you are flying! Unfortunately you are not flying. You fall, smack, onto the sidewalk. A facilities person scoops you  up and dumps you into a trash can.";
	now FeltLikeFlying is completed;
	now Currentending is FeltLikeFlying; 
	End the Journey.

Instead of examining the player when player is in SquirrelHavenMap:
	say "You are a very fine squirrel indeed.";
	stop the action.
	
Instead of photographing self when player is in SquirrelHavenMap:
	say "You take a selfie of yourself as a squirrel so your friends will believe you, but the picture comes out fuzzy and it just looks like you had a really bad night.";
	stop the action.

Jayfeather is a photogenic and scavengerhuntable thing in Elm Top. "A small feather sits on a branch. It is white, black and bright blue -- a blue jay feather you think. It is quite pretty."
Understand "jay feather" and "blue jay feather" and "bluejay feather" and "feather" as jayfeather.
The printed name of Jayfeather is "blue jay feather".

The description of jayfeather is "It's definitely a blue jay feather, and small enough to hide in the palm of your hand."

ElmTreeBasement is below the Tree Interior. "You make your way through the dark squirrel-dug tunnel, descending into the darkness, the mist growing slowly thicker as you go deeper. The tunnel ends abruptly, opening on to a concrete tunnel. You can go [bold type]up[roman type], [bold type]north[roman type], [bold type]south[roman type] and [bold type]west[roman type] from here."
The printed name of ElmTreeBasement is "Beneath the Elm Tree".

Rusty Steam Room is south of ElmTreeBasement. "[if unvisited]As you enter the room, the door slams shut behind you with an enormous BANG.  This seems to shake loose some rust on one of the many rusty pipes that fill this steamy room. With a squeal, a level on one of the pipes, now free from rust, slides downward.  Suddenly the room is fully of scalding billowing gouts of steam.  You know what a lobster feels like as it heads for the pot.[else]You are trapped in a concrete cell under the Quad. Rusty pipes block the only exit from the room."

RustyDoor is scenery in Rusty Steam Room.
Understand "door" and "rusty door" as rustydoor.
The printed name of RustyDoor is "rusty door".

The description of RustyDoor is "That door has shut! You're going to need another way out of this room."

Instead of going north from the rusty steam room:
	say "That way is blocked. If you were in human shape, your goose would be cooked, or your lobster as it were.";
	stop the action.

rusty pipes are scenery in rusty steam room. "The pipes are nasty and will probably give you tetanus and first degree burns if you get too close. One corner of the room is crumbling to dirt."

Understand "pipe" and "pipes" as rusty pipes.

crumbling dirt is scenery in rusty steam room. "Your squirrel senses tell you that this is good digging dirt."

Understand "corner" as crumbling dirt.

Instead of deepdigging: 
	try digging.


Instead of digging when player is in rusty steam room:
	say "You start digging into a soft spot in a corner of the room where the concrete is crumbling. The dirt is well-packing and the going is rough, but after a few feet, you manage to break through to looser soil. You dig and dig and dig and dig, enjoying the thrill of making your own way through the world, but then you begin to yearn for the feeling of the sun on your furry face, and you aim upwards. With a last burst of energy, you break through the sod and emerge from the whole and find yourself in human shape again.";
	now player is in random room in MainQuadOutdoor.

Steam Tunnel 1 is north of ElmTreeBasement.  "A mass of pipes surround this tunnel, which stretches off into the distance.  Although you are a bit discombobulated underground, it seems that this tunnel leads to the [bold type]north[roman type] towards the Student Union.  Maybe."

Quad Pit is north of Steam Tunnel 1.  "You emerge from Steam Tunnel 1 into a square room roughly 15 by 15 feet and about the same height.  From the tunnel you had to drop down about a few feet to get into the room.  There is a greenish glow in the room that seems to be coming from the mold growing on the walls.  You hop down into the room and hear a strange munching sound.  The only exit from this room is behind you to the [bold type]south[roman type]."

CarnivorousMold is an edible undescribed thing in Quad Pit.
Understand "mold" as carnivorousmold.
The printed name of carnivorousmold is "a lump of carnivorous mold".
The description of CarnivorousMold is "What's growing on the wall is like nothing you've ever heard about in any biology class. The munching sound appears to be coming from the wall. On closer inspection, it appears that the mold is digesting a few insects unfortunate enough to have wandered this way."

Steam Tunnel 2 is west of ElmTreeBasement. "This tunnel is filled with slightly leaky steam pipes and leads to the [bold type]west[roman type], under the Quad."

Steam Tunnel 2/3 Junction is west of Steam Tunnel 2.  "This cramped room has tunnels leading to the [bold type]north[roman type] and [bold type]east[roman type].  There is a hinged wooden panel in the corner of the floor."

Wooden panel is a closed, openable door.  Wooden panel is scenery.
Understand "hinges" as Wooden panel.
Wooden panel is down from Steam Tunnel 2/3 Junction.
The description of wooden panel is "Since you are a squirrel, you have no way of opening the panel in the floor."


Steam Tunnel 3 is north of Steam Tunnel 2/3 Junction. "To the [bold type]north[roman type] the tunnel heads slightly upwards. To the [bold type]south[roman type] it continues straight back towards through the tunnels."

EternalFlameBasement is north of Steam Tunnel 3. "As you scurry up the ramp feel your body growing larger and larger. You are soon your old self again. This granite-lined room leads you to an ancient looking metal hatch in the ceiling, which is closed at the moment. The only other exit is the way that you came in, to the [bold type]south[roman type]."
The printed name of EternalFlameBasement is "Less Damp Basement".

After going south from EternalFlameBasement:
	say "As you return to the south, you feel yourself becoming squirrel-shaped again."

Metal Hatch is a closed, openable container in EternalFlameBasement. Metal Hatch is undescribed.

The description of Metal Hatch is "The Hatch reminds you of the doors they have on ships and submarines. The hatch is currently closed."

Instead of going up from EternalFlameBasement:
	try opening Metal Hatch.

Instead of going nowhere when player is in EternalFlameBasement:
	say "You walk into a wall. Ouch. How about just opening the hatch?"

Instead of opening Metal Hatch:
	say "Grabbing hold of the circular mechanism of the hatch, you give it a hard twist, and it pushes upward more easily than you expected. You climb through the opening and discover that you are standing beside the Eternal Flame monument. The hatch closes behind you with a clang. To your surprise, it leaves no trace upon the concrete sidewalk, no sign at all that there was a passage there.";
	now player is in Lincoln Hall.

BOOK 3 - INDOOR MAPS

PART 1 - FOELLINGER

FoellingerHall is a roomproxy.  The printed name of FoellingerHall is "Foellinger Hall".
FoellingerHall is in Foellinger Hall.
The description of FoellingerHall is "Foellinger Hall is one of the largest classroom auditoriums on campus. From a distance, it looks like a flying saucer, a bit."
Understand "Foellinger Hall" and "Foellinger" as FoellingerHall.

FoellingerHallInterior is an Interior Location. "[if unvisited]You ascend the stairs leading to the dominating structure of Foellinger Hall. Trying the left or right doors yields no success, but you find the center doors unlocked and heave one open with not inconsiderable effort. Inside, you find yourself in a large marble foyer. [end if] A few desks sit outside the entrance to the auditorium occupied by some busy students clacking away on their laptops.  To the [bold type]south[roman type] are the auditorium doors. [one of] You can hear the muffled sound of a voice amplified by a microphone coming from the closed auditorium doors. [or]The entrance is a buzzing mess of activity as hundreds of students try to flee the finished lecture to be on time for their next class, while hundreds more press into the lecture hall to seek the most prime seats for the upcoming class.[cycling]".
The printed name of FoellingerHallInterior is "Foellinger Foyer".
FoellingerHallInterior is inside from Foellinger Hall.

The busy TA is a person in FoellingerHallInterior. "A TA is hurrying around looking busy."
The description of busy TA is "Busy. Not going to talk to you at the moment."

Instead of talking to the TA: say "The TA doesn't make eye contact. 'I'm sorry, you'll have to email the professor about that.'".

Instead of interrogating the TA about something:
	try talking to the TA.
Instead of asking the TA about something:
	try talking to the TA.

Foellinger Auditorium is south of FoellingerHallInterior. "This is an enormous lecture hall, absolutely big enough to take a nap without being noticed. You can go [bold type]out[roman type] the way you came, or exit through the [bold type]east[roman type], [bold type]west[roman type], and [bold type]south[roman type] auxillary doors, if you do it quietly."

Foellinger Auditorium is inside from FoellingerHallInterior.

Instead of going inside from FoellingerHallInterior:
	try going south instead.

Instead of going south from FoellingerHallInterior:
	say "[one of]Entering the auditorium, you find yourself looking at the back of several hundred heads, some bowed and focused on their owners['] furious note-taking, others leaning on arms in the weary sleep of the hungover, and even a few turned to attend the figure standing on the stage of the lecture hall. [one of]White-haired and tweed-jacketed[or]A woman with a British accent[or]A short, stocky man with a bristling mustache[or]An distinguished looking woman wielding a laser pointer[or]A young, flustered man[or]A fast-talking, energetic woman[at random], the professor is finishing a class on [one of]biology[or]history[or]geology[or]robotics[or]Medieval philosophy[or]advanced string theory[or]Norse mythology[or]feudal Russian economics[or]how to tame crocodiles[as decreasingly likely outcomes].  Your entrance goes unnoticed by the professor, but a few students sitting around the entrance turn to wonder at your very late arrival.[or]The students are beginning to settle down as the instructor gets ready for the next class, preparing slides and other classroom accoutrements.[cycling] ";
	continue the action.

The stuffy professor is a person and scenery in Foellinger Auditorium.
The description of the stuffy professor is "The professor is very busy. Maybe you should find someone else to interact with."

Instead of interrogating the professor about something:
	say "The professor, [one of]annoyed[or]flabbergasted[or]shocked[or]distracted[purely at random], says, '[one of]I'm sorry, [or]Excuse me, [or]Hey! [purely at random]I can't [one of]look at[or][one of]help you[or]assist you[or]deal[purely at random] with[purely at random] [one of]that[or]that [second noun][or]whatever that is[purely at random][one of][or] presently[or] now[or] right now[or] at the moment[purely at random]. I'm [one of]lecturing[or][one of]in the middle of[or]teaching[or]running[purely at random] a [one of]lecture[or]course[or]class[or]lesson[purely at random][purely at random].'".

FoellingerBusyStudents are scenery people in FoellingerHallInterior. 
The printed name of FoellingerBusyStudents is "busy students".
Understand "students" and "busy students" and "laptops" as FoellingerBusyStudents.

The description of the FoellingerBusyStudents is "The students do not look up from their laptops and other devices. Why they would work in this crazy space is a mystery. Are they waiting for their class to start? Do they just need a lot of noise to work effectively?"

Understand "student" and "students" and "busy students" as FoellingerBusyStudents.
The printed name of FoellingerbusyStudents is "busy students".

Instead of talking to FoellingerbusyStudents:
	say "They completely ignore you. It's like you're not even there."
	
Instead of going nowhere when player is in Foellinger Auditorium:
	if the player's command includes "south" or the player's command includes "s":
		say "you nimbly walk up the aisles and enter the vomitorium to backstage. You exit the auditorium through the stage doors in the back.";
		now the player is in Behind Foellinger;
		stop the action;
	else if the player's command includes "east" or the player's command includes "e":
		say  "you squeeze through the rows of chairs you're in and exit out the east set of doors.";
		now the player is in Foreign Language Building;
		stop the action;
	else if the player's command includes "west" or the player's command includes "w":
		say "you try to make as little a fuss as you can squeezing through all the rows inbetween you and the west set of doors. You exit.";
		now the player is in Gregory Hall;
		stop the action;
	else:
		say "You apologize to the people around you as squeeze out of your row of seats and head towards an exit.";
		now player is in Foellinger Hall;
		stop the action.

PART 2 - LINCOLN HALL

LincolnHallInterior is inside from Lincoln Hall.
LincolnHall is a RoomProxy in Lincoln Hall.
Understand "Lincoln Hall" and "Lincoln" as LincolnHall.
The printed name of LincolnHall is "Lincoln Hall".
The description of LincolnHall is "Lincoln Hall houses the Sociology, Communications, and Political Science Departments. The beautiful building has Lincoln quotes etched into its outer walls. It faces the Quad on its southwestern side."


LincolnHallInterior is an interior location. "[if unvisited]As you walk into the entrance, an ominous aura hangs in the air. Your eyes land upon a bust of Abraham Lincoln, his nose shiny from students rubbing it in hope of good luck. You think twice about rubbing it yourself when you notice the bust's eyes are following you. The cold, dead eyes give you feeling you should get out of the building. [end if]On either side of the Lincoln statue are stairs heading [bold type]up[roman type] to the second floor. Doors lead [bold type]out[roman type] to the Quad. Down the hallway in both directions you hear monotone professors lecturing students trying to stay awake. The only thing interesting in here, other than the bust of Lincoln is an old vending machine."
The printed name of LincolnHallInterior is "Inside Lincoln Hall." 

Lincoln Hall Second Floor Lobby is a room.

Lincoln Hall Theater is west of Lincoln Hall Second Floor Lobby.
Lincoln Hall Theater is inside from Lincoln Hall Second Floor Lobby.

The description of Lincoln Hall Theater is "This grand room was renovated a few years ago. It seats about 650 people."


The description of Lincoln Hall Second Floor Lobby is "[Lincoln Hall Second Floor Lobby Description]".

to say Lincoln Hall Second Floor Lobby Description:
	say "After sprinting up the stairwell past the bust, you see two doors to your [bold type]north[roman type] and [bold type]south[roman type]. Through the north door, you can see a student sitting in what looks like a waiting room, though it seems like he's made it his home. His back is towards you, and you can see his laptop being charged while watching what looks like the first season of Game of Thrones and snacking on a bag of baked Lays chips. Through the south door you don't see anyone, and [bold type]down[roman type] the stairs you can barely see the top of Lincoln's head. Lincoln Hall Theater is to the [bold type]west[roman type]. ";

[
Lincoln Hall Classroom is inside from LincolnHallInterior. "[if unvisited]After walking through the halls for minute, you come across a room with a piece of paper that clearly had trouble being ripped out of a spiral notebook. On this torn sheet, a lone 'L' is scrawled in the center, taking up most of what's left of the paper. The window shows the lights in the room are off. With your curiosity peaked, you test the handle, and to your surprise the door is unlocked. You're punched back by a horrific stench and slam the door before falling to your knees as you start to dry heave. After regaining your composure and a small pep talk, you decide to fill your lungs with as much clean air as you can hold, and reenter the room. You freeze in place, finding the source of the putrid smell. A dismembered body lays across the teacher's desk, it's legs poking out of a trash can sporting a pair of black Adidas shoes. A surgeon tray lays next to the body, holding a set of tools dripping with bright red blood. You realize you've focused solely on the body on the table and slowly look to other side of the room, when your eyes halt. You try to look away, but find your eyes no longer under your control. Your eyes are locked starring directly into the same cold, dead eyes that greeted you at the building entrance. You recognize the same pattern on its nose, ensuring it to be the same Abraham Lincoln bust that was in the lobby. A shiver runs down your spine, signaling to get [bold type]out[roman type] of this room.[else]You find the 'L' door, and after taking a few deep breaths, enter the room. You reacquaint yourself with the dismembered body laying next to the surgical tray. Automatically your eyes drift towards the Lincoln bust on the other side of the room and are locked in place. Without being able to see where to go, you can only get [bold type]out[roman type] of this room."
]

Lincoln Hall Second Floor Wait Room is north of Lincoln Hall Second Floor Lobby.  "[if unvisited]As you step into the waiting room, the other student checks his watch with a look of shock. He throws everything into his backpack and runs out the door.[else]There are chairs in the corner, with magazines ontop of end tables. The receptionist isn't at her desk, but a bowl full of mints are.".


Lincoln Hall Second Floor Lobby is up from LincolnHallInterior.

Instead of going nowhere when the player is in LincolnHallInterior:
	say "You start heading that direction, but then are stopped by the glare from the bust, telling you to not go that way."

Instead of going nowhere when the player is in Lincoln Hall Second Floor Lobby:
	say "Now that the bust can't make eye contact, you think you can go any direction without its hindrance. You're mistaken, as there is a reflection of the bust that is making enough eye contact to prevent you from continuing in that direction."

Before going north when the player is in Lincoln Hall Second Floor Lobby:
	if OpenedDoor is false:
		say "You try to open the door to the waiting room, but find its locked. Trying to get the attention of the student on his laptop, you bang on the door. No matter how long and loud you bang, you can't get his attention. Better try a different  direction.";
		stop the action.

Instead of going south when the player is in Lincoln Hall Second Floor Lobby:
	say "You try the south door, but find its locked. Not being able to see anyone inside, you see no hope for entering."

LincolnHallVendingMachine is a scenery device in LincolnHallInterior.
The printed name of LincolnHallVendingMachine is "vending machine".
Understand "vending machine" and "tray" and "slot" and "machine" as LincolnHallVendingMachine.

Instead of examining LincolnHallVendingMachine:
	if LincolnHallVendingMachine is unexamined:
		say "The vending machine seems to be empty except for one small unmarked box in E6. What the heck, you put in a dollar and push E6. You eagerly watch the box being pushed out of its slot and fall into the bottom tray. Reaching down you pull it out and pick it up. It is a small brown box that seems unmarked.";
		now LincolnHallVendingMachine is examined;
		decrease the price of the available cash by $1.00;
		now player has NoseBox;
	else:
		say "Sadly this vending machine is empty."

NoseBox is a closed, openable container.

The description of NoseBox is "This small, brown box is in pristine condition. Looking more closely you find that it has a small 'AL' inscribed in the bottom right corner.".

Understand "brown box" and "box" and "small box" and "small brown box" and "brown small box" as NoseBox.

The printed name of NoseBox is "a small brown box".

Lincoln Beard is a wearable thing.

The description of Lincoln Beard is "A magical beard that grew seconds after putting on the prosthetic nose.".

Understand "beard" and "facial hair" as Lincoln Beard.

Instead of taking off the Lincoln Beard:
	say "You can't take hair off. You need to find a razor to shave with.";
	stop the action.

a straight razor is a thing in NoseBox.

The description of a straight razor is "A straight edge razor. It looks very old but the blade is still sharp.".

ShavingCream is a wearable thing in NoseBox.

The description of ShavingCream is "A tube of shaving cream, stating how smooth and buttery your shave will be.".

Understand "cream" and "shaving cream" as ShavingCream.
the printed name of ShavingCream is "shaving cream".

Prosthetic Nose is a wearable thing in NoseBox.

The description of Prosthetic Nose is "A fake, prosthetic nose. It has a bronze shine to it and smells like freshly cut wood.".

Understand "nose" as Prosthetic Nose.

Instead of taking Prosthetic Nose:
	say "You take the nose, somehow thinking it could come in handy.";
	Now the player holds the prosthetic nose.

Instead of wearing Prosthetic Nose:
	say "As you put on the nose, a tingling sensation builds on your face. In mere seconds a full, profound beard emerges on your once bald face.";
	now the player is wearing Lincoln Beard;
	now the player is wearing Prosthetic Nose.

Instead of taking off Prosthetic Nose:
	say "The nose has become glued onto your face.";
	stop the action.

PotatoChip is in Lincoln Hall Second Floor Wait Room. "A lone potato chip lays on the ground.".

The description of PotatoChip is "Someone must have dropped this chip."

Understand "chip" and "lays chip" and "lays potato chip" as PotatoChip.
The printed name of PotatoChip is "potato chip".

PotatoChip is edible.

Instead of eating PotatoChip:
	say "After giving the chip a couple puffs of air to remove excess dirt, you toss it in your mouth.";
	Now the PotatoChip is nowhere.

LincolnHallWaitChairs is scenery in Lincoln Hall Second Floor Wait Room. "Two red chairs and a couch are arranged in the corner. As you sit down in the chair, it sinks down too low to be comfortable. You decide it's better just to stand."
The printed name of LincolnHallWaitChairs is "waiting chairs".

Understand "chair" and "couch" and "chairs" as LincolnHallWaitChairs.


Lincoln Hall Wait End Table is a supporter in Lincoln Hall Second Floor Wait Room. "Small end tables sit at either side of the couch. They have glass centers that have magazines resting on top."

Understand "table" and "end table" and "tables" and "end tables" as Lincoln Hall Wait End Table.


Wait Magazines is a thing on top of Lincoln Hall Wait End Table. "An assortment of Illinois propaganda. You flip through a few pages and become more bored than when you started reading."

Understand "magazine" and "magazines" as Wait Magazines.

Instead of taking Wait Magazines:
	say "You don't want to read them now, let alone in the future."


Wait Mints is a thing in Lincoln Hall Second Floor Wait Room. "There's something about these mints that draw you closer."

Understand "candy" and "bowl" and "bowl of candy" and "mint" and "mints" and "bowl of mints" as Wait Mints.

Instead of eating Wait Mints:
	say "You grab the last mint in the bowl and pull on the two sides of the wrapper to reveal  the mint. You pop it into your mouth and realize there was something at the bottom of the bowl. A ring! You grab it and put it in your pocket.";
	Now the Wait Mints is nowhere.
	Now the player is carrying the Lincoln Hall Ring.

Lincoln Hall Ring is a wearable thing with description "A ring that fits you perfectly. The insisde is engraved with the letters 'A.L'.".

  Instead of shaving the Lincoln Beard:
	if the player is not wearing shavingcream:
		say "You try to shave off the thick beard, but your face is too dry to shave it off. Try to apply some shaving cream.";
		stop the action;
	else:
		say "You slowly and carefully shave your face back to its smooth self. You toss the beard the shaving cream and the box in a trash can. The prosthetic nose doesn't seem to want to come off though. Could be permanent.  Sorry.";
		remove Lincoln Beard from play;
		remove ShavingCream from play;
		remove NoseBox from play.

Instead of applying the ShavingCream:
	if the player is not wearing Lincoln Beard:
		say "You put some on your face, but soon take it off as it starts to flake.";
		stop the action;
	say "You put some shaving cream on your beard, ready to be shaved.";
	Now the player is wearing ShavingCream;


Lincoln Hall Students are people in the LincolnHallInterior. "[activities of lincoln hall students]".
Understand "group of students" and "group" as Lincoln Hall Students.

To say activities of lincoln hall students:
	choose a random row in the Table of LH Student Descriptions;
	say "[description entry]"

Table of LH Student Descriptions
description
"There's a group of students sitting at the staircase, working on homework."
"Students are walking up and down the hallways."
"The room is very empty, and only a few students are scattered throughout."
"A couple students are standing around, looking at their phones. Others are passing through the hallways, heading to class.".

The description of Lincoln Hall Students is "Best not to stare at people you don't know."

Understand "couple students" and "students" as lincoln hall students.

Instead of talking to lincoln hall students:
	say "You try to talk to a few students, but they don't look up from their phones.".

Instead of asking lincoln hall students about something:
	say "You ask, but just get a blank expression. The students don't seem helpful in the slightest.".

Instead of giving something to lincoln hall students:
	say "You think about handing it over, but then realize you might have a better use for it.".

Instead of giving potatochip to lincoln hall students:
	say "The chip looks too delicious to just give away.".

Instead of attacking lincoln hall students:
	say "You start to charge a group of students, but they scatter before you can reach them.";
	stop the action.


Lincoln Hall inattentive student is a person in Lincoln Hall Second Floor Wait Room. "A student is sitting in the waiting room, jamming to some tunes on his headphones." Understand "student" as Lincoln Hall inattentive student. Does the player mean examining Lincoln Hall inattentive student: it is very likely. 

The description of lincoln hall inattentive student is "He's too busy watching his show to notice you. He has [a list of things carried by lincoln hall inattentive student].".

lincoln hall inattentive student is carrying Lincoln Hall headphones. The printed name of Lincoln Hall headphones is "headphones".
The description of Lincoln Hall headphones is "They look worn from repeated use.".

lincoln hall inattentive student is carrying a Lincoln Hall laptop. The printed name of Lincoln Hall laptop is "laptop". 
The description of a Lincoln Hall laptop is "It has chips all around the edges. You can see it playing an episode of Game of Thrones.".

lincoln hall inattentive student is carrying Lincoln Hall lays chips. The printed name of Lincoln Hall lays chips is "lays chips".
The description of Lincoln Hall lays chips is "It seems like he never runs out.".

Understand "student" and "inattentive student" as lincoln hall inattentive student.

Instead of talking to lincoln hall inattentive student:
	say "You try talking to him, but he can't hear you through the door and headphones.".

Instead of asking lincoln hall inattentive student about something:
	say "You yell your question to him, but he can't hear you.".

Instead of giving something to lincoln hall inattentive student:
	say "You try giving him the [noun], but you can't push it through the door.".

Instead of attacking lincoln hall inattentive student:
	say "You try to hit him with [noun], but instead hit the door."

Lincoln's Bust is a scenery person in LincolnHallInterior. 
Understand "bust" and "Lincoln statue" and "Lincoln Bust" and "Lincoln's Statue" and "Lincoln" as Lincoln's Bust. 

The description of Lincoln's Bust is  "A bust of Abraham Lincoln sits upon a pedestal a few steps up the center staircase. Its eyes, staring directly at you as walk closer to get a better look.[if the player is wearing the Lincoln Beard] Recognizing such a fantastical beard, the bust seems open to talking.".

Five Dollar Bill is a scenery thing.
The description of Five Dollar Bill is "A crisp five dollar bill. Don't spend it all in one place!"
The printed name of Five Dollar Bill is "five dollar bill".

Nose of Lincoln is a photogenic and scavengerhuntable part of Lincoln's Bust. "Lincoln's nose is shiny, because of the bacteria left behind from thousands and thousands of people rubbing it. It's not that gross if you think about it as a world of microscopic life teeming upon that shiny surface. Rubbing the nose is reputed to give you luck."
Understand "Lincoln's nose" as nose of lincoln.
The printed name of nose of Lincoln is "Lincoln's nose".

Instead of rubbing Nose of Lincoln: 
	say "You rub his nose because you feel like you'd be missing out if you didn't. You don't feel any lucker, and old Abe seems to be glaring at you more than usual." 
		
Understand "Lincoln" and "bust" and "Abe" and "old Abe" and "Abraham" and "Abraham Lincoln" and "Abraham bust" and "Abraham Lincoln bust" and "Abraham's bust" and "Abraham Lincoln's bust" and "Lincoln's bust" as Lincoln's Bust.  

Instead of talking to Lincoln's Bust: 
	if the player is wearing the Lincoln Beard:
		say "Now that you're wearing a beard, maybe the bust will talk to you!";
	else:
		say "The bust doesn't want to talk with you because you look strange and unfamiliar.".

Instead of interrogating Lincoln's Bust about something:  
	if the player is wearing the Lincoln Beard:
		Repeat through Table of Bust Responses:
			if the second noun is the Item entry:
				say "[reply entry][paragraph break]";
				if second noun is beard:
					Now OpenedDoor is true;
					stop the action;
			else:
				say "Thank you for making an effort. So few do. The door is unlocked.";
				now OpenedDoor is true;
				stop the action;
	else:
		say "He doesn't want to talk to you. Maybe if he could respect you, it might."

Table of Bust Responses
Item	reply
beard	"That beard is magnificent. I have opened the second floor door for you."
Lincoln Hall inattentive student	"No one knows how to get his attention."
razor	"If you use that, I won't want to talk to you anymore and I will lock the door."
Potatochip	"Look delicious, sadly I don't have a stomach to digest it.'"


Instead of talking to Lincoln when the player is wearing the Lincoln Beard:
	say "The bust looks at you approvingly. 'Yes, your beard is magnificent. I have opened the locked door.";
	now OpenedDoor is true;
	stop the action.

Instead of giving something to Lincoln's Bust: 
	say "How would he hold it?".

Instead of attacking Lincoln's Bust: 
	say "You are about to attack him, but his eyes make you stop.".


GrownBeard is a truth state variable. GrownBeard is false.

OpenedDoor is a truth state variable. OpenedDoor is false.

ClockCount is a number variable. ClockCount is 0.

Before putting on Lincoln Beard:
	if GrownBeard is false:
		increase score by 10;
		now GrownBeard is true.

PART 3 - ENGLISH BUILDING

EnglishBuilding is a RoomProxy in English Building.
Understand "English Building " and "English" as EnglishBuilding.
The printed name of EnglishBuilding is "English Building".
The description of EnglishBuilding is "The English Building is exactly what it sounds like."


EnglishBuildingInterior is inside from English Building. "[if BadTrip is true]Inside the English Building, the roof has caved in over many classrooms, desks covered in rubble.  The walls begin to creak and sway and ceiling bows deeply, bearing a huge weight of a strange noise like the incessant buzzing of cicadas.[end if][If unvisited]Entering the English Building, you feel the age of the rooms and halls before you. The scent of old papers and leftover ink permeates your entire being and you examine your options. [end if]Standing in the entrance, you can either go [bold type]out[roman type] to the Main Quad, to the Basement by going [bold type]down[roman type], [bold type]up[roman type] to the Advising Office, or [bold type]west[roman type] to the Classrooms."

The printed name of EnglishBuildingInterior is "English Building Entrance".

EnglishBasement is down from EnglishBuildingInterior. "[If unvisited]You sense a foreboding presence. You feel like you can't breathe, but you can't seem to place why. [end if]The basement stretches out before you. Students gather in the central area, studying or eating. Everyone seems rather busy. An abandoned soda bottle sits on one of the tables. There is a vending machine near the bathrooms. Standing in the center of the basement, you can go [bold type]north[roman type] to the Bathrooms or [bold type]up[roman type] to the English Building Entrance."
The printed name of EnglishBasement is "English Building Basement".
	
The EnglishBasementSodaBottle is a drinkable scenery thing in the EnglishBasement. The printed name of EnglishBasementSodaBottle is "abandoned soda bottle". Understand "abandoned" or "soda" or "bottle" or "soda bottle" or "abandoned soda bottle" or "abandoned soda" as EnglishBasementSodaBottle. The description of EnglishBasementSodaBottle is "There's a few sips left of soda remaining, but you can't be certain how long the bottle has been sitting here." 
Instead of drinking the EnglishBasementSodaBottle:
	say "You're thirsty, but not [italic type]that[roman type] thirsty...";
	stop the action.
Instead of taking the EnglishBasementSodaBottle:
	say "It's probably just best to leave it.";
	stop the action.

The EnglishBasementVendingMachine is a scenery thing in the EnglishBasement. The printed name of EnglishBasementVendingMachine is "vending machine". Understand "vending machine" or "vending" or "machine" as EnglishBasementVendingMachine. The description of EnglishBasementVendingMachine is "There's a piece of paper taped to the glass that says 'OUT OF ORDER'. Just your luck."

The EnglishBasementTable is a scenery thing in the EnglishBasement. The printed name of EnglishBasementTable is "table". Understand "table" or "tables" as EnglishBasementTable. The description of EnglishBasementTable is "It's a plain wooden table with a few chips and scratches. Nothing special."

The EnglishBasementBathroom is a scenery thing in the EnglishBasement. The printed name of EnglishBasementBathroom is "bathroom". Understand "bathroom" or "bathrooms" as EnglishBasementBathroom. The description of EnglishBasementBathroom is "Nothing seems out of the ordinary."

EnglishBathroom is north from the EnglishBasement. "[if unvisited]The foreboding feeling that greeted you as you descended into the basement grows stronger as you go into the bathroom. [end if]There's a filthy light switch to your right. The struggle to breathe continues to oppress you. You should probably go back [bold type]south[roman type] to the Basement."
The printed name of EnglishBathroom is "English Building Bathroom".

English Classroom is west of the EnglishBuildingInterior. "[If unvisited]The bell rings, feeling louder than a normal bell. Students mill out of the room and you enter. [end if]A teacher is writing something on the chalkboard. Desks are scattered about after a class. There doesn't seem to be much else in here. You can go [bold type]east[roman type] to the English Building Entrance."

EnglishChalkboard is an object in the English Classroom.
EnglishChalkboard is fixed in place.
The printed name of EnglishChalkboard is "old fashioned black chalkboard."
Understand "old fashioned black chalkboard", "black chalkboard", "old fashioned chalkboard", and "chalkboard" as EnglishChalkboard.

The description of EnglishChalkboard is "The teacher is writing something, but it's not finished yet (and he's standing in front of it)...something about a ghost."


English Advising Office is up from EnglishBuildingInterior. "[if unvisited]Walking in, you can see comfy seats and candy open for everyone who enters. [end if]There's three offices, but the doors are all closed, save for one to the [bold type]north[roman type]. You can go [bold type]down[roman type] to the English Building Entrance."

Instead of going nowhere when the player is in the EnglishBathroom:
	say "The longer you stay in this bathroom, the less air you feel entering your lungs. Your vision begins to blur. You shouldn't stay in here much longer."

Instead of going nowhere when the player is in the English Advising Office:
	say "All of the advisors seem to be busy at the moment. Maybe you should make an appointment and come back later."

Instead of going nowhere when the player is in the English Classroom:
	say "Another class is supposed to come in soon. You should probably leave."

[This begins the section of stuff made for the Eduardo Quest for the English Building! Please reformat this later. Check the Rec-Room Entrance for more about this quest.]

Front Office is north of English Advising Office. "[if unvisited]As you enter, you see a suspicious man who sits at his desk. He's dressed in a fashionable suit and looks at you with a smirk. Looking at the name tag on the door you've entered, you can see that his name is Eduardo Giordano. Perhaps you should [bold type]talk[roman type] to him. He also has two henchmen standing in suits, with the most stoic expression imaginable. [end if]Inside Eduardo's office, there isn't much to note besides his desk and a spare chair. You can go [bold type]south[roman type] to go back to the entrance."

Eduardo is a man in Front Office. "Eduardo looks at you with a devilish grin on his face as he contemplates something."

The description of Eduardo is "He's a little overweight, but is dressed in a sharp suit and red tie. Stylish. He also has a pair of sunglasses hanging in his suit pocket. 'Whaddaya looking at?' He questions, noticing you observe him. 'Heh, I'm teasing ya. Lighten up!' He would then remark, just to tease with you."

Understand "suspiscious man" and "eduardo giordano" and "big eddy" and "eddy" as Eduardo. 

Henchmen are men in Front Office. "The henchmen stare at you."

The description of Henchmen is "These are Eddy's two main bodyguards. They take care of his dirty work, so to say. They've been instructed to not interact with you unless threatened. Don't test them."

Understand "bodyguards" as Henchmen. 

Instead of talking to Henchmen: 
	say "They do not interact or respond with you at all. Perhaps you should ask Big Eddy over there." 

Instead of asking Henchmen about something: 
	say "They do not interact or respond with you at all. Perhaps you should ask Big Eddy over there." 

Instead of talking to Eduardo for the first time: 
	say "'Huh, wasn't expectin a straggler to come into my office.' Eduardo sits up from the desk, and holds out a hand, to which you shake. 'Name's Eduardo. Eduardo Giordano. But you can call me Big Eddy, like my other pals do. Heh!' He'd chuckle. 'Well, since you've stumbled into my small abode, can you do your new pal here a faveh?' He'd ask, with a gesture of his hands. He has quite a character. 'Now, I've got me quite an exquisite business. I got myself a busy job, workin the clock all the time as a humble businessman. Gives you no time to do whateveh! Cause of that, I can't exactly invest time in...[italic type]asset reclamation[roman type].' He'd start walking around the room a bit. 'You see, I'm the current owner of a family heirloom; a precious diamond. You know the type. Shiny, big, all that good stuff. I got into a bit of a scuffle with that employee in the Union and that nasty scumbag's got what's rightfully [italic type]mine![roman type] I know you wouldn't want yous precious stuff on display as a prize!' He'd wave his hands around a bit in frustration, although, at the same time grin at you. 'I dunno how you can help, but if yous can do whateveh to solve my plea, oh, I'd pay you big time!'";
		
Instead of talking to Eduardo: 
	say "'Eh? Dunno what to do?' He'd tilt his head. 'If I were you pal, I'd save up some buckaroos. Course, I know you're not [italic type]that[roman type] rich. Heheh!' He'd start to laugh.";
	
Instead of attacking Eduardo: 
	say "You [italic type]really[roman type] should not have done that. Eddy grabs your fist after you land a tear in his suit, throwing you to the ground. 'EY! WATCH THE SUIT, PAL! BOB, LOU! SIC EM!' He'd shout, sending his two bodyguards to detain you as they beat the snot out of you. He'd then walk over to you, with a confident, wicked smirk painted across his face as you are held down.[paragraph break]";
	say "'You know, buddy, I tried to be your pal back there! If you were smart and helped me, you couldda done something real good, ya know.' He leans down to you. 'I lent ya a chance to do me a favor, to grow a nice little bond between the two of us, eh? Ties like that lead you to all sorta good places. But I suppose yous got nothing to offer if you're gonna go and throw hands. I've got me a public image to maintain, so I believe you know what I'm gonna do next.' He says, with a chuckle.[paragraph break]";
	say "'I think it's time to take the trash out.' He says, kicking you in the head and rendering you unconscious.";
	now EduardoHurt is completed;
	now Currentending is EduardoHurt;
	end the journey; 
	
Instead of attacking Henchmen for the first time: 
	say "They resist a little bit at first and are about to get more aggressive, but Eduardo stops both of you. 'Ey, ey, ey! Easy yous two. I don't wanna hurt you, ya know.' He'd motion to you. 'Don't mess with me or my boys, or they'll go and mess with you!'[paragraph break]";
	say "[bold type]Don't attack them again, or else.[roman type]"
	
Instead of attacking Henchmen: 
	say "You really don't learn your lesson, do you? Eduardo doesn't intervene this time, as you clearly aren't going to cooperate, and the two guards throw you down to the ground. Eduardo walks over, with a curious smile.[paragraph break]";
	say "'You know, buddy, I tried to be your pal back there! If you were smart and helped me, you couldda done something real good, ya know.' He leans down to you. 'I lent ya a chance to do me a favor, to grow a nice little bond between the two of us, eh? Ties like that lead you to all sorta good places. But I suppose yous got nothing to offer if you're gonna go and throw hands. I've got me a public image to maintain, so I believe you know what I'm gonna do next.' He says, with a chuckle.[paragraph break]";
	say "'I think it's time to take the trash out.' He says, kicking you in the head and rendering you unconscious.";
	now EduardoHurt is completed;
	now Currentending is EduardoHurt;
	end the journey; 
	
Instead of interrogating Eduardo about Diamond: 
	say "'Oh, I'd do anything to get my hands on that jewel again. It belonged to pops, passed it on down to me. He was a good guy, you know, rough around the edges, but ehh...He was aight. Better than that employee holding that diamond from me.' He'd say with his fist balled up."
	
Instead of interrogating Eduardo about Rec-Room Employee: 
	say "'That guys nothing but boredom, I tell ya.' He'd say, pointing a finger casually. 'The guy sits there all day and hates his job. Wouldn't even budge about giving me the diamond, just threatening me with some legal schtick. It's all big talk, but they'd refuse to take action unless I actually took action. But I have an image to maintain.'"

Instead of giving Diamond to Eduardo: 
	say "'Ah! Magnifico!' Eduardo would say, holding his arms up in the air in praise of your valiant efforts. 'Yous done a fine job back there, eh? You and I could be some good pals, ya know!' He'd let out a big laugh. 'If you ever get into trouble, Big Eddy here's got your back.' Eduardo would take the diamond from you, and gives you a handshake. Having some ties to someone as mighty as he is could do you favors in life."; 
	now EduardoHelp is completed; 
	now Currentending is EduardoHelp; 
	end the journey; 
	
[End of Eduardo Quest stuff for the English Building.]

OldPapers is a thing in the EnglishBuildingInterior. The description of OldPapers is "A heavily detoriated newspaper of some kind. Most of the words are faded, but you can make out the words english, ghost, silver, drown, and sub."
Understand "old paper", "paper", "papers", "old newspapers", "old newspaper", and "newspapers" as OldPapers.
The printed name of OldPapers is "Old Papers"

Instead of reading OldPapers: 
	say "Unfortunately, most of the words are faded from deterioration, making it impossible to get the bigger picture, but you can see the words english, ghost, silver, drown, and sub."; 
	stop the action.

[ Vending Machine with key inside needs some work. Currently commented out  ]

[

ShakeVendMac is a truth state variable. ShakeVendMac is false.

EnglishVendingMachine is an empty VendingMachine in EnglishBasement.

Instead of examining EnglishVendingMachine:
	if ShakeVendMac is false:
		say "The vending machine appears to be empty. But on closer inspection, you can see a key hanging on one of the hooks that normally would hold bags of chips. You wonder if you could shake it loose.";
	else:
		say "Nothing else to see here."

Instead of shaking EnglishVendingMachine:
	say "You give the vending machine a brutal shake, and then kick it for good measure. The key teeters on the hook and falls down into the delivery shelf. Success! You reach your hand in and grab it.
	now player has

EnglishVendingMachine is scenery.
 The printed name of EnglishVendingMachine is "vending machine".
Understand "machine" and "vending machine" as EnglishVendingMachine.

Instead of examining EnglishVendingMachine:
	if player has quarter:
		say "Huzzah, a key came out of the vending machine! Too bad they're out of actual food.";
	else:
		say "Huh. Turns out you need money to buy things. Maybe you should look for a quarter or something."

Instead of taking the EnglishVendingMachine:
	say "Look, I know you think you're really strong and all, but this thing is bolted to the ground, pal. It ain't budging."
]


EnglishDesk is a supporter in English Classroom. The description of EnglishDesk is "The desk seems to be vacant from the last class. All of the previous occupant's belongings are gone, but there is a bag on the surface."
Understand "desk" and "desks" as EnglishDesk.
 the printed name of EnglishDesk is "desk".

a brown paper bag is a closed openable scenery container in English Classroom.
The description of the bag is "The bag feels like there's something inside of it."

[this necklace doesn't seem to have a point]

EnglishNecklace is a wearable thing in brown paper bag.
Understand "necklace" as EnglishNecklace.
The printed name of EnglishNecklace is "necklace."
The description of EnglishNecklace is "The necklace within the bag is old, the gold tarnished. There's a large gemstone attached to the necklace."

large gemstone is part of EnglishNecklace. The description of large gemstone is "Flawless."


EnglishLightSwitch is a scenery device in the EnglishBathroom.
The printed name of EnglishLightSwitch is "light switch".
Understand "light" and "light switch" and "switch" as EnglishLightSwitch.

The description of EnglishLightSwitch is "This switch looks ancient, like something out of a horror movie. There's film on it that sticks to your hands."

Instead of eating EnglishNecklace:
	say "That would certainly make for an embarrassing trip to the hospital. Best not to eat the chain."

Instead of eating the OldPapers:
	say "That doesn't seem as though it'd digest very well. Perhaps you should just TAKE them."

Instead of switching on Englishlightswitch:
	say "As you flip the gross switch into the 'on' position, the lights flicker nonstop, creating a strobe light effect, like the world's smelliest dance club.";
	continue the action.

Instead of switching off EnglishLightSwitch:
	say "You've had enough of this groovy laser light show. You can't allow anyone else succumb to the boogie fever. Turn it off!";
	continue the action.

Instead of taking the EnglishStudents:
	say "How rude that you'd interrupt a hard working student! Leave them be, they're stressed enough as it is!"

EnglishTeacher is a person in English classroom. "Upon getting a closer look, you see that the English Teacher is your old professor, Tony Pollock. He is indeed busy reading Poe's 'The Fall of the House of Usher.' Suddenly, he lets out a big belly laugh, paradoxically goodhearted but simultaneously maniacal. You decide not to disturb him."
 Understand "man" and "teacher" and "Tony" and "Tony Pollock" as EnglishTeacher.
 The printed name of EnglishTeacher is "English Teacher".

EnglishStudents are scenery people in the EnglishBasement. Understand "students" as EnglishStudents. The description of Englishstudents is "Testing is in full swing. They seem to be bogged down by the stresses of life itself and their eyes seem lifeless."
The printed name of EnglishStudents is "English students".
Does the player mean examining EnglishStudents when the player is in EnglishBasement: it is very likely.

Instead of talking to EnglishTeacher:
	say "The teacher is furiously writing down notes for his next class. Who knew there was enough demand for a class on ghosts? Maybe if you asked a specific question, he could give you a solid answer?"

Instead of talking to EnglishStudents:
	say "They're busy studying. How would you like it if someone bothered you while studying? One dismissively grumbles about the 'stupid teacher who talks about ghosts'."


Instead of asking EnglishTeacher about "weapon":
	say "He looks at you with a frown, and says, 'No weapons are allowed on campus, you silly person.'"

Instead of asking EnglishTeacher about "winning":
	say "He laughs and says, 'No one wins in the game of life. You just keep playing till you run out of lives.' How morose..."

Instead of asking EnglishTeacher about "hint":
	say "The teacher smiles, nostalgia twinkling in his eye. and says, 'I used to win all the time... Ah what was that code I used to use? Contra, I believe.'"

Instead of asking EnglishTeacher about "ghost" for the first time:
	say "The teacher's face falls. 'Oh god...  is she back? Can you see her?' He holds the chalk in a shaky hand."

Instead of asking EnglishTeacher about "ghost":
	say "The teacher looks pale. 'If you can see her, you should probably get out of here.'"
	
Instead of asking EnglishTeacher about "ghosts": 
	say "The teacher rambles on for awhile about ghosts, mentioning a ghost that's in this building as well. Maybe you should ask him about it?"
	
Instead of giving OldPapers to EnglishTeacher:
	say "The teacher looks at the papers and marvels at the page. 'Oh, I remember this page. It was from an old ghost story I used to read all of the time. Keep it, you might like to find the rest of the story!'";
	stop the action.

Instead of giving HenryCandies to EnglishTeacher:
	say "He shakes his head. 'No thanks, I don't want that inexplicably regenerating candy. Something about that gives me the creeps, like the god that rules over this campus has yet to figure out how eating candy works.' Maybe you should keep it until you figure out how it disappears.";
	stop the action.


Instead of attacking EnglishTeacher:
	say "He counters your attack with a sidestep and a hit of a chalkboard eraser. 'Try something like that again, and you'll regret it.' He seems serious. You should leave him be.";
	stop the action.

Instead of WeaponAttacking EnglishTeacher:
	say "He counters the [second noun] with a piece of chalk. 'En guarde!' he shouts. You fought valiantly, but it was all for naught, you've been bested. You hope your teacher won't take this little incident into account when grading you at the end of the semester."

[English Ghost related stuff]

EnglishGhost is a female monster.
The description of EnglishGhost is "A ghostly figure of a girl in a set of drenched, old fashion clothing.[If HelpedGhost is completed] As she floats lazily in the air, you notice she seems far less intimidating than before.[else] As you examine her, she stares back, a subtle but menacing smile on her face."

Understand "figure" and "ghost" and "ghostly figure" and "ghost girl" as EnglishGhost.
The printed name of EnglishGhost is "the Ghost of an English student".

[when the counter hits 0, the player is killed by the ghost, if the counter is negative, they will never be harmed by the ghost]
possessionCounter is a number variable. possessionCounter is 30.

Every turn when player is in EnglishBasement:
	if possessionCounter is greater than 0:
		decrement possessionCounter.

Before doing something when possessionCounter is greater than 30 and EnglishGhost is not in EnglishBasement and player is in EnglishBasement:
	say "As a familar chill wind seems to pass through the basement, you notice a familar ghostly figure floating lazily in a corner.";
	now EnglishGhost is in EnglishBasement;

Before doing something when possessionCounter is less than 21 and EnglishGhost is not in EnglishBasement and player is in EnglishBasement:
	say "A chill wind seems to pass through the basement as you notice a ghostly figure. Nobody else in the basement seems to react.";
	now EnglishGhost is in EnglishBasement;

Before doing something when possessionCounter is less than 10 and EnglishGhost is in EnglishBasement and player is in EnglishBasement and HelpedGhost is completed:
	say "'Hey, I like you, but I got a reputation to uphold so, uh, get out of here or I'll kill you.' The ghost stammers nervously."

Every turn when the possessionCounter is 0 and the EnglishGhost is in EnglishBasement and player is in EnglishBasement:
	if HelpedGhost is completed:
		say "'Hey man, really sorry about this but you know, reputation.'";
	say "You're hit by a strange wave of fatigue but when you recover, you notice the ghost is gone. Suddenly another strange feeling hits you as you hear an unnatural laughing in your ear, along with, running water? You start feeling water coming up from your throat. You start coughing and gagging as the water spills forth. You struggle to get a breath in but the water just won't stop. As the other students seem to start noticing you, you feel your consciousness starting to slip. Your limbs give out and you fall face first into the puddle in front of you. Everything goes dark.";
	now DrownedByGhost is completed;
	now Currentending is DrownedByGhost;
	now possessionCounter is 30;
	now EnglishGhost is nowhere;
	End the Journey.

Instead of giving something to EnglishGhost:
	if noun is silvermine sub and HelpedGhost is not completed:
		say "Her mouth waters as you present the sandwich, but as she tries to take it from your grasp her hands pass right through it. She looks at you, her eyes watering. Before you can move to placate her, she grits her teeth and dives into you, disappearing. You are overtaken by an overwhelming desire to devour the sub and rip into it uncontrollably. After finishing off the sandwich, an unmatched feeling of satisfaction washes over you as the ghost leaves your body and begins gently floating upwards. She mouths a soft 'thank you' as she fades away.";
		now silvermine sub is nowhere;
		now HelpedGhost is completed;
		now Currentending is HelpedGhost;
		now possessionCounter is 60;
		now EnglishGhost is nowhere;
		End the Journey;
	else if noun is silvermine sub:
		now silvermine sub is nowhere;
		say "She possesses you briefly and devours the sandwich through you. After ripping the sandwich apart with unrivaled ferocity, she emerges from your body with a satisfied expression. 'Man, I really can't thank you enough.'";
		now possessionCounter is -1;
		stop the action;
	else if HelpedGhost is completed and noun is EnglishNecklace:
		say "'You want to give me that?' She blushes and moves a little bit back. 'Well I can't really wear it, it'll go right through me, but I appreciate the thought.'";
		now possessionCounter is -1;
		stop the action;
	else if HelpedGhost is completed:
		say "'Uh, yeah if it's not a sandwich I don't really care.'";
		stop the action;
	else:
		say "She doesn't want that. You have a horrible feeling about what it was she does want. You might want to get out of there sooner rather than later.";
		stop the action.

Instead of taking the EnglishGhost:
	say "As you attempt to grab the ghost, she seems to slip into your body.[if HelpedGhost is completed] 'I mean, if you insist.'[else] You hear her laughter ringing in your ears. You feel you may have just done something very bad.";
	now possessionCounter is 0;
	stop the action.

Instead of talking to the EnglishGhost:
	if HelpedGhost is completed:
		say "'Oh yeah, thanks for the sub, been craving one of those for, well, since, you know... don't make a girl say it.' She laughs nervously. 'Anyway, I got a reputation to uphold so if you stick around too long I'm gonna have to kill you, unless of course you have another sub?' Water pours out of her grinning mouth like a faucet.";
		stop the action;
	else if DrownedByGhost is completed:
		say "The ghost stares at you, a somewhat confused expression on her face. 'You're, back?'";
		stop the action;
	else:
		say "The ghost stares at you, staring through you... Examining you up and down, almost considering you... She smiles... You get the strong feeling that you should just leave her be.";
		stop the action.

Instead of attacking EnglishGhost:
	if HelpedGhost is completed:
		say "'Hey, like, you can't hurt me, but not cool.'";
		stop the action;
	else:
		say "Your attack goes right through the ghostly figure. It almost smiles. You feel your throat constrict. The only feasible action would be to run for your life!";
		stop the action.

Instead of WeaponAttacking EnglishGhost:
	if HelpedGhost is completed:
		say "'Hey, like, you can't hurt me, but not cool.'";
		stop the action;
	else:
		say "Your attack goes right through the ghostly figure. It almost smiles. You feel your throat constrict. The only feasible action would be to run for your life!";
		stop the action.

[I really hate having to use this double instead/double table setup but I think it's necessary because of the frustrating way asking/interrogating are currently set up]

Instead of Interrogating EnglishGhost about something:
	if second noun is an item listed in the table of EnglishGhost Item Responses:
		if HelpedGhost is completed:
			say "[saved entry][paragraph break]";
		else:
			say "[default entry][paragraph break]";
	else:
		say "She doesn't seem to react to the question.";
		stop the action.

Table of EnglishGhost Item Responses
Item	Default 	Saved
Silvermine Sub	"She seems to react to the phrase, water begins slowly dripping out of her mouth."	"'They were my absolute favorite, I seriously can't thank you enough.' You think you see her traslucent face blush a little.'"
EnglishGhost	"She doesn't seem to react to the question."	"'Me? Oh I'm not interesting, just been haunting this stupid building the last 50 years.'"
EnglishBuilding 	"She doesn't seem to react to the question."	"'Well I got nothing against it but I mean just look at this place, it's falling apart. I guess it does make my job easier.'"
EnglishNecklace 	"She doesn't seem to react to the question."	"'Never seen it before, but it's a pretty nice necklace.'"

Instead of asking EnglishGhost about a topic listed in the Table of EnglishGhost Text Responses:
	if HelpedGhost is completed:
		say "[saved entry][paragraph break]";
	else:
		say "[default entry][paragraph break]".

Table of EnglishGhost Text Responses
topic	Default	Saved
"death"	"In response to your question, she stares at you blankly. She slowly opens her mouth and water begins pouring out." 	"'Oh I drowned in a pool, stomach cramp. Moral of the story, wait thirty minutes after eating before swimming.'"
"reputation"	"She doesn't seem to react to the question."    	"'Well I'm the spooky English Building ghost, if people aren't scared of me then the others will make fun of me.'"
"others"    	"She doesn't seem to react to the question."    	"'You know, the other ghosts, the vampires at McKinley, etc.'"
"vampires"  	"She doesn't seem to react to the question."    	"'Oh shoot, I'm not supposed to talk about that, lips are sealed.'"

PART 4 - HENRY ADMIN

HenryAdmin is a RoomProxy in Henry Administration.
Understand "Henry Administration Building" and "Henry" and "Henry Admin" and "Henry Administration" as HenryAdmin.
The printed name of HenryAdmin is "Henry Administration Building".
The description of HenryAdmin is "Henry Administration has a few classrooms in it, but the whole center of the building is Student Financial Services. This is where you pay your tuition and pick up your pay check."

HenryAdministrationInterior is an interior location.

HenryAdministrationInterior is inside from Henry Administration. "[if unvisited] As you open the door and walk through the entrance hall, you feel a sense of peace and calm. It is dark and very quiet. [end if] You can go [bold type]east[roman type] or [bold type]west[roman type] or [bold type]north[roman type] to access Student Financial Services. If you can't find what you are looking for you can [bold type]exit[roman type]the building from here."
The printed name of HenryAdministrationInterior is "Henry Administration Building Entrance".

Student Financial Services is north of HenryAdministrationInterior. "The administrative offices appear to be closed. The only way out is [bold type]south[roman type]."

HenryWestWing is west of HenryAdministrationInterior.  "People are rushing through this building between classes. You have heard stories about a an old painting hung on the west wing wall. there's some mystery surrounding it.."
The printed name of HenryWestWing is "West Wing".

HenryEastWing is east of HenryAdministrationInterior. "More and more classes are located in this square-shaped building. It all looks pretty ordinary, except that there is a donation box attached to the wall here. You can go [bold type]west[roman type] from here."
The printed name of HenryEastWing is "East Wing".


Instead of going nowhere when the player is in HenryAdministrationInterior:
say "If you are looking for classes, you may not want to go straight. You should go [bold type]west[roman type] or [bold type]east[roman type]. There are where the classes are located."
Instead of going nowhere when the player is in Student Financial Services:
say "You shouldn’t be in here if you don’t have any financial consultation or payments to be made. You can exit to the [bold type]south[roman type]."
Instead of going nowhere when the player is in HenryWestWing:
say "Since there are a lot of people rushing in and out, you might want to stand aside and wait until everything cools down. Try to listen to music or drink some water, you want to stay hydrated! You can always explore the building by going [bold type]east[roman type]."
Instead of going nowhere when the player is in HenryEastWing:
say "Look for people who are leaving their chairs and grab one of those. Your legs are tired and you need a rest of a minute or two. But don’t forget to get into your class when the time comes. You can always explore the building by going [bold type]west[roman type]."

HenryLongLine is in Student Financial Services. "A long line of students is waiting to see the cashier. You'll never get to the front of the line before your next class."
The description of HenryLongLine is "The more you look, the more you are convinced that this is not the time to investigate your financial situation."

Understand "long line" and "line" and "line of students" and "students" and "waiting students" as HenryLongLine.

BowlOfCandies is a fixed in place container in Student Financial Services. "A bowl of candies is sitting on the counter."
Understand "bowl" and "bowl of candies" as BowlOfCandies.
The printed name of BowlOfCandies is "a bowl of candies".

HenryCandies are an edible, scenery thing in Student Financial Services.
Understand "candy" and "sweets" and "some candies" and "candies" as HenryCandies.
The printed name of HenryCandies is "some candies".

Instead of examining HenryCandies:
	if HenryCandies are in Student Financial Services:
		say "These candies are an attempt to pacify the waiting students.  Don’t mind about your diet, you deserve it!";
	else:
		say "They are generic hard candies. They last for hours."



OldPainting is a scenery in the HenryWestWing.

Instead of examining OldPainting:
	say "The painting is a very dark oil painting depicting a landscape at night. It's pretty creepy, but something about it is compelling."

Understand "painting" and "old painting" as OldPainting.
The printed name of OldPainting is "Old Painting".

Instead of taking HenryCandies:
	if player has HenryCandies:
		say "You don't need any more candies.";
	else:
		say "You grab a handful of candy.";
		now player has HenryCandies.

Instead of eating HenryCandies for the first time:
	Say "You try one of the candies and keep the others for later. It has an odd flavor that reminds you a little bit of paint."

Instead of eating HenryCandies:
	say "You don't need another one. You're not done with the first one yet!"


Instead of taking OldPainting when PaintAttacked is false and FashionDisaster is incompleted:
	Say "You attempt to lift the old painting off the wall, but it is really firmly attached and you soon give up. You look around self-consciously, feeling a little stupid. A student rushes by you and whispers, 'You shouldn't have done that. It makes the Evil Painter angry and that's bad for all of us. Your only hope is to give him what he wants. Donation box is in the East Wing. Good luck!' The student disappears into the crowd.";
	Evil Painter Comes in 1 turns from now;
	now HenryCleaningGirl is nowhere;
	stop the action.

Instead of taking OldPainting when PaintAttacked is true:
	say "Your compulsion to take the painting has passed.";
	stop the action.


Evil Painter is a backdrop in HenryAdminMap.
The description of Evil Painter is "An Evil Painter lives in Henry Administration Building. When he is angered he spreads wet paint all over the floor. Rumor has it that he can be appeased through sacrifice. You've never actually seen him."

PaintAttacked is a truth state variable. PaintAttacked is false.

At the time when Evil Painter comes:
	say "Suddenly students scatter all around you. A man is running through the hall spreading wet paint everywhere. This must be the Evil Painter! Realizing that this situation is your fault, you decide you had better try to fix it. What did the student say about a donation box?";
	now PaintAttacked is true;
	Paint Gets Slippery in 5 turns from now.

At the time when Paint Gets Slippery:
	if paintattacked is true:
		say "In your haste to escape you slip on the wet paint and fall, hard, then sliding several feet down the hall.The pain and embarassment is not the worst of it. You clothes are now covered in foul-smelling baby-poop colored paint. You can't go to class looking (and smelling) like this!";
		now FashionDisaster is completed;
		now CurrentEnding is FashionDisaster;
		now Evil Painter is nowhere;
		now PaintAttacked is false;
		End the Journey;
	else:
		say "A member of the Henry Admin facilities staff comes out of a closet and begins to mop the floor. She's smiling and does her work with a little spring in her step. You feel relieved that you can now leave Henry Administration without guilt.";
		move HenryCleaningGirl to the location;
		now PaintAttacked is false;
		now Evil Painter is nowhere.

HenryCleaningGirl is a person. "A cheerful staff member is mopping up the wet paint."
	Understand "staff" and "member" and "staff member" and "mop" and "cleaning lady" as HenryCleaningGirl.

The description of HenryCleaningGirl is "Besides being quite attractive, she also has a kind-hearted spirit."
The printed name of HenryCleaningGirl is "a kind-hearted custodian."


Instead of asking HenryCleaningGirl about something:
	try talking to HenryCleaningGirl ;
	stop the action.

Instead of interrogating HenryCleaningGirl about something:
	try talking to HenryCleaningGirl ;
	stop the action.

Instead of talking to HenryCleaningGirl :
	say "She smiles, but doesn't have time to talk to you. You get the idea that she spends a lot of her time cleaning paint.";
	stop the action.


Every turn when player is in HenryAdminMap and PaintAttacked is true:
	say "[one of]There's wet paint everywhere on the floor, walls and even the ceiling.[or]You step carefully around the wet paint, trying not to fall.[or]Oops, almost slipped in the paint.[or]Yow, the evil painter zoomed through the room again laughing manaically and dropping more paint on the floor![or]Students are falling all around you![cycling]"

HenryWetPaint is a scenery backdrop in HenryAdminMap.
The description of HenryWetPaint is "It appears to be oil paint. It is exceptionally sticky and smelly. The color reminds of nothing so much as baby poop."


Understand "paint" and "wet paint" as HenryWetPaint.
The printed name of HenryWetPaint is "wet paint".

Instead of going outside when the player is in HenryAdministrationInterior and PaintAttacked is true:
	say "You can run but you can't hide. There's no escaping Henry Administration until that paint gets cleaned up!";
	stop the action.


instead of genericallygiving when player is in HenryEastWing:
	if noun is not Henrycandies:
		say "As your gift disappears into the donation box you wonder whether candy might not have made a better donation.";
		now noun is nowhere;
		stop the action.

HenryDonationBox is an open container in HenryEastWing. "A donation box is attached to the wall."
HenryDonationBox is fixed in place.
The printed name of HenryDonationBox is "wooden donation box".
Understand "donation" and "box" and "donationbox" and "donation box" and "wooden donation box" as HenryDonationBox.

Instead of examining HenryDonationBox:
	if HenryDonationBox is unexamined:
		say "There's no sign to explain what you're supposed to donate to this box, or who the donations are for. The slot is too big for money, but too small for donations of canned food. A student rushing by you whispers, 'Be careful of wet paint.'";
		now HenryDonationBox is examined;
	else:
		say "The box has a slot into which you can donate things."

Instead of taking HenryDonationBox:
	say "You start to pry the box off the wall, but the phones of students walking by raise to take a picture of your deed, and you realize that stealing donations is not a good look."


Instead of removing something from HenryDonationBox:
	say "Your hand is too small to reach into the slot.";
	stop the action.

Instead of inserting something into HenryDonationBox:
	if noun is not Henrycandies:
		say "As your gift disappears into the donation box you wonder whether candy might not have made a better donation.";
		now noun is nowhere;
		stop the action;
	else if PaintAttacked is true:
		say "You put the candies into the donation slot. Thank you! The Evil Painter loved your gift! The sugar neutralizes his evil, and he decides to quit his job and dedicate his life to making people happy.";
		now PaintAttacked is false;
		now evil Painter is nowhere;
		increase score by 50;
		stop the action;
	else:
		say "You wonder if putting candy into the donation box would get you in trouble or not. You decide to think about it a while first.";
		stop the action.

instead of genericallygiving candies when player is in HenryEastWing:
	say "You put the candies into the donation slot. Thank you! The Evil Painter loved your gift! The sugar neutralizes his evil, and he decides to quit his job and dedicate his life to making people happy.";
	now PaintAttacked is false;
	now evil Painter is nowhere;
	increase score by 50.

Every turn when player is in HenryAdminMap:
	if a random chance of 1 in 100 succeeds:
		choose a random row in the Table of Random Events;
		say "There are a lot of weird things happening in this building. [event entry][paragraph break]"

Table of Random Events
event
"You think you can hear in the distance the music of an ice cream truck."
"You smell cotton candy."
"In the white noise, you think you can hear drunk people screaming your name."


PART 5 - ALTGELD HALL

AltgeldHall is a RoomProxy in Altgeld Hall.
Understand "Altgeld Hall" and "Altgeld" as AltgeldHall.
The printed name of AltgeldHall is "Altgeld Hall".
The description of AltgeldHall is "Altgeld Hall is home to the Math Department. You can also make your way up to the bell tower from inside."

AltgeldHallInterior is an interior location. "[if unvisited]It is dark inside this building, filled with strangely musky air. It smells like history, but it sounds like math. You hear distant voices in the hallways, most likely from lectures in progress. Best to keep it down. You see stairs as soon as you enter, as if you haven't already climbed enough of those. [end if]You may go [bold type]up[roman type] to the second floor or [bold type]down[roman type] to the first floor. You may also go [bold type]north[roman type] to the post office or go back [bold type]outside[roman type] to the Quad from here."
 AltgeldHallInterior is inside from Altgeld Hall.
 The printed name of AltgeldHallInterior is "Altgeld Hall Entrance".

AltgeldPostOffice is north of AltgeldHallInterior. "You walk forward to the service desk and ring the bell, but no one shows up to assist you. You ring the bell a couple more times just for fun. Since nobody's around, you climb over the counter and end up in the mailroom. There are dusty-looking packages all over the place."
The printed name of AltgeldPostOffice is "Altgeld Post Office".

DustyPackage is a scenery container in AltgeldPostOffice.
Understand "package", "packages", "parcel", "parcels", "mail", "box", "wooden box", "white box", and "white wooden box" as DustyPackage.

Instead of examining the DustyPackage for the first time:
	say "You blow a cloud of dust off of one of the parcels. The handwriting is so sloppy you can't make out who it's addressed to. Maybe there is a clue inside? You tear into the brown paper, revealing a white wooden box."
Instead of examining the DustyPackage for the second time:
	say "You unhinge the latch on the box and pry open the lid. Inside, you see... ornamental snail shells? They appear to have been bedazzled with all sorts of expensive-looking jewels! Right as you think you've struck it rich, the snail shells begin to glow. The shells crack into small pieces that float up in front of your face and disintegrate into golden dust. Your eyes ache a bit and your head feels somewhat heavier.";
	now the right hand status line is "Snail Mail".

MathFirstFloor is down from AltgeldHallInterior. "[if unvisited]You arrive downstairs. [end if] Here you can see a drink vending machine. There are hallways winding in directions you cannot determine because the structure of the building is just plain weird. There's no point in venturing down them.".
 The printed name of MathFirstFloor is "First Floor".

MathSecondFloor is up from AltgeldHallInterior. "[if unvisited]The short flight of stairs brings you in front of the Math Library, on the second floor. [end if]The library is to the [bold type]south[roman type]. The third floor (or at least part of it) is [bold type]up[roman type].".
The printed name of MathSecondFloor is "Second Floor".

Math Library Lobby is south from MathSecondFloor. "The lobby feels quite eerie, unlike most other libraries on campus. You can exit the library to the [bold type]north[roman type]. The stacks are to the [bold type]south[roman type] and the computer area is to the [bold type]west[roman type].". 
	
LibraryView is a scenery thing in MathThirdFloor. Understand "library" or "library lobby" or "math library" or "math library lobby" as LibraryView. The description of LibraryView is "The view is quite nice from the third floor, though the library still gives an eerie feeling."
	
MathStacks is south of Math Library Lobby. "As expected, you find yourself surrounded by math books. Some of the titles make you dizzy just by looking at them. There is hardly any light in here. Perhaps Altgeld Hall was built with a theme in mind.".
The printed name of MathStacks is "Stacks"

MathComputerArea is west of Math Library Lobby. "You see a few students using the computers on the tables, but nothing really interesting seems to be happening.".
The printed name of MathComputerArea is "Computer Area". 
	
ComputerStudents are scenery in MathComputerArea. Understand "students" as ComputerStudents. The description of ComputerStudents is "They type away on the keyboards intently." Does the player mean examining ComputerStudents when the player is in MathComputerArea: it is very likely. The printed name of ComputerStudents is "computer students".		

MathThirdFloor is up from MathSecondFloor. "You can see classrooms clustered around the square hallway, with a view of the math library lobby in the middle. In the corner you can see a pamphlet display. Room 314 is to the [bold type]south[roman type] and a lounge lies to the [bold type]north[roman type]. [Third Floor Shenanigans]".
 The printed name of MathThirdFloor is "Third Floor".

MathLounge is north of MathThirdFloor. "There are several sofa chairs here that remind you of the dorms, with a fridge on one side. There are currently no students here.".
The printed name of MathLounge is "Lounge".

MathLoungeChairs are scenery in MathLounge. The description of MathLoungeChairs is "The chairs are large and comfortable. Perfect for a nap!" Understand "chair" or "sofa chairs" or "sofa" or "chairs" as MathLoungeChairs. The printed name of MathLoungeChairs is "the lounge sofa chairs". 

MathLoungeFridge is a closed scenery container in MathLounge. The description of MathLoungeFridge is "The fridge is an older model, but at least it's running." Instead of opening MathLoungeFridge: say "There's nothing too appetizing in here." Understand "fridge" or "refridgerator" as MathLoungeFridge. Does the player mean examining MathLoungeFridge: it is very likely. Does the player mean opening MathLoungeFridge: it is very likely. The printed name of MathLoungeFridge is "the lounge fridge". 

MathRoom314 is south of MathThirdFloor. "It is the main classroom of Altgeld. A class is currently being taught here.".
The printed name of MathRoom314 is "Room 314".

To say Third Floor Shenanigans:
	if MathRoom314 is unvisited and timeInThirdFloor is 0:
		say "There is a lot of noise coming from 314.";
		stop the action;
	if Mathlounge is unvisited:
		say "The smell of stale coffee drifts through the floor. It's probably coming from the lounge.";
		stop the action.

timeInThirdFloor is a number that varies. timeInThirdFloor is 0.

Every turn when player is in MathThirdFloor or player is in MathLounge:
	increase timeInThirdFloor by 1.

Every turn when timeInThirdFloor is at least 10 and player is in MathThirdFloor:
	say "Suddenly there is an avalanche of students coming out of their classrooms. You try not to get swept up with the crowd. It is hard, but you manage.";
	now timeInThirdFloor is 0.


Instead of going inside when player is in MathSecondFloor:
	try going south;
	stop the action.

Instead of going nowhere when player is in AltgeldHallInterior:
	say "You try to go that way but walk into a wall due to the structure of the room.".

Instead of going nowhere when player is in Math Library Lobby:
	say "You are, once again, face to face with a wall.".

Instead of going nowhere when player is in MathFirstFloor:
	say "There seems to be a hallway going that direction, but you have no idea where it actually will come out, so you decide not to try it. The only thing down here with any point is the vending machine.".

Instead of going nowhere when player is in MathSecondFloor:
	say "The winding hallways of the second floor confuse you and you walk into a wall."

Instead of going nowhere when player is in MathStacks:
	say "You walk into a bookshelf. Ouch!".

Instead of going nowhere when player is in MathComputerArea:
	say "You stumble over a chair and almost crush a computer. Careful, or you'll have to pay for it.".

ATGVendingMachine001 is an open container in MathFirstFloor. ATGVendingMachine001 is undescribed. ATGVendingMachine001 is scenery. The description of ATGVendingMachine001 is "It looks quite old and some of the paint is peeling off. From the machine, you can BUY Cola, Diet Coke, Cherry Coke, Sprite, Lemonade, and Water."
Understand "machine" and "drink machine" and "vending machine" as ATGVendingMachine001.
The printed name of ATGVendingMachine001 is "Altgeld Vending Machine".

Instead of buying a VendingSoda when the player is in MathFirstFloor:
	if the player has the noun:
		say "You already have that drink!";
		stop the action;
	continue the action.

VendingSoda is a kind of ware. VendingSoda is drinkable. The price of VendingSoda is $1.00.

Cola is a VendingSoda. Cola is in ATGVendingMachine001. Cola is undescribed.

Sprite is a VendingSoda. Sprite is in ATGVendingMachine001. Sprite is undescribed.

Diet Coke is an undescribed VendingSoda in ATGVendingMachine001.

Cherry Coke is an undescribed VendingSoda in ATGVendingMachine001.

Water is an undescribed VendingSoda in ATGVendingMachine001.

Lemonade is an undescribed VendingSoda in ATGVendingMachine001.

The description of Cola is "A generic carbonated beverage."

The description of Sprite is "A carbonated beverage with a nice twist of lemon and lime."

The description of Diet Coke is "A carbonated beverage that tricks you into thinking you're drinking something healthy."

The description of Cherry Coke is "The generic soda we all known, but with a hint of cherry flavor."

The description of Water is "A necessary component for life, truly the ultimate beverage."

The description of Lemonade is "A sour but sweet beverage that harnesses the power of citrus."The description of Cola is "A generic carbonated beverage."

The description of Sprite is "A carbonated beverage with a nice twist of lemon and lime."

The description of Diet Coke is "A carbonated beverage that tricks you into thinking you're drinking something healthy."

The description of Cherry Coke is "The generic soda we all known, but with a hint of cherry flavor."

The description of Water is "A necessary component for life, truly the ultimate beverage."

The description of Lemonade is "A sour but sweet beverage that harnesses the power of citrus."

Pamphlet display is a fixed in place supporter in MathThirdFloor. Understand "display" as pamphlet display. The description of pamphlet display is "[pamphlet display description]".

MathClassrooms are scenery in MathThirdFloor. The description of MathClassrooms is "You poke around and look at the different classrooms, but nothing comes of it." Understand "class" or "classes" or "classroom" or "classrooms" as MathClassrooms. Does the player mean examining MathClassrooms when the player is in MathThirdFloor: it is very likely. 
	
To say pamphlet display description:
	Let L be the list of things on pamphlet display;
	if the number of entries in L is greater than 0:
		say "It is a sort of shelf on which are various pamphlets and forms, including [list of things on pamphlet display].";
	otherwise:
		say "It is a sort of shelf on which are various pamphlets and forms."


A thing is either origamiable or unorigamiable. A thing is usually unorigamiable.

Minor Declaration form is an origamiable, undescribed thing on pamphlet display.
Event calendar is an origamiable, undescribed thing on pamphlet display.
 MATRIXsign is an origamiable, undescribed thing on pamphlet display.
Understand "Matrix" and "sign" as MATRIXsign.
The printed name of Matrixsign is "Matrix Sign"

[This Matrix sign is not used anywhere in the game. I left it in in case someone wants to do something with it.]

The description of Minor Declaration form is "It is a form for declaring a minor.".
The description of Event calendar is "Not much is happening this month.".
The description of MATRIXsign is "It is just a piece of paper with the word MATRIX printed on it.".

MathComputerTable is a scenery supporter in MathComputerArea. Understand "table" or "tables" as MathComputerTable. Does the player mean examining MathComputerTable when the player is in MathComputerArea: it is very likely. The description of MathComputerTable is "It's a long narrow, dirty looking table with computers on top." The printed name of MathComputerTable is "the computer table".

MathDesktop is a switched on device on MathComputerTable. MathDesktop is scenery. The description of MathDesktop is "It is a new computer with a flat screen monitor, yet it is not quite as new as the computers in the engineering side of campus. It suits your purposes quite well for the most part.".
Understand "computer" and "desktop computer" as Mathdesktop. Does the player mean examining MathDesktop when the player is in MathComputerArea: it is very likely. 
The printed name of Mathdesktop is "desktop computer".

Instead of switching off MathDesktop for the first time:
	say "You press the black and red 'LOGOFF' button on the computer. A popup appears asking if you're sure you want to turn it off.";
	continue the action.

Instead of switching off MathDesktop when MathDesktop is switched on:
	say "The computer briefly shows a blue screen with a loading circle before shutting off.";
	continue the action.

Instead of switching on MathDesktop when MathDesktop is switched off:
	say "You wait for several minutes as the computer boots up. Finally, you are greeted with the familiar image of Altgeld Hall on the screen, and you log in.";
	continue the action.

Suspicious donut is a thing on MathComputerTable. "[if MathComputerArea is unvisited]You are not sure why there is a half-eaten donut here, especially considering that food is not allowed in the library.[else]The disgusting donut is still here.". The description of Suspicious donut is "The donut has strawberry frosting and sprinkles, but it is on the sticky, disgusting table.". The printed name of Suspicious donut is "the donut".

Instead of eating Suspicious donut:
	say "A putrid smell overwhelms you as you bring the donut near your mouth, and you cannot bring yourself to eat it. You put down the donut, but now your hand is sticky. Ew.";
	stop the action.

Understand "donut" and "disgusting donut" and "doughnut" and "suspicious doughnut" and "disgusting doughnut" as suspicious donut.

MathFridge is a closed openable container in MathLounge. MathFridge is scenery. The description of Fridge is "You hear your stomach growl. Surely no one will notice one food item is missing, right?".
 Understand "fridge" and "refrigerator" as MathFridge.
 The printed name of MathFridge is "fridge".

Cheese sandwich is an edible thing in Fridge. The description of cheese sandwich is "It doesn't look stale yet, and, more importantly, it doesn't have a name on it.".

Instead of eating cheese sandwich:
	say "You are sure the sandwich would have tasted better if it was warm, but you make do with what you have.";
	now cheese sandwich is nowhere.

Understand "sandwich" as cheese sandwich.

HenryAdminstudent is an undescribed person in MathComputerArea. Understand "students" and "student" as HenryAdminstudent when player is in MathComputerArea. 
The description of HenryAdminstudent is "A student is sitting at one of the old wooden tables, nose-deep in a book, with a notebook open beside them. You cannot understand what the book says, but you assume it is math related. They have headphones on, signaling they do not want to talk to you."

Instead of giving something to HenryAdminstudent:
	say "The student is not interested in what you have to offer.";
	stop the action.

Instead of talking to HenryAdminstudent:
	say "They cannot hear you.";
	stop the action.

Instead of asking HenryAdminstudent about something:
	try talking to HenryAdminstudent;
	stop the action.

Instead of attacking HenryAdminstudent:
	say "It would do you no good to cause a ruckus in the library.";
	stop the action.

access is a truth state that varies. access is false.

YoungLibrarian is an person in math library lobby. The description of YoungLibrarian is "The librarian is doing something on the computer. You cannot see what as the screen is facing away from you. The librarian is wearing [list of things worn by YoungLibrarian]."
Understand "librarian" as YoungLibrarian.
The printed name of YoungLibrarian is "young librarian".
Understand "librarian" and "young librarian" as YoungLibrarian. 

loose black sweater is a wearable thing. YoungLibrarian is wearing loose black sweater.
blue jeans is a wearable thing. YoungLibrarian is wearing blue jeans.
square glasses is a wearable thing. YoungLibrarian is wearing square glasses.
white vans is a wearable thing. YoungLibrarian is wearing white vans. The description of white vans is "Darn, Daniel!"

Instead of going south when player is in math library lobby:
	if access is false:
		say "You need to give the librarian your iCard so she can check you in.";
		stop the action;
	else:
		now player is in Mathstacks.


Instead of giving something to YoungLibrarian:
	if the noun is iCard:
		say "She runs your iCard through the computer. You may now enter the stacks.";
		now access is true;
	else:
		say "The librarian gives you a confused look. She does not know why you are giving [the noun] to her.";
		stop the action.

Instead of talking to YoungLibrarian:
	say "While she would love to talk to you, the librarian has work to do.";
	stop the action.

Instead of asking YoungLibrarian about something:
	say "She is busy right now.";
	stop the action.

Instead of attacking YoungLibrarian:
	say "Why the heck would you want to attack an innocent librarian?";
	stop the action.

[StackSquirrel has been declared in the Squirrel section ]

Every turn when player is in AltgeldMap and a random chance of 1 in 100 succeeds:
	choose a random row in the Table of AltgeldRandomEvents;
	say "[event entry]".

Table of AltgeldRandomEvents
event
"You hear a particularly strong gust of wind shaking the trees outside."
"The lights flicker ominously."
"You hear a heavy book fall in the distance."

Instead of interrogating YoungLibrarian about an item listed in the Table of AltgeldQuestions:
	say "[reply entry][paragraph break]".

Table of AltgeldQuestions
Item	reply
stackssquirrel	"She doesn't have any problem with the squirrel being here, unless it starts damaging the books."
computer	"If there's a problem with it, I can't help you. That's not in my job description.'"



PART 6 - ILLINI UNION

FellSpirits is a backdrop. FellSpirits is in InsideUnion.
Understand "spirit" and "spirits" as FellSpirits.
The description of FellSpirits is "They are all around us. You just can't see them most of the time."

IlliniUnionSouth is a RoomProxy in Anniversary Plaza.
Understand "Illinis Union" and "Student Union" and "Union" and "Illinis Union South" as IlliniUnionSouth.
The printed name of IlliniUnionSouth is "Illini Union South".
The description of IlliniUnionSouth is "The Illini Union is an impressive building that lies at the north end of the Main Quad looking out over that grassy expanse." 

Illini Union South is an Interior Location. "You are standing at the heart of the University of Illinois campus. There are restaurants, shops, a hotel, conference rooms, a bowling alley, a banquet hall, and a bank. This is a good spot to take a break. Adventures may sometimes occur in here too. You can [bold type]exit[roman type] back to the Anniversary Plaza, or go [bold type]north [roman type]or [bold type]east[roman type] to explore the Union." 
The printed name of Illini Union South is "Illini Student Union South".

Illini Union South is south of UnionElevators and inside from Anniversary Plaza.

Firefighter is a person in Illini Union South. "[if JambaOpen is false]An axe-wielding firefighter is standing outside Jamba Juice. He looks ready to break the door down. The really weird thing about this is that the Jamba Juice went out of business a year ago, and Auntie Ann's Pretzels opened in this place instead. You just had a pretzel there yesterday.[else]The firefighter has made his way into the abandoned Jamba Juice and is now sitting in a chair, resting his feet on one of the tables."
The description of firefighter is "He's a large man in a durable but well-used firesuit. Maybe you should talk to him."

Jamba Juice is a enterable container in Illini Union South. "[if JambaOpen is false]The Jamba Juice door is in the hallway, but it looks closed.[else]The Jamba Juice door has been forced open. You can go in there now."
Jamba Juice is fixed in place.
The description of Jamba Juice is "It doesn't look like anyone's inside.[if JambaOpen is true] Except for the strange firefighter, of course."

Auntie Ann's Prezels is an enterable container. "Auntie Ann's Pretzels is here and open for business. What happened to Jamba Juice?" 
Jamba Juice is fixed in place.
The description of Auntie Ann's Pretzels is "It looks exactly like it did yesterday. People are walking in and out of it as if Jamba Juice wasn't mysteriously there, and on fire and disappeared."

Instead of entering Auntie Ann's Pretzels:
	say "You've lost your appetite for Pretzels suddenly. You decide to seek food elsewhere.";
	stop the action.

Instead of entering Jamba Juice when JambaOpen is false:
	say "You can't get into Jamba Juice right now. It's closed."
	
JambaOpen is a truth state variable.
JambaOpen is false.

Understand "fireman" as firefighter.

Instead of talking to FireFighter for the first time:
	say "He hushes you. 'Not out here.' Gripping his axe tightly, he breaks down the door to Jamba Juice and charges in. You hear a terrible screeching noise followed by yelling. After some time, the firefighter calls out to you and says it's ok to enter the Jamba Juice.";
	now FireFighter is in Jamba Juice;
	now JambaOpen is true.

Instead of talking to Firefighter:
	if FFFollowing is true:
		say "'This is no time for talk!' he bellows. 'There are fires to fight!'";
		stop the action;
	say "The firefighter turns to you. 'Have you committed any arson recently?' he says.";
	if player consents:
		say "He glares at you. 'Arson's no joke!' He pulls out a burnt picture of his family and a single tear rolls down his cheek. You can keep talking to him if you want. [italic type]Until you say goodbye to him, you can chat with him conversationally. You might want to, to get to the bottom of the mystery. Otherwise, best to just say goodbye.[roman type]";
	else:
		say "'That's good,' he says. He grips the edge of a burnt picture of his family. You can keep talking to him if you want. [italic type]Until you say goodbye to him, you can chat with him conversationally. You might want to, to get to the bottom of the mystery. Otherwise, best to just say goodbye.[roman type]";
	now FireTalk is true.
	
FFFollowing is a truth state variable.
FFFollowing is false.

Every turn when FFFollowing is true:
	now Firefighter is in location;
	say "[one of]'We'll beat that fire yet,' the firefighter says as he shuffles into place besides you.[or]'Where's that fire at?' asks the firefighter.[or]'My family...would be proud,' says the firefighter.[or]'I'd better sharpen my axe!' says the firefighter, who is standing a little too close for comfort.[at random]".

FireTalk is a truth state variable.
FireTalk is false.

Table of FiremanResponses
FireQuestion (topic)	reply
"weird/strange/black mirror"	"What's weird are your questions. What's your problem?"
"missing"	"Stuff disappears all the time, you know."	
"arson"	"'Arson is a crime, you know.'"
"Auntie Ann"	"I had an Auntie Ann once. She died in a fire."
"pretzel/pretzels"	"I eat my pretzels with mustard. Wish they sold them around here."
"time"	"Time's a relative thing, you know?"
"mystery"	"The only mystery around here is why you're asking me so many questions!"	
"Jamba Juice"	"'I heard this Jamba Juice was harboring known arsonists!' He glances around the empty room. 'Also, I was really thristy.'"
"Juice"	"[FFJuiceQuestion]"
"family/kids/kid/wife/husband"	"[FFFamilyQuestion]"
"picture/photo/photograph"	"'This picture represents something important to me.' He fails to elaborate."
"fires"	"'Fires are a serious problem.' He breaks into a broad grin. 'But they're a problem I am equipped to handle!'"
"fire"	"[FFFireQuestion]"
"axe/fireaxe"	"'My axe? Why, it's my most trustworthy companion in the endless battle against fire!'"
"how are"	"'I'm good.'"
"hi/hello/hey"	"'Hey, kid. How's life?'"
"good/amazing/wonderful"	"'Great!'"
"bad/terrible"	"'Sorry to hear it.'"
"McDonalds/McDonald's"	"[FFMcDonalds]"
"firesuit"	"'Pretty cool, huh? Keeps me cool, anyway.'"
"firefighting"	"'Firefighting is a valuable service to mankind.'"
"yes/yeah"	"'Yeah! I like the positivity.'"
"no/nah"	"'No?' He frowns. 'Guess not.'"
"arsonist/arsonists"	"He spits. 'Devils, all of them. I'll never rest until I've stopped every last arsonist out there.'"


FFMcDonalds is a text variable.
To say FFMcDonalds:
	say "'What's that, kid? The McDonald's is on fire";
	if McDonaldsOnFire is true:
		say "? That's terrible. Well, don't worry! Just take me there!' The firefighter gets up and grabs his axe. You'd better get him over to McDonald's, fast! ";
		now FFFollowing is true;
		now FireTalk is false;
	else:
		say "? I find that hard to believe.' "

FFFireQuestion is a text variable.
To say FFFireQuestion:
	if McDonaldsOnFire is true:
		say "'You know where a fire might be?'";
		if player consents:
			say "'All right then! I'll follow you now, wherever your course may lead you!' The firefighter gets up and grabs his axe. You'd better get him over to the McDonald's, fast! ";
			now FFFollowing is true;
			now FireTalk is false;
		else:
			say "'False alarm, then.' He looks...sad. ";
	else:
		say "'Yes, fire. The one true enemy.' "

FFJuiceQuestion is a text variable.
To say FFJuiceQuestion:
	say "'Ah, you know about juice?'";
	if player consents:
		say "'I love juice!' He glances away sadly. 'So did my family.' ";
	else:
		say "'Juice is a useful firefighting tool!' ".
		
FFFamilyQuestion is a text variable.
To say FFFamilyQuestion:
	say "He clutches the picture to his chest. 'My family?' ";
	while player consents:
		say "[one of]'My family?' His lip quivers.[or]'My family?' His hands begin to shake.[or]'My family?' Tears flow down his face.[or]'My family!?' he howls to the heavens.[stopping]";
		increase FireSadness by 1;
		if FireSadness is greater than 3:
			say "He grabs his axe and weeps. He runs crying out of the Union.";
			now Firefighter is nowhere;
			now firetalk is false;
			now player is in Illini Union South;
			now Jamba Juice is nowhere;
			now Auntie Ann's pretzels is in Illini Union South;
			stop the action;
	say "'That's right. I don't want to talk about it.' "
		
FireSadness is a number variable.
FireSadness is 0.

After reading a command when FireTalk is true:
	remove stray punctuation;
	repeat through Table of FiremanResponses:
		if player's command includes FireQuestion entry:
			say "[reply entry][paragraph break]";
			stop the action;
	if player's command includes "Goodbye/bye/farewell/later":
		say "You say your goodbyes to the firefighter. You walk out of Jamba Juice, but when you turn around, you have to blink, because Auntie Ann's Pretzels is here.";
		now FireTalk is false;
		now player is in Illini Union South;
		now Jamba Juice is nowhere;
		now Firefighter is nowhere; 
		now player has TragicKeepsake;
		now Auntie Ann's Pretzels is in Illini Union South;
		stop the action;
	else:
		say "The firefighter stares at you quizzically.";
		stop the action.
		
TragicKeepsake is a thing carried by Firefighter.
The printed name of TragicKeepsake is "a burnt photo of (presumably) someone's family".
The description of TragicKeepsake is "A symbol of the hardships of life, this badly burnt photograph is proof of tragedy and the costs of heroism. Now that you are looking at it more closely, you can see that there is a stock photo watermark on it. You are creeped out by this and feel like you'd like to get rid of this thing, now!"
Understand "photo" and "photograph" and "family picture" and "family photo" and "burnt photo" as TragicKeepsake.

Instead of burning TragicKeepsake:
	try dropping TragicKeepsake.

Instead of dropping TragicKeepsake:
	say "When you let go of the burnt photo, it bursts into flames and disappears. You are left with a strange sense of longing for something you never had.";
	if player is in jamba juice:
		now player is in Illini Union South;
	now Jamba Juice is nowhere;
	now Auntie Ann's Pretzels is in Illini Union South;
	now TragicKeepsake is nowhere.

Union Basement is down from the UnionElevators. "[if unvisited]As you descend down the steps you miss a step and almost come tumbling down. You really hope nobody saw that...[end if]To the [bold type]north[roman type] you can see what looks like a busy Food Court where you can hopefully get a bite to eat. You can also go [bold type]east[roman type] into the Rec-Room where many activities and adventures await. There's a nearby table with a powered laptop on it."

Instead of going nowhere when player is in the Union Basement:
	say "You fumble over the tables and chairs and realize you're on a fast track to nowhere."

IlliniUnionBank is east of the Illini Union South. "The bank is closed; only the adjacent ATMs are accessible. You can [bold type]Insert[roman type] your iCard into the ATM to withdraw some cash. The exit is to the [bold type]west[roman type]."
The printed name of IlliniUnionBank is "Illini Union Bank".

ATM is a scenery container in IlliniUnionBank. 
The description of ATM is "Put your card in, get some money out." 
[interesting bug -- the author wrote 'the description of animal is' and changed the description of every animal in the game -- haha, that's an awesome! ]

Instead of inserting something into ATM: 
	if the noun is icard:
		if the price of your available cash is less than $30.00:
			say "Being short on cash, you decide to withdraw $20.00.";
			increase the price of your available cash by $20.00;
		else:
			say "You've got enough cash; you don't want to get mugged.";
		stop the action;
	else:
		say "That won't fit into the ATM."

UnionElevators is west of Illini Union North. "You are standing beside a stairway and a set of elevators. You can go [bold type]south, east,[roman type] or [bold type]down [roman type]from here."
The printed name of UnionElevators is "Union Hotel Elevators".

ActualElevators are scenery enterable containers in UnionElevators. 
The description of ActualElevators is "They don't seem to be working at the moment."


IlliniUnionNorth is a roomProxy.
IlliniUnionNorth is in Circle Drive.
Understand "Illini Union" and "Union" and "Illini Union North" as IlliniUnionNorth.

Illini Union North is inside from Circle Drive. "You are on the north end of the Illinois Union. Students are sitting are sitting all around looking busy on their laptops. There is a fish tank in the middle of the room, giving out soothing vibes. A Help Desk sits near the exit. The Help Desk receptionist looks pretty busy. You can [bold type]exit[roman type] to Green Street, go [bold type]south [roman type]to the Courtyard Cafe[roman type] or [bold type]west[roman type] towards the elevators." Circle Drive is outside from Illini Union North.
The printed name of Illini Union North is "Illini Union North Lounge".

UnionHelpDesk is a scenery supporter in Illini Union North.
The description of UnionHelpDesk is "You have to give it to the crazed receptionist, this desk is very neat."

HelpDeskReceptionist is a scenery person in Illini Union North.
The description of HelpDeskReceptionist is "They are answering three emails on three different devices and have two phone calls going as well."
The printed name of HelpDeskReceptionist is "Help Desk Receptionist".
Understand "receptionist" and "helper" as HelpDeskReceptionist. 


Instead of going nowhere when player is in Illini Union North:
	say "The Union is a big place, and most of it remains unexplored by the casual student or visitor." 

Courtyard Cafe is inside from Union Courtyard. "You are trying to find a seat in a huge room filled with talking, studying, coffee-drinking students. You even see professors in the mix. There is a stage here, but there's no entertainment for the moment. The line at the cafe counter is so long that it stretches across the room. Too bad. You'll have to find coffee elsewhere. You can go [bold type]north, south, [roman type]or [bold type]out[roman type] of the Union from here."

Illini Union North is north of Courtyard Cafe.
Illini Union South is south of Courtyard Cafe. 

a fish tank is a photogenic and scavengerhuntable scenery container in Illini Union North.
The description of Fish Tank is "Beautiful fish swim around happily. [if the golden fish is in the Fish Tank]There is a golden fish doing laps in the water."

Golden Fish is a scenery thing in Fish Tank.
Instead of examining the Golden Fish:
	say "You take a closer look at the golden fish. The marbel it is playing with pulses with a golden hue. As you press your face against the glass of the tank, the golden fish notices you and stares into your eyes. Your eyes ache a bit and your head feels somewhat heavier. The golden fish is gone.";
	now the Golden Fish is nowhere;
	now the right hand status line is "Next stop".

Instead of going nowhere when player is in Illini Union North:
	say "You can go [bold type]out[roman type] of the Union from either the north or the south end of the building.";
	stop the action.


Souls is a number variable. Souls is 0.

Instead of Praying when player is in UnionMap and PandoraWrapped is Incompleted:
	if souls < 10:
		Repeat with R running through rooms in UnionMap:
			say "You are missing [if the number of EscapedSpirits in R is not 0][a list of EscapedSpirits in R] in [R].[line break][else]nothing in [R].";
		stop the action;
	else:
		say "You take a moment to pray to your chosen deity."


instead of banishing:
	if player is not holding White Book:
		say "I only understood as you trying to BANISH something. Stop trying to cheat." instead;
		stop the action;
	else:
		say "You open the book and recite the chosen prayer. The Evil Spirit is defeated!";
		now noun is nowhere;
		increase souls by 1.

Every turn when souls > 7 and EndTheJourney is false:
	say "[line break]Pandora appears in front of you for one last time, carrying her closed box under her arm. She takes her white book from you. Then she squeezes your nose and makes a beeping sound before disappearing. Yes, that's all the thanks you're going to get.";
	now Pandora is nowhere;
	now white book is nowhere;
	now ornate silver box is nowhere;
	now souls is 0;
	now PandoraWrapped is completed;
	now CurrentEnding is PandoraWrapped;
	End the Journey.

Understand "bowl" as bowling.
Understand "roll ball" as bowling.
Bowling is an action applying to nothing. Understand "play bowling" as Bowling.
Check Bowling:
	if Bowling Alley is not visible:
		say "I don't think you can bowl without an alley.";
		stop the action.
Carry out Bowling:
	say "You bowl a strike!"


 Instead of talking to Rec-Room Employee:
	say "He's not the type for idle chit-chat. Perhaps if you asked him ABOUT something.";
	stop the action.

Instead of attacking Rec-Room Employee:
	say "The Rec-Room Employee evades your lame attack, and asks to see your iCard. 'Sir you need to leave right now. I'll be giving your iCard to Campus Security.";
	Now Player is in Union Basement;
	now iCard is nowhere;
	stop the action.

Instead of attacking Pandora:
	say "You realize you messed with something you shouldn't have.[paragraph break]She scoffs. 'You really are as dumb as you look.'[paragraph break]She quickly moves towards you, and with one quick movement she slams you into the floor, rending you unconscious. You open your eyes hours later, and see nothing but darkness.[paragraph break] You hear a voice; 'Enjoy living the rest of your life in my box, I hope you learned not to mess with a God.'";
	now Pandora is nowhere;
	now white book is nowhere;
	now ornate silver box is nowhere;
	now souls is 0;
	now PandoraWrapped is completed;
	now CurrentEnding is PandoraWrapped;
	End the Journey.



Sickness is a truth state variable. Sickness is false.
DeathMeter is a number variable. DeathMeter is 0.
Every Turn when Sickness is true:
	say "You feel yourself getting weaker.";
	Increase DeathMeter by 1;
	if DeathMeter is greater than 7:
		say "[paragraph break]You suddenly feel it necessary to lie down in the middle of the room. this is a nap you won't be waking up from.[roman type]";
		now sickness is false;
		now DeathMeter is 0;
		now PoisonedByLeftovers is completed;
		now CurrentEnding is PoisonedByLeftovers;
		End the Journey.

Instead of taking an EscapedSpirit:
	if a noun is good:
		say "You temporarily absorb the spirit into yourself.";
		now player has noun;
		stop the action;
	if a noun is evil:
		say "You hesitate, and decide not to take the evil thing into yourself.";
		stop the action.


Instead of philosophizing:
	if Player is in RRFrontDesk:
		say "You think long and hard about whether you should be spending any money right now.";
	else:
		continue the action.

Nearby-Table is supporter in Union Basement.
Nearby-Table is scenery.
Description of Nearby-Table is "There's stuff on here."
Instead of taking Nearby-Table:
	say "You can't just take a table."

Understand "table" as Nearby-Table.
the red laptop is device on Nearby-Table.
a Red Laptop is switched on.
a Red Laptop is scenery.

Instead of taking Red Laptop:
	say "You can't just take someone else property! What is this, some kind of game?"

[someone else's iCard is on Nearby-Table. "You notice an iCard sticking out from underneath the laptop."
The description of someone else's iCard is "All you need to know is that this isn't yours."
]
The description of Red Laptop is "[if switched on]Looks like somebody is trying to get some work done, but you don't see anyone around.[else]You did your part to save the environment today.[end if]"

[
Instead of taking someone else's iCard:
	say "You take the iCard...you're such an awful person.";
	now player has someone else's iCard;
	stop the action.
]

Instead of switching off Red Laptop:
	say "[if switched on] You safely navigate to the start menu and shut down the laptop.[else]The laptop is already off.[end if]";
	now laptop is switched off;
	stop the action.

Instead of switching on Red Laptop:
	say "[if switched on]The laptop is already on.[else]You regretted your decision to turn it off and scurry back to hit the power button.[end if]";
	now laptop is switched on;
	stop the action.

Understand "computer" and "PC" and "laptop" as Red Laptop.

[Understand "card" and "iCard" as someone else's iCard.]

Food Court is north of the Union Basement. "Your stomach begins to growl at you as you try and figure out whether you should eat out again for the 5th time this week. Tacos, sushi, pizza, burgers...one more time isn't going to hurt. Unfinished food is scattered throughout the food court, you begin to question how much dignity you have today as your mouth drools with anticipation."

Instead of going nowhere when player is in the Food Court:
	say "You fumble over the tables and chairs and realize you're on a fast track to nowhere. And it looks like you've stained your clothes with ketchup somehow."

some leftover food is edible thing in Food Court. "There's some leftover food here. Word of advice, don't eat the food."
Understand "food" and "leftovers" and "orders" as Leftover food.
The description of some leftover food is "It is remains of many different orders on several different tables."

Instead of eating the leftover food:
	if PoisonedByLeftovers is completed:
		say "You have a strange feeling of deja vu for a moment. You decide to pass on scarfing down other people's food.";
		stop the action;
	say "Your internal self-respect meter has reached 0. You are starting to feel sick already. Maybe you should find an employee and get some help.";
	Increase DeathMeter by 1;
	Now Sickness is True;
	now some leftover food is in Food Court;
	now some leftover food is undescribed.

Rec-Room Entrance is east of Union Basement. "From here you can hear the stompings of a duo by the nearby dance machine. Further [bold type]east[roman type] you can make out what seems to be the front desk. To the [bold type]south[roman type] you can walk towards the RR Pool Tables and see if anybody wants to play. You can also exit [bold type]west[roman type] to back to the Union Basement."

Instead of going nowhere when player is in Rec-Room Entrance:
	say "You walk towards the dance game but decide it's probably not best to bother the players."

Dance Machine is scenery in Rec-Room Entrance.
Players are scenery in Rec-Room Entrance.

Rec-RoomCouches are a scenery supporter in Rec-Room Entrance.
Understand "Couches" and "couches" as Rec-RoomCouches.

Description of Dance Machine is "Move Move Revolution? Sounds bootleg."
Understand "Machine" and "game" as Dance Machine.
Instead of taking Dance Machine:
	say "This is far too heavy to take by yourself."

Description of couches is "oh man...it looks wet...you don't wanna sit there."

Understand "Seat" and "Chair" and "Sofa" as Couches.
Instead of taking Couches:
	say "This isn't your property, you shouldn't steal."
Description of Players is "Don't bother them man."
Instead of taking Players:
	say "That's kidnapping.";
	stop the action.

RR Pool Tables is south of the Rec-Room Entrance. "[if unvisited]You walk into a room filled with pool tables. 'How am I supposed to play pool without pool balls,' you wonder, since the Rec-Room guy wouldn't give you any with an ID. There is a couple in the back corner of the room making out.[else]You are in the Pool Room again. [CoupleLeftText]"

Instead of going nowhere when player is in RR Pool Tables:
	say "You knock over the many pool sticks hanging on the wall. 'Maybe I should just go back from where I came.' "

Billiard Tables are scenery in RR Pool Tables.
Instead of taking Billiard Tables:
	say "You've always wanted pool tables, but not like this."



Understand "Tables" and "Pool Tables" and "Table" as Billiard Tables.
Description of Billiard Tables is "These are surprisingly not that scratched."

Young Couple are people and scenery in RR Pool Tables.
Understand "Couple" as Young Couple.
Description of Young Couple is "They're just staring deeply into each other's eyes, you wonder if they notice you."

CoupleLeft is a truth state variable.
CoupleLeft is false.

CoupleLeftText is a text variable.
To say CoupleLeftText:
	if CoupleLeft is false:
		say "The couple is still making out.".

Instead of taking Young Couple:
	say "You can't take them away from each other."
Instead of giving something to Young Couple:
	say "You haven't  felt this ignored since Christmas at your parents."
Instead of asking Young Couple about something:
	say "They really are trying their hardest to ignore you."
Instead of talking to Young Couple:
	say "They look over to you and you hear one speak. 'Darling, do you hear anything?'[Line Break] ...[Line break] ....[line break]'Must be the wind.'"
Instead of attacking Young Couple:
	say "You harass the young couple and they try to ignore you, but eventually they just get up and wander away.";
	Now Young Couple is nowhere;
	Now CoupleLeft is true;
	stop the action.

ornate silver box is an openable, closed container in RR Pool Tables. "There's a ornate silver box looking out of place in the corner of the room."
Description  of ornate silver box is "Ooooh shiny."
Understand "Lock box" and "lockbox", and "box" as ornate silver box.
Instead of opening lockbox for first time:
	say "The room lights up as spirits flow out of the box like a disco light show. You start to doubt the wisdom of your actions.";
	now lockbox is open;
	stop the action.

Hope is a good EscapedSpirit in ornate silver box.

Greed is an evil EscapedSpirit in ornate silver box.

Gluttony is an evil EscapedSpirit.
Description of Gluttony is "Looks good enough to eat."

Lust is an evil EscapedSpirit.
Description of Lust is "You've never met a sexier ghost."

Joy is a good EscapedSpirit.
Description of Joy is "It just wants you to be happy."

Laughter is a good EscapedSpirit.
Description of Laughter is "You can't help but to crack a smile."

Serendipity is a good EscapedSpirit.
Description of Serendipity is "It's pleasantly surprised you found it." 

Charity is a good EscapedSpirit.

Sloth is an evil EscapedSpirit.
Description of Sloth is "Just looks like a normal college student to me."

Pride is an evil EscapedSpirit.
Description of Pride is "It's so proud that it won't let you take him."

Pandora is a person.
Pandora is carrying a white book. The description of white book is "Titled: How to Remove Bad Spirits in 1 Easy Step."
Pandora is wearing a Purple Cloak. The description of the Purple Cloak is "+100 Int and +50 Style."
Understand "book" as white book.
Instead of examining Pandora:
	say "Mysterious Girl...you don't really know where she's from or how she got here. Maybe you could TALK TO her. ";
	if Pandora is unexamined:
		say  "She doesn't look happy with you. ";
		now Pandora is examined;
	if Pandora carries something:
		say "She is carrying [a list of things carried by Pandora]. ";
	if Pandora is wearing something:
		say "She is wearing [a list of things worn by Pandora]."

Instead of taking white book:
	if souls > 1:
		say "[one of]Pandora speaks to you 'Yes, with this you'll be able to absorb the rest of the spirits. Just recite the saying BANISH then the spirit name to send them back to where they came from.[or]While holding the book you can BANISH the evil spirits.'[stopping]";
		now player has the white book;
		stop the action;
	if souls is 1:
		say "Pandora speaks to you  'Bring me one more soul, and you may have the book as a reward.'";
		stop the action;
	if souls is 0:
		say "Pandora shakes her head. 'You may not have the book. You haven't given me back any of my spirits yet!'";
		stop the action.

Instead of taking Purple Cloak:
	say "Pandora laughs and says to you 'You're far too low level to equip this one."

Understand "Strange looking girl" and "Strange Girl" and "Girl" as Pandora.
Description of Greed is "You know you want to take it."
Description of Hope is "The only thing we have left."

Instead of Taking Hope for the first time:
	PandoraArrives in one turn from now;
	continue the action.

At the time when PandoraArrives:
	say "A strange looking girl walks up next to you and stares at you.";
	Move Pandora to RR Pool Tables;
	Move Gluttony to Food Court;
	Move Lust to RRFrontDesk;
	Move Joy to Rec-Room Entrance;
	Move Laughter to Union Basement;
	Move Serendipity to Illini Union South;
	Move Charity to Illini Union North;
	Move Sloth to Rec-RoomCouches;
	Move Pride to Bowling Alley.


Instead of giving something to Pandora:
	if the noun is Joy:
		say  "She quickly stuffs it into her robe 'I remember what it was like to feel Joy one day. Thank you for returning this to me.'";
		now Joy is nowhere;
		increase souls by 1;
		stop the action;
	if the noun is Hope:
		say  "She quickly stuffs it into her robe. 'Welcome back my old friend'.";
		now Hope is nowhere;
		increase souls by 1;
		stop the action;
	if the noun is Laughter:
		say  "She chuckles a bit as she slips the spirit into her pocket.";
		now Laughter is nowhere;
		increase souls by 1;
		stop the action;
	if the noun is Serendipity:
		say "Her eyes widen in amazement. 'You came back to me at just the right moment!'";
		now Serendipity is nowhere;
		increase souls by 1;
		stop the action;
	if the noun is Charity:
		say "'Okay, maybe I can be a little less critical,' she says, as she pockets the spirit.";
		now Charity is nowhere;
		increase souls by 1;
		stop the action;
	else:
		say "Pandora looks at you like you've lost your mind.'";
		stop the action.


Instead of interrogating Pandora about FellSpirits:
	say "[one of]Mysterious Girl says, 'You released ten spirits. Five are good, and five are evil and will be harder to deal with.[or]When in doubt, PRAY.[stopping]"

 Instead of interrogating Pandora about Lockbox:
	say "Mysterious Girl says, 'Yes that's my box, who taught you to open other people's things without permission? That's just rude you know.'"
 Instead of interrogating Pandora about Greed:
	say "Mysterious Girl says, 'We'll work on getting the more evil spirits back in the box later.'"
Instead of interrogating Pandora about Hope:
	say "Mysterious Girl says. 'He is my oldest and dearest friend. He's never left my side.'"

instead of interrogating Pandora about white book:
	try taking white book.

Instead of interrogating Pandora about something:
	say "Are you an idiot or something?"

Instead of examining Pandora:
	try talking to Pandora.

Instead of Talking to Pandora for the first time:
	say "She seriously looks pissed...she's gonna really let you have it. [paragraph break]'YOU ARE SUCH AN IDIOT. WHY DID YOU OPEN A WEIRD RANDOM SILVER BOX JUST LAYING THERE. DO YOU HAVE A BRAIN? Don't you realize you just let out hell in a box right now. Now all the spirits are loose and I'm going to have to do so much work to get them all.' [paragraph break]She seems to have more to say."

Instead of talking to Pandora for the second time:
	say "She seems to have calmed down a bit now. 'Anyway, my name is Pandora. You opened my box. Do you mind going around and collecting all the [bold type]spirits[roman type] for me so I can stuff them back in the box? Thanks. If you really need help finding them, you can try to PRAY, but that's sort of cheating.'"

Instead of talking to Pandora:
	say "Pandora suggests that you [bold type]pray[roman type]."

After going somewhere when Pandora is somewhere:
	if player is in UnionMap: 
		say "Pandora trails behind you.";
		now Pandora is in the location;
		continue the action.

Every turn when Pandora is in the location and souls < 2:
	if a random chance of 1 in 5 succeeds:
		choose a random row in the Table of Random UnionEvents;
		say "Pandora mumbles '[event entry]' [line break]".

Table of Random UnionEvents
event
"Why am I stuck here with this idiot..."
"I got out of bed for this?"
"Are they gonna make me wait here forever?"
"Why do you have to examine everything?"
"Maybe I shouldn't have just left my box out in the open.'"

RRFrontDesk is east of the Rec-Room Entrance. "[if unvisited]The employee at the front desk greets you 'Hello, welcome. Were you interested in bowling or pool today? I'll need your iCard to begin the process.' [end if]That employee is staring at you without expression. This part of the Rec Room is filled with the pool balls and bowling pins. You can't help but to wonder if you are still any good at bowling as you stare down the lanes."
The printed name of RRFrontDesk is "Rec-Room Front Desk".
UnionCounter is a supporter in RRFrontDesk.
UnionCounter is scenery.
The printed name of UnionCounter is "counter".
Understand "front desk" and "desk" as RRFrontDesk.

Instead of going nowhere when player is in RRFrontDesk:
	say "You walk towards a door and slam face first into it. 'Doesn't look like this is going to open'."

Rec-Room Employee is a male person in RRFrontDesk."'Hello, can I help you?'"
Understand "employee" as Rec-Room Employee.
Description of rec-room employee is "Is he a robot? He hasn't blinked since you got here."

Instead of giving something to rec-room employee:
	if the noun is antique icard:
		say  "'Thank you!  So did you want to play pool or maybe rent a game? ... Wait a minute. This isn't yours! Oh, you must be trying to turn it in! Thank you, I'll give it to the lost and found.'";
		now antique icard is nowhere;
		stop the action;
	if the noun is icard:
		say "The employee takes it and looks at it doubtfully. 'Looks kinda fake to me. Sorry!' They hand it back to you.";
		stop the action;
	else:
		say  "This is not an iCard... What are you trying to pull here?";
		stop the action.

bowlinglanes is scenery in RRFrontDesk. Understand "bowling" and "pool" and "bowling lanes" as bowling.
The description of bowlinglanes is "People seem to be having fun bowling and playing pool. Go ahead and BOWL if you want to give it a try."

medicine is scenery in RRFrontDesk.
Understand "pill" and "sickness" and "sick" and "leftovers" and "left over food" and "food" as medicine.

Instead of interrogating rec-room employee about medicine:
	say "The Rec-Room employee scurries under the counter and gives you a pill. [paragraph break]Employee says: 'Just take this, and you'll be fine. I'm guessing you ate the leftover food? You really shouldn't do that.' [paragraph break]You quickly scarf down the medicine and start to feel a lot better.";
	Now Sickness is False.

 Instead of interrogating rec-room employee about antique icard:
	say "Rec Room Employee says, 'Yes I need an iCard to process your account. Do you have one?'"

 Instead of interrogating rec-room employee about something:
	say "Rec Room Employee says, 'I was not trained for this.'"

Instead of interrogating rec-room employee about bowling:
	say "The employee shrugs. 'I can't really recommend it.'"

[ Instead of asking rec-room employee about "iCard":
	say "Rec Room Employee says, 'Yes I need an iCard to process your account. Do you have one?'"
 Instead of asking rec-room employee about "key":
	say "Rec Room Employee says, 'Someone just left that there, is it yours? You can go ahead and take it.'" ]

 Instead of asking rec-room employee about something:
	say "The Rec Room Employee checks his texts and mutters 'I was meant for something better than this.'"

Bowling Alley is a scenery supporter in RRFrontDesk.
Understand "bowling lane" and "bowling alley" and "lane" as Bowling Alley.
Description of Bowling Alley is "Go ahead, BOWL if you want."

Description of the UnionCounter is "This is where business happens!"
Understand "front desk" and "Desk"  as UnionCounter.


Bowled is a truth state variable.

Instead of bowling when Rec-Room Employee is in the location:
	if bowled is true:
		say "The Rec-Room Employee stands between you and the lanes, shaking his head. You shall not pass.";
		stop the action;
	else:
		say  "You struggle to pick up the ball and hold it between your legs as you slowly launch it down the alley. STRIKE! Yeah, you still got it![paragraph break]As you congratulate yourself, the employee comes over and confiscates the ball. No bowling without an iCard.";
		now bowled is true;
		stop the action.

[This is the start of Eduardo Quest stuff in the Rec-Room Entrance! Reformat this later as you please. Other quest stuff is located in the English Building.] 

Diamond is a thing in RRFrontDesk. "A diamond sparkles in the back near the desk, with an emblem of a ticket below." 

The description of Diamond is "A sparkling jewel of beauty. It's white and quite sizable. It would sell for a fine price, but it might belong to someone important."

Retro Voucher is a thing. 

The description of Retro Voucher is "This has an emblem of an 8-bit diamond on it. So retro! Maybe you'll be able to get that diamond from the counter with this." 

Instead of interrogating Rec-Room Employee about Diamond: 
	say "'Oh, we found that lying around after a huge fight broke out. We've then put it up as a grand prize from the arcade since no one could find who it belonged to, but no one has beaten it before.'"
	
Instead of interrogating Rec-Room Employee about Retro Voucher: 
	say "'Wow, you actually beat that?' He'd say, bewildered. 'You earned that diamond, if you want it anyways.'"
	
Instead of interrogating Rec-Room Employee about Eduardo: 
	say "'Who?' They'd tilt their head. 'I don't know who that is, unless you're talking about that business man. I think he was just trying to scam me into giving him it.'"

Instead of taking Diamond: 
	If the player has Retro Voucher: 
		say "'Here you go.' The employee says, handing the diamond down to you with two hands. It's a little heavier than expected, but nothing you can't handle. You give him the voucher in exchange. Hopefully you can get it back to it's rightful owner.";
		now the player has Diamond;
		now the Retro Voucher is nowhere; 
		stop the action; 
	else: 
		say "The Rec-Room Employee stops you. 'Sorry.' He'd say. 'You're gonna need a voucher for it by beating the arcade game.'";
		stop the action. 
	
Instead of buying Diamond: 
	If the player has Retro Voucher: 
		say "'Here you go.' The employee says, handing it down to you with two hands. It's a little heavier than expected, but nothing you can't handle. You give him the voucher in exchange. Hopefully you can get it back to it's rightful owner.";
		now the player has Diamond;
		now the Retro Voucher is nowhere; 
		stop the action; 
	else: 
		say "The employee shakes his head. 'You need a voucher to take the diamond. Not money.'"; 
		stop the action. 
		
Instead of giving Retro Voucher to Rec-Room Employee: 
	say "'Here you go.' The employee says, handing it down to you with two hands. It's a little heavier than expected, but nothing you can't handle. You give him the voucher in exchange. Hopefully you can get it back to it's rightful owner.";
	now the player has Diamond;
	now the Retro Voucher is nowhere; 
	stop the action; 
	
Arcade Machine is a thing in Rec-Room Entrance. "A machine titled 'Packed Man' lays in the arcade, the screen dimly lit."

The description of Arcade Machine is "It's 'Packed Man'! That's one of the best games you could ever play out there! You've ought to try it out, if you have the money. It will cost $1.00 each time to play it. Maybe you can score yourself a prize if you win..."

Understand "arcade cabinet" and "packed man" as Arcade Machine. 

Instead of taking Arcade Machine: 
	say "Uh, that's anchored to the ground. The Rec-Room Employee all the way at the desk stares at you like a small victorian child."; 
	stop the action. 

Instead of buying Arcade Machine: 
	say "You can't buy this, obviously! You're supposed to [italic type]play[roman type] it!"; 
	stop the action. 
	
Instead of playing Arcade Machine: 
	decrease the price of the available cash by $1.00; 
	If a random chance of 1 in 20 succeeds: 
		say "Through sheer skill and (mostly) luck, you've gotten the number one score and beat the game! Your name will go down on the scoreboards as a legendary player. What's more, the machine ejects a cool looking 8-Bit voucher with a diamond on it. So retro! You can definitely get that diamond from the counter now with that!"; 
		now the player has Retro Voucher; 
	else: 
		say "[one of]Barnacles! You've lost, and right at the end too! You can't let your game pride down like this. Finish what you've started! [or]Your efforts are unfortunately in vain, as you couldn't get past Mr. Ghost. Perhaps you can try again? [or]This game is brutal, and it was too much to handle. Maybe you can develop a strategy as you keep playing? [or]You've lost, but persistence wins the day, as they say. [or]Dang, you didn't get anywhere that time. The game's tough, but you're tougher. You won't stop that easily, right? [purely at random]" 

[End of Eduardo Quest stuff in the Rec-Room Basement.] 

PART 7 - HARKER HALL

Harker Hall is east of Anniversary Plaza and south of NaturalHistoryBuilding2024 and north of Noyes Lab.  "You are standing in a busy walkway that links the Quad to the [bold type]west[roman type] and Matthew Avenue on the Urbana side of campus to the [bold type] east[roman type]. The Natural History Building is to the [bold type]north[roman type]. You can [bold type]enter[roman type] Harker Hall from here."

HarkerHall is a RoomProxy in Harker Hall. 
Understand "Harker Hall" and "Harker" as HarkerHall.
The printed name of HarkerHall is "Harker Hall".
The description of HarkerHall is "Harker Hall is a lovely little building, and easy to overlook in the bustle of pedestrian traffic on the Quad. You can go[bold type] in [roman type]from here."

HarkerHallInterior is an interior location. "Harker Hall adventure under construction. You can [bold type]exit[roman type] back to Anniversary Plaza from here."
Understand "Harker Hall" as HarkerHallInterior.
The printed name of HarkerHallInterior is "Inside Harker Hall".

Harker Hall is outside from HarkerHallInterior.

Instead of exiting when player is in HarkerHallInterior:
	say "You exit the building.";
	now player is in Harker Hall.




PART 8 - NATURAL HISTORY BUILDING

NaturalHistoryBuilding2024 is north of Harker Hall and east of Union Courtyard and northeast of Anniversary Plaza.
"You stand outside the Natural History Building. A beautiful old building recently renovated with a Mammoth statue guarding its outdoor patio garden. The building used to house the Geology Department, and before that had a Natural History Museum inside. Your watch is vibrating on your wrist, indicating you are a time travel zone. You can [bold type]TRAVEL to 2015 [roman type] from here, or go [bold type]south [roman type]towards Harker Hall.".
The printed name of NaturalHistoryBuilding2024 is "Natural History Building".
[Needs an interior]

[

Unfinished Idea to add to NaturalhistoryBuilding2024. Create an Ice Age quest specific to time travel when standing by the mammoth. 
Possibly include:
	- Instead of campus squirrels there are Scrats 
	- Possible death ending (cold, eaten by a sabertooth tiger, tar pit, etc.)
	- Inability to travel back in time until you complete a quest (maybe have to find a real mammoth?)
	- Take picture of something you can only take here (make something "photogenic")

]

NHBExterior is a RoomProxy in NaturalHistoryBuilding2024. 
Understand "NHB" and "Natural History"and "History Building" and "Natural History Building" as NHBExterior. 
The printed name of NHBExterior is "Natural History Building".
The description of NHBExterior is "Redbrick with tall thin windows, it was designed by Nathan Ricker, an Illinois alumnus and the first architecture graduate in the United States."

Mammoth is a thing in NaturalHistoryBuilding2024. "Facing Noyes, the towering Mammoth seems frozen in a time not its own, its trunk and tusks raised to the sky in a silent bellow.". Mammoth is undescribed. Mammoth is scenery.
MastodonSign is a thing in NaturalHistoryBuilding2024. MastodonSign is undescribed. MastodonSign is scenery. Understand "Mastodon" as MastodonSign.
Instead of examining MastodonSign:
	If unexamined:
		say "You look up at the mastodon in awe but suddenly trip and totaly eat it. You face plant into a plaque in the ground you hadn't noticed before that says in rather angry lettering [line break]'Despite the superficial resemblance, mastodons were distinct from mammoths. Mastodon were shorter and stockier than mammoths with shorter, straighter tusks. Mastodons were wood browsers and their molars have pointed cones specially adapted for eating woody browse. Mammoths were grazers, their molars have flat surfaces for eating grass. What you see before you is obviously not a mastodon.'[line break]You blink and sit up groaning in pain, and when you look down you no longer see the sign. You scratch your head and look up at the mammoth which seems to smirk at your ignorant plight.";
		now mastodonsign is examined;
	else:
		say "You decide you won't make the mistake of calling the MAMMOTH a mastodon again. Your nose still hurts from impacting that phantom sign." 


NaturalHistoryBuilding2015 is a room. "You are standing in a narrow east-west corridor between chain-link fences blocking construction taking place on the Natural HIstory Building. A crush of students is approaching from the Quad, to the WEST. From where you are standing you can see a small gap in the chain link, revealing the a few bricks of the lovely but currently unsafe Natural History Building, The gap seems just wide enough for you to ENTER. You look at your watch. The year is 2015." 

The printed name of NaturalHistoryBuilding2015 is "Natural History Building."

Instead of going nowhere from NaturalHistoryBuilding2015:
	say "You feel a vibration at your wrist and and you glance down to see that the year is now 2024.";
	now player is in NaturalHistoryBuilding2024.

NaturalHistoryInterior2015 is inside from Natural History Building and above Sub-basement.
NaturalHistoryBuilding is a RoomProxy in Natural History Building.
Understand "Natural History Building" and "Natural History" as NaturalHistoryBuilding.
The printed name of NaturalHistoryBuilding is "Natural History Building".
The description of NaturalHistoryBuilding is "Redbrick with tall thin windows, it was designed by Nathan Ricker, an Illinois alumnus and the first architecture graduate in the United States." 

Crush of Students is scenery in Harker Hall. 
The description of Crush of Students is "Taking up the entire sidewalk, this massive group of students approaches with a booming roar of laughter and small talk."
Understand "students" and "crush" as Crush of Students.

[this is the way into the old Natural history building -- this will need to change when time travel is implemented]
Gap is a backdrop.
Gap is in Natural History Building and NaturalHistoryBuilding2024.
The description of Gap is "This gap in the chain link fence leads inside. It looks just big enough to [bold type]enter[roman type]."

Instead of entering Gap:
	now the player is in NaturalHistoryInterior2015.

NaturalHistoryInterior2015 is an interior location. "[if unvisited]You are standing in an empty building clearly under major reconstruction. Funny that it didn't look like that from the outside. You thought the renovations were complete. The former mayor, now the building manager, stands before you in a hardhat and sunglasses, smoking a pungent hand-rolled cigarette of some kind. 'You can't be in here,' he says. You're not welcome here. You can go [bold type]down[roman type] anyway, or go [bold type]out[roman type] of the building from here.[else]You are surrounded by construction materials. You are certain you are not supposed to be here. You can go [bold type]out[roman type] of the building from here, or go [bold type]down[roman type] the stairs. "

The printed name of NaturalHistoryInterior2015 is "Natural History Building Interior."

Heinz Von Foerster's Laboratory is east of Conference Room.  "You are standing in a meticulous office. You feel that every object here would have a place and name and function. Perhaps that is why the room is mostly empty. It feels like standing at the center of pure logic. There is a poster on the wall. There is a door to the [bold type]west[roman type].".
Conference Room is below Natural History Landing. "[if unvisited]You are in a wood-floored conference room. It smells clean, with a slight tang of what might be disinfectant or military funding. Hexagonal tables fill the space. Great ideas drift quietly through the air, swirling through one another in intellectual storm systems. A tiny bolt of lightning forks out of midair and strikes you, making your hair stand on end and causing you to question the relation between what you perceive and what really is here: the power of the observer. [paragraph break][end if]There are four doors and a spiral staircase leads up. To the [bold type]east[roman type]: 01 Heinz Von Foerster. To the [bold type]north[roman type]: 02 Herbert Brun. To the [bold type]south[roman type]: 03 Humberto Marturana. To the [bold type]west[roman type]: 04 Warren McCulloch. An old, bronze hourglass is resting on a dusty table in the corner.[paragraph break]There are two hippie students and one technocrat here.".
Herbert Brun's office is north of Conference Room. "[if unvisited]You enter an aroma of cigar smoke. [end if]There is a large desk. There is a gigantic pipe organ whose pipes run up into the ceiling.  There is a door to the [bold type]south[roman type].".

Humberto Marturana's office is south of Conference Room. "[if unvisited]This room is grey, cloudy, cerebral. Wires stretch across the walls. In the center of the room is a lab table with three jars filled with fluid, connected by Electrodes. In jar one is an eyeless frog; in jar two, the brain of the frog. In jar 3, you realize, hang the eyes of the frog. They are watching you.[else]You are back in the office with the disturbing jar of frog eyes. Although they are disconnected, they are both pointing at you. One of them slowly winks.[end if] The door is to the [bold type]north[roman type].".

FrogParts are scenery in Humberto Marturana's office.
The description of FrogParts is "These definitely tend towards the macabre."
Understand "eyes of the frog" and "frog eyes" and "eyes" and "brain of the frog" and "frog brain" and "brain" as FrogParts.


Warren McCulloch's office is west of Conference Room. "The room is square. On one wall is a chalkboard with a giant chart scrawled in different colors of chalk, different handwritings. You see words like 'Logic,' 'Linguistics,' and 'Structure and Function of Systems.'[paragraph break]You can return to the conference room by going [bold type]east[roman type]."

[
 NaturalHistoryElevator is west of Natural History Building.
NaturalHistoryElevator is an elevator. NaturalHistoryElevator is northwest of Conference Room. "You enter and the door closes on the [bold type]east[roman type] side. The Elevator has two buttons: 1969 and 2015.".
The printed name of NaturalHistoryElevator is "Natural History Building Elevator".
]

NaturalHistoryLanding is above Conference Room and below NaturalHistoryInterior2015.
The printed name of NaturalHistoryLanding is "Natural History Landing".
The description of NaturalHistoryLanding is "[if player is in PhoneBooth]You are inside the Tardis. There's nothing to see here or to do.[else]You are standing on a small landing. Beneath you, a spiral staircase leads [bold type]down[roman type] into a conference room. Next to you is what looks like a red British phone booth, with a sign that reads 'TARDIS out of order. Keep calm and carry on.' You can proceed [bold type]up [roman type]the staircase or go [bold type]south[roman type] from here."

PhoneBooth is a scenery vehicle in NaturalHistoryLanding. "This red phone booth is standard in England. It seems to be out of service."
Understand "phone booth" and "booth" and "phone" and "tardis" as PhoneBooth.
The printed name of PhoneBooth is "Phone Booth".

Instead of entering PhoneBooth:
	say "You enter the Tardis. Sadly, it is the same size on the inside as it looked from the outside.";
	now player is in PhoneBooth.
Instead of exiting from PhoneBooth:
	say "You exit the Tardis.";
	now player is in NaturalHistoryLanding.

Time Tunnel is south of NaturalHistoryLanding. "You walk through an old underground passageway of crumbling brick, with tree roots poking through the wall. A landing is to the [bold type]north[roman type]. To the [bold type]south[roman type] end is a doorway labeled 2015.".
[*****SUBBASEMENT]
Sub-Basement is a room.
Sub-Basement is south of the time tunnel. "You are standing at the base of a stairway, lit by an aging, flickering fluorescent bulb. The stairs of crumbling green tile lead [bold type]up[roman type]ward. To the [bold type]north[roman type] is a doorway with a sign nearby marked 1969."

YearSign is scenery in Sub-Basement.
The description of YearSign is "This sign is marked with the year 1969. It looks like it is from a different time entirely."
Understand "year sign" and "sign" as YearSign.
The printed name of YearSign is "Year Sign".

PipeOrgan is an untuned, unlearned instrument in Herbert Brun's office.
PipeOrgan is scenery.
Understand "organ" as PipeOrgan.
The printed name of PipeOrgan is "Pipe Organ".

Instead of examining PipeOrgan:
	say "It is a massive, stately, complex instrument."

Instead of playing PipeOrgan:
	if the PipeOrgan is unlearned:
		say "You remember Ligeti's Volumina, and the effect it had on you. You attempt to play it, almost getting it right.";
		now PipeOrgan is learned;
		stop the action;
	else:
		say "You play the first few bars of Volumina perfectly, but then stop when you remember whose office this is.";
		stop the action.

BrunDesk is a supporter in Herbert Brun's office.
BrunDesk is scenery.
Understand "Brun's desk" and "desk" and "Brun desk" and "Herbert Brun's desk" as BrunDesk.
The printed name of BrunDesk is "Brun's Desk".

ashtray is an open container on Brundesk.
ashtray is scenery. "A ceramic disk made for the purpose of collecting the ash off of cigarettes."

Instead of examining BrunDesk:
	say "Brun's desk, an ancient piece of furniture with a single closed drawer, is a legacy of disciplined debauchery. The ornamentation of the desk and, particularly, the scrap of paper scrawled with a cryptic aphorism, suggest somebody left before his work was finished. [BrunDeskContents]";
	stop the action.

To say BrunDeskContents:
	if smoldering cigar is on BrunDesk:
		say "A cigar is smoldering importantly in an ashtray. ";
	if compositions are on BrunDesk:
		say "There is an LP whose white cover says simply, 'Compositions. '";
	if green glass bottle is on BrunDesk:
		say "A bottle stands like a soldier. One who is on your side. ";
	say "[line break]".

Understand "LP" and "record" and "album" as Compositions.
Instead of examining Compositions:
	say "This is the most intriguing record sleeve you've held since the White Album. What music is this?".
Understand "snippets" and "snippet" and "tape" and "audio tape" and "snippets of audio tape" as tapes.
Instead of examining tapes:
	say "You hold the tape to your ear and hear an electronic [one of]bloop[or]bleep[or]blip[or]sine wave[or]square wave[or]noise[purely at random]. It's not really your thing.".

Understand "paper" as Aphorism.
Understand "scrap" as Aphorism.
Understand "scrap of paper" as Aphorism.

Aphorism is a readable thing on BrunDesk.
The description of Aphorism is "The paper seems illegible, unintelligible, but somehow intelligent. Do you dare read it?"
Understand "aphorisms" and "aphroism" as Aphorism.

Instead of reading Aphorism:
	say "I consider words innocent until proven guilty. Once they are proven guilty, however, I consider their meaning to be irredeemable. Thus words form the limits of personal freedom. While I may be free to express my thoughts in a free society, the words at my disposal may not be free at all. Ignorance of this fact is what turns the thoughts of free people into thoughts of slaves.";
	stop the action.

Instead of opening deskdrawer:
	if deskdrawer is closed:
		say "With difficulty, you yank the door open. [if pliers is in deskdrawer]A rusty pliers is all that it contains. [end if][line break]";
		now deskdrawer is open;
		now player has the pliers;
		stop the action.

Instead of Smoking smoldering cigar:
	say "You bring the aromatic cigar to your lips. What have we done? you wonder. All this science, technology, discovery, all eagerly applied to destruction. You inhale and the smoke of burning bodies invades your mouth. You see soldiers marching, smashing shop windows. You exhale and a mushroom cloud rises over Hiroshima. When you return to the room the cigar is just a column of ash. You carefully tip it into the ashtray.";
	now player has smoldering cigar;
	stop the action.

deskdrawer is a closed, openable container in Herbert Brun's office.
deskdrawer is scenery.
Understand "desk drawer" and "drawer" as deskdrawer.
The printed name of deskdrawer is "Brun's desk drawer".
pliers is a thing in deskdrawer.
The description of pliers is "A pair of pliers functions as a paperweight on top of more scraps of thought.".

ashtray is an open container on Brundesk.
ashtray is scenery.

green glass bottle is a closed, openable container on BrunDesk.
green glass bottle is undescribed.

single malt scotch is part of green glass bottle.
the description of scotch is "It looks amazing.".
understand "whiskey" as scotch.

Instead of examining green glass bottle:
	say "The bottle, sealed with a cap, is full of a single malt scotch you estimate has been aged at least 55 years. You are dying for a drink.";
	stop the action.

Instead of drinking bottle:
	say "I think it's a better idea to drink what's in the bottle.";
	stop the action.



Instead of opening green glass bottle:
	if pliers are in deskdrawer and drawer is closed:
		say "You aren't strong or desperate enough to open the bottle with your bare hands.";
		stop the action;
	else:
		say "With the pliers, the cap comes off and the succulent scotch fumes bring you almost to tears.";
		now green glass bottle is open;
		stop the action.

ScotchSpilled is a truth state variable.

Instead of drinking scotch:
	if pliers are in deskdrawer:
		say "You aren't strong or desperate enough to open the bottle with your bare hands.";
	else:
		if ScotchSpilled is false:
			say "You take a drink from the bottle. You are flooded with memories of fleeing Germany and playing piano to drunken American servicemen in a bar in Palestine. When you blink away the visions, the bottle slides from your hands and half the contents spill on to the floor. You quickly retrieve the bottle. Only a little bit left.";
			if frogloose is true:
				say "[paragraph break]The eyeless frog hops into the puddle of scotch, fires its tongue into the liquor, and stumble-hops clumsily away.";
			stop the action;
		else:
			say "You start to take a drink but decide to save the previous liquid for another time.";
			stop the action.

Laboratory table is a supporter.
Laboratory table is in Humberto Marturana's office.
Laboratory table is scenery.
The description of the Laboratory table is "The lab table is heavy, wooden, and scrawled with equations in mechanical pencil."
Jar 1 is a closed, openable container.
Jar 1 is on the Laboratory table.
Jar 1 is fixed in place. Understand "Jar one" as Jar 1.
The description of Jar 1 is "The eyeless frog revolves slowly in place. Is a frog with no brain a frog?"
Frogloose is a truth state variable. Frogloose is false.
Instead of opening Jar 1:
	say "The lid comes unscrewed, but before you lift it fully off the jar, the eyeless frog jumps out of the jar, off the table, and out of the lab, its eyes in the third jar watching it go.";
	now Frogloose is true.
Understand "Jar two" as Jar 2.
Jar 2 is a closed, openable container. Jar 2 is on the Lab table.
The description of Jar 2 is "The frog brain seems too small to be a brain, even a frog brain. What is it thinking?".
Jar 2 is fixed in place.
Instead of opening Jar 2:
	say "Gross. Don't do that.".
Understand "Jar three" as Jar 3.
Jar 3 is a closed, openable container on the Lab table.
The description of Jar 3 is "The frog eyes are not in sync, rotating at different speeds, but you know they see you. The frog kicks its legs when the slitted iris moves past you.".
Jar 3 is fixed in place.
Instead of opening Jar 3:
	say "You are not here to screw up Dr. Marturana's experiments, and you already have a pair of frog's eyes at home.".

eyeless frog is scenery in Humberto Marturana's office. The description of the frog is "Remarkably the frog gets along quite well, despite having no eyes or brain."

After deciding the scope of the player while the location of the player is in NaturalHistoryMap or the preacher is in the location:
	place the frog in scope.

Head poster is scenery in Heinz Von Foerster's Laboratory.


The description of Head poster is "A poster on the wall shows a cartoon man. A thought bubble shows he is thinking of himself with a thought bubble that shows he is thinking of himself thinking of himself, and this recursion continues until he is no larger than a speck. [paragraph break]Underneath this drawing is written the command THINK. [paragraph break]The man does look a little bit like you.".

Instead of taking poster:
	say "You didn't come all this distance to upset Dr. Von Foerster's research."

Compositions are an undescribed thing on BrunDesk.

tapes are on Brun's desk.

smoldering cigar is on Brun's desk.
The description of smoldering cigar is "Cuban."

A room can be considered.

Instead of thinking when player is in Heinz Von Foerster's Laboratory:
	if the location of the player is considered:
		say "There is nothing new to think here.";
	if the location of the player is not considered:
		say "I shall act always so as to increase the total number of choices.";
		now the location of the player is considered;
		stop the action.

Instead of thinking when player is in Conference Room:
	if the location of the player is considered:
		say "There is nothing new to think here.";
	if the location of the player is not considered:
		say "The world, as we perceive it, is our own invention.";
		now the location of the player is considered;
		stop the action.

Instead of thinking when player is in Herbert Brun's Office:
	if the location of the player is considered:
		say "There is nothing new to think here.";
	if the location of the player is not considered:
		say "Music should speak directly to the heart and bypass the ears entirely.
	[line break]Music should speak directly to the heart and drop that incessant singing.
	[line break] Music can speak directly to the heart only if
	[line break]  producers of TV, radio, stadium tours, albums,
	[line break]    and manufacturers of records, tapes, CDs, videos, magazines, newspapers, trade journals,
	[line break]      instruments, charts,
	[line break]        act as middle men and women
	[line break]          for music
	[line break]            and the heart.";
		now the location of the player is considered;
		stop the action.

Instead of thinking when player is in Humberto Marturana's office:
	if the location of the player is considered:
		say "There is nothing new to think here.";
	if the location of the player is not considered:
		say "Anything said is said by an observer.";
	now the location of the player is considered;
	stop the action.

Instead of thinking when player is in Warren McCulloch's Office:
	say "Don't bite my finger, look where I am pointing.";
	stop the action;

Instead of thinking when player is in Landing:
	if the location of the player is considered:
		say "There is nothing new to think here.";
	if the location of the player is not considered:
		say "...if there is any hope for any of us in this giant explosion in which we inhabit then surely that's it: Intellect and romance triumph over brute force and cynicism!";
		now the location of the player is considered;
		stop the action.

Instead of thinking when player is in Tunnel:
	if the location of the player is considered:
		say "There is nothing new to think here.";
	if the location of the player is not considered:
		say "To alienate students from politics means to alienate students from their own society.";
		now the location of the player is considered;
		stop the action.

[Instead of thinking when player is in Elevator:
	if the location of the player is considered:
		say "There is nothing new to think here.";
	if the location of the player is not considered:
		say "Give peace a chance?";
		now the location of the player is considered;
		stop the action;
	if Year1969 is false:
		say "It would be sweet to get a good job in the defense industry when I graduate.";
		stop the action.
]

Tang is scenery in the Conference Room.
Understand "room" as Tang.

Instead of smelling tang:
	say "The smell of military funding is fading.".

[Instead of smelling room:
	say "The smell of military funding is fading.".
]

Hourglass is in Conference Room. "An old bronze hourglass rests on a small table at the center of the room. The hourglass is about [Countdown]/30ths full."

understand "hour glass" and "glass" and "table" and "sand" as Hourglass.
The description of hourglass is  "[if Countdown > 0]The blue and green sands are swirling. And sinking. The hourglass is about [Countdown]/30ths full.[else]The hourglass glints knowingly."

Understand "old hourglass" and "bronze hourglass" and "old bronze hourglass" as hourglass.

Instead of taking hourglass:
	say "Time resists your intervention.";
	stop the action.


Year1969 is a truth state variable. Year1969 is false.
Countdown is a number variable.
Countdown is 30.
CountdownFlag is a truth state variable. CountdownFlag is false.

Instead of going down from NaturalHistoryLanding for the first time:
	now CountdownFlag is true;
	continue the action.

Every turn when CountdownFlag is true:
	decrement Countdown;
	if Countdown < 2:
		Time Collapses in 1 turn from now;
		now CountDownFlag is false.

At the time when Time Collapses:
	say " . . . [paragraph break]That noise you hear is the hands on your analog watch spinning so fast they are like tiny propellers wafting a breeze on your face. There is a rumbling as if the sky is being paved over, or as if a culvert is being forcibly widened to make a pretend stream. You sense time has run out.[paragraph break]. . .";
	pause the game;
	now preacher is in NaturalHistoryBuilding2015;
	now the initial appearance of the hourglass is "There is a cracked and empty bronze hourglass at the center of the room. Sand is scattered everywhere."

[	now UnderConstruction is true;
	now aphorism is nowhere;
	now compositions is nowhere;
	now cigar is nowhere;
	if green glass bottle is open:
		now pliers is nowhere;  ]


UnderConstruction is a truth state variable.

Instead of going inside from NaturalHistoryBuilding2015 when UnderConstruction is true:
	say "A construction worker sees you trying to sneak into the building and blocks your way.";
	stop the action.

The preacher is a man. "A preacher is standing on the steps, shaking his fist and accusing strangers of being deviants and draft dodgers."

The description of the preacher is "The preacher holds a large sign that says, 'YOU ARE GOIG TO HelL' (SIC). An eyeless frog sits on his shoe, happily unable to read the bad news."

Instead of talking to preacher:
	say "The preachers is too busy to speak to you. Perhaps you could give him something that might distract him.";
	stop the action.


Instead of giving something to Preacher:
	if noun is green glass bottle:
		if green glass bottle is closed:
			say "You'd better open that first, don't you think?";
			stop the action;
		else:
			say "The preacher puts down his sign, to take the bottle from your hands. He kisses you on the lips, and wanders off with the single malt, leaving his Bibles behind. Another soul lost.";
			now preacher is nowhere;
			now eyeless frog is in Conference Room;
			now PreacherCorrupted is completed;
			now CurrentEnding is PreacherCorrupted;
			End the Journey;
			stop the action;
	else:
		say "He offers you a Bible instead, but you politely decline. You stare into each others eyes across a gulf through which drones scream.";
		stop the action.

Instead of attacking the preacher:
	say "The preacher relishes the experience of being a martyr. Pray continue."

Instead of weaponattacking the preacher:
	try attacking the preacher.

Instead of attacking something when player is in NaturalHistoryMap:
	say "It's players like you that give games a bad name.".

Two hippies are people in the Conference Room.

Understand "kid" and "student" and "students" as hippies.

The hippies are scenery.

The description of the hippies is "[If frogloose is true]Two groovy students with beautiful hair sit at a conference table studying the Indian sitar music that issues from a turntable. You conclude they are a young man and a young woman. You're curious about the music. The frog sits mellowly on the table, grooving to the raga. [else]Two hippies squat at a conference table frowning at the Indian sitar music that issues from a turntable. You conclude they are a young man and a young woman. You're curious about the music."

Ragas is scenery in the Conference Room.

Understand "music" and "Indian music" and "sitar music" as ragas.

Ideas are scenery in the Conference room.

The description of ideas is "You don't understand them, they continuously change form, but they are all interconnected.".

Instead of interrogating hippies about ragas:
	say "You ask the young couple about the sitar music. The pretty young man with long hair says, 'Eastern cultures are tied into the cosmos, man.' [paragraph break]'I think they're tied into the bootheel of British and American imperialism!' The pretty young woman with long hair responds. 'Don't be such a hippy, Abbie,' she laughs.".
Instead of talking to hippies:
	say "You ask the young couple about the sitar music. The pretty young man with long hair says, 'Eastern cultures are tied into the cosmos, man.' [paragraph break]'I think they're tied into the bootheel of British and American imperialism!' The pretty young woman with long hair responds. 'Don't be such a hippy, Abbie,' he laughs.".
Instead of giving something to hippies:
	if the noun is Compositions:
		choose a random row in the Table of electronic music;
		say "The young man takes the record from you and says, 'Thanks, brother.' He pulls the needle off the sitar music with a pop, and replaces that record with the one called Compositions. When he drops the needle, the woman's eyes widen when she hears [Enoise entry]. 'Whoa,' she breathes. [paragraph break]Unexpectedly the Technocrat in the corner looks up and asks, 'Is this what we're paying you for? Is this music going to help us in Vietnam?'  [paragraph break]The hippies ignore him. He sighs and turns back to his spreadsheet.";
		now the hippies have Compositions;
		stop the action;
	else:
		say "The woman turns her eyes to you and she says, 'We have no need of material objects. Our journey is spiritual. Just as yours is virtual.'";
		stop the action.



Technocrat is a person in the Conference Room.
Technocrat is scenery.
The description of the Technocrat is "In the corner, a man with horn-rimmed glasses and a white button-down shirt is absorbed in a spreadsheet. He glances up at you and waves you away, turning back to his data."
Instead of asking Technocrat about something:
	say "He interrupts you to announce that the military no longer has finding for basic research or casual conversation.".
Instead of talking to Technocrat:
	say "He interrupts you to announce that the military no longer has funding for basic research or casual conversation.".
Instead of interrogating Technocrat about hourglass:
	say "He interrupts you without looking up from his work, 'I am legally obligated not to tell you anything about that.'"
Instead of interrogating Technocrat about something:
	say "He interrupts you to announce that the military no longer has funding for basic research or casual conversation.".
Instead of giving something to Technocrat:
	if noun is pliers:
		say "He takes the pliers, and his eyes widen with mild excitement as he manipulates them. He says, 'This tool could be used to service a bomber. Nice work.' Then he turns back to his spreadsheet and switches his red pen for a black one and resumes calculating.";
	else:
		say "He looks at you over your glasses and tells you that you have failed to help defeat communism. 'On the contrary...' he begins, then shakes his head, and turns back to his calculations.".



Table of electronic music
Enoise
"a long bleep followed by two blips"
"a bunch of harsh static"
"socially transformative atonal music"
"systems of subtle inferences in a barrage of synthetic noises"
"ring modulation"
"the sound of a transistor radio being tortured to death"


PART 9 - NOYES LAB

NoyesLab is a RoomProxy.
Understand "Noyes Lab" and "Noyes" as NoyesLab.
NoyesLab is in Noyes Lab.
The printed name of NoyesLab is "Noyes Lab".
The description of NoyesLab is "Noyes Lab houses the Department of Chemistry."

A thing can be darkPermeable or not darkPermeable.
A thing can be darkListed or not darkListed.
A thing can be darkEvident or not darkEvident.
A thing is usually not darkEvident.
A thing is usually not darkPermeable.
A thing is usually darkListed.

A NoyesLightswitch is a kind of lightswitch.
A NoyesLightswitch is usually darkPermeable.

[
A mine is a kind of room.
The printed name of a mine is "IT'S A MIIIIINE".

The can't act in the dark rule is not listed in the visibility rulebook.
The precheck dark actions rule is listed before the can't act in the dark rule in the visibility rulebook.
This is the precheck dark actions rule:
	if the noun is darkEvident:
		there is sufficient light.
]

Instead of going to Noyes 100:
	if Noyes 100 is unavailable:
		say "[italic type]HEY ASSHAT![roman type][line break]You flee from Noyes 100.";
	else:
		now player is in Noyes 100.

Instead of going to Merit Room:
	if Merit Room is unavailable:
		say "You see that the door has police tape and are afraid of opening the door.";
	else:
		now player is in Merit Room.

Instead of going to unavailable room:
	say "Your face!!! In the background you hear a mic drop catastrophically to the floor.";
	stop the action.

Instead of flipping in Noyes 100:
		say "You seriously tried to flip the table? Well you succeeded and spilled the various chemicals that were on in the test-tubes and now everyone is staring at you including the professor. The professor is now calling for campus security.[line break]You have been kicked out so you better not come back.[line break]";
		now the player is in the NoyesLabInterior;
		now Noyes 100 is unavailable.

The luminol trail is a backdrop in NoyesLabMap. "Splotches of blue dot the floor".
Understand "trail", "glow", "floor" as the luminol trail.
The luminol trail is darkPermeable, known, darkEvident, not darkListed.
The eastluminol trail is a backdrop in NoyesLabMap. "Splotches of blue dot the floor".
Understand "trail", "glow", "floor" as the eastluminol trail.
The eastluminol trail is darkPermeable, known, darkEvident, not darkListed.

Noyesfloor is a backdrop in NoyesLabMap.
The description of Noyesfloor is "You stare intently at the floor. Nothing happens."

[Jose's Code]
sodium chloride is a harmless chemical compound.
hydrochloric acid is a harmful chemical compound.
sodium bicarbonate is a harmless chemical compound.
acetic acid is a harmless chemical compound.

Door to the Tunnel is a locked, lockable, closed door.
The initial appearance of the Door to the Tunnel is "You find yourself before the doors to the tunnel. [if player is in the Tunnel Entrance]This side of the frame is old and rusted. [else if player is in the East Corridor]DO NOT ENTER, reads the sign clumsily taped to the top of the frame. The doors seem old, but recently used and stand out like black teeth from the ceiling against the white walls around you.[end if]".
The description of the Door to the Tunnel is "A pair of steel double-doors. The lock appears to be jammed."
The Branch 2 Door is a closed, locked door.  "[if the door is locked]To the side, a pair of double doors stares back ominously. It looks heavy. You try the handle but it does not budge[else if the door is open]There are double doors here - light door - something seems surreal. Danger, irrevocable danger, seems to emanate about it[else]A pair of double doors are to the [bold type]east[roman type][end if]."
The printed name of the Branch 2 Door is "locked double doors".
The EESLH-Door is a closed, locked door.
The description of the EESLH-Door is "The door seems recently-used, but when you try the handle, it fails to give way."
The printed name of the EESLH-Door is "locked double doors".
Understand "door" and "doors" as EESLH-Door.

South Corridor is a room.  "You find yourself in the South Corridor of the building.  To your [bold type]east[roman type], another hallway. To the [bold type]south[roman type], you can see several students in the basement area.  [if unvisited]The flooring is old tile, worn and dusty, though you could imagine how pristine they must have been before.  Quite extraordinary, the number of feet taking the same steps you are, to have worn something to such a state as it is now[end if].".
East Corridor is a room.   "The lighting flickers as the fluorescent lights whittle away at your patience. How much you've always hated them. To the [bold type]west[roman type], the South Corridor. To the [bold type]south[roman type], the Door to the Tunnel Entrance.  They appear to be locked."
Tunnel Entrance is a room.  "You find yourself at the mouth of [if unvisited]a wide[else]the[end if] tunnel.[if unvisited]  Pipes run along the wall and if you listen carefully, you hear the subdued sloshing of what must be vasts amounts of water rushing through them.[end if]  To the [bold type]southeast[roman type], the tunnel continues, the pipe wrapped close to the walls.  To the [bold type]southwest[roman type], another offshoot, this one smaller, continues to some double doors.".
Tunnel Branch 1 is a room.  "The walls are tighter and you swear you could reach the ceiling if you really cared enough about touching wet concrete.  To the [bold type]south[roman type] lies a door, and to the [bold type]northeast[roman type], the scent of fresher air.".
Tunnel Branch 2 is a room.  "The tunnel weaves around several turns before terminating.  To the [bold type]east[roman type], more doors. To the [bold type]south[roman type], stairs.  To the [bold type]northwest[roman type], the sound of sloshing grows louder.".
Bottom of Stairway 1 is a room.  "The stairs [bold type]up[roman type] are nothing more than thin aluminum sheets riveted to a central post.  If it weren't for the rusty banister, you would not trust yourself to this metal contraption.  The room opens to the [bold type]north[roman type] into a tunnel.".
The printed name of Bottom of Stairway 1 is "Bottom of the stairway".
Top of Stairway 1 is a room.  "You are in a small room at the top of a short stairwell.  While you could jump the short distance down, a more civilized stairwell presents itself.  To the [bold type]east[roman type], the small room opens into a sharp left turn.".
Dimly Lit Hallway is a room.  "You are in a dimly lit hallway. The light above you head flickers constantly.  To the [bold type]west[roman type], heavy double doors.  To the [bold type]southeast[roman type], a sparse room.".

The printed name of Top of Stairway 1 is "Top of the stairway".

Desolate Storage Room 1 is a room.  "You find yourself in a room dimly lit by a single incandescent bulb.  It blinks out every once in a while, perhaps an indication of age.  To the [bold type]east[roman type] stands a doorway - and beyond it, a flight of steps spiraling in most miraculous ways.  You wish to avert your gaze from what must be a trick of the lighting, an architecture of impossible shapes.  To the [bold type]northwest[roman type], a door leading to a dimly lit hallway.[paragraph break]There is something ominous about the flight of steps.  Something impossible and strange and twisted, dark and depraved and an insult to reality."

DSR1Door is a backdrop in Desolate Storage Room 1.  "There is open doorway carved in shimmering [one of]stone[or]marble[or]oak[or]wood[or]bone[or]flesh[as decreasingly likely outcomes][if a random chance of 1 in 3 succeeds][paragraph break][italic type]Lasciate ogne speranza, voi ch'intrate[roman type][end if]."
Understand "doorway" as DSR1Door.
Landing 0 is a room. "You continue trekking.  To what you [if unvisited]confidently label [else]guess must be [end if]the [bold type]east[roman type] lies the faint glow of a lamp.  To the [bold type]south[roman type], stairs continue into an opaque darkness."
Landing 1 is a room.  "The lamp above your head [if unvisited]weakly flickers, casting sputtering tongues upon perfectly smooth walls[else]continues to burn dimly.  A faint glimmering trail marks the saliva you spat, though it has since dripped down to the floor.  From the puddle, you guess it has been there for a while, though you don't remember the time passing[end if].  [if unvisited]Under the quivering of the light, y[else]Y[end if]ou notice to your [bold type]south[roman type], a flight of steps extending several meters[if unvisited] before abruptly turning, leaving an ashen surface to greet you[end if].  To the [bold type]west[roman type][if unvisited], as you gaze up  at the way you came, impossibly far above lingers the doorway you came through.  Impossible.  You don't remember falling.  However, at eye-level monotonous gray steps extending again several meters before melding into an unyielding shadow[otherwise unless unvisited], the very stairs by which you believe you descended, though you hardly believe in such certainties anymore[end if]."
After going to Landing 1 for the second time:
	try looking;
	say "You are trapped.  Caged.  In a moment of desperation, you beat at the walls but they yield nothing, not even a sound.  You feel your mind wane.  If only you could get out, escape.  If only you could go back in time, stop yourself.  [italic type]Undo[roman type] your actions, anything to escape.".
Landing 2 is a room.  "You rush around the corner[if unvisited][else] but something seems different.  You swear, the gray is imperceptibly different, though in what way, you haven't a clue[end if].  To the [bold type]north[roman type], a lamp glowers down upon you.  To the [bold type]west[roman type], the dark."

Landing 3 is a dark room.  "[if unvisited]You find yourself in [else]Yet another [end if]a dark corner, though you wouldn't have known hadn't you walked straight into the wall.  Reaching out with your hands, you feel cold hard stone to the [bold type]north[roman type] and the [bold type]west[roman type][if unvisited].  Or is it the [bold type]west[roman type] and the [bold type]south[roman type]? Or perhaps the [bold type]north[roman type] and the [bold type]east[roman type]? Your mind suffocates under the black[end if]."

Second Level Hall is a room.  "You can almost feel the fungal spores fill your lungs as you take a breath of the air.  The room is thin but wide, extending [bold type]east[roman type] and [bold type]west[roman type].  To the [bold type]south[roman type], a much shorter hallway splits off then juts [bold type]west[roman type] towards what you make out to be stairs."
WESLH is a room.  "To the [bold type]east[roman type], the remains of a blue lacquered door - chipped and scarred, vast swaths of rust have grown to infest the surface, binding the frame shut.".
The printed name of WESLH is "West end of the hallway".
EESLH is a room.  "You [if unvisited]are[else]once again find yourself in[end if] a wide hallway.  Through a small doorway to the [bold type]west[roman type], the white corridor extends monotonously.  To the [bold type]east[roman type], the hallway bends around a corner, to where you cannot see from where you are.[paragraph break][if unvisited]But it's what is within the room that clutches your interest: as you gaze about the room, you see a door - perfectly smooth, perfectly white, perfectly rectangular.  A monolith.  But as you hold your stare for a moment longer, [else]As much as you try to avoid it, your eyes accidentally graze the door again and [end if]you feel [if unvisited]a scalding agony, a torturous spasm, a laceration in your mind which forces[else]a familiar burn which drops[end if] you to your knees.  As you rise back to your feet, you do your best to avoid glancing at it again.".
The printed name of EESLH is "East end of the hallway".

[Jose's Code]


NoyesLabInterior is an Interior Location. "Noyes is bustling with activity as students scramble to find their respective classrooms.  You can go [bold type]out[roman type] of the Noyes Lab from here. Otherwise you can choose to explore Noyes by heading [bold type]east[roman type], which appears to be a lecture hall, [bold type]north[roman type], [bold type]south[roman type], or [bold type]southeast[roman type]."
The printed name of NoyesLabInterior is "Lobby of Noyes Lab".
NoyesLabInterior is inside from Noyes Lab.

Noyes 100 is east of NoyesLabInterior. "A class is ongoing and you can see a professor speaking to the class while writing on the chalk board. You wonder whether you should listen to the lecture or proceed with your shenanigans. Heading [bold type]west[roman type] will lead you to the lobby."

Instead of going nowhere when player is in Noyes 100:
	say "You clearly see that a lecture is going on and decide not to interrupt. You should go west."

Noyes Students are undescribed scenery.
Noyes Students are in Noyes 100.
instead of examining Noyes Students:
	say "The students appear to be busy focusing on chemistry and their professor to be bothered...";
	stop the action.


The Merit Room is south of NoyesLabInterior. "[if unvisited]As you open the door to the Merit Room, the students slowly turn and face you. The motion is robotic and forced. All eyes are on you. You can retreat to the [bold type]north[roman type].[else if NoyesDarkness is not Awoken]The students ignore you and do not seem to react. You can retreat to the [bold type]north[roman type].[else]Darkness is expanding. Students who were touched by the darkness are now consumed by it. The ones unable to move are crying and calling for help. The rest of the students are running away from the Merit Room. Perhaps it would be wise to leave Noyes too. You can escape to the [bold type]north[roman type]."

Instead of going nowhere when player is in the Merit Room:
	say "The TA eventually comes forth and calmly ask you to leave the classroom and stop disturbing the students. You can go [bold type]north[roman type]"

Noyes Hallway is north of NoyesLabInterior.
The description of Noyes Hallway is "[if unvisited]There are several benches with some students casually sitting waiting for advisement appointments. There is a huge fan blowing air and a table that is chained up like a prisoner in the corner with a familiar person nearby.

The person you thought was familiar to you is actually a chemistry student you have never met before. He introduces himself as Steve 'Bessie', and yes, that is his given name. Cut him a break, he didn't choose the name, his parents did, why? I don't know, why don't you ask him yourself?[else]The clock ticks in awkward silence, suddenly you can hear clapping from Noyes 100. It is just another chemistry demonstration."

instead of talking to Noyes Students:
	say "You begin talking to a student and some of the others tell you to be quiet.";
	stop the action.

The Noyes Basement is southeast of NoyesLabInterior and south of the South Corridor.

The description of the Noyes Basement is "[if unvisited]A small ball comes flying at you and you manage to avoid it. A student comes running up to you and apologizes and introduces himself as Preston.[paragraph break][end if]The Basement is oddly warm as you notice a door that reads 'DANGER STEAM TUNNEL'. You can return to the Lobby by going [bold type]northwest[roman type] or proceed down a shady hallway by going [bold type]west[roman type]. The South Corridor looks inviting, just head [bold type]north[roman type]."

Instead of going nowhere when player is in the Noyes Basement:
	say "A Senior appears and asks you if you are lost. The Senior directs you to the common classrooms[paragraph break]You can go [bold type]north[roman type]."

The Self-Proclaimed Grave is west of the Noyes basement. "[if unvisited]The spooky sounds are overshadowed by the sound of hydrogen balloons exploding and the inaudible sound of students working in lab. Suddenly, a student steps out from out of nowhere.  He says his name is Howie. [end if]From here you can go [bold type]east[roman type] to the Basement."

Instead of going nowhere when player is in the Self-Proclaimed Grave:
	say "The darkness is consuming all light and there is no certainty of what lies ahead...Suddenly a BSW appears and directs you back. Head [bold type]east[roman type] to Noyes or [bold type]north[roman type] back to the Merit Room."





chairs are scenery in Noyes 100.

The description of chairs is "The chairs are aligned in 10 rows with three walk ways that are essentially the columns that sepaarate the rows. Most of the chairs are occupied with students as they try to keep up with the professor."

Understand "chair" as chairs.

A Black-top Table is a supporter in Noyes 100. "A Black-top Table is within hands reach."

Instead of examining the Black-top Table for the first time:
	say "The table looks worn out and faded. Clearly there have been some chemicals that have spilled on the table leaving it stained and slightly damaged. You can see a frozen apple lying abandoned here. Some test tubes are on the table as well as a mysterious black key. As you step nearer to the table, you realize that it is a little wobbly. Careful, or you'll flip it over!";
	now the frozen apple is described;
	now the initial appearance of the frozen apple is "A frosty apple is sitting on the table.";

The description of the Black-top Table is "The table looks worn out and slightly damaged."

Instead of touching the Black-top Table: say "You start to feel a tingling sensation. Perhaps you should wash your hands."

centrifuge is an undescribed device on the Black-top Table. test-tubes are scenery. The description of test-tubes is "The tubes contain several amounts of liquid that are unknown to you...If only you had been in lecture before the class started. It's probably best that you leave the tubes alone."

Understand "tubes" and "tube" and "test tubes" and "test tube" and "testtubes" and "testtubes" as test-tubes.

A frozen apple is an undescribed edible thing on Black-top Table.

Understand "apple" as frozen apple.

Instead of touching the frozen apple: say "You feel the warmth of your hand slowly slip away and immediately remove your hand."

Instead of eating the frozen apple: say "You stare at your reflection in the shiny apple as soon as you remove some of the frost from the frozen apple. You debate whether or not you should eat the apple. You try to bite the apple, but it seems to be too frozen to be consumed. Ouch, you almost broke a tooth trying to bite the apple. You decide to toss the apple as it is too hard." ;
	now the frozen apple is nowhere.

Chemistry professor is in Noyes 100.
Instead of examining Chemistry professor:
	say "He looks very busy with his lecture. He is wearing a blue dress shirt and black dress pants."

instead of talking to Chemistry professor:
	say "You are about to ask the professor something but realize you should probably raise your hand...you then realize you don't even have class in here. You are discouraged.";
	stop the action.

Noyes Chalkboard is an undescribed scenery.
Noyes Chalkboard is in Noyes 100.
understand "chalk board" and "chalkboard" as Noyes Chalkboard.
the description of Noyes Chalkboard is "There are symbols and letters on the chalk board, but you seem confused."

random junk is scenery in the Self-Proclaimed Grave.

The description of random junk is "There seems to be piles of old notebooks, several glass containers, and what appears to be an old cracked whiteboard."

Understand "old notebooks" and "old notebook" and "notebook" and "glass containers" and "glass" and "containers" as random junk.

The old storage container is a lockable, locked, closed container in the Self-Proclaimed Grave. "Out of everything that could catch your eye, a dusty old storage container is one of the first things that you can see."

The old storage container is fixed in place. The description of the old storage container is "It looks pretty old and is completely covered in dust. The lock on the storage container looks a bit rusty, but is still able to be opened with a key."

Understand "dusty old storage container" and "storage container" and "container" as old storage container.

The mysterious key unlocks the old storage container.

black nothingness is inside the old storage container. The description of black nothingness is "Never have you ever seen something such like this. It is completely devoid of anything and everything. You recall a quote that sends a shiver down your spine, 'For when you gaze long into the abyss. The abyss will gaze back into you.' by Friedrich Nietzsche."

a mysterious key is in Noyes 100. It is undescribed.

The description of a mysterious key is "The key seems to emit strange aura. It is strange...you have never felt like this before and you cannot describe the urge you have to find where the key belongs...perhaps you should continue looking."

NoyesDarkness is a dormant thing in the merit room. "Nothing seems out of the ordinary...yet. Except a slight darkness in the corner."
NoyesDarkness is fixed in place.
Understand "shadow" and "darkness" as NoyesDarkness.

Instead of examining NoyesDarkness:
	if NoyesDarkness is Dormant:
		say "Final warning.";
		Darkness is Awoken in five turns from now;
		now NoyesDarkness is Awoken;
		stop the action;
	if NoyesDarkness is Awoken:
		say "Darkness is expanding. Students who got touched by the darkness are all consumed by it. The onces unable to move are crying and calling for help. The rest of students are running away from the Merit Room. Perhaps you should leave Noyes too."
	
At the time when the Darkness is Awoken:
	say "A horrible tearing sound is heard all throughout Noyes as everyone's heads snap around in the direction of the sound.";
	if player is in the Merit Room:
		say "Darkness covers everything. You can no longer see and you feel your body get cold. You simply float in what appears to be a sea of darkness...alone and afraid. ";
		now NoyesDarkness is nowhere; 
		Now the Merit Room is unavailable;
		now DevouredByDark is completed;
		now CurrentEnding is DevouredByDark; 
		End the Journey;
	else:
		say "You see campus security rushing past you. You're not sure what happened to them, but you have survived.";
		now NoyesDarkness is nowhere; 
		Now the Merit Room is unavailable.

[RummagingBag is an action applying to nothing.

Understand "rummaging" and "rummage" and "look" and "search" as RummagingBag.

Instead of RummagingBag when player has tattered bag:
	say "You rummage through the [tattered bag] and see [if the number of things in tattered bag is not 0][a list of things in tattered bag].[else]nothing really.";
	if tattered bag contains sodium chloride:
		say "Table salt...why is there table salt in this bag? You decide to toss it.";
		now the sodium chloride is nowhere.]

Every turn when Preston is in Noyes Basement:
	if a random chance of 1 in 10 succeeds:
		say "Preston[one of]is saying, 'Geez where in the hootin nanny'[or] is picking his nose unaware of others [or] wonders if he should ask Meg on a date[or] decided to take off his sandals and kick them in the air[or] is burping loudly[or] says hi[or] ranting on about neutral mike[or] is coding a new website that is dedicated to education [at random]."

A person has a number called Noyesmaximum hit points.
A person has a number called Noyescurrent hit points.
The Noyesmaximum hit  points of the player is 100.
The Noyescurrent hit points of the player is 100.

Understand "Steve" and "Steve Bessie" and "Bessie" as chem kid.

[chem kid is carrying a grey backpack and a tattered bag.
The description of the backpack is "The backpack is black and grey and seems to be falling apart. It might be time to get a new one."
The description of the tattered bag is "Its green, dirty, and old. It looks like a dog has used it as a chew toy."
]
chem kid is wearing an illini t-shirt.
The description of an illini t-shirt is "It is that proud blue shade with an orange 'I' near the left portion of the shirt. It looks tattered as if it is his favorite t-shirt."

Instead of examining chem kid:
	say "Steve is majoring in chemistry and he seems to be 'studying' very hard.[line break]";
	if chem kid is unexamined:
		say "He often goes by the name Bessie. Maybe you could ask him about the name Bessie...or not. I'm sure as a college student, Bessie will most likely accept anything that you give him.[line break]";
		now chem kid is examined;
		if chem kid carries something:
			say "He is carrying [a list of things carried by chem kid]. "

[Instead of taking backpack:
	if chem kid is holding backpack:
		say "As you approach Bessie's backpack, he immediately grabs it and gives you a startled look. 'How dare you! This is mine! If you want a backpack, take this one.'";
		now player has tattered bag.

sodium chloride is in the tattered bag.
acetic acid is in the tattered bag.
sodium bicarbonate is in the tattered bag.]

Instead of talking to chem kid:
	say "Maybe try asking him about his name."	;
	stop the action.	

The chem kid is an undescribed man in the Noyes Hallway.

Instead of asking chem kid about "the name Bessie":
	say "Steve looks up at you and say, 'Hey, I dunno! Why don't you go into the Merit room and stay there when 'Final warning' appears?'"

Instead of interrogating chem kid about chem kid:
		say "Steve looks up at you and say, 'Hey, I dunno! Why don't you go into the Merit room and stay there when 'Final warning' appears?'"

Instead of asking chem kid about "his name":
	say "Steve looks up at you and say, 'Hey, I dunno! Why don't you go into the Merit room and stay there when 'Final warning' appears?'"

Instead of asking chem kid about "name":
		say "Steve looks up at you and say, 'Hey, I dunno! Why don't you go into the Merit room and stay there when 'Final warning' appears?'"

Instead of asking chem kid about something:
	say "Steve stares up at you and blatantly ignores you."

Instead of interrogating chem kid about frozen apple:
	say "Steve looks up and says, 'Ah, I remember when I was in lecture for the frozen apple demonstration...oh if only I knew how much work would follow that day...' Bessie is staring off into space now."

Instead of interrogating chem kid about mysterious key:
	say " You show Steve the key and he leaps out of his seat.  'Get away from me! Don't show me that...that thing! Last time that thing was used, Davenport was destroyed! Now they've been fixing up the place ever since 2014."

Instead of interrogating chem kid about something:
	say "Steve looks up annoyed, 'Look, I'm busy at the moment. Would you get outta here!?' "

[NPC#2]
Understand "Howie" as physics kid.

The physics kid is an undescribed man in the Self-Proclaimed Grave.

Hollywood Hairpin is a thing.
the description of Hollywood Hairpin is "It looks like an ordinary Hairpin, but it seems to hold some abilities to open doors."

Instead of examining physics kid:
	if physics kid is unexamined:
		say "The kid runs up to you and hands you a hairpin.[line break]'You'll know what to do with it.'";
		now physics kid is examined;
		now player has Hollywood Hairpin;
	else:
		say "Howie appears lost, or so it seems that way because he wants you to believe he is lost. He might be looking for something in particular, or nothing at all."

Instead of interrogating physics kid about chem kid:
	say " 'Bessie? Yeah I know Bessie. I just know that he is studying chemistry.' "

Instead of asking physics kid about something:
	say "Howie stares at you with eyes that appear soulless and responds with a shrug."

Instead of interrogating physics kid about frozen apple:
	say " You show Howie the frozen apple, 'HA! Have you tried eating it?' "

Instead of interrogating physics kid about mysterious key:
	say " You show Howie the key and he simply says, 'DON'T.' "

Instead of interrogating physics kid about something:
	say "Howie immediately jumps in the air and says, 'What about Blue's Clues?' "

Instead of asking physics kid about "Blue's Clues":
	say "Ha! That's a secret I won't speak about at the moment, no matter how many times you pester me."

[NPC#3]
Preston is an undescribed person in Noyes.

Understand "Preston" as cool kid.

The cool kid is an undescribed person in the basement.

The description of the cool kid is "He seems to be nervously looking back and forth, as if waiting for someone or something. He is also juggling."

Instead of asking cool kid about "juggling":
	say " 'Naw, I don't know how to juggle.' "

Instead of interrogating cool kid about chem kid:
	say " 'Bessie? Where is that joker and what is he up too?' "

Instead of asking cool kid about something:
	say "Preston nervously laughs very awkward like."

Instead of interrogating cool kid about frozen apple:
	say "Preston says, 'Hey! Toss it over and I will try to juggle it!' "

Instead of interrogating cool kid about mysterious key:
	say " Preston's eye widen and he says, 'Shoot, I don't know what that thing is...I mean it is obviously a key but I don't know anything else about it...except you shouldn't open any storage containers."

Instead of interrogating cool kid about something:
	say "Preston slaps his knee and kicks his leg as if you said something funny. "


[Ask about this later]
Instead of attacking chem kid:
	say "Steve dodges the attack with finesse. You realize your horrible mistake. You suddenly feel pain, but Bessie did not attack you...at least not physically."

Instead of throwing [something] at chem kid: 
	say "He catches it without looking up, as if he sensed the [noun] coming at him. He throws it back and you fumble to catch it.";
	stop the action;

Instead of attacking physics kid:
	say "Howie immediately blocks you attack without even looking up or at you. He tells you to stop."

Instead of throwing [something] at physics kid:
	say "He takes a slight step to the right and the [noun] hits the ground";
	stop the action.

Instead of attacking cool kid:
	say "How dare you attack Preston! He is the nicest person you'll ever meet! NOW STOP THAT!"

Instead of throwing [something] at cool kid:
	say "He catches it and proceeds to juggle the [noun] and tosses it back with a 'Ahyuck!' ";
	stop the action.


The Hollywood Hairpin unlocks the Branch 2 Door.

[if you want to implement the graduate student for some reason, you should probably remove this code]
Does the player mean interrogating about graduate student: it is very unlikely.

graduate student is an unknown person.  "[if unknown]You notice a graduate student in a grey sweater looking around[else]You see graduate student looking around idly[end if].".
Understand "Bessie" as the graduate student.
CrazedFreshman is an unknown person.  "[if unknown]You spot a freshman gesticulating wildly as he whispers[else]You spot a freshman behaving oddly.  He appears to be distracted by the walls.".
Understand "freshman" and "Michael" as Crazedfreshman.
The printed name of CrazedFreshman is "freshman".

Wacky Willy is an unknown person.  "[if unknown]You spot a clown dressed in full attire.  For a moment, you swear you feel the palpable thump as your heart stammers over a beat.[else]You spot clown![end if]".
Understand "clown" as Wacky Willy.
The printed name of Wacky Willy is "a clown".


East Corridor is east of South Corridor.
The Door to the Tunnel is south of East Corridor.
The Tunnel Entrance is south of the Door to the Tunnel.
Tunnel Branch 1 is southwest of the Tunnel Entrance.
Tunnel Branch 2 is southeast of the Tunnel Entrance.
South of Tunnel Branch 1 is a closed locked door.
The Bottom of Stairway 1 is south of Tunnel Branch 2.
The Branch 2 Door is east of Tunnel Branch 2 and west of the Dimly Lit Hallway.
The Desolate Storage Room is southeast of the Dimly Lit Hallway.
East of Desolate Storage Room 1 is Landing 1.
South of Landing 1 is Landing 2.
West of Landing 2 is Landing 3.
North of Landing 3 is Landing 0.
East of Landing 0 is Landing 1.
West of Landing 1 is Landing 0.
Top of Stairway 1 is above Bottom of Stairway 1.
east of Top of Stairway 1 is south of the Second Level Hall.
WESLH is west of the Second Level Hall.
EESLH is east of the Second Level Hall.
EESLH-Door is east of EESLH.

There is a lightswitch in the Second Level Hall.
There is a lightswitch in EESLH.
There is a lightswitch in WESLH.
The luminol trail is in the Second Level Hall.
The eastluminol trail is in the EESLH.
Does the player mean examining the luminol trail:
	it is very likely.
Does the player mean examining the eastluminol trail:
	it is very likely.


To say (O - an object) in sentence case:
	let T be "[O]" in sentence case;
	say T.
To say (O - an object) in upper case:
	let T be "[O]" in upper case;
	say T.
To say (O - an object) in lower case:
	let T be "[O]" in lower case;
	say T.
To say (O - an object) in definite case:
	say "the [O]".
To say (O - an object) in title case:
	let T be "[O]" in title case;
	say "[T]".
To say (O - an object) in indefinite case:
	let p_string be "[indefinite article of O]";
	if p_string is "":
		if "[O]" matches the regular expression "^<aeiouAEIOU>":
			now p_string is "an";
		else:
			now p_string is "a";
	say "[p_string] [O]".

Instead of pulling the Door to the Tunnel:
	say "With a forceful tug, the door comes free.  You feel a slight damp breeze greet you from the newly opened room.";
	now the Door to the Tunnel is unlocked;
	now the Door to the Tunnel is open.
Instead of opening a locked door in NoyesTerritoryMap:
	if the noun is the Door to the Tunnel:
		say "It seems the door jammed instead of locking.  Perhaps pulling hard on the door will free the mechanism.";
	else if the player has the matching key of the noun:
		say "You try opening the door, but it is locked.  However, using the [matching key of the noun] you manage to unlock it.";
		now the noun is unlocked;
	else:
		say "You attempt to open the door, but a lock seems to bar your passage.".

Carry out switching on the lightswitch in NoyesLabMap:
	now the noun is known;
	if the location is dark:
		say "[line break][bold type][printed name of the location][roman type][line break]";
		say "The lights flicker back on.";
		now the location is lit;
	else:
		Let Q be "[noun in definite case]";
		say "[Q in sentence case] is already off.".

Carry out switching off the lightswitch in NoyesLabMap:
	now the noun is known;
	if the location is lit:
		say "The lights go out and you tense.  You hate the dark.  But slowly, the wall of black slowly yields under the ambient light.  Not enough to see much of anything, but at least you get a feeling for where some of the walls are.";
		now the location is dark;
	else:
		Let Q be "[noun in definite case]";
		say "[Q in sentence case] is already on.".

Toggling is an action applying to one thing.
Carry out toggling something:
	if the noun is switched on:
		try switching off the noun;
	else if the noun is switched off:
		try switching on the noun.
Check toggling something:
	if the noun is not a device:
		say "You're not quite sure how to switch [noun in definite case].";
		stop.
Understand "turn on [something switched off]" as switching on.
Understand "turn off [something switched on]" as switching off.
Understand "switch [a device]" as toggling.
Understand "toggle [a device]" as toggling.
Instead of examining the luminol trail:
	If the player is in a dark room:
		say "Splotches sprawled across the floor glow a fulgent blue in the darkness.  You notice streaks where it looks as if something was dragged through.";
	else:
		say "You stare intently at the floor. Nothing happens.".
Instead of examining the eastluminol trail:
	If the player is in a dark room:
		say "An angry pool of blue shines back in your face, layers of brightness stacked as if someone had tried mopping up some liquid.  The streaks cross the room in wide strokes with smaller flecks dotting the walls.  The sheer scale of this invisible stain and the glaring shade of fulgent blue hurts your head.";
	else:
		say "You stare intently at the floor. Nothing happens.".

After deciding the scope of the player while the player is in a dark room:
	repeat with X running through darkPermeable known things:
		if X is in the location:
			place X in scope.
Instead of telling someone about something:
	say "You are given so little response, you have to question your memory as to whether you had even said anything at all."

[ This code is breaking conversations in Noyes and the NPCs it's meant to work with aren't even implemented in the game world --

Instead of interrogating someone about something when player is in NoyesLabMap:
	if there is a subject of noun in Table of Talk About:
		repeat through the Table of Talk About:
			if the subject entry is the noun:
				if the query entry is second noun:
					say "[message entry]";
	otherwise:
		if the noun is a person:
			say "What about [second noun]?";
		otherwise:
			say "You have trouble figuring out how to start a conversation with a [noun] about [second noun].".
]

[ This code is screwing up game play throughout the map --

Before talking to an unknown person:
	if there is a subject of noun in Table of Introductory Text:
		choose the row with subject of noun in Table of Introductory Text;
		now the printed name of the noun is "[name entry]";
		say "[message entry]";
	otherwise:
		say "You receive little more than a shrug of indifference.".
]

Rule for printing a refusal to act in the dark:
	say "As much as you would like to, you can't quite see a thing.".
Rule for printing the announcement of darkness:
	stop.
Rule for printing the description of a dark room:
	Let tF be false;
	if there is a darkEvident known thing in the location:
		let L be the list of darkEvident things in the location;
		repeat with X running through L:
			place X in scope;
			try examining X;
	else:
		say "It is pitch dark and you have trouble making anything out in the room.";
		now tF is true;
	if there is a darkPermeable known darkListed thing in the location:
		let L be the list of darkPermeable darkListed known things in the location;
		let rString be "[if tF is true]However, [end if]you recall something about the room.  Ruminating on it for a second, you remember that there is [L with indefinite articles] in here.";
		say "[rString in sentence case][line break]".
Rule for printing the name of a dark room:
	say "[printed name of the location] (Dark)".
Rule for clarifying the parser's choice of the trail: say "".

Table of Talk About
subject (a person)	query (a thing)	message
graduate student	graduate student	"Say it to my face, punk!"
graduate student	freshman	"He's really into Super Smash Brothers for the Nintendo GameCube.	You should try playing him - he's really good.	I lose to his Jigglypuff every single time."
graduate student	clown	"Well, for starters, he's a clown."
freshman	graduate student	"Legend has it, he's about to graduate but he's only 16!	Smart kid, eh?"
freshman	freshman	"You mean me?"
freshman	clown	"Uh...he's a clown. What else do you want to know?"
clown	graduate student	"Oh, he gave me these juggling balls.[line break][italic type]He begins to juggle...[roman type][line break]"
clown	freshman	"And you thought I was weird - have you spoken to him?"
clown	clown	"What about him?	He's a freshman...nothing else I guess."

Table of Introductory Text
subject (a person)	name (a text)	message (a text)
graduate student	"Bessie"	"[quotation mark]Hi, I'm Jo-...I mean Bessie.	Do you know the way out?	These two goof-balls don't seem to notice that we're lost.[quotation mark][line break][italic type]He smirks and the other two and shakes his head.[roman type][line break]"
freshman	"Michael"	"[quotation mark]Hey, I'm Michael. Bessie and Wacky Willy don't know it, but I think we're trapped.	But don't worry, I have a flawless plan...[quotation mark][line break][italic type]He starts saying words although you're certain they don't make sense in that order.[roman type][line break]"
clown	"Wacky Willy"	"[quotation mark]Hey! I'm Wacky Willy!	Don't tell the rest, don't wanna scare them, but I think we're stuck.	But I figured, since we're stuck in here I might as well cheer 'em up.[quotation mark][line break][italic type]Wacky Willy starts doing clown impersonations.[roman type][line break]"


PART 10 - DAVENPORT HALL

DavenportHallInterior is an interior location. "You are standing inside of Davenport Hall - the Old Architecture Building. There's no one in sight, and the building feels uninhabited. As you enter, you notice a quote from Jonathan Baldwin Turner above the entrance. A spiral staircase leads [bold type]up[roman type] to the second floor. Glancing upward you get a glimpse of maps. You can also [bold type]exit [roman type]to the Quad from here."

EngravedQuote is scenery in Davenport Hall. "'The wealth of Illinois is in her soil and her strength lies in her intellectual development.'"

Understand "quote" and "Turner quote" as EngravedQuote.

DavenportHallInterior is inside from Davenport Hall.

The printed name of DavenportHallInterior is "Davenport Hall Entrance".

DavenportHall is a RoomProxy in Davenport Hall.
Understand "Davenport Hall" and "Davenport" as DavenportHall.
The printed name of DavenportHall is "Davenport Hall".

The description of DavenportHall is "Davenport is one of the oldest buildings on Campus, with the words 'College of Agriculture' written in stone across the front. This announcement, however, is no longer accurate, since the building houses the anthropology and geography departments."

Instead of going nowhere in DavenportHallInterior:
say "You can't go that way. Everything is locked, including the side staircases and classrooms. Try taking the spiraling staricase up."

SecondFloorDavenport is a room. SecondFloorDavenport is above DavenportHallInterior. Description of SecondFloorDavenport is "Across, on the wall, sit a few archaic maps of the world, protected in a glass case."
The printed name of SecondFloorDavenport is "Davenport Second Floor"

archaic maps are a scenery thing in SecondFloorDavenport. Understand "glass case" and "maps of the world" and "a few archaic maps of the world" and "archaic maps of the world" as archaic maps.
The description of archaic maps is "You're embarassed to say that you can't identify any landmass on the map. You're not sure if you're in the geography department or the anthropology department at the moment. Nothing to do here but go back down."

Instead of going nowhere in SecondFloorDavenport:
say "For some reason all classrooms and fire-escapes are locked. This makes you kind of nervous. Do they know something you don't know? You think maybe you should go back down and outside."

PART 11 - FOREIGN LANGUAGE BUILDING

FLB is a RoomProxy in Foreign Language Building.
Understand "Foreign Language Building" and "SLCL" and "Literatures Cultures and Linguistics Building" and "LCLB" as FLB.
The printed name of FLB is "Foreign Language Building".
The description of FLB is "The Foreign Language Building is home to the School of Literatures, Cultures and Linguistics."

FLBInterior is inside from Foreign Language Building. "[if unvisited]You are in the Literatures, Cultures, and Linguistics Building (or Foreign Languages Building), which houses the School of Literatures, Cultures & Linguistics. The central hallway is a rather wide space: the ceiling is three stories high and a long row of tables line both sides of the corridor. Bulletin boards dot the walls. They have pinned invitations to cultural events, notices, and significant photographs of different cultures called the exchange. Indeed, this is the building of foreign languages.[end if]You can go [bold type]out[roman type] of the the building from here, go [bold type]up[roman type], or go [bold type]down[roman type] to the FLB Basement.[if BadTrip is true] You know there's always something horrible in the basement."

The printed name of FLBInterior is "Literatures, Cultures, and Linguistics Building".

FLBUpstairs is up from FLBInterior. "You can see a few hallways before you, and even a shot of the floor from below. You can also see some cool flags hung up near the top by peering down. There isn't much to do here, so you should head back [bold type]down[roman type]."

The printed name of FLBUpstairs is "LCLB Upstairs".

Empty Bottle is a thing in FLBUpstairs. 

The description of Empty Bottle is "Agh, it's just a piece of garbage. Who could litter their campus so carelessly like this? You should probably find a way to throw it out properly."

Flags are scenery in FLBUpstairs. 

The description of Flags are "The flags of many countries adorn the walls you see below you. Korea, Sweden, France...It's a pretty vast array of countries from all over the world. Maybe you could find a student around here from one of those places."

Louis is a man in FLBUpstairs. 

The description of Louis is "A blond haired student, he seems to be drawing something on a tablet. He occasionally looks down at the flags, as if he's using them as a reference."

Drawing Tablet is a thing. "A tablet glows with colorful imagery on it."

Louis is carrying a Drawing Tablet.

The description of Drawing Tablet is "This device held by the student is used primarily for drawing, which is evidenced by the colorful drawings of flags Louis drew."

Instead of talking to Louis: 
	say "'Oh, hey. I'm drawing something.' They'd blankly say to you, before resuming their activities. Perhaps they may be concentrating."
	
Instead of interrogating Louis about Drawing Tablet: 
	say "'Oh, you want to see what I'm drawing?' He'd stop, showing you the drawings. It's a drawing of each flag seen in the building. 'I'm not actually that good at art, but I thought flags like these would be a good place to start since they're usually simple.'"
	
Instead of interrogating Louis about Flags: 
	say "'I'm drawing these as a sort of art study. If you're curious though, I'm a transfer student from France.'"

Instead of interrogating Louis about Empty Bottle: 
	say "'That's not mine.' He'd bluntly state. 'I dunno where a nearby garbage can is, but you can try the SCD.'"
	
Instead of attacking Louis: 
	say "'H-Hey!' Louis would say, as you two would fight for no reason. Unfortunately, he overpowers you and, for his own safety, hits you with a punch so hard he sends you flying through the window, shattering it to pieces. Who knew he could pack a punch [italic type]that[roman type] hard? Unfortunately for you, after flying through the window, you fall down a few stories onto the floor. Ouch. The impact was tough enough to make you lose consciousness. Next time don't pick fights with people.";
	now HitGround is completed; 
	now Currentending is HitGround; 
	end the journey; 
[
HoleInTheGround is down from FLBBasement."
]


SpanishLangPoster is scenery in FLBInterior. 
The description of SpanishLangPoster is "A full colored poster, one of many, is hanging on one of the bulletin boards. It says: [italic type]Los estudiantes interesados en presentar la prueba de español, por favor diríjanse al Edificio de Lenguas Extranjeras[roman type]."

Understand "poster" and "posters" and "Spanish language poster" as SpanishLangPoster.
The printed name of SpanishLangPoster is "Spanish-language poster".

FLBOldStyleTable is a scenery supporter in FLBInterior.
The description of FLBOldStyleTable is "This table has a rustic but elegant design. A timeworn style gives a particular air to the room. It feels different here than in the engineering buildings. Perhaps it is the air of 'no budget for humanities facilities that you sense.'"

Understand "table" and "old style table" and "old fashioned table" as FLBOldStyleTable.
An FLBOldStyleTable is scenery.
The printed name of a FLBOldStyleTable is "old style table".

FLBPlate is on FLBOldStyleTable. "There is a porcelein plate resting on an old fashioned table. You noticed it because the bright plate offers such a contrast with the dark colors of the table."
The description of FLBPlate is "This is an old Spanish plate with an inscription which says 'Plato de porcelana del Rey Enrique IV'."

Understand "plate" and "porcelain plate" as FLBPlate.
The printed name of FLBPlate is "an antique porcelein plate".

Instead of taking a FLBPlate:
	say "You decide not to take the plate, since it doesn't belong to you."

[

flbHallDesk is a scenery supporter in FLBInterior. "A simple but useful furniture with two chairs each."
Understand "desk" and "desks" as flbHallDesk.
The printed name of flbHallDesk is "study desk".


Instead of going nowhere when the player is in FLBInterior:
	say "If you are looking for something, maybe it is not in that direction. However, Enforcer has found this activity suspicious. Enforcer will evaluate objectively if you can continue in this session."

flbAssistant is a person in FLBInterior. "The assistant is working in the electrical parts of a PLATO V terminal.  He looks like he is concentrating." 
Understand "Fred" as flbAssistant.

some flbTechnicians are people.
some flbTechnicians are in FLBInterior.
The description of some flbTechnicians is "[if flbAssistant is in the location]The technicians ask to Fred where is the PLATO V terminal.[else]They just walk around looking for something."

A mqdCellphone is a device in FLBInterior. "A yellow object is on the floor close to the center bicycle way. It looks like a case of a cellphone."
The description of mqdCellphone is
"[if switched on]
<<Logged on PLATO in Terminal 1101 as Paul Tenczar>>
PLATO > Welcome Paul, what can I do for you today?
Paul > I was taking a lesson of language, received a message of some one called Yo Ching, who told my exact ubication. I felt threated. Could I know more about that user?
PLATO > I understand, but you are not allowed to know about other users.
Paul > My keyword to have access is ...
<<Transmission interrupted by Enforcer>>
[otherwise]It is a cellphone in a yellow case. The case and the cellphone looks good. It seems that it can work."
Understand "phone" and "mobile" and "cell" and "case" and "yellow" as an mqdCellphone.
The printed name of mqdCellphone is "cellphone".

The mqdCat is an animal in FLBInterior.
The mqdCat is wearing a silver collar. The description of the mqdCat is "a cat that in his neck has a medallion that says Cyber1."
The printed name of mqdCat is "cat".

An ideograms language stamped shirt is a wearable thing.
 An ideograms language stamped shirt is on flbHallDesk.
understand "shirt" as An ideograms language stamped shirt.
The description of ideograms language stamped shirt is "The shirt says: 伊利诺伊大学的学生 (Student of The University of Illinois)."

Instead of eating ideograms language stamped shirt:
	say "Eating this shirt will distract you from your duties.";
	stop the action.

Instead of taking flbHallDesk:
	say "It is supposed a way to support things, not to transport it. Perhaps, there are lighter or almost abstract things that you would like to transmit.";
	stop the action.

Instead of taking FLBOldStyleTable:
	say "This is a 1960 year table, it is too heavy to take out. However, there is a mark on it like a heavy old equipment.";
	stop the action.

Instead of switching on ChineseCookie:
	say "The cookie probably will give luck to whoever eats it, but not to those who try to turn it on.";
	stop the action.

A ChineseCookie is a an edible, readable thing in the FLBPlate. The description of the iluChineseCookie is "It is possible that a message can help to find a way."
The printed name of ChineseCookie is "fortune cookie".
Understand "fortune cookie" and "fortune" and "cookie" as ChineseCookie.

Instead of eating ChineseCookie:
	say "You eat the cookie, fortune and all!";
	now ChineseCookie is nowhere.

Instead of examining ChineseCookie:
	say "You should go beyond the superflous and find the substance."

Instead of attacking ChineseCookie:
	try reading ChineseCookie instead.
	
Instead of opening chinesecookie:
	try reading ChineseCookie.

Instead of reading ChineseCookie for the first time:
	say "You break the cookie in half, carefully pulling the fortune out of the center. It says 'Suu valehtelee, silmät puhuvat totta.' On the back it says, 'Your lucky number is 1101."

Instead of reading ChineseCookie:
	say "You fortune says 'Suu valehtelee, silmät puhuvat totta.' On the back it says, 'Your lucky number is 1101."

[create a table of proverbs from many languages -- or provide hints to puzzles elsewhere in the game]

Instead of talking to flbAssistant:
	say "Fred is too busy fixing wathever in PLATO V. If you ask him about something specific, he might reply."

Instead of talking to flbTechnicians:
	say "They are looking for an electrical leak in the building, It seems they are not interested in you.'"

Instead of asking flbAssistant about "weapon":
	say "Fred says, 'Maybe in this game weapons are not physical.'"
Instead of asking flbAssistant about "plato":
	say "Fred says, 'Plato was an online community in the sixties!'"
Instead of asking flbAssistant about something:
	say "Fred is too busy to talk to you right now."
Instead of asking flbAssistant about "enforcer":
	say "Fred says, 'Enforcer is the security system of Plato, is it judge and jury of the online community. Have try it in the terminal?'"

Instead of giving iluChineseCookie to flbAssistant:
	say "Fred looks at what you're holding out to him and says, 'A good cookie! But I am not hungry now. Perhaps you will have lucky eating it.";
	stop the action.

Instead of giving something to flbAssistant:
		say "He is busy  .";
		now flbAssistant has the noun;
		stop the action.

Instead of attacking flbAssistant:
	say "Fred felt very offended, you should give him something and apologize.";
	stop the action;

Instead of attacking flbTechnicians:
	say "You should not do that because they are more and hold heavy tools.";
	stop the action;

Instead of attacking mqdCat:
	say "The cat jumped!";
	stop the action;


[http://docs.textadventures.co.uk/ifanswers/ifanswers.com/194/inform-player-themselves-keeps-changing-whatever-player-typed.html]
the InteractorName is initially "".

To decide whether collecting names:
	if the command prompt is "Please login to start (NetID)  ", yes;
	 no.

When play begins:
	now the command prompt is "Please login to start (NetID)  ";

After reading a command when collecting names:
	now the InteractorName is the substituted form of "[the player's command in lower case]";
	[now the command prompt is "[InteractorName]> ";]
	now the command prompt is "> ";
	move the player to the location;
	reject the player's command;

]

PART 12 - ALLEN HALL

Allen Hall is east of Fire Station and northwest of McKinley Health Center and north of Donner Drive Playing Fields. "You are standing outside Unit One, otherwise known as the Allen Hall Living Learning Community. A bustle of students are shuffling around on their way to class. You can see the entrance [bold type]north[roman type] of here. You can go [bold type]south[roman type], [bold type]southeast[roman type], [bold type]east[roman type] and [bold type]west[roman type] from here." 

AllenHall is a roomproxy in Allen Hall.
understand "Allen" and "Allen Hall" and "Unit One" as AllenHall.
The printed name of AllenHall is "Allen Hall".

AllenInterior is an Interior Location.  "The main lobby for Allen. To the [bold type]east[roman type] and [bold type]west[roman type] are the dorms." 
AllenInterior is inside from Allen Hall.
The printed name of AllenInterior is "Allen Lobby".
East Dorms is east of AllenInterior. "Nothing of notice here. All the doors seem locked. Further [bold type]east[roman type] are the stairs to the lower area."
Instead of examining East Dorms:
	say "The carpet is a dull shade of grey that seems to loop endlessly. You try listening to the different doors, but it sounds like no one is around."
West Dorms is west of AllenInterior. "[if unvisited]You don't notice anything special about this hall, save for a faint beeping [bold type]northwest[roman type] of here. Further [bold type]west[roman type] are the stairs to the lower area. [end if][if Oz is nowhere] All the doors in the hall are locked, save for room 101. Further [bold type]west[roman type] are the stairs to the lower area.[end if]" 


Instead of examining Dorms box:
	say "Yeah, you're sure you hear beeping. It sounds like an alarm going off, somewhere [bold type]northwest[roman type] of here."
Instead of examining Dorm box:
	say "Truly, nothing is here. What a boring hall."

Dorms box is a scenery container in West Dorms. Dorm box is a scenery container in East Dorms. 

Understand "dorms" and "dorm" and "rooms" and "hall" and "beep" and "beeping" and "alarm" and "noise" as Dorms box. Understand "dorms" and "dorm" and "rooms" and "hall" as Dorm box.
	

West Stairs is above AllenInterior. 
The description of West Stairs is "Ahead of you are a set of steel stairs. [bold type]Down[roman type] from here is Unit One, lower dorms, and the Library." 

East Stairs is below AllenInterior.
The description of East Stairs is "Ahead of you are a set of steel stairs. [bold type]Down[roman type] from here is Unit One, lower dorms, and the Library."  West Stairs is west of West Dorms. East Stairs is east of East Dorms.


[event room]
Room 101 is a room. "[if unvisited]The beeping is extraordinarily loud in here. Inside is a generic, messy dorm with two cramped lofted beds. There is a person sleeping in the right bed. Ahead of you, across a sea of dirty laundry, is a desk pressed against the right wall. A window is in the [bold type]north[roman type] wall. A poster is haphazardy hung on the wall [else] You feel odd, looking around again. You remember the term 'liminal space' and think its apt to describe here.".
101box is scenery in Room 101.
Understand "room" and "101" and "room 101" and "this room" as 101box.
Instead of examining 101box:
	if FlickReal is true:
		say "A gaunt man in a navy pinstripe suit lounges on the bed where the sleeping student just was. He gives you a nonchalant wave with his boater hat, and an undeniable presence settles over the room.";
	else if 101Alarm Clock is switched on:
		say "Nothing has changed. Same twin beds, same window, same desk, same ringing alarm.";
	else if 101Alarm Clock is switched off:
		say "Nothing has changed. Same twin beds, same window, same desk. But for whatever reason, the room feels a lot less real."
Understand "poster" as CatPoster.
CatPoster is scenery in Room 101.
Instead of examining CatPoster:
	say "A dingy poster with a kitten hanging from a branch. One second the words say 'HANG IN THERE', and the next you swear they
	say 'ARE YOU LOST?'  before returning to their original words. The cat's paw points [bold type]east[roman type]. Your head swims. That must be the way out of here.";
	stop the action.
101Window is a scenery object in Room 101.
Understand "window"and "the window" as 101Window.
Wood_Door is a lockable, closed, openable door. Wood_Door is east of Room 101 and northwest of West Dorms. Wood_Door is scenery. The printed name of Wood_Door is "Door 101".
Right bed is scenery in Room 101. 
Instead of examining Right Bed:
	if Oz is in Room 101:
		say "A dinky dark blue twin bed lofted off the floor. The undersheet is half off the mattress. A sleeping person is resting peacefully under the covers.";
	else:
		say "A dark blue lofted twin bed. The covers have been tossed on the floor."
Left bed is scenery in Room 101.
Instead of examining left bed:
	say "A dark blue bed lofted off the floor. The mattress barely peeks out from the neatly arranged sheets.".
101Alarm Clock is a device in Room 101. 101Alarm Clock is switched on.  101Alarm Clock can be switched on.
Instead of taking 101Alarm Clock:
	say "You're pretty sure they need this. You put it down."
The printed name of 101Alarm Clock is "an alarm clock". 
Understand "alarm" and "clock" and "beep" and "beeping" as 101Alarm Clock.
Oz is a person in Room 101.  The printed name of Oz is "a sleeping student".
Understand "student" and "sleeper" and "person" as Oz.
Instead of examining Oz:
	say "Despite their alarm going off, they are sleeping soundfully. Well, they're moving rather fitfully, but not waking up."
	
Instead of waking Oz:
	say "You attempt to shake the student awake. However, when you reach for them, your hands pass through like they were made of air."
Understand "wake" and "shake" and "touch" as waking.
Instead of examining 101Alarm Clock:
	if 101Alarm Clock is switched on:
		say "A simple black box furiously blinking at you. The alarm function seems to work even though the clock is flashing 00:00.";
	else if 101Alarm Clock is switched off:
		say "It lays dormant.";
		stop the action.
101Desk is a scenery supporter in Room 101. The printed name of 101Desk is "a desk".
Understand "desk" as 101Desk.
Instead of examining 101Desk:
	if Oz is in Room 101:
		say "A simple wood desk. Wide enough to put a laptop on it and narrow enough for absolutely nothing else. Currently, there's nothing on it.";
	else:
		say "A basic wood desk. A piece of paper has rested carefully in front of you.".
Instead of switching off 101Alarm Clock:
	if Oz is in Room 101:
		say "You carefully sneak past the messy floor, reach over, and switch the alarm clock off. The silence is almost deafening. [paragraph break] Almost instantly, the student bolts upright. Their hair is all over the place, their eyes bordering on three eyebags. It takes a moment of confusion before they mutter a string of panicked swears.  They vault off of the bed and pass through you on the way out the door. A chill runs through you. [paragraph break]";
		Wait for SPACE key;
		say " You hear a flutter of a sheet of paper by the desk. ";
		now 101Alarm Clock is switched off;
		now Oz is nowhere;
		now FlickDrawing is on 101Desk;
	else if Oz is nowhere:
		say "You turn the clock off.";
		now 101Alarm Clock is switched off.
PaperBox is a scenery container in Room 101. FlickDrawing is an object. The printed name of FlickDrawing is "a piece of paper". FlickDrawing is in PaperBox. 
Understand "piece of paper" and "drawing" and "scrap" and "sheet" and "sheet of paper" and "paper" as FlickDrawing. 
Instead of examining FlickDrawing for the first time:
	say "A small drawing fills the page. It seems to be a picture of a man dressed in a suit with a boater hat. He is sketched in pencil. [paragraph break]";
	Wait for SPACE key; 
	say " You blink, and a bottle of ink appears at the head of the drawing. A quill leans nonchalantly against the glass, dipping in the gold liquid.";
Instead of examining FlickDrawing:
	if FinishedDrawing is true:
		say "The second you finished the drawing, it vanished off the paper.";
	else:	
		say "The same piece of paper with the same drawing on it.";
		stop the action.
The Void is a room. Rec Area is north of AllenInterior.
InkBottle is a scenery container on 101Desk. A quill is in InkBottle. 
Understand "ink" and "bottle" and "ink bottle" and "glass" and "bottle of ink" as InkBottle.
Instead of taking InkBottle:
	say "You try to take the ink, but it seems caked onto the desk." 
[action]
A drawing utensil is a kind of thing. A drawing utensil can be usable or drained. A drawing utensil is usually usable.
Quill is a usable drawing utensil. 
InkDrawing is an action applying to two visible things. 
Understand  "draw on [something] with [something]" and "draw with [something] on [something]" and "mark [something] on [something]" as InkDrawing.
Crayon is a usable drawing utensil. Crayon is on 101Desk.
Laundry is scenery in Room 101.
Instead of taking laundry:
	say "Hey! Those aren't yours. Also, they're gross."
Instead of attacking Oz:
	say "You try to hurt the student, but everything you do just flies right through them."
Instead of attacking Flick for the first time:
	say "He tuts at you. 'Really? I don't think you quite understand what's going on here. '".
Instead of attacking Flick for the second time:
	say "He dodges out of the way, clearly bored with your shenanigans.".
Instead of attacking Flick for the third time:
	say "You actually manage to scrape him this time, revealing a gash of gold blood. He waves his hand and it heals in an instant. The gaze he shoots you can only be described as burningly analytical.".
Instead of attacking Flick for the fourth time:
	If PortalWindow is false:
		now player is in The void;
		say "He brushes himself off, easily avoiding your blow. You notice, as his lips are curling into a snarl, a flash of fangs. 'Alright. That's enough of that. Shall we?'";
		wait for SPACE key;
		say "He snaps his fingers. The window in the room begins to glow ominously with a swirling, chaotic energy behind its panes. You can no longer see the grassy grove leading to McKinley, instead only an frothing oilspill of color and sparkles. The rest of the room fades into blackness, leaving you with just the window, the man, and yourself.";
		wait for SPACE key;
		say "The man looks as if he's about to explain something, but instead looks you over. Then, shrugging, he picks you up by your collar, and tosses you through the window.";
		wait for SPACE key;
		say "It's dark.";
		wait for SPACE key;
		say "Painfully dark.";
		wait for SPACE key;
		say "You don't think you quite remember what not darkness looks like? Is this death?";
		wait for SPACE key;
		say "It must be. ";
		wait for SPACE key;
		wait for SPACE key;
		say "After an agonizing amount of time, you see the words 'Extra-diegesis is a room. ' float past and vanish not a second later. How did you see that with no light? The words just seemed to come to you naturally. You decide that if this is not death itself, that it might as well be.[paragraph break] [paragraph break] More words pour into your mind: 'Are you ready to apologize?'";
		 if player consents: 
			say "Good. You are forgiven. But just so we're clear, if you attack me again, I [bold type] will [roman type] kill you.'";
			now player is in Room 101.
Instead of attacking Flick for the fifth time:
	say "You are rather dense, huh? [paragraph break] It only takes a quick motion to jab my cane through your chest. I take great pleasure in watching you bleed, old friend. I hope to see you again soon.";
	now MindYourManners is Completed;
	now CurrentEnding is MindYourManners;
	End the Journey.
	
Every turn when player is in Void:
	now MindYourManners is Completed;
	say "A shame, really.";
	now CurrentEnding is MindYourManners;
	End the Journey.
Instead of examining 101Window:
	say "A normal window with a view out into a grassy area."
Flick is a scenery person in Room 101.The printed name of Flick is "a mysterious gentleman". Understand "man" and "narrator" and "Flick" and "Dante" and "Vernal" and "Kairos" and "Azriel" and "Damien" and "Finn" and "Finnegan" and "thump" as Flick. 
XFlick is a truth state variable. XFlick is false.
Instead of examining Flick:
	if XFlick is false:
		say "You turn, and a man identical to your drawing is lounging on the right bed. The thought that 'your drawing' may be inaccurate crosses your mind just before he begins to speak. [paragraph break] 'Oh, hello there! Pleasure to meet you.' He bounds off the bed, and in a smooth wrist motion, summons a cane to lean on. He holds out his free hand for you to shake. 'My name is[one of] Flick [or] Dante [or] Vernal [or] Kairos [or] Azriel [or] Damien [or] Finn [or] Finnegan [or] Thump [at random]. Thank you ever so much for finding me! [paragraph break] Unfortunately for us both, my words are rather limited right now.'";
		wait for SPACE key;
		say "'You see, I am a narrator. '[paragraph break][italic type] You know, like this?[roman type] [paragraph break] 'One specific narrator for one specific person place and time, namely-' He hits his cane to the floor. 'Right here, right now, as you are playing. As I am currently being written, it is 4:55 AM on a Sunday evening (or Monday morning, if we're being pedantic), meaning the likelihood of me being as [italic type] thorough and well-spoken [roman type] as I deserve to be is...slim.' He looks a little into the distance, but you can't tell exactly what he's looking at. Just that he looks judgemental.[paragraph break]";
		wait for SPACE key;
		say "'I've rambled enough. It's a pleasure to meet you for sure, but for now, I do need a favor.' [paragraph break] He pauses. [paragraph break]'I need you to just, draw a teeny tiny, inconsiquential amount of blood. You know, to finish the drawing?' You were sure you never saw him take it, but he holds up the exact drawing from earlier. He smiles at you eagerly, like a kid with his artwork put on a fridge. 'It'll be fun, I promise. Though, if you don't mind, I'm going to drop this who ' 'dialogue' 'thing. It's incredibly tedious.'";
		now XFlick is true;
	else if XFlick is true:
		if BloodCounter is not 4:
			say "[one of]A mysterious and dashing narrator, if you do say so yourself. It sounds like a really neat idea to draw some blood for him.[or] A trustworthy looking guy. [or] You think his outfit looks cool, and take a mental note to copy it later. [or] You feel safe in his presence. Safe enough to continue the story and draw some blood, even. [or] Did you know this room isn't even real? Or at least, its not where its supposed to be. That's what happens when you narrate with memory issues. [at random]";
		else if BloodCounter is 4:
			say "He waves at you, but doesn't say anything." .
	
PortalWindow is a truth state variable. PortalWindow is false.
FinishedDrawing is a truth state variable. FinishedDrawing is false. 
Instead of InkDrawing:
	if FinishedDrawing is false:
		if noun is quill:
			say "You grab the quill and quickly start to draw on the paper. No matter what you seem to do, your hand seems possessed towards following the lines already given. Gold ink starts to pool on the page, solidifying the sketch into something more real. Your hand shakes. [paragraph break] Slowly but surely, you finish the drawing. The effort seems to have taken a lot out of you, a lot more than one could expect. [paragraph break]";
			Wait for SPACE key;
			say "Before you can react, you hear the loud [italic type] thump [roman type] of someone settling on the bed behind you.";
			now player has quill;
			now FinishedDrawing is true;
			now Flick is in Room 101;
			stop the action;
		else if second noun is quill:
			now player has quill;
			say "You grab the quill and quickly start to draw on the paper. No matter what you seem to do, your hand seems possessed towards following the lines already given. Gold ink starts to pool on the page, solidifying the sketch into something more real. Your hand shakes. [paragraph break] Slowly but surely, you finish the drawing. The effort seems to have taken a lot out of you, a lot more than one could expect. [paragraph break]";
			Wait for SPACE key;
			say "Before you can react, you hear the loud [italic type] thump [roman type] of someone settling on the bed behind you.";
			now FinishedDrawing is true;
			now player has paper;
			now FlickReal is true;
			now Flick is in Room 101;
			stop the action;
		else:
			say "You try drawing with whatever you have on hand, but nothing happens. Besides a sick doodle.";
			stop the action;
	else if FinishedDrawing is true:
		say "The drawing is finished. You can't force yourself to add to it."
		
Instead of BloodDrawing:
	if FinishedDrawing is false:
		if noun is quill:
			say "You grab the quill and quickly start to draw on the paper. No matter what you seem to do, your hand seems possessed towards following the lines already given. Gold ink starts to pool on the page, solidifying the sketch into something more real. Your hand shakes. [paragraph break] Slowly but surely, you finish the drawing. The effort seems to have taken a lot out of you, a lot more than one could expect. [paragraph break]";
			Wait for SPACE key;
			say "Before you can react, you hear the loud [italic type] thump [roman type] of someone settling on the bed behind you.";
			now player has quill;
			now FinishedDrawing is true;
			now Flick is in Room 101;
			stop the action;
		else:
			say "You try drawing with whatever you have on hand, but nothing happens. Besides a sick doodle.";
			stop the action;
	else if FinishedDrawing is true:
		if noun is your blood:
			if BloodCounter is 0:
				say "You lift your arm, analyzing where best to draw blood from. Suddenly you have a knife and you feel yourself grip it so hard your knuckles turn white. The atmosphere in the room becomes crushing. You should just hurry up. Any spot is fine, really, its all the same to me, I even gave you that nice sharp knife.";
				now player has Knife;
				increase BloodCounter by 1;
				stop the action;
			else if BloodCounter is 1:
				say "Come on. Its easy. You lift your arm up. And then you press the knife to your skin and you...";
				increase BloodCounter by 1;
			else if BloodCounter is 2:
				say "Yes! You draw blood! But you aren't bleeding, I don't know why... Are you keeping secrets from me? This should be working, why isn't it working? [paragraph break] [italic type] The drawing falls to the floor. [roman type]";
				increase BloodCounter by 1;
			else if BloodCounter is 3:
				say "You...Oh [paragraph break] Okay. I understand now. [paragraph break] You bend down, picking up the drawing. Slowly but surely you start to add to the drawing.";
				wait for any key;
				say "a line here...";
				wait for any key;
				say "a dash there...";
				wait for any key;
				say "There. You finished. When you hold up the drawing to...me, I can see that you've 'drawn blood'. A pool of blood is trickling around my feet. [paragraph break] .... [paragraph break] It's a little crude but...you [italic type] did [roman type] do me a favor. I'll take that. [paragraph break] [paragraph break] I wave my hands over the paper, dropping a single drop of my own blood onto your drawing. You notice that it shines gold like the ink on your desk. When I'm done, I hand it back to you.";
				wait for SPACE key;
				say "Here. For your reward: you never have to see me again.";
				wait for SPACE key;
				say "I'm kidding. I've turned your drawing into a handy map, for finding places more exciting and real than this. You're welcome.";
				now Player has FlickDrawing;
				now Player has BloodMap;
				now BloodCounter is 4. 
						
Instead of examining BloodMap for the first time:
	say "You take that map and draw almost any place on it, and poof. You're there. I won't be though, I'm going home. Oh and, use it wisely, yeah? There's only so much magic in it, I'd say enough for five drawings.".
Instead of examining BloodMap:
	say " A piece of paper glittering with gold. Shapes move across it magically, forming what you imagine is a sort of map. Though its hard to think of using it as a guide. There are [MapCounter]/5 tally marks on it."
Understand "map" and "bloody map" and "drawing" and "blood map" as BloodMap.
MapDrawing is an action applying to one visible thing.
 Understand "draw [any room]" as MapDrawing.
 Carry out MapDrawing:
	if Player has BloodMap:
		say "You feel yourself vanish, slipping inbetween words and reality. When you reappear, you are at [noun]. A tally mark appears on your map.";
		move the player to the noun;
		increase MapCounter by 1;
	else if player has a drawing utensil: 
		say "You draw a shoddy rendition of [noun].";
	else: 
		say "You draw something in the air with you finger, for some reason.".
		
Check MapDrawing:
	if MapCounter is 5:
		say "Your map seems to be out of blood. You watch as it shrivels for a moment, before turning to ash.";
		now BloodMap is nowhere.

			
Instead of giving FlickDrawing to Flick:
	say "A lovely self portrait right? But I don't need it." 
BloodBox is a scenery object in Room 101. Your blood is an object in BloodBox. Knife is an object in BloodBox. BloodMap is an object in BloodBox. Understand "your blood" and "blood" as Your blood.		
BloodDrawing is an action applying to one visible thing. 
MapCounter is a number variable. MapCounter is 0. 
Understand "draw [something]" as BloodDrawing.
BloodCounter is a number variable. BloodCounter is 0.

[I cannot for the life of me make it so you have to use the paper to activate the event] 
		
FlickReal is a truth state variable. FlickReal is false.

	


VOLUME 4 - SOUTH CAMPUS

BOOK 1 - REGIONS

SouthCampusOutdoor is a region.

CentralSouthNeighborhood is an OutdoorRegion in SouthCampusOutdoor.
Bicycle Highway and Behind Foellinger and Smith Hall and Campus Observatory and Morrow Plots and Undergraduate Library Courtyard and Main Library and LibBusStopSouth and LibParkingLot and LibBusStop and SixthGregory are in CentralSouthNeighborhood.

MiddleSouthNeighborhood is an OutdoorRegion in SouthCampusOutdoor.
David Kinley Hall and Between Quads and Education Building and Architecture Building and UIUC Extension and Architecture Courtyard and EducationParkingLotWest and EndlessParkingLot and EducationParkingLotEast are in MiddleSouthNeighborhood.

FarSouthNeighborhood is an OutdoorRegion in SouthCampusOutdoor.
Center of the South Quad and SouthEndSouthQuad and Stock Pavilion  and StockParking, and EastPrairieInstitute and WestPrairieInstitute and Little Grove and School of Architecture and Giant X and Department of Agriculture and CU Community Fab Lab are in FarSouthNeighborhood.

SouthCampusIndoor is a region.

ObservatoryMap is an IndoorRegion in SouthCampusIndoor.
ObservatoryInterior is in ObservatoryMap.

SmithMap is an IndoorRegion in SouthCampusIndoor.
Smith Auditorium and Smith Basement and Smith Second Floor and SmithHallInterior, and SmithSecondFloor are in SmithMap.

MainLibraryMap is an IndoorRegion in SouthCampusIndoor.
MainLibraryInterior and TheStacks and Main Library Atrium, LibraryBasementHallway, ROOM 66, BATHROOM_J, StacksDesk, StacksEntry, and Atrium Hallway are in MainLibraryMap.

EducationBuildingMap is an IndoorRegion in SouthCampusIndoor.
EducationBuildingInterior and Education Building Center and Education Servers and IDEA Lab and Room 166 are in EducationBuildingMap.

UndergradMap is an IndoorRegion in SouthCampusIndoor.
UGLibrary, UGLFirstFloor, UGL Upper Level, MazeEntrance_B, Maze1_B, Maze2_B, Maze3_B, Maze4_B, Maze5_B, DeadEnd1_B, DeadEnd2_B, DeadEnd3_B, DeadEnd4_B, PowerRoom_B, FixedBasement are in UndergradMap.

KinleyTrollMap is an IndoorRegion in SouthCampusIndoor. DavidKinleyHallInterior and DKH Basement and DKHBackHall and DKHRoom B35 and DKHRoom 114 and 2ndFloorHall and 2ndFloorOffice and Student Help Lab and Nutty Professor's Office and TrollsDungeon and DKH Main Hall and Troll's Lair are in KinleyTrollMap.

WohlersMap is an IndoorRegion in SouthCampusIndoor. WohlersInterior is in WohlersMap.

StockPavilionMap is an IndoorRegion in SouthCampusIndoor.
StockPavilionInterior, and East End of Stock Pavilion and StockStorage and Smelly Bathroom are in StockPavilionMap

FablabMap is an IndoorRegion in SouthCampusIndoor. Staff Room and Cramped Closet and Robotics Lab and FabLabInterior are in FabLabMap.


BOOK 2 - OUT of DOORS

PART 1 - ROOMS

Bicycle Highway is south of Gregory Hall and north of Main Library and west of Behind Foellinger. "This [bold type]east[roman type]-[bold type]west[roman type] highway for bikes can be dangerous for pedestrians. The Main Library is to the [bold type]south[roman type] and Gregory Hall is immediately to the [bold type]north[roman type]."

Behind Foellinger is west of Smith Hall and south of Foellinger Hall. "You are on a busy intersection of walkways, bike paths, flowering trees, and glowering statues behind Foellinger Hall. You can enter the building only from its [bold type]north[roman type]-facing side. Smith Hall is to the [bold type]east[roman type], Gregory Hall is to the [bold type]northwest[roman type] and the Undergraduate Library Courtyard is directly to the [bold type]south[roman type]."

Undergraduate Library Courtyard is south of Behind Foellinger and west of Morrow Plots and southwest of Smith Hall and north of Between Quads. "You are in the middle of a wide concrete courtyard. You can[bold type] go [roman type] [bold type]inside[roman type] the Undergraduate Library Entrance from here, though the library itself is below your feet. The Main Library building lies to the [bold type]west[roman type]. A field of corn is waving in the [bold type]east[roman type]. To the [bold type]south[roman type] stretches the grassy expanse of the South Quad."

Main Library is west of Undergraduate Library Courtyard and north of David Kinley Hall. 
"On the east facing side of the Main LIbrary you can see two concrete statues kneeling on either side of its entrance. You'll have to walk past them to [bold type]enter[roman type] the Library. Be careful."

Morrow Plots Kernel is a scenery thing in Morrow Plots.
Understand "kernels" and "popcorn kernels" as Morrow Plots Kernel.
Instead of examining the Morrow Plots Kernel:
	say "They look like typical popcorn kernels, except for that they have a golden tint to them."
Instead of taking the Morrow Plots Kernel:
	say "You'd rather not have to carry the kernel around. It does look tasty though."
Instead of eating the Morrow Plots Kernel:
	say "You pick up one of the kernels and admire it. You can't resist the allure of its golden shell. You pop the kernel into your mouth and bite down. The kernel breaks and you feel a rush of sensation throughout your body. Your teeth ache a bit and your head feels somewhat heavier. The kernels are gone.";
	now the Morrow Plots Kernel is nowhere;
	the Corn Squirrel Visits in five turns from now;
	now the right hand status line is "Shade and corn".


[ANCHOR - CORN SQUIRREL.] [anchor to get to and fro corn squirrel code, funk code, and bell tower code.]

CornSquirrelDimension is an outdoor room. "A dimension of seemingly infinite corni-ness, inhabited by the great Corn Squirrel."
The printed name of CornSquirrelDimension is "The Corn Squirrel Dimension".
Understand "corn dimension" or "corn squirrel dimension" or "corn squirrel's dimension" or "corn squirrels dimension" as CornSquirrelDimension.

KernelSquirrels is a scenery thing in CornSquirrelDimension. "A pack of squirrels shaped like corn kernels."
The printed name of KernelSquirrels is "Kernel Squirrels".
Understand "kernel squirrels" or "squirrels" or "kernels" or "kernelsquirrels" as KernelSquirrels.

CornSquirrel is a photogenic squirrelperson in CornSquirrelDimension. "The great corn squirrel looms large. Fractalline corn cobs make up it's body."
The printed name of CornSquirrel is "Corn Squirrel".
Understand "corn squirrel" or "cornsquirrel" or "corn" or "squirrel" or "cornsquirrel" as CornSquirrel.

instead of examining CornSquirrel for the first time:
	say "As you ponder their cobbiness, you notice their bulging eyes peering at you, almost expectantly."

instead of examining CornSquirrel:
	say "You and the corn squirrel look at eachother, they still want to talk to you."

CornSquirrelHappy is a truth state variable. CornSquirrelHappy is true.

CornSquirrelTopic is a kind of value. 
The CornSquirrelTopics are 
	CTCorn, 
	CTGoldenKernel, 
	CTDimension, 
	CTMorrowPlots, 
	CTBellTower, 
	CTMorrowMonster, 
	CTCultist, 
	CTAgri, 
	CTFunkLibrary, 
	CTHome,
	CTExperiment,
	CTResult.

[ CTCorn CTGoldenKernel CTDimension CTMorrowPlots CTBellTower CTMonster CTCultist CTAgri CTHome]
Understand "corn squirrel" or "corn" or "squirrel" or "The Corn Squirrel" or "yourself" or "itself" or "themself" as CTCorn.
Understand "golden kernel" or "kernel" or "gold kernel" or "The Golden Kernel" as CTGoldenKernel.
Understand "corn dimension" or "corn squirrel dimension" or "corn squirrel's dimension" or "squirrel's dimension" or "dimension" or "The Corn Squirrel's Dimension" as CTDimension.
Understand "plots" or "morrow" or "morrow plots" or "The Morrow Plots" as CTMorrowPlots.
Understand "tower" or "bell tower" or "pavillion" or "The Bell Tower"  or "great tower" or "the great tower" as CTBellTower.
Understand "vegetation" or "mutant vegetation" or "monster" or "corn monster" or "morrow monster" or "morrow plots monster" or "The Mutant Vegetation" as CTMorrowMonster.
Understand "cultists" or "morrow cultists" or "plot cultists" or "morrow plots cultists" or "The Cultists" or "arcanists" or "arcane method" or "arcane methods" as CTCultist.
Understand "department of agriculture" or "school of agriculture" or "agri" or "ACES" or "The Department of Agricultural Sciences" as CTAgri.
Understand "funk library" or "library" or "agriculture library" or "ACES Library" or "ACES" or "The ACES Library" as CTFunkLibrary.
Understand "home" or "going home" or "going back" or "where I was" or "returning" or "to return" or "to go back" or "to go home" as CTHome.
Understand "experiment" or "morrow plots experiment" or "experimentation" or "morrow plots experimentation" or "The Morrow Plots Experiment" as CTExperiment.
Understand "result" or "results" or "experiment result" or "morrow plots experiment result" or "experimentation result" or "morrow plots experimentation result" or "The Experiment's Results" as CTResult.

CornSquirrelConvoing is an action applying to one visible thing and one CornSquirrelTopic.
Understand "ask [CornSquirrel] about [any CornSquirrelTopics]" or "talk to [CornSquirrel] about [any CornSquirrelTopics]" or "ask [CornSquirrel] [any CornSquirrelTopics]" or "talk to [CornSquirrel] [any CornSquirrelTopics]" as CornSquirrelConvoing.

Understand "ask [CornSquirrel] about [text]" as a mistake ("The corn squirrel knows not about this matter. How about you [italic type]think about what to ask[roman type] the corn squirrel.")

ConvoTopicGenerating is an action applying to nothing.
Understand "think about what to ask" as ConvoTopicGenerating.

Carry out ConvoTopicGenerating:
	if the player is not in the CornSquirrelDimension:
		say "There's no one to ask really, at least no one this piece of code- oh wait. This is a game. Sorry for breaking the fourth wall player!";
	say "After some thinking, you come up with the following topics to ask about:[paragraph break]";
	repeat through the Table of CSCT Meta:
		if the enabled entry is true:
			say " 	-[printed_name entry][line break]";

To CTGoHome: 
	say "The corn squirrel looks down upon you, and asks 'Are you sure you wish to return?'";
	if the player consents:
		if CornSquirrelHappy is true:
			say "'I have much enjoyed our conversation, and hope you will return' bellows the corn squirrel. It reaches out and gives you another of his golden kernels, so that you can eat it and return here if you so desire.";
			now the player carries the Morrow Plots Kernel;
		else:
			say "'While I cannot say I enjoyed my time speaking with the likes of you, I will still grant you leave to return,' says the Corn Squirrel. 'Return, and never again come back here.'";
		move the player to CornSquirrelOriginalRoom;
	else:
		say "'Very well, we can continue to discuss matters'";

Table of CSCT Meta
convotopic 	cur_idx 	enabled 	printed_name
CTCorn	0	true	"The Corn Squirrel"
CTGoldenKernel	0	true	"The Golden Kernel"
CTMorrowPlots	0	true	"The Morrow Plots"
CTDimension	0	true	"The Corn Squirrel's Dimension"
CTBellTower	0	false	"The Bell Tower"
CTMorrowMonster	0	true	"The Mutant Vegetation"
CTCultist	0	false	"The Cultists"
CTAgri	0	false	"The Department of Agricultural Sciences"
CTFunkLibrary	0	false	"The ACES Library"
CTHome 	0 	true 	"Going Back"
CTExperiment 	0 	false 	"The Morrow Plots Experiment"
CTResult 	0 	false 	"The Experiment's Results"

Table of CSCT Responses
convotopic	response_index 	response 	enablers
CTCorn 	0 	"I am the corn squirrel, a being of and from the corn. While my minions work in your realm, I am the denizen of this dimension. May your fructose be high." 	{CTDimension}
CTCorn 	1 	"I was not created, but rather just was. Just as your world sits in a space that begs no beginning, so I am without a start." 	{}
CTCorn 	2 	"Contact with this dimension, though, is of a more recent origin. What you know as the morrow plots is not some soil fertilization experiment, but rather a test chamber for the means to walk between realities. Your Department of Agriculture was the first entity to successfully breach into this dimension." 	{CTAgri}
CTGoldenKernel 	0 	"Ahhh, yes, that which transported you here. A marvelous invention of those agriculturalists from your university. Like all other seeds, it sprouts roots. Rather than tunneling into soil, though, it leeches nutrients from a much more creative place." 	{}
CTGoldenKernel 	1 	"It digs into the very fabric of reality, pulling its nutrients from every facet of the multiverse. The results of the experiments with it would truly shock you, but I never had access to those." 	{CTExperiment}
CTGoldenKernel 	2 	"While the kernel is the method of travel I know about, whose to say your agriculturalists didn't manage to find a different manner. A more, arcane manner." 	{CTCultist}
CTGoldenKernel 	3 	"A fraction of my power resides in the kernel, but occasionally cultist-type figures arrive here in hopes to obtain a higher conversion." 	{CTCultist}
CTMorrowPlots 	0 	"The morrow plots is the original transportation hub between our dimensions. Guided by both science and ritual, scientists and cultists managed to transmute the soil to a more ethereal plane. Once which existed in many multiverses at once." 	{CTAgri, CTCultist}
CTMorrowPlots 	1 	"Occasionally, a stray student journeys into the plots --- against the better warnings your university tries to transmit. They land here, afraid and confused - unlike your refreshing calm. I have to send them back, though they're never the same as before." 	{} 
CTMorrowPlots 	2 	"I hope they find safety in your realm, but I fear the cultists may pursue them in hopes of extracting what essence of my dimension remains within them." 	{}
CTDimension 	0 	"This is my dimension, what your predecessors have ``affectionately'' possessively entitled to me. It is as you see it, though between every kernel rests a million worlds each with a billion lives germinating, terminating, and reproducing." 	{}
CTBellTower 	0 	"Ahh, is that what it was? Long ago scientists visited and took many measurements. My purview, being absolute, granted me sight of their notes --- plans for a grand tower that would bridge your world to all others, not just this one." 	{}
CTBellTower 	1 	"For whatever reason, I have not heard more about this, but I know that whatever spell those notes designed had a fatal flaw: the direction of their connection went the wrong way." 	{}
CTBellTower 	2 	"If it were to ever be cast, this world would split into the tiniest shards imaginable. It would spread out like blown dust across every universe, and all would certainly perish." 	{}
CTBellTower 	3 	"Saying it in reverse, I would hope, should forge the connection in the right direction. But without seeing their current copy, I wouldn't know for certain." 	{}
CTMorrowMonster 	0 	"The poor creature, a vestige of the experiments that connected my world to yours. It is the conglomeration of a thousand civilizations from my domain, a coalescence of misery and agony and fear. Why your scientists haven't put it out of its misery is beyond me, but I don't know if they even could." 	{}
CTMorrowMonster 	1 	"I do, however, still sense the essence of the creature. It's split in twain, half of it writhing in the plots, while the other half wilts under the library of the agronomists." 	{CTFunkLibrary}
CTCultist 	0 	"While science was a major part in the endeavors to get here, magic was even more essential. Improving on an ancient magic tome, the Morrow Cultists were the ones who contributed the extraspiritual energy needed to establish the pathways between our worlds."  	{}
CTCultist 	1 	"In the digital age, their numbers seem to dwindle - though that's certainly for the best." 	{}
CTCultist 	2 	"Back in their hay day, they had quite the stronghold under the library named after their patriarch - Isaac Funk." 	{CTFunkLibrary}
CTCultist 	3 	"I don't know much about their current numbers, but I do remember them to be quite dangerous... Though they are very trusting to members of their own group." 	{}
CTAgri 	0 	"The Department of Agricultural Sciences is the biggest front, covering up an eldritch organization dedicated to spreading the roots of humanity across all universes. They are the group responsible for the Morrow Plots, for the kernel, for you being here, and so much more." 	{}
CTAgri 	1 	"They sprouted off of the Morrow Cultists, though they maintain strong contact, after all magic bends the laws of physics that science so staunchly abides by." 	{} 
CTAgri 	2 	"While they've mostly remained dormant, I can feel them plotting something. Something at the confluence of the great tower and the experiment." 	{CTBellTower, CTExperiment}
CTExperiment 	0 	"Originally conceived as a method to connect our worlds, the experiment is the ultimate goal of the Department of Agriculture and the Morrow Cultists." 	{CTAgri, CTBellTower}
CTExperiment 	1 	"They want to fracture the boundaries that separate realities. The kernel that brought you here was the first stage, but there is something much stronger brewing." 	{CTGoldenKernel}
CTExperiment 	2 	"While it seems to have gone dormant, I fear what may happen if it is ever completed by the agriculturalists or the cultists. For those inclined to science, an experiment is all they know to do. But if an experiment like this were to fail? It may not be only your world doom in the ensuing flames." 	{}
CTFunkLibrary 	0 	"While the upper floors are where your ilk study, below ground is where the experiments are conducted. I've never been able to breach into your world to see it, but I do know the entrance to their lair lies under a kernel-covered tile." 	{}
CTFunkLibrary 	1 	"I still feel a part of the morrow monster's essence down in those catacombs. But the intensity of such feeling waxes and wanes, with a cycle much more rapid and irregular than any lunar orbit." 	{}
CTFunkLibrary 	2 	"I fear dark magic and science may be at play in those halls, that the power to free creatures from death or to cast it into its blackened cages." 	{}
CTResult 	0 	"Oh my, you've found the results and brought them to me. I started examining it the moment you arrive, and am able to decipher almost all of it." 	{}
CTResult 	1 	"While the other pages are filled with results that got them to the morrow plots and other assorted details, this bookmarked page seems to be what they call ``The Sprouting''." 	{}
CTResult 	2 	"The incantation they designed is supposed to allow the caster to, metaphorically, sprout roots into every timeline and transplant themselves into whichever one gives them the most happiness." 	{}
CTResult 	3 	"The experiments they performed on the other half of the morrow monster, killing and reviving it over and over again, let them witness how the ``spirit'' of the monster attempted to return back to this dimension, thus revealing to them easier methods of transdimensional breaching." 	{}
CTResult 	4 	"While the majority of the spell is sound, there is a fatal flaw that, as it stands, would send the caster to the version of themselves which is the saddest. I'll alter in the correction." 	{}
CTResult 	5 	"There, now it should work. I'm vesting a large degree of trust in you, o player mine. Please use this power to honor the memory of my poor morrow monster. Now go to the conduit and cast the spell!" 	{}
CTResult 	6 	"Oh, before I forget: make sure to cast it in reverse! Though I fixed their flaw, the structure of the spell still requires the opposite orientation. I have no clue what may happen if the corrected spell is cast directly." 	{}
CTHome 	0 	"You wish to go back to your realm? I can arrange that." 	{}

SpellbookAltered is a truth state that varies. SpellbookAltered is false.
To carry out the conversational action for (top - a CornSquirrelTopic) at index (i - a number):
	if top is CTHome:
		CTGoHome;
	if top is CTFunkLibrary:
		now the CultTile is in ACESLibraryInterior;
	if top is CTResult and i is 4:
		now SpellbookAltered is true;

To have the corn squirrel respond to a (top - a CornSquirrelTopic):
	choose the row with a convotopic of top in the Table of CSCT Meta;
	let cur_idx be the cur_idx entry;
	let top_print be the printed_name entry;
	if the enabled entry is false and CornSquirrelHappy is true:
		now CornSquirrelHappy is false;
		say "The corn squirrel expresses displeasure at your unexpected conversational topic.[line break]";
	now the cur_idx entry is cur_idx + 1;
	let resp be text;
	let enablers be a list of CornSquirrelTopics;
	let reached_entry be false;
	let max_top_idx be -1;
	repeat through the Table of CSCT Responses:
		if the convotopic entry is top:
			now max_top_idx is the response_index entry;
		if the convotopic entry is top and reached_entry is false:
			now resp is the response entry;	
			now enablers is the enablers entry;
			if the response_index entry is cur_idx:
				now reached_entry is true;
		if reached_entry is true and the convotopic entry is not top:
			break;
	say "[resp][line break]";
	if max_top_idx > -1 and cur_idx < max_top_idx:
		say "Though it finished talking, it seems the corn squirrel has more to say about [top_print].";
	repeat with X running through enablers:
		choose the row with a convotopic of X in the Table of CSCT Meta;
		now the enabled entry is true;
	carry out the conversational action for top at index cur_idx;

Carry out CornSquirrelConvoing:
	let toc be CornSquirrelTopic understood;
	have the corn squirrel respond to a toc;

instead of talking to CornSquirrel:
	say "You open your mouth in preparation for idle chitchat, but the grandiosity of the corn squirrel glues your mouth shut. Perhaps you would feel more confident if you asked the corn squirrel about something specific. Think about what to ask first."
Mutant Vegetation is a scenery thing in Morrow Plots.
Understand "mutant vegetation" or "mutant veggie" or "mutation" as Mutant Vegetation.
Instead of examining Mutant Vegetation the first time:
	say "Just as you suspected! A mutant corn stalk pops out of the soil and stares at you with an angry grin. It spits popcorn kernels at you. The hard kernels smack you in the face. The mutant corn stalk laughs in jest. Before you can retaliate, it slides back into the soil, hidden from view. There are popcorn kernels all over you."
Instead of examining Mutant Vegetation:
	say "Looks like the coast is clear."

Morrow Plots is east of Undergraduate Library Courtyard and south of Smith Hall. "[if unvisited]You find yourself standing in front of the Morrow Plots, the oldest experimental agricultural plot in America. You've heard rumors about what grows there, but all you know for sure is that entering the field itself is heavily forbidden by the school. You suspect there are carnivorous zombie eggplants.[paragraph break][end if]You glance around furtively at the corn crop,  keeping an eye out for mutant vegetation.[paragraph break]The Undergrad Library Courtyard is situated to your [bold type]west[roman type]. To the [bold type]southeast[roman type] across the street lies the Animal Sciences Lab. At one end of Morrow Plots is the Astronomical Observatory, which you can [bold type]enter[roman type] from here."

barred window is scenery in morrow plots. The description of barred window is "Why would they put bars on observatory windows? What are they trying to keep out -- or in?"

experimental corn is photogenic, scavengerhuntable scenery in morrow plots. Understand "corn crop" and "field" as experimental corn. 
The description of experimental corn is "This corn is as high as an elephants eye."

[
CornMaze is a region. Maze1 and maze2 and Maze3 are in CornMaze.

Every turn when player is in CornMaze:
	if a random chance of 1 in 10 succeeds:
		say "A dark creature appears in over your shoulder. You better run!"

Maze1 is a room. the printed name of maze1 is "In the Corn Maze."
The description of Maze1 is "The maze is deep and dark."
Instead of going nowhere when player is in Maze1:
	say "You stumble around the maze and don't get anywhere."

Maze2 is northwest of Maze1. The printed name of maze2 is "In the Corn Maze."
The description of Maze2 is "The maze is deeper and darker."
Instead of going nowhere when player is in Maze2:
	say "You wish you could get out of here, but you can't figure out the way."

Maze3 is east of Maze2. The printed name of maze3 is "In the Corn Maze."
The description of Maze3 is "The maze is even deeper and darker."
Instead of going nowhere when player is in Maze3:
	say "You are starting to feel claustraphobic and panicky. Which way to go?"

Maze4 is southeast of Maze3. The printed name of maze5 is "In the Corn Maze."
The description of Maze4 is "The maze is ever more deep and dark."
Instead of going nowhere when player is in Maze4:
	say "You stumble out of the maze. Thankfully you're safe and sound!";
	now player is in Morrow Plots.
]

UIUC Extension is south of Morrow Plots and north of Giant X and east of Between Quads. "[if unvisited]You've never been in this building, and you've never seen anyone go in it either.[end if] The UIUC Extension building seems to be locked. You can go [bold type]west[roman type] towards the South Quad, [bold type]east[roman type] to the Animal Sciences Lab, [bold type]north[roman type] or follow an interesting path going [bold type]south[roman type]."

Between Quads is south of Undergraduate Library Courtyard and east of David Kinley Hall. "You are standing at on Gregory avenue, on the north end of the south quad, and the south end of the Library quad."

the Giant X is southeast of Between Quads. "You are standing at the center of an X formed by criss-crossing sidewalks. Pick a direction, any direction. Mostly."

the Center of the South Quad is a room.

the Center of the South Quad is south of Between Quads and west of the Giant X. "You are in a sea of grass. A modern looking bell tower rises up beside you.[if unvisited] There is a giant X on the [bold type]east[roman type], grass keeps extending to both [bold type]south[roman type] and [bold type]north[roman type]. To the [bold type]west[roman type] is a little grove of trees.[end if]"

familiar person is a person in the Center of the South Quad. "A person who looks vaguely familiar walks slowly past you."

Every turn when the minutes part of time of day is 00 and player is in MainQuadOutdoor:
	say "You hear the bells at Altgeld start ringing. After [time of day as 12h time] chimes the bell goes silent."

Every turn when the minutes part of time of day is 00 and player is in WestCampusOutdoor:
	say "You hear the bells at Altgeld start ringing. After [time of day as 12h time] chimes the bell goes silent."

Every turn when the minutes part of time of day is 00 and player is in NorthwestCampusOutdoor:
	say "You hear the bells at Altgeld start ringing.[paragraph break]After [time of day as 12h time] chimes the bell goes silent."

Every turn when the minutes part of time of day is 00 and player is in NorthCampusOutdoor:
	say "You hear the bells at Altgeld start ringing.[paragraph break]After [time of day as 12h time] chimes the bell goes silent."

Every turn when the minutes part of time of day is 00 and player is in SouthCampusOutdoor:
	say "You hear the bells at the South Quad Bell Tower start ringing. After [time of day as 12h time] chimes the bells go silent."
	
Every turn when the minutes part of time of day is 00 and player is in SoutheastCampusOutdoor:
	say "You hear the bells at the South Quad Bell Tower start ringing. After [time of day as 12h time] chimes the bells go silent."
	
Every turn when the minutes part of time of day is 00 and player is in SouthwestCampusOutdoor:
	say "You hear the bells at the South Quad Bell Tower start ringing. After [time of day as 12h time] chimes the bells go silent."

[[ BELL TOWER ANCHOR]]
SouthQuadBell is a fixed in place scenery thing in Center of the South Quad.
Understand "bell" and "bells" and "belltower" and "bell tower" and "tower" as SouthQuadBell.
The printed name of SouthQuadBell is "South Quad Bell".

SpellType is a kind of value.
The SpellTypes are SpellNormal and SpellReversed.

Understand "spell" or "experimental spell" or "result spell" as SpellNormal.
Understand "spell reversed" or "experimental spell reversed" or "result spell reversed" or "spell in reverse" or "experimental spell in reverse" or "result spell in reverse" as SpellReversed.
Spellcasting is an action applying to one SpellType.
Understand "cast [any SpellType]" or "[any SpellType] cast" as Spellcasting.

Check Spellcasting:
	if the location of the player is not Center of the South Quad:
		say "You attempt to cast a spell, but the land on which you cast it provides no conduit. It fizzles out pitifully.";
		stop the action;
	if player is not carrying Experiment Book:
		say "You stand under the Bell Tower and bask in the power it funnels into you. However, since you have no spellbook from which to cast, you begin to mutter complete garbage.";
		say "With terms like Zaoxy Zu, and Thimbly Thru, you make a complete mockery out of the act of spellcasting.";
		now CurrentEnding is SpellNoNotebook;
		say "Punished for your moronic hubris, you, by chance, cast a spell to transport your consciousness into a dunce cap worn by troublesome schoolchildren in the American Prairie in 1837. You live out the rest of your days in various boxes and corners, trapped forever.";
		End The Journey;
		stop the action;
	
Carry out Spellcasting:
	let spell be the spelltype understood;
	if SpellbookAltered is false and spell is SpellReversed:
		say "As you chant the incantations from the ultimate spell of the Morrow Cultists, something begins to feel off. You continue though, proud in you ability to pilfer the book from the unwitting cultists.";
		say "However, the cultists left an unfixable fatal flaw in their spell. While it was mean to transport you to the happiest version of yourself, you end up embedding yourself into the version that is the least happiest. Once the transfer is complete, you open your eyes and lay your eyes on Purdue University. You spend the rest of your life trapped in the soulless campus, trying to finish a Physics degree like Sisyphus tries to finish pushing the boulder up his cliff.";
		now CurrentEnding is SpellNoAlteredReversed;
	otherwise if SpellbookAltered is false and spell is Spell:
		say "As you chant the incantations from the ultimate spell of the Morrow Cultists, you feel something pulling you in all directions at once. You find yourself unable to stop the casting of the spell, watching as everything around you - including your mouth, eyes, and even perception - splits into a million specks in a million universes.";
		say "One of you watches a great grey beast with a single ruby eye mold a planet, another bakes in a universe filled with fire. Once the spell is done, every atom of the Earth and this universe now coexists in all others at once. A cacophony of experience is what you and the rest of the conscious beings in this world experience until the heat death of [italic type] every [roman type] universe.";
		now CurrentEnding is SpellNoAlteredDirect;
	otherwise if SpellbookAltered is true and spell is SpellReversed:
		say "As you chant the incantations from the ultimate spell of the Morrow Cultists, you feel a wondrous sense of calm fall over you. You happily continue the rest of the spell, as your vision begins to blur and refocus in an entirely new place.";
		say "You find yourself in a building, with math students hurriedly scurrying about. The waiter in front of you flips a cup of ice cream upside down, to confirm it's temperature is so frigid that the frost keeps it clung to the walls, spiting gravity.";
		say "The grandest smile washes over your face, as you realize you've finally made it into the Altgeld Dairy Queen.";
		now CurrentEnding is SpellAlteredReversed;
	otherwise if SpellbookAltered is true and spell is Spell:
		say "As you chant the incantations from the ultimate spell of the Morrow Cultists, you begin to hear a new voice inside your head. It speaks in a tongue unrecognizable to any human either alive, dead, or to be born.";
		say "Several more voices join in, all expressing a tone of glee and grandeur. While you desperately want to stop, to bring an end to the cacophony discordantly blaring in your head, you will is no longer your own. You wonder why your arms aren't blue, where your other 8 hands have gone, what you Rzamdi will think of you now being a Tzlik.";
		say "As the spell finished, millions if not billions happily find themselves living their ideal experience on Earth in the Pre-War era of humanity. You however, are a drop of water in the ocean that now controls your once body. But no matter how loud you scream, nobody can hear a drop of water over the chaotic sloshing of the ocean.";
		now CurrentEnding is SpellAlteredDirect;
	End The Journey;

Instead of examining SouthQuadBell for the first time:
	say "The bell tower is 185 feet high and has 49 bells, or so you've heard. As you look up to try and count them, you notice something that looks a lot like the Eye of Sauron. You blink, not believing what you are seeing, but when your vision clears it seems to have disappeared."

Instead of examining SouthQuadBell:
	say "The bell tower now looks like an ordinary bell tower. The Eye of Sauron seems to have disappeared, but you still walk a little warily as you pass it by."

Eye of Sauron is a photogenic and scavengerhuntable scenery thing. The Eye of Sauron is part of SouthQuadBell.
The description of Eye of Sauron is "The Eye disappears whenever you look up at the belltower, and reappears in your peripheral vision. It would make a great picture if it would only stay put." 

Every turn when the minutes part of time of day is 30 and the player is in SouthCampusOutdoor:
	now familiar person is in the Center of the South Quad.

Every turn when the minutes part of time of day is 00 and the player is in SouthCampusOutdoor:
	now familiar person is nowhere.

Instead of photographing the Eye of Sauron for the first time:
	say "You turn around, smile, and snap a selfie with the Eye of Sauron. After a moment's reflection, you think the optics of this shot are not too good. You try to delete the photo off of your phone, but the Eye of Sauron just won't go away.";
	now Eye of Sauron is snapped. 
	
Instead of photographing the Eye of Sauron: 
	say "One photograph of the Eye of Sauron is enough for anyone. Anyway, you don't need another picture because you see it in your mind, whenever you close your eyes now."

Instead of talking to familiar person: 
	say "They don't have anything interesting to say. I mean it, you find that you have wasted five minutes speaking to them and can't recall anything you talked about. Maybe they feel the same way about you, it occurs to you as you watch them walk away. There's something vaguely orcish about the way they walk. You watch until they are out of sight, hoping never to see them again."; 
	increase time of day by 5 minutes;
	now familiar person is nowhere.

Instead of examining familiar person for the first time:
	say "You rack your brain trying to remember where you've seen this person before. They look so familiar, but who are they? Can you recall anything about them? Can you recall anything about you? Yes you can, that's stupid, you know who YOU are, you just don't know who THEY are. You could try talking to them."

Instead of examining familiar person:
	say "You avoid eye contact as you glance at them, and then pretend to be busy with your belongings, and not noticing they are there. There's something just too creepy about this person. Why are they hanging out by this bell tower? Nobody does that. But why are you hanging out here?"

Instead of attacking familiar person: 
	say "You probably don't want to attack someone that you're not never sure you know. Actually you probably shouldn't be attacking anybody at all, unless they're a zombie, a vampire, an orc, or some other kind of dangerous enemy, but where would you run into any of them on this campus, right, lol?";
	stop the action.
	
Instead of asking familiar person about something:
	try talking to familiar person.

To say time of day as 12h time:
	let H be the hours part of time of day;
	if H is greater than 12:
		say "[H minus 12]";
	else:
		say "[H]".


EndlessParkingLot is a room. "You've seen one parking lot you've seen 'em all, but this one is particularly long and kind of exclusive."
The printed name of EndlessParkingLot is "Parking Lot for Education and Architecture".

talkedToLostTourGroup is a truth state variable. talkedToLostTourGroup is false.
talkedToSecretSociety is a truth state variable. talkedToSecretSociety is false.
lostTourGroupInNorthQuad is a truth state variable. lostTourGroupInNorthQuad is false.
lostTourGroupGaveKey is a truth state variable. lostTourGroupGaveKey is false.
lostTourGroupDestination is a room. "This is the room that the lost tour group will go to. The player should not be able to see this text."

lostTourGroupKey is an thing.
LostTourGroup carries the lostTourGroupKey.
lostTourGroupKey unlocks MainLibraryRoofDoor.

The description of lostTourGroupKey is "As you hold the purple key in your hand, you can hear the screams of a thousand former UIUC students."
The printed name of lostTourGroupKey is "a purple key".
Understand "key" and "purple key" and "lost tour group key" as lostTourGroupKey.

LostTourGroup is a person in EndlessParkingLot. "[if talkedToSecretSociety is True]The secret society is still here and enthusiasticly talking amongst themselves. They don't notice you enter.[else if LostTourGroup is in MainLibraryRoof]You blink in disbelief. That lost tour group is here as well? Maybe they're following you...[else if lostTourGroupInNorthQuad is true]There is a group of people carrying several bright Illini orange bags. Some of them are standing there taking pictures of their surrondings while others watch the students as if they're animals in a zoo.[else]There is a group of people carrying several bright Illini orange bags. They keep looking around as some of them are pointing in various directions, yet none of them move from where they're standing.";

Understand "lost tour group" and "tour group" and "lost group"  and "lost people" and "group" and "people" and "group of people" and "bob haired woman" and "woman with bob haircut" and "woman" and "secret society" and "society" as lostTourGroup.
The printed name of LostTourGroup is "lost tour group".

Instead of examining LostTourGroup:
	say "[if player is in MainLibraryRoof]All the parents and children are gone. The group is now just students who suddenly seem much older than high schoolers.[else]The tour group consists of parents, high school students, and sibilings that were dragged along for the ride.";
	stop the action.

Instead of asking LostTourGroup about something:
	let lostTourGroupDestination be a random room in NorthQuadNeighborhood;
	if talkedToLostTourGroup is false:
		say "They ignore what you say and one of them, a woman with a bob haircut looks at you and says, 'Hey you! The student tour guide left us behind, and we need to get to [lostTourGroupDestination]. Do you know the way?'[paragraph break]You explain to them how to get there. They thank you and start heading in the right direction.";
		now lostTourGroupInNorthQuad is true;
		now LostTourGroup is in lostTourGroupDestination;
		now talkedToLostTourGroup is true;
		increase score by 10;
	else if lostTourGroupInNorthQuad is true and lostTourGroupGaveKey is false:
		say "The bob haired woman from earlier comes up to you and hands you an item. ''As you can see, we made it up here. I think you dropped this earlier though.' She hands you a key and gives you a wink. Well that was weird...";
		now the player has lostTourGroupKey;
		now lostTourGroupGaveKey is true;
		now LostTourGroup is in MainLibraryRoof;
		increase score by 50;
		stop the action;
	else if talkedToSecretSociety is false:
		if player is in MainLibraryRoof:
			say "The bob haired woman from earlier comes up to meet you. 'I'm glad to see you found us again. We are a secret society on campus. This was a test and you've passed. We've been monitoring you for months and believe you'd be a good fit. Congratulations and welcome.' [paragraph break] The rest of the group behind her chants 'One of us, one of us!' as the woman hands you a jacket with some greek symbols embroidered on it.";
			now the player has SecretSocietyJacket;
			now talkedToSecretSociety is true;
			increase score by 500;
	else:
		say "[if player is in MainLibraryRoof]No one seems to hear you over all the cheers of excitement, but one of the women gives you an encouraging smile.[else]They're too busy being lost and confused to hear what you just said.";
		stop the action.

Instead of talking to LostTourGroup:
	let lostTourGroupDestination be a random room in NorthQuadNeighborhood;
	if talkedToLostTourGroup is false:
		say "They ignore what you say and one of them, a woman with a bob haircut looks at you and says, 'Hey you! The student tour guide left us behind, and we need to get to [lostTourGroupDestination]. Do you know the way?'[paragraph break]You explain to them how to get there. They thank you and start heading in the right direction.";
		now lostTourGroupInNorthQuad is true;
		now LostTourGroup is in lostTourGroupDestination;
		now talkedToLostTourGroup is true;
		increase score by 10;
	else if lostTourGroupInNorthQuad is true and lostTourGroupGaveKey is false:
		say "The bob haired woman from earlier comes up to you and hands you an item. ''As you can see, we made it up here. I think you dropped this earlier though.' She hands you a key and gives you a wink. Well that was weird...";
		now the player has lostTourGroupKey;
		now lostTourGroupGaveKey is true;
		now LostTourGroup is in MainLibraryRoof;
		increase score by 50;
		stop the action;
	else if talkedToSecretSociety is false:
		if player is in MainLibraryRoof:
			say "The bob haired woman from earlier comes up to meet you. 'I'm glad to see you found us again. We are a secret society on campus. This was a test and you've passed. We've been monitoring you for months and believe you'd be a good fit. Congratulations and welcome.' [paragraph break]The rest of the group behind her chants 'One of us, one of us!' as the woman hands you a jacket with some greek symbols embroidered on it.";
			now the player has SecretSocietyJacket;
			now talkedToSecretSociety is true;
			increase score by 500;
	else:
		say "[if player is in MainLibraryRoof]No one seems to hear you over all the excitement, but one of the women gives you an encouraging smile.[else]They're too busy being lost and confused to hear what you just said.";
		stop the action.

Before asking LostTourGroup about "leader":
	if talkedToSecretSociety is true:
		say "The bob haired woman smiles at you and says, 'The leader would be me. Are you surprised?'";
		stop the action.

Before asking LostTourGroup about "history/lore/creation":
	if talkedToSecretSociety is true:
		say "A man steps up beside you and explains, 'Our society was officially created in 1888. During the 80's many former alumni and students were frustrated with the Regent, Selim Peadbody, with how he handled the school. Eventually, we managed to force him out of office in 1891...  with the Board of Trustees acting for us of course,' he adds with a wink.";
		stop the action.

Before asking LostTourGroup about "cult":
	if talkedToSecretSociety is true:
		say "The bob haired woman frowns at you, 'We are not a [italic type]cult[roman type]. We are a secret society.'";
		stop the action.

Before asking LostTourGroup about "society":
	if talkedToSecretSociety is true:
		say "The woman looks at you and asks in return, 'What do you want to know about our secret society specifically?'";
		stop the action.

Before asking LostTourGroup about "jacket":
	if talkedToSecretSociety is true:
		say "A young looking person smiles at you and exclaims, 'It's cool right? It's fine if you wear it around campus cause no one will bat an eye with how big Greek life is here. It's way better than what they wore in the old days. Bright orange robes are not discreet at all.'";
		stop the action.

Before asking LostTourGroup about "key":
	if talkedToSecretSociety is true:
		say "A young person says, 'The key is great right? Listening to all of that screaming really helps me go to sleep at night, but it's yours now.'";
		stop the action.

Before asking LostTourGroup about "robes":
	if talkedToSecretSociety is true:
		say "Someone pulls out their phone to show you a picture of people in Illini Orange robes. They're the only thing in the picture that's so bright in color.";
		stop the action.

Before asking LostTourGroup about "purdue/michigan":
	if talkedToSecretSociety is true:
		say "A sigh escapes from the woman's lips, 'They are nothing but trouble. Our rivalry runs deep. For now, we are at a stalemate with one another.'";
		stop the action.

Before asking LostTourGroup about "secrets":
	if talkedToSecretSociety is true:
		say "An older man with bifocals, who you swear looks very similar to one of your professors, says, 'The secret society isn't exactly a [italic type]secret[roman type] if you don't keep it as one, now is it?'";
		stop the action.

Before asking LostTourGroup about "members/size/people":
	if talkedToSecretSociety is true:
		say "Another lady with a lollipop counts with her fingers before answering, 'We have currently 37, active members here. Many more are across the globe.' She pulls the lolipop out of her mouth and points it  at you, 'If you ever need anything, someone from our organization will come to help you out. You are in this society for life now.'";
		stop the action.

Before asking LostTourGroup about "globe/earth/country/support":
	if talkedToSecretSociety is true:
		say "'Yes, we have many people around the place. They'll act as your support system,' a lady with a lollipop answers.";
		stop the action.

Before asking LostTourGroup about "leave/leaving":
	if talkedToSecretSociety is true:
		say "'You want to leave?' The bob haired woman asks incredulously, 'That's impossible. You leave when you die.'";
		stop the action.

Before asking LostTourGroup about "die/dying":
	if talkedToSecretSociety is true:
		say "'Death will come to all of us eventually...' someone in the group answers softly.";
		stop the action.

Before asking LostTourGroup about "life":
	if talkedToSecretSociety is true:
		say "'We all have normal lives outside of the society. We're not a pyramid scheme,' the bob haired woman answers.";
		stop the action.

Before asking LostTourGroup about "membership":
	if talkedToSecretSociety is true:
		say "'You're a member for life, and we will always help and protect our own... unless you betray us,' the woman comments as her eyes darken.";
		stop the action.

Before asking LostTourGroup about "betrayal/betray/betrayer/traitor/enemy":
	if talkedToSecretSociety is true:
		say "'There was once someone who was part of our society. They were one of the very best, and had so much potential. You remind me of them actually. But then one day, they decided to betray us to our enemies. Many of our members died due to their actions. But don't worry, I've made sure our little [italic type]traitor[roman type] paid the price with my own hands,' the woman's smile curves into a crescent moon. You can't help but notice how sharp her teeth are. She pats you on the shoulder as her face returns to a neutral expression, 'But don't worry about them. They are gone, and you will be fine so long as you don't make the same mistakes.'";
		stop the action.

Before asking LostTourGroup about "mistakes/mistake":
	if talkedToSecretSociety is true:
		say "'Mistakes are generally forgiven depending on what they are. Betrayal though... that is not a mistake.' The bob haired woman says as her eyes stare off into the distance.";
		stop the action.

Before asking LostTourGroup about "killing/kill/murder/murdering":
	if talkedToSecretSociety is true:
		say "The woman tucks a strand of her hair behind her ear, she smiles, 'Well. A life in exchange for another life is fair, is it not?'";
		stop the action.

Before asking LostTourGroup about "lollipop":
	if talkedToSecretSociety is true:
		say "The lady with a lollipop raises her eyebrow and says, 'You want my lollipop? Ew, that's gross. No.'";
		stop the action.

Before asking LostTourGroup about "favor":
	if talkedToSecretSociety is true:
		say "The bob haired woman goes, 'You need help?'[paragraph break]You explain to her what you need help with, but she puts up her hand to stop you.[paragraph break]'Even with our influence, I'm not sure if we can help you out with... whatever you're talking about. I think what you need is sleep.'";
		stop the action.

Before asking LostTourGroup about "bob hair":
	if talkedToSecretSociety is true:
		say "The bob haired woman laughs, 'I try my best to look like a regular old suburban mom. Keeps the suspicion off of me.'";
		stop the action.

secretSocietyJacket is a wearable thing.
The description of secretSocietyJacket is "It's a really nice black patagonia jacket. In the left chest area of the jacket, a fancy crest is embroidered with greek looking symbols."
Understand "jacket" and "greek letters" and "secret society jacket" as secretSocietyJacket.
The printed name of secretSocietyJacket is "secret society's jacket".

Instead of giving lostTourGroupKey to LostTourGroup:
	say "One of the guys shakes his head and gives you a smile. 'That's yours now,' he says.";
	stop the action.

Instead of giving secretSocietyJacket to LostTourGroup:
	say "One of the guys shakes his head. 'That's yours now.'";
	stop the action.

Instead of giving something to LostTourGroup:
	say "Everyone in the group gives you a strange look. No one takes [noun].";
	stop the action.

SouthEndSouthQuad is south of Center of the South Quad. "You are standing at the far south end of the South Quad. The Stock Pavilion is to the [bold type]south[roman type], the Department of Agriculture is to the [bold type]east[roman type], the School of Architecture is [bold type]west[roman type], or you can wander [bold type]north[roman type] across the grassy quad towards the Bell Tower."
The printed name of SouthEndSouthQuad is "South End of the South Quad".

School of Architecture is west of SouthEndSouthQuad and east of EndlessParkingLot. "This is the boot-shaped building that houses the School of Architecture. A funny little grove is to the [bold type]north[roman type]. To the [bold type]east[roman type] and [bold type]northeast[roman type] the South Quad extends in all its glory." 

Little Grove is north of School of Architecture and south of David Kinley Hall and west of Center of the South Quad. "Five paths intersect here in a grove of trees. This is an excellent place for a secret meeting."

Department of Agriculture is south of the Giant X and east of SouthEndSouthQuad and southeast of the center of the south quad and west of CU Community Fab Lab. "The Department of Agriculture looks closed for renovation. The Fab Lab lies to the [bold type]east[roman type], the South Quad to the [bold type]west[roman type] and [bold type]northwest[roman type]."

The Stock Pavilion is south of the SouthEndSouthQuad. "You are outside the Stock Pavilion. You notice a nice green tree with a cinderblock under it. Next to it is a man juggling for no apparent reason. You can go[bold type] in [roman type]or return to the [bold type]north[roman type]."

StockParking is west of Stock Pavilion and south of School of Architecture. "You are walking through the parking lot that lies between the School of Architecture to the [bold type]north[roman type], the Stock Pavilion to the [bold type]east[roman type], and the east end of the Prairie Research Institute to the [bold type]west[roman type]." The printed name of StockParking is "Stock Pavilion Parking Lot".

EastPrairieInstitute is west of StockParking and south of EndlessParkingLot. "You are on the east end of the Prairie Research Institute. You can walk west ouside the building, or wander through the parking lots to the north and east." The printed name of EastPrairieInstitute is "East End of the Prairie Research Institute".

WestPrairieInstitute is west of EastPrairieInstitute and south of Education Building. "You are on the west end of the Prairie Research Institute. You can walk east outside the building or head north to the Education building." The printed name of WestPrairieInstitute is "West End of the Prairie Research Institute".
	
Instead of going west from Main Library:
	say "You walk around the side of the Main Library.";
	continue the action.

LibBusStopSouth is west of Main Library and north of Architecture Courtyard. "[LibBusStopSouthDescription]". 

The printed name of LibBusStopSouth is "Main Library South".

metal bookdrop is a closed, openable scenery container in LibBusStopSouth. "The bookdrop door is heavier than you expected. You pull it open and look down into the darkness. It's a loooong drop to the basement from here."

instead of inserting something in metal bookdrop:
	say "You open the bookdrop and put the [noun] inside. Before the door springs shut, you hear a distant crash.";
	now noun is nowhere;
	now bookdrop is closed;
	stop the action.

instead of entering metal bookdrop:
	say "You manage to get one whole leg down the chute, but that's as far as you're going to get. At least while you're the size you are.";
	stop the action.

[OPPORTUNITY -- how to get into the bookdrop?]

SixthGregory is east of Armory Southeast. "You are standing at the intersection of Sixth and Gregory Streets. The Armory is to the west, and the Main Library to the East, Library Parking lot to the North and Wohler's to the south. For most directions, you'll have to wait for the light to change."

SixthGregory is west of LibBusStopSouth and south of LibParkingLot and north of Wohler's Hall.

The printed name of SixthGregory is "Sixth and Gregory Streets".

The Architecture Courtyard is east of Wohler's Hall and south of LibraryBookdrop and west of David Kinley Hall. "The courtyard is shaded and serene. The art department's influence is obvious here, with a beautiful sculpture on the east end of the courtyard. You can go[bold type] in [roman type]to the Architecture building here, or else go [bold type]north[roman type] to the Library Bus Stop, [bold type]west[roman type] to Wohler's Hall, [bold type]east[roman type] to South Quad, or [bold type]south[roman type] through the courtyard towards the Education Building Parking Lot."

EducationParkingLotEast is south of Architecture Courtyard, and east of EducationParkingLotWest and west of Little Grove and north of EndlessParkingLot. "For all this space it takes up, there sure aren't a lot of parking spaces here but there is a statue here. You can go [bold type]east[roman type], [bold type]west[roman type], or [bold type]north[roman type] from here or go further[bold type] in [roman type]to admire the statue."
The printed name of EducationParkingLotEast is "East End of Parking Lot".

TreeOfLife is a room.
TreeOfLife is inside of EducationParkingLotEast. "'Tree of Life Fantasy by Alice Aycock (1990)' you read the plaque in front of this strange statue. Sitting solemly to the side of the Education Building this statue is giving off this strange aura.

You never really noticed this statue before, you usually just walk past without even giving it a glace. You look more closely at the towering sculpture in front of you. Your eyes are memorized by the numerous curves and intricate shapes all over. You get an urge to draw closer as if something is calling for you. For some reason you want to go in."
Understand "statue" and "spiral statue" and "sculpture" and "tol" as TreeOfLife.
The printed name of TreeOfLife is "Tree of Life Fantasy sculpture"

PocketDimension is a room.
PocketDimension is inside of TreeOfLife. "You stumble forward and fall into the statue. When you open your eyes, you find yourself in a strange multicolored void. There's no ground at your feet, instead you can float what you believe is north."
Understand "pd" and "space" and "void" as PocketDimension.
The printed name is "Pocket Dimension".

PD2 is a room.
The printed name of PD2 is "Pocket Dimension Depths".
PD2 is north of PocketDimension. "Floating deeper into the strange world, you pass various statues. You come across a sign post."

PDSign is a scenery thing in PD2.
The printed name of PDSign is "Flashy Sign".
The description of PDSign is "[bold type] =Welcome!= 
[roman type][line break]Congrats on you for making it here. 
[line break]Here's 1000 points and a slurpee! 
[line break]Guten Morgen?"
Understand "sign" as PDSign. 

Instead of examining PDSign:
	say "[bold type] Welcome! [roman type][line break]Congrats on you for making it here. [line break]Here's 1000 points and a slurpee! [line break]Guten Morgen?";
	now the player is carrying Slurpee;
	increase score by 1000.

Slurpee is a drinkable thing. "This a pristine looking slurpee. It is a beautiful purple to red gradient that feels so right."

Instead of drinking Slurpee:
	say "You bring your lips to the slurpee's straw and take a sip. Your body is filled with sensastions of bliss. This is the best drink you have had the privilege to drink.";
	now the player is in Center of the Quad.
EducationParkingLotWest is south of Wohler's Hall and east of MarchingBandField. "For all this space this street between Wohler's Hall and the Education Building takes up, there sure aren't a lot of parking spaces here. You can go [bold type]east[roman type], [bold type]south[roman type], [bold type]west[roman type], or [bold type]north[roman type] from here."
The printed name of EducationParkingLotWest is "West End of Parking Lot".

[
Temple Hoyne Buell Hall is west of South Quad and east of EndlessParkingLotSouth. "This building under construction. What's in it anyway???"
]

The Architecture Building is inside from the Architecture Courtyard.

The description of the Architecture Building is "The beautiful red bricked Architectural Library looms in front of you. It's elegant construction and impressive height gives it an air of importance that rivals the graduate library building. The building contains a plethora of classrooms and resources, including much of the management for FAA. Confused undergraduates, graduate students, and professors all buzz in and out of building, and the attached courtyard.[paragraph break]You can go [bold type]out[roman type] of the building from here."

Education Building is south of EducationParkingLotWest and southeast of MarchingBandField and west of EndlessParkingLot and east of EastEndKAM. "You are in Education Building right now, the main building of College of Education. It locates next to the intersection of E. Peabody Dr. and Sixth Street.  You can see that Wohler's Hall is in the [bold type]north[roman type] and a groups of architecture buildings are in the [bold type]east[roman type] and [bold type]northeast.[roman type] Krannert Art Museum is to the [bold type]west.[roman type]"

[Education Building]

EducationBuilding is a roomproxy in Education Building.
understand "Education Building" as EducationBuilding.
The printed name of EducationBuilding is "Education Building".

EducationBuildingInterior is an Interior Location.
EducationBuildingInterior is inside from Education Building.
The printed name of EducationBuildingInterior is "Education Building Front Lounge".

[Front Lounge]

EducationBuildingInterior is a room. "You pull open the thick glass doors that lead to the education building and arrive at the Front Lounge. This three story tall room houses some awkwardly curved modern furniture, stand desks and, a television displaying the current events on campus. There is a long hallway that leads to the [bold type]south[roman type] part of the building.".

modern furniture is in Front Lounge. "you see some modern furniture".

understand "furniture" and "stand desks" as modern furniture.

the description of modern furniture is "doesn't look like I can stay at that for more than 10 minutes.".

[Building Center]

Education Building Center is a room.
Education Building Center is south of EducationBuildingInterior. "You walk down the Education Building's long narrow hallway. Wooden fins jut out of the west wall that you cannot help but run your fingers against like a chainlink fence. You reach half way down the when you notice a bunch of flashing lights to the [bold type]west[roman type]."


[Education Servers]

Education Servers is a room.
Education Servers is west of Education Building Center. "This part of the hallway is noticably colder than the rest of the building. Probably to keep the servers cool. There are open room to the [bold type]north[roman type] and [bold type]south[roman type] and a code locked door to the [bold type]west[roman type]. To return to the main hallway go [bold type]east[roman type].".

a server is a switched on device in the Education Servers. "The flashing blue lights are mezmerizing.".

understand "servers" as server.

Instead of switching off server:
	say "lazy wiring causes you take slight shock to your fingertips. The servers stay on for another day.".

the description of a server is "you investigate the technology and notice a small screen, keyboard and USB slot on the other side of the glass door.".

[IDEA Lab]

IDEA Lab is a room.
IDEA Lab is north of Education Servers. "You enter the IDEA Lab. This room houses the most current technology in education and educational testing. For every table in the room there is a tablet the size of a table and a microphone strung above like a ceiling lamp. In the corner lie two 55 inch flat screen apple tvs, on wheels, one is on displaying a code while the other is collecting dust. Bascially a bunch of fancy tech. the south wall of the room is covered by this black glass pane that seems to lead to another room. You feel as if this room could have a lot of potential in the right hands. To return to the Education Servers go [bold type]south[roman type].".

fancy tech is in IDEA Lab. "you see fancy tech everywhere.".

understand "tech" and "tablet" and "microphone" and "flat screen" and "apple tv" as fancy tech.

the description of fancy tech is "Bunch of beeps never booped.".

[Room 166]

Room 166 is a room.
Room 166 is south of Education Servers. " You enter the Education Building's most disjointed classroom. Weird futuristic chairs clutter the room in an almost choreographed manner. You begin to suspect that the College of Education has a fetish for screen walls since 3/4 of the rooms' walls are littered with screens. The east wall seems to be the head of the room since that is where the biggest sreen wall is. This room is really weird, but you wouldn't mind taking a class here. To return to the Education Servers go [bold type]north[roman type].".

disjointed chairs is scenery in Room 166.
understand "chairs" as disjointed chairs.
The description of disjointed chairs is "organized chaos in chair form.".
screen walls is scenery in Room 166.
understand "wall" and "walls" and "Screen" as screen walls.
The description of screen walls is "Finger smudged screens litter the walls.".
White Table is a supporter in the Room 166. "A long white table, perfect for beer pong, sits against the wall.".

understand "table" as White Table.

instead of examining White Table:
	if Cup of Coffee is in Coffee Pot:
		say "a long white table with a warm pot of coffee and some mugs sitting on one end.";
	else:
		say "A long white table that previously had coffee on it.".

Coffee Pot is a open container on the White Table. "A whole pot of coffee. Good for three cups of coffee. You can take a Cup of Coffee.".
understand "Pot" as Coffee Pot.

a Cup of Coffee is an edible thing in the Coffee Pot.
coffee is drinkable.
understand "coffee" as Cup of Coffee.

instead of taking Cup of Coffee:
	say "You carefully pour a cup of coffee making sure not to burn yourself." ;
	now player has the Cup of Coffee.

Instead of eating cup of coffee:
	try drinking cup of coffee.

instead of drinking Cup of Coffee:
	say "The coffee is strikingly hot but you take a sip anyway. You procceed to burn the crap out of your tongue, but your caffeine cravings disappear.";
	now HadCoffee is true.

the description of Coffee Pot is "filled to the brim, and hot as hell.".
the description of Cup of Coffee is "Piping hot!".

[Education Building End]

PART 2 - CURIOSITIES

Section 1 - Giant X

Theresa Stargazer is a person.
Understand "the girl" and "the witch" and "girl" and "witch" as Theresa Stargazer.
WitchSeen is a truth state variable. WitchSeen is false.
Every turn when player is in Giant X and WitchSeen is false:
	if a random chance of 1 in 4 succeeds and WitchSeen is false:
		now Theresa Stargazer is in Giant X;
		say "You see a girl wearing clothes like a witch wandering around and reading a...floating book? You can't believe your eyes.";
		now WitchSeen is true;
	else:
		now Theresa Stargazer is nowhere;
		say "You sense a gentle breeze with a fragrance passing through you. You look around but find no one. You think you may just be too tired and sensitive."

Red Card is a thing.
Red Card is fixed in place.
The description of the red card is "The red card gives you a radical feeling. You see fire and crowds of people from the red light."
Yellow Card is a thing.
Yellow Card is fixed in place.
The description of the yellow card is "The yellow card gives you a calm feeling. The pressure that has been weighing you down is relieved."
Green Card is a thing.
Green Card is fixed in place.
The description of the green card is "The green card gives you a flourishing feeling. It makes you feel energetic."
Black-White Card is a thing.
Black-White Card is fixed in place.
The description of the BlackWhite card is "The blackwhite card gives you a bittersweet feeling. You see the illusion of a person chasing light at midnight."
Instead of examining Theresa Stargazer:
	say "This girl looks special. Unlike the normal range of student looks, she has white hair and red eyes. Moreover, although she looks just like a middle school student, she behaves like your grandmother.[paragraph break]She notices you watching her, and comes twoard you. Hello, kid,' the girl sighs, 'I didn't expect my invisibility magic to fail me. You shouldn't be seeing me. This is not supposed to happen.' Then she raises her wand, 'But don't worry. I won't hurt you. Since you are the only one who found me here, it may be some kind of destiny.' Four cards appears before her, a red card, a green card, a yellow card and a black-white card. 'Pick a card, and I will read your fate.' ' CHOOSE one of the card from RED CARD, GREEN CARD, YELLOW CARD, BLACK-WHITE CARD.";
	now red card is in Giant X;
	now yellow card is in Giant X;
	now green card is in Giant X;
	now black-white card is in Giant X;
	
CardChoosing is an action applying to one visible thing.
Understand "choose [something]" as CardChoosing.

Carry out CardChoosing:
	say "You cannot choose that one."

Table of Cards
Item	reply
red card	"'I feel something intense in your future. You may at the hardest point in recent years. You are working/studying hard, and give up many other things to reach some important goals. You may find yourself like rowing a boat against the tide. However, don't be afraid. All the things you do now is building the fundamental for the future. What you've experience will make you become mature, and help you go further in your life and career.'"
green card	"'I see, the breakthrough and change in your future. Your mind and horizons will be different. However, this may not come successfully, and you may find yourself in heavy mist in life, which may depress you a lot. To overcome that, try taking actions first instead of making excuses when dealing with problems. Be decisive, not hesitant, and you will make yourself through this period and get to a higher place in your life.'"
yellow card	"'I sense a balanced energy in your fate because of your choice. Your life may not change much in near future, but it doesn't mean you will not make progress at all. You will be in a period of planning for the future, and you will gradually gaining experience for the future and your goals. The changes seem small, but it can actually decide your future. So improve yourself step by step, and you will get what you deserve.'"
blackwhite card	"'I see you, running from the shadow to the sun. You may be sensitive recently, and want to find the sunshine in your life. On the way of pursuing your goals, you may be hurt and feel desperate. However, if you find the right direction, you will awaken. You may feel insecure and worry about the future when in the shadow, but always remember that you will definitely find your sunshine in the future.'"

Instead of CardChoosing an item listed in the Table of Cards:
	say "[reply entry][paragraph break]'Now it is the time.' She says to you before you are going to ask her more about your fate. 'I shall leave. If our destiny intersects again, you will meet me again in the future.' Then she disappears, and everything goes back to normal, as if nothing happened.";
	now Theresa Stargazer is nowhere;
	now red card is nowhere;
	now yellow card is nowhere;
	now green card is nowhere;
	now blackwhite card is nowhere.
	
MysteriousStudent is a person. 
Understand "student" and "the student" and "nerd" and "manchild" and "man child" as MysteriousStudent.
MysteryStudentSeen is a truth state variable. MysteryStudentSeen is false.
Every turn when player is in Giant X and MysteryStudentSeen is false:
	if a random chance of 1 in 4 succeeds and MysteryStudentSeen is false:
		now MysteriousStudent is in Giant X;
		say "You see a man wearing a labcoat over a green graphic tee with three yellow triangles on it and tan cargo shorts who looks like he could be anywhere between seventeen and forty-six, but either way he's clearly balding. He shiftily looks around like he's looking for someone to complain about the Star Wars sequels to, or maybe something else equally as heinous.";
		now MysteryStudentSeen is true;
	else:
		now MysteriousStudent is nowhere.

Instead of talking to MysteriousStudent:
	if player is in Giant X:
		if a random chance of 1 in 2 succeeds:
			say "The manchild looks you over and you already feel like you been dunked in Dorito dust and Mountain Dew, the feeling of an MLG pro YouTube video from 2011 coming over you as you suddenly pass out.";
			now player is in TurnerLabDungeon;
			now MysteriousStudent is in TurnerLabDungeon;
			stop the action;
		else:
			say "The manchild looks you over before scampering away like he's allergic to human contact. Must have gotten lost on his way to Grainger.";
			now MysteriousStudent is nowhere;
	if player is in TurnerLabDungeon:
		say "'I thought that you'd be a good candidate for our squirrel-human bodyswapping project, but it turns out your brain is too small for the squirrel's body. Sorry for the inconvenience, you can go now.'";
		now DungeonDoor is unlocked.

Section 2 - Library Things

GloweringStones are a photogenic and scavengerhuntable thing in Behind Foellinger. "Two huge statues made of stone stare glower at you as you pass by."

The printed name of GloweringStones is "glowering stone men".

The description of GloweringStones is "You wonder why these stone men are in such a bad mood."

Understand "statue" and "statues" and "stone statues" and "glowering stone" and "stone" and "stones" as GloweringStones. 

small sundial is a photogenic and scavengerhuntable thing in undergraduate library courtyard. "A small sundial is here, telling time."
The description of Small Sundial is "You've passed by this sundial so many times without noticing it. With the sunlight falling on it, this would make a nice photograph."

Instead of examining small sundial when SundialSet is false:
	say "You take a look at the shadow falling across the sundial and figure that it is probably about [time of day + 1 minute]. You set your watch to the correct time.";
	now SundialSet is true.

libraryStatues is a photogenic and scavengerhuntable thing in Main Library. "Two statues installed at the entrance to the main library look like they've been recently weeping."
Understand "statue" and "statues" and "library statue" and "library statues" as libraryStatues.
The printed name of libraryStatues is "weeping statues". 
Instead of examining libraryStatues:
	say "The southern statue is sad, uniquely sad from her sister to the north. This one was made by Lorado Taft. You examine the other statue, she is also sad. Uniquely so even. She was also made by Lorado Taft. In the end, perhaps we will discover that we were all made by Lorado Taft."

DeptArgicultureAndBioEngineeringSculpture is a photogenic thing in Department of Agriculture. "There is a faded orange sculpture here with several skateboard marks and graffiti on the side."

Instead of examining DeptArgicultureAndBioEngineeringSculpture:
	say "The sculpture bends into a loop and extends straight off to one side.";
	stop the action.

Understand "sculpture" and "orange sculpture" and "graffiti sculpture" as DeptArgicultureAndBioEngineeringSculpture.
The printed name of DeptArgicultureAndBioEngineeringSculpture is "Bioengineering Sculpture"

AlienGraffiti is a part of the DeptArgicultureAndBioEngineeringSculpture.
The description of AlienGraffiti is "There is a picture of a UFO on the sculpture with the words 'I want to believe' below it."
AlienGraffiti is photogenic and scavengerhuntable.

Understand "graffiti" and "alien picture" and "ufo graffiti" as AlienGraffiti.
The printed name of AlienGraffiti is "alien graffiti".

Instead of taking AlienGraffiti:
	say "You can't take something graffitied on a sculpture.";
	stop the action.

BOOK 3 - INDOOR MAPS

PART 1 -  CAMPUS OBSERVATORY

CampusObservatory is a RoomProxy in Morrow Plots.
Understand "Campus Observatory" and "Planetarium" and "Observatory" and "astronomical observatory" as CampusObservatory.
The printed name of CampusObservatory is "Astronomical Observatory".
The description of CampusObservatory is "This astronomical observatory is one of the older buildings on this part of campus campus. You look through the tiny barred window, but can't make out much."

ObservatoryInterior is inside from Morrow Plots. "[if player has lit thing]Even with the light you are providing, the observatory is astonishingly dark.[else]The observatory is completely dark inside.[end if] There might be grues. You shouldn't go up any further. Just get out of there!" 
ObservatoryInterior is an interior location. 
The printed name of ObservatoryInterior is "Inside the Observatory".

ObservatoryTop is up from ObservatoryInterior. "You make your way upward. You can hear raspy scratches and moist crunches,. You've played enough Zork to know you have only a moment before you're devoured by a grue. Use it well."

astronomical grue is a photogenic and scavengerhuntable scenery animal in ObservatoryTop. 
Understand "grues" as astronomical grue. 

Instead of photographing Astronomical grue for the first time:
	if EatenByGrues is completed:
		say "You point your phone in the direction of the horrible noises and snap the picture. Without pausing to see if you got it, you escape out of the observatory, slamming the door behind you in terror.";
		now Astronomical grue is snapped;
		now Astronomical grue is nowhere;
		now the description of ObservatoryInterior is "The stench of grue lingers.";
		now player is in Morrow Plots;
	else:
		say "You point your phone in the direction of the horrible noises, and snap the picture. You have no idea if you captured it, because you're too busy becoming whatever a grue does to unwary adventurers.";
		now Astronomical grue is snapped;
		now Astronomical grue is nowhere;
		now the description of ObservatoryInterior is "The stench of grue lingers.";
		now EatenByGrues is completed;
		now CurrentEnding is EatenByGrues;
		End the Journey.

Instead of going nowhere when player is in ObservatoryTop:
	if EatenByGrues is completed:
		say "You don't want to be eaten by a grue again, so you escape out of the Observatory, slamming the door behind you.";
		now player is in Morrow Plots; 
	else:
		say "You should have been quicker, but you don't have time to regret anything because you're too busy becoming whatever a grue does to unway adventurers.";
		now EatenByGrues is completed;
		now CurrentEnding is EatenByGrues;
		End the Journey.

	
Instead of going nowhere when player is in ObservatoryInterior:
	if EatenByGrues is completed:
		say "You don't want to be eaten by a grue again, so you escape out of the Observatory, slamming the door behind you.";
		now player is in Morrow Plots; 
	else:
		say "You should have been quicker, but you don't have time to regret anything because you're too busy becoming whatever a grue does to unway adventurers.";
		now EatenByGrues is completed;
		now CurrentEnding is EatenByGrues;
		End the Journey.


PART 2 -  UNDERGRAD LIBRARY

UndergradLibrary is a RoomProxy in Undergraduate Library Courtyard.
The printed name of UndergradLibrary is "Undergraduate Library".
Understand "undergraduate library" and "undergrad library" as undergradLibrary.

UGLibrary is inside from Undergraduate Library Courtyard.  "[if unvisited]After attempting to use your iCard to unlock the doors, you notice that the iCard reader isn't powered on, and the doors are already unlocked.  Once inside you see there are stairs going from this landing [bold type]down[roman type] to the next. There is an elevator here, but it's out of service.  [else]There are stairs going [bold type]down[roman type] towards the Undergraduate Library, or you can go [bold type]out[roman type] to the Library Courtyard from here."

UGLibrary is down from Undergraduate Library Courtyard.

The printed name of UGLibrary is "Undergraduate Library Entrance".
UGLibrary is an interior Location.

UGLFirstFloor is down from UGLibrary .  "Coming down the stairs, you notice it's much darker in the library than it usually is, even darker than during finals week.  It's also very quiet, in fact, you notice you haven't seen a single other student since arriving here. There's a dimly lit tunnel that leads to the Main Library to the [bold type]west[roman type]. You can[bold type] go [roman type] [bold type]inside[roman type] the library from here or take the tunnel leading [bold type]west[roman type]."

The printed name of UGLFirstFloor is "First Floor Landing".

UGL Upper Level is inside from UGLFirstFloor. "Now inside, you can more clearly see one of the computer screens from here.  Another library employee is standing [bold type]north[roman type] of you, by the printers, leading to the meeting rooms and more workstations.  You see a table with the standard array of office supplies on it in the corner of the room. [bold type]outside[roman type] the first floor leads back to the stairs."

UGLEquipment is scenery in UGL Upper Level. "There's all kinds of equipment here, but the librarian doesn't seem to want to let you get near it."
Understand "workstations" and "media center" and "equipment" and "computer screens" as UGLEquipment.

UGL Upper Level is east of UGLFirstFloor.

MazeEntrance_B is down from UGLFirstFloor. "[if unvisited] The second floor looks absolutely alien.  Even without adequate lighting, you can see an almost impenetrable black fog has filled the entire floor.  The layout looks nothing like what it should, almost as if all the stacks of books have rearranged themselves.  You can hear an eerily low growling noise coming from the shadows.  Probably a good idea to keep the flashlight on while you're down here.  Shining your light around, you see a branching path going [bold type]west[roman type] and [bold type]east[roman type].  You can barely make out the section of the library you are in: English.  [end if]  The path branches [bold type]east[roman type] and [bold type]west[roman type].  You can also see the faintest of lights coming from the stairs leading back [bold type]up[roman type] to the first floor."
The printed name of MazeEntrance_B is "Second Floor:  English".

Maze1_B is east of MazeEntrance_B. "The thick fog makes it impossible to make out any detail on the bookshelves around you, but the you can almost surely see the section card name for Natural Science with your flashlight.  The path splits off [bold type]north[roman type] and [bold type]south[roman type]."
The printed name of Maze1_B is "Natural Science".

Maze2_B is north of Maze1_B. "[if unvisited] Something seems to have corroded away some of the letters on the section card, you're beginning to wonder why you decided to pretend you were the new employee.  Nevertheless, the path continues and you've come this far already. [end if] This passageway only goes [bold type]north[roman type] and [bold type]south[roman type]."
The printed name of Maze2_B is "Nucl-ar Engin------".

Maze3_B is north of Maze2_B. "[if unvisited] Another branching path, [bold type]west[roman type] and [bold type]north[roman type].  The corrosion on the section cards seems to be getting worse the deeper you go into what used to be the UGL 2nd floor. [end if]  Through the thick fog you can make out paths leading [bold type]north[roman type], [bold type]south[roman type], [bold type]west[roman type]."
The printed name of Maze3_B is "Wo--- H--tory".

Maze4_B is west of Maze3_B. "The corrosion is eating away at the section cards now. There aren't many options for what the section could be called, but it's getting harder to figure out where you are."
The printed name of Maze4_B is "--ldlife".

Maze5_B is west of Maze4_B. "You're lost...The section card can't help you.  You can see the faintest of lights coming from what looks like a doorframe to the [bold type]north[roman type].  The labyrinth continues to the [bold type]south[roman type]."
The printed name of Maze5_B is "------".

DeadEnd1_B is west of MazeEntrance_B.  "You continue west, venturing deeper into the Economics section."
The printed name of DeadEnd1_B is "Economics".
Pass1_B is a thing in DeadEnd1_B.  "You can make out a piece of paper stuck to the bookshelves.  You aren't too keen to figure out what gooey substance is keeping it there."
The printed name of Pass1_B is "piece of printed paper".
Understand "paper" and "piece" and "piece of printed paper" as Pass1_B.

DeadEnd2_B is south of Maze1_B.  "[if unvisited] The bookshelves seem to be deteriorating, almost as if the books themselves are slowly dissolving into the fog that surrounds you. The path continues onwards. [end if] The path continues [bold type]north[roman type] and [bold type]south[roman type]."
The printed name of DeadEnd2_B is "Neuroscience".
Pass2_B is a thing in DeadEnd2_B.  "A bit of paper is gently floating around  in the incredibly thick fog."
The printed name of Pass2_B is "bit of paper".
Understand "paper" and "bit" and "bit of paper" as Pass2_B.

DeadEnd3_B is north of Maze3_B. "[if unvisited] You can only read some of the letters on the section card.   The path continues north. [end if] The path continues [bold type]north[roman type] or [bold type]south[roman type]."
The printed name of DeadEnd3_B is "S--th Sla-ic Cultures".
Pass3_B is a thing in DeadEnd3_B.   "Shining your light around, you see a small scrap of paper on the ground."
The printed name of Pass3_B is "scrap of paper".
Understand "paper" and "scrap" and "scrap of paper" as Pass3_B.

DeadEnd4_B is south of Maze5_B. "[if unvisited] The corrosion of the section card is so corroded, you can't make out where you are at all.  You can see an extremely faint light and hear a faint rumbling noise coming from underneath the bottom slit of what you presume to be a door to the [bold type]north[roman type] of you, but there is also another path to [bold type]south[roman type], deeper into the labyrinthian library. [end if]  The path branches to the [bold type]north[roman type], [bold type]south[roman type], and [bold type]east[roman type]."
The printed name of DeadEnd4_B is "------".
Pass4_B is a thing in DeadEnd4_B.  "After walking through the room, you notice that you stepped over a fragment of paper."
The printed name of Pass4_B is "fragment of paper".
Understand "paper" and "fragment" and "fragment of paper" as Pass4_B.

PowerDoor_B is an openable, closed, unlocked, scenery door.
The printed name of PowerDoor_B is "the door".
PowerDoor_B is north of Maze5_B and south of PowerRoom_B.
The printed name of PowerRoom_B is "UGL Power Station".
The PowerKey unlocks the PowerDoor_B.
The printed name of PowerKey is "Power Room Key".
The description of PowerRoom_B is "[if unvisited] You've finally made it to the power station and once inside you quickly shut the door behind you as the ever-present growling coming from the fog sounded as if it was growing louder as you unlocked the door.  The room is run by a small, noisy backup generator just strong enough to power a few overhead lights and the computer that can restart power distribution to the UGL. [end if] The generator continues powering the lights and the computer."

FixedBasement is a room. "[if unvisited]You can't believe it, everything looks completely normal, the bookshelves and computers are where they usually are, the fog is gone, and there isn't any growling coming from around the corner...Is it possible that the one computer can control all of this?[end if] Just your normal second floor of the UGL."

Instead of going nowhere when the player is in the UGLibrary :
	say "You wonder what all commotion is, usually the library isn't this loud or crowded at this time of the day, maybe you should investigate.  There are stairs going [bold type]down[roman type] to the next floor.  [bold type]outside[roman type] is the Undergraduate Library Entrance."

Instead of going nowhere when the player is in the UGLFirstFloor:
	say "The first rush of students leaving is over now, all that remains are those heckling the staff about what is happening on the lower level and those emailing their professors, trying to explain why their paper is going to be late now.  The guy blocking the stairs [bold type]down[roman type] to the lower level hasn't left either, the stairs [bold type]up[roman type] to the entrance are unblocked though.  You can see [bold type]inside[roman type] the upper level where a few students still remain.  To the [bold type]west[roman type] is the hallway connecting to the Main Library."

Instead of going nowhere when the player is in the UGL Upper Level:
    say "An employee approaches you 'excuse me, we're asking everyone to leave the UGL right now until we can figure out what's going on downstairs.  If you need to go grab something you left at a table you can but after that please leave.'[bold type]outside[roman type] the first floor are the stairs going to the different floors."

instead of going west in DeadEnd1_B:
	say "[one of] You continue down the Economics section, going deeper down the path. [or] The path continues for as far as your eyes can see, which isn't saying much in this fog. [or] Does this path ever end...[stopping]"

Instead of going east in DeadEnd1_B:
	say "You backtrack back to the English section and the stairs leading up to the first floor.";
	now the player is in MazeEntrance_B.

Instead of going south in DeadEnd2_B:
	say "[one of] The Neuroscience section seems to have an uncanny number of books, especially for this being the undergraduate library. [or] Where did the budget for this large of an expansion to the UGL come from? [or] Does this path ever end...[stopping]"

Instead of going north in DeadEnd2_B:
	say "You make your way back to the Natural Science section.";
	now the player is in Maze1_B.

Instead of going north in DeadEnd3_B:
	say "[one of] For anyone that has taken a Slavic Studies course here, you can easily believe that this section is one of the larger ones here. [or] But really, it can't be this large...can it? [or] Does this path ever end...[stopping]"

Instead of going south in DeadEnd3_B:
	say "You wander through the fog back towards what you believe to be the World History section.";
	now the player is in Maze3_B.

Instead of going south in DeadEnd4_B:
	say "[one of] You probably shouldn't keep going this way, you don't even know where you are anymore. [or] the growling you heard when you first entered the library is getting louder. [or] The fog is becoming even thicker, almost as though the air has been replaced with a liquid. [or] Turn back...[stopping]"

Instead of going north in DeadEnd4_B:
	say "You turn back and walk until you find yourself back at the door and the path leading to the other illegible section.";
	now the player is in Maze5_B.

Instead of going up in MazeEntrance_B:
	if PowerFixed_B is false:
		say "You can't believe it; the stairs seem to have lifted themselves 10 feet off the ground! How are you supposed to get out of here?";
	else:
		say "[one of]As you climb the stairs from your harrowing journey, the boss greets you at the top: 'You got the power working?  Great! I'm gonna have to give you a promotion! You're our now maintenance officer! Not only because you got the power working, but also because we still don't know where the old one went, I think he just couldn't handle the pressure but I'm sure you'll be able to.' [or] You climb the stairs to the first floor. [stopping]";
		now the player is in UGLFirstFloor.

Instead of going down in UGLFirstFloor:
	if NewGuy is false:
		say "The guard stops you: 'If you don't work here, you can't go down there right now, it's too dangerous with all the power gone.'";
	else:
		if the player is not carrying FlashLight_B:
			say "The guard yells to you: 'Wait! You need a flashlight! don't turn it off down there!'";
			now the player is carrying FlashLight_B;
			now the player is carrying PowerKey;
		else:
			now the player is in MazeEntrance_B.

Instead of going west in UGLFirstFloor:
	say "You go inside the tunnel and pass through quickly.";
	Now the player is in LibraryBasementHallway.

Computer_B is a switched off device in PowerRoom_B.  "The computer isn't turned on."
Computer_B is fixed in place.

OCounter_B is a number variable.
OCounter_B is 0.

Instead of examining Computer_B:
	if Computer_B is switched on:
		say "POWER IS CURRENTLY UNREGULATED.  ENTER PASSWORD TO RE-REGULATE: Y/N?";
		if player consents:
			if PassKnown_B is true:
				say "POWER REGULATION COMPLETE.  THIS TERMINAL MUST REMAIN ON FOR REGULATION TO CONTINUE.";
				now PowerFixed_B is true;
				increase OCounter_B by 1;
			else:
				say "PASSWORD INCORRECT.";
				stop the action;
		else:
			stop the action;
	else:
		say "The computer is off."

Every turn when [PowerFixed_B is true and ]OCounter_B is 1:
	say "You feel a great rumbling coming from outside the power station, a bright light blasts through every crack around the door, until finally, it stops.";
	instead of going south in PowerRoom_B:
		now the player is in FixedBasement;
		now FixedBasement is mapped north of MazeEntrance_B;
		now MazeEntrance_B is mapped south of FixedBasement;
		now the description of MazeEntrance_B is "These stairs lead up to the first floor of the UGL.";
		now OCounter_B is 0.

The printed name of Computer_B is "Computer".

Understand "screen" and "computer" and "pc" and "monitor" as Computer_B.

a LibraryTable is a scenery supporter in the UGL Upper Level.

The description of LibraryTable is "[if player has EmployeeNameTag] Stacked on the table are hundreds of papers and dozens of organizers. None of it is important to you.[else]Stacked on the table are hundreds or papers and dozens of organizers.  You can also see a blank employee name tag."

Understand "table" and "tabel" and "papers" and "dozens of organizers" and "organizers" as LibraryTable.

EmployeeNameTag is a wearable thing on LibraryTable.

The description of EmployeeNameTag is "An employee name tag, there is a fill-in-the-blank spot for a person's name, almost like one of those 'Hi, my name is ___' tags they make you wear during the welcome days in the dorm rooms.  Probably not the best idea to be leaving these lying around the library."
Understand "employee name tag" and "tag" and "name tag" as EmployeeNameTag.

The printed name of EmployeeNameTag is "employee name tag".

Understand "name tag" and "employee name tag" and "nametag" as EmployeeNameTag.

Instead of switching on Computer_B:
	say "Pushing the power button, the old computer slowly hums to life.";
	now Computer_B is switched on.

Instead of switching off the Computer_B:
	if PowerFixed_B is false:
		say "WARNING: POWER IS CURRENTLY UNREGULATED.  BEFORE TERMINATION POWER REGULATION MUST BE RECTIFIED.[paragraph break]";
		stop the action;
	else:
		say "THIS COMPUTER MUST REMAIN ON TO CONTINUE POWER REGULATION.";
		stop the action.

Instead of taking the Computer_B:
	say "Do you really think it's a good idea to take the UGL power regulating computer?";
	stop the action.


LibGuard is a person in UGLFirstFloor. "A tall man stands by the stairs leading down to the second floor. He looks like a staff member of some kind."
The printed name of LibGuard is "staff member".
Understand "tall man" and "guy" and "tall guy" and "man" and "staff member" and "guard" and "employee" and "the worker" and "the boss" and "boss" as LibGuard.

Instead of examining LibGuard:
	try talking to LIbGuard.

LibGuard is carrying FlashLight_B and PowerKey.

The printed name of FlashLight_B is "A flashlight".
Understand "flashlight" and "flash light" and "the flashlight" and "the flash light" as FlashLight_B.

Instead of switching on Flashlight_B:
	say "You switch on the powerful flashlight, lighting up your surroundings.";
	now FlashLight_B is switched on.

Instead of switching off FlashLight_B:
	say "You turn off your flashlight.";
	now FlashLight_B is switched off.

FlashLight_B is a switched off device.  "Just a regular yellow flashlight, it is pretty bright though."

Instead of talking to LibGuard:
	if NewGuy is false:
		say "The tall guy standing by the stairs mutters to you: 'Keep it moving, nothing to see here.'";
	else:
		say "You're the new guy?  Great! I need you to go downstairs and get the power back on.  We already sent the maintenance guy down there, but it's been two hours and he still hasn't got it working. I'm sure you'll be able to help him out.  Here, take this flashlight and whatever you do, make sure you KEEP IT ON while you're down there or you' might fall into the sewage outflow. And here, take the power room key, in case our maintenance guy got lost and the door is still locked.  Alright, off you go!";
		now the player is carrying FlashLight_B;
		now the player is carrying PowerKey.

NewGuy is a truth state variable.
NewGuy is False.

LibEmployee is a person in UGL Upper Level.  "A librarian is standing near the printers."

Understand "worker" and "employee" and "librarian" and "staff member" and "guy" as LibEmployee.

The printed name of LibEmployee is "librarian".

LibEmployee is carrying a clip board and a EmployeeTag.


The description of the clip board is "It's just a clipboard."

Instead of examining the clip board for the first time:
	say "The clipboard: one of the finest inventions of the 19th century. Throughout history, this beloved tool has aided the likes of librarians and NFL coaches on their quests for eternal greatness, yet can still find use in the everyday life of the modern human. This particular clipboard seems perfectly tailored to firmly hold standard 8.5''x11'' sheets of printer paper in place with its strong metal clamp."

The printed name of EmployeeTag is "name tag".

LibEmployee is wearing a navy colored t-shirt.

Instead of examining LibEmployee:
	if LibEmployee is unexamined:
		say "The librarian looks like this is the last place he wants to be right now, although he is still on the clock so you could TALK to him.";
		now LibEmployee is examined;
		stop the action;
	if LibraryTable is unexamined:
		say "The employee keeps looking at the table, and then at the library entrance.  It seems like he's waiting for someone to show up.";
		stop the action;
	else:
		say "You hear the employee mumble something about being hungry."

After taking EmployeeTag:
	now NewGuy is true.

Instead of talking to LibEmployee:
	If player is carrying EmployeeTag:
		say "Ah are you the new guy?  Go talk to my boss. He's right outside there, by the stairs.";
		now NewGuy is true;
		now the printed name of LibGuard is "The boss";
	else:
		say "The librarian looks nervous. 'Uh, is there anything in particular you need help with?  Otherwise I think you should leave with the other students.'";
		stop the action.

Understand "basement" and "stairs to floor two" and "2nd floor" as MazeEntrance_B.

Instead of asking LibEmployee about "second floor":
	say "My boss said only workers are allowed to go down there right now, you don't work here do you?";
	stop the action.

Instead of asking LibEmployee about "hint":
	say "Do you mean like you're stuck?  Wait, why are we talking like we're in a video game?";
	stop the action.

Instead of asking LibEmployee about "computer":
	say "I don't really know what's going on with those... I think it has something to do with the basement though.";
	stop the action.

Instead of asking LibEmployee about "phone":
	say "Oh sorry, what can I help you with?";
	stop the action.

Instead of asking LibEmployee about "name tag":
	say "Well we have a new employee starting today so I had to find some kind of name tag for them until we get a printed one made. ";
	stop the action.

Instead of asking LibEmployee about something:
	say "The employee is looking at their phone absentmindedly, despite the unusual activity going on around them.";
	stop the action.

Instead of giving something to LibEmployee:
	say "What am I supposed to do with this?";
	stop the action.

Instead  of attacking LibEmployee:
	say "I wouldn't do that, I've been going to the ARC everyday this semester.";
	stop the action.

Instead of attacking the Computer_B:
	say "You probably shouldn't try to break it, some way or another you know you'll get stuck with the bill.";
	stop the action.


Instead of WeaponAttacking LibEmployee:
	say "Much like a biker speeding through the quad, the employee easily moves out the way of your [second noun]."

FlashBattery_B is a number variable.
FlashBattery_B is 40.

[make both of these every turn rules specific to when player is in this region]

Every turn when FlashLight_B is switched on:
	decrement FlashBattery_B;
	decrease FlashBattery_B by 1.

Every turn when FlashBattery_B is 0:
	say "Your flash light battery died. You can no longer see where you are going. The smell of sewage increases, and floor is slippery beneath your feet. You try to retrace your steps, but only manage to trip on your own feet. You slide in what feels like slow motion, until you find yourself plunging into a stream of something that is most definitely not water.";
	now InDeepShit is completed;
	now CurrentEnding is InDeepShit; 
	End the Journey;
	stop the action.

Warning_B is a number variable.
Warning_B is 0.

Every turn when player is in MazeEntrance_B and FlashLight_B is switched off and Warning_B is 0:
	if PowerFixed_B is false:
		say "You better turn your flashlight on, the fog is really thick, and the floor is slippery. You smell sewage and remember what the guy said about the sewage outflow running through the building down here. Yuck.";
		increase Warning_B by 1.

Every turn when InDeepShit is not completed and Warning_B is greater than 3:
	say "Your flash light battery abruptly dies.  You can no longer see where you are going. The smell of sewage increases, and floor is slippery beneath your feet. You try to retrace your steps, but only manage to trip on your own feet. You slide in what feels like slow motion, until you find yourself plunging into a stream of something that is most definitely not water.";
	now InDeepShit is completed;
	now CurrentEnding is InDeepShit; 
	End the Journey;
	stop the action.

CompletePassword is a thing.
Instead of examining CompletePassword:
	say "You piece the scraps of paper together:[paragraph break] PASSWORD: youwouldneverguessthis";
		now PassKnown_B is true.

The printed name of CompletePassword is "The password".
Understand "password" and "the passwork" and "pass" as CompletePassword.

PassKnown_B is a truth state variable.
PassKnown_B is false.

PowerFixed_B is a truth state variable.
PowerFixed_B is false.

PassCounter is a number variable.
PassCounter is 0.

Instead of taking Pass1_B:
	increase PassCounter by 1;
	continue the action.

Instead of taking Pass2_B:
	increase PassCounter by 1;
	continue the action.

Instead of taking Pass3_B:
	increase PassCounter by 1;
	continue the action.

Instead of taking Pass4_B:
	increase PassCounter by 1;
	continue the action.

Every turn when PassCounter is 4:
	now PassCounter is 0;
	say "You've pieced together the password.";
	now Pass1_B is nowhere;
	now Pass2_B is nowhere;
	now Pass3_B is nowhere;
	now Pass4_B is nowhere;
	now the player is carrying CompletePassword.

PART 3 - MAIN LIBRARY

MainLibrary is a RoomProxy in Main Library.
The printed name of MainLibrary is "Main Library".
Understand "Main Library" and "Library" and "Stacks" as MainLibrary.

The description of MainLibrary is "MainLibrary is one of the largest academic libraries in the nation. Be careful if you go into the stacks though. Some people never come out again.".

MainLibraryInterior is an Interior Location. "[if unvisited]The Main Library is one of the largest libraries on campus. High ceiling and marble floors provide a sense of academic grandeur.  Large windows bathe the room in natural light as the silence of dozens of people working each in their own world washes over you. In front of you is a grand stairway detailed with paintings of constellations. [end if]You can go [bold type]up[roman type] to the Main Library Atrium, [bold type]down[roman type] to the Basement Hallway, or go back [bold type]outside[roman type] from here."

The printed name of MainLibraryInterior is "Main Library Entrance".
MainLibraryInterior is inside from Main Library.

MainLibraryMarbleFloors are scenery in MainLibraryInterior. "The marble floors look absolutely elegant. Walking across them makes you feel like royalty." Understand "marble" or "floors" or "marble floors" as MainLibraryMarbleFloors.
MainLibraryWindows are scenery in MainLibraryInterior. "The windows are huge and provide enough light to fill the entire floor." Understand "window" or "windows" as MainLibraryWindows.
MainLibraryStairway is scenery in MainLibraryInterior. "You appreciate the grand stairway's contemporary design." Understand "stairs" or "staircase" or "stairway" as MainLibraryStairway.
MainLibraryPaintings are scenery in MainLibraryInterior. "You pause to admire the many paintings for a moment." Understand "painting" or "paintings" or "art" or "pictures" as MainLibraryPaintings.

Main Library Atrium is up from MainLibraryInterior. "The second floor atrium of the library is filled with students quietly studying in there. Walking along the edges of the room near the bookcases is an old librarian. Along with that, a dog seems to have wandered into the atrium. There is a wooden table in the atrium that seems to have something interesting on it. [paragraph break]You can go back [bold type]down[roman type] to the Main Library Entrance. To the [bold type]west[roman type] are the stacks and the Help Desk. To the [bold type]east[roman type] you see a mysterious, unmarked door." 

MainLibraryRoofDoor is a closed, openable scenery door.

MainLibraryRoofDoor is east of Main Library Atrium and west of MainLibraryRoof.
The description of MainLibraryRoofDoor is "[if player has lostTourGroupKey] You try to unlock the door using the key from the tour group. To your surprise, the door swings wide open leading you up a set of stairs. [else] The door won't budge. It must be locked."
Instead of going east from Main Library Atrium:
	if player has lostTourGroupKey:
		say "You try to unlock the door using the key from the tour group. To your surprise, the door swings wide open leading you up a set of stairs.";
		now player is in MainLibraryRoof;
		decrease OldLibrarianEntryCounter by 2;		[prevents librarian from entering roof]
		stop the action;
	else: 
		say "The door won't budge. It must be locked."
Instead of opening MainLibraryRoofDoor:
	if player has lostTourGroupKey:
		say "You try to unlock the door using the key from the tour group. To your surprise, the door swings wide open leading you up a set of stairs.";
		now player is in MainLibraryRoof;
		decrease OldLibrarianEntryCounter by 2;		[prevents librarian from entering roof]
		stop the action;
	else: 
		say "The door won't budge. It must be locked."

The printed name of MainLibraryRoofDoor is "a door".
Understand "mysterious door" and "unmarked door" and "mysterious unmarked door" and "door" as MainLibraryRoofDoor.

MainLibraryRoof is a room. "[if unvisited]You look around in bewilderment. You had heard rumors about people finding ways onto the Main Library's roof, but you never imagined they were real.[end if]The roof itself is very plain - mostly empty with cement floors and walls. Beyond the waist-length walls, you can see the undergraduate courtyard where students are sitting at tables outside enjoying themselves and going in and out of the library.[paragraph break] You can go back [bold type]west[roman type] to the Library's Atrium."
The printed name of MainLibraryRoof is "Main Library Roof".

Instead of jumping when player is in MainLibraryRoof:
	say "Your heart lurches as the ground gets closer and closer to you. You instantly feel a pang of regret and terror, and then you feel nothing.";
	now FellToDeath is Completed;
	now CurrentEnding is FellToDeath;
	End the Journey.
Understand "jump off roof" and "jump off" and "jump over the wall" and "jump over wall" and "jump over the walls" and "jump over wall" as jumping.
	
Instead of going west from MainLibraryRoof:
	now player is in Main Library Atrium.

[Every turn when player is in Main Library Atrium:
	now the standard report taking rule response you-can-also-see  is " "]

LibraryBasementHallway is down from MainLibraryInterior. "[if unvisited]You wander through the basement of the Main Library, looking for Room 66. You pass a lot of unlocked doors before arriving at your destination. There is a bathroom to the [bold type]south[roman type], which you can use before class. The tunnel to the Undergraduate Library is to the [bold type]east[roman type]. You can also go[bold type] in [roman type]to Room 66, [bold type]east[roman type] through the tunnel, or back [bold type]up[roman type] to the Main Library. [else]You are in the lowest level of the Main Library. The tunnel to the Undergraduate Library is to the [bold type]east[roman type]. From here you can go [bold type]south[roman type] to the BATHROOM, INTO Room 66, [bold type]east[roman type] through the tunnel, or back [bold type]up[roman type] to the Main Library."

The printed name of LibraryBasementHallway is "Basement Hallway".

ROOM 66 is inside from LibraryBasementHallway. "You enter Room 66 and see that there is no one in there. It is a large room and it feels even larger when it is empty. There seems to have been a class taking place recently. It looks like desk 12 is down and things left around the room. There is a large wooden table on the stage at the front of the room. It looks like it is used for lectures. You can go [bold type]outside[roman type]."

BATHROOM_J is south of LibraryBasementHallway. "You enter the bathroom to make sure no one was left behind in there. You find that it is empty. You can go back [bold type]north[roman type]."
The printed name of BATHROOM_J is "Library Bathroom."

GradLibraryRW is a region. The Stacks Entry and The Stacks1 and The CorridorRW and StudyRoomRW and HelpDeskEntry and PLACEHOLDERSTACKS are in the GradLibraryRW.


HelpDeskEntry is a room. HelpDeskEntry is west of Main Library Atrium. "As you walk towards the Help Desk and the stacks, you weave between a tangle of students sprawled on the floor, working on some posters. You shouldn't bother them; they look busy, and you quickly become distracted. [if unvisited]Do you hear squeaking coming from near the stacks to the [bold type]west[roman type]?"
The printed name of HelpDeskEntry is "Main Library Help Desk".

MainLibraryHelpDesk is scenery in HelpDeskEntry.

HelpDeskPosters are scenery in HelpDeskEntry. Understand "posters" as HelpDeskPosters. The description of HelpDeskPosters is "The posters are coming along nicely."

The description of MainLibraryHelpDesk is "The Help Desk is a large and intimidating circle made of oak; as you approach it, it almost feels as if you are shrinking. "

The printed name of MainLibraryHelpDesk is "Help Desk".
Understand "Help Desk" and "Library Help Desk" as MainLibraryHelpDesk.

StacksDesk is west of HelpDeskEntry. "You approach the desk and a pleasant, glasses-wearing woman asks you for your iCard. When you provide it to her, she lets you pass into the stacks. [if unvisited]The smell of books old and new hits your nostrils like a thousand years of recorded knowledge and imagination. You wander for a while between Aristotle and Milton, meander past Hobbes and Lewis Carroll, not looking for anything in particular, but enjoying the solitude and the company. As you walk past one shelf, you brush against a book sticking out a little too far, knocking it off. It falls on its spine falling open, and before you can find out what book it was, the ink on the pages begins to swirl and coalesce, spilling off the pages and forming a black puddle at your feet. It does not glisten in the halogen lighting like you imagine ink should, but absorbs all light, as though it weren't a puddle at all but a hole, a hole down to the streets of Dickens, or the Hells of Dante, or the absurd reality of Shakespeare's comedies, a hole you could easily jump down into... You can become part of that adventure by going [bold type]west[roman type].[else]You can go [bold type]west[roman type] or [bold type]east[roman type] from here."

Instead of going west when player is in HelpDeskEntry:
	if player carries icard:
		if a random chance of 1 in 20 succeeds:
			now icard is in a random visited outdoor room;
		if player carries icard:
			continue the action;
		else:
			say "The stacks librarian won't let you into the stacks without your iCard. You must have dropped it somewhere. Maybe you could try retracing your steps.";
			stop the action;
	else:
		say "The stacks librarian won't let you in without your iCard. Did you leave it somewhere?"

StacksEntry is west of StacksDesk. "As you step further into the stacks a chill settles on the back of your neck. The hallway is poorly lit, and you can hear metallic clanging a distance away. You can go deeper into the stacks to the [bold type]west[roman type], or retreat to the [bold type]east[roman type]"

After going west from StacksEntry:
	now GettingLost is true.

After going east from StacksEntry:
	now GettingLost is false.

The printed name of The StacksEntry is "The Stacks".

The Stacks1 is a room. The Stacks1 is west of StacksEntry."[if unvisited]The stacks are eerie and hushed; you only hear faint, metallic echoes, like drafts rattling the ugly steel shelves. It's dim, and if you squint you can see movements, like other people are swaying between the rows and rows of books. If you try to focus on them, though, they seem to disappear.[paragraph break]You're about to turn back, too wary to press on, when something darts out in front of you. Stopping right at your feet is a small gray mouse[end if][if visited]The endless rows of bookshelves seem to stretch on forever here. There seems to be light visible to the [bold type]east[roman type][end if]."
The printed name of The Stacks1 is "The Stacks".

The CorridorRW is a room. The CorridorRW is south of The Stacks1. "[if unvisited]You dash down the corridor after the mouse, just barely able to catch the glint of its fur as it darts along the floor, the cheese held tight in its jaws. You pass through a doorway, neatly dodging a misplaced book that is simply [italic type]begging[roman type] to trip you.[paragraph break]The little mouse skids to a stop at the dead end of the hallway, looking up at you with its wide eyes as you approach. You're only a few feet away when you hear a weak banging sound. You track the noise, letting the mouse slip out of your sight, and you realize you're next to one of the small study rooms. A faint [italic type]thud[roman type] echoes from within. There's a window on the study room's door through which you could peek...[end if][if visited]The hallway is certainly less hectic now that the mouse is gone. Why are you here again?"
The printed name of The CorridorRW is "The Corridor".

StudyRoomRW is a room. StudyRoomRW is west of SRDoor. The printed name of StudyRoomRW is "Study Room". The description of StudyRoomRW is "It's a pretty grim room; tiny, with a little study carrel jammed inside and a single lightbulb dangling from the ceiling. You're definitely glad you weren't the one trapped in here."

GettingLoster is a number variable.
GettingLost is a truth state variable.

Instead of going nowhere when GettingLost is true:
	say "You wander aimlessly through the stacks, first east, then west, then down then south, then down again, then east, then up three floors, then north, then up again, then down again. You're not sure any more where the exit is. Maybe try going [random direction]? No, that can't be right.";
	If LostStacks is Incompleted:
		increment GettingLoster. 		.

Instead of going east from StacksEntry:
	if LostStacks is Incompleted:
		try going northwest;
		stop the action;
	else:
		say "Whew, you are grateful to make it out of the stacks alive. Best to let the librarians fetch your books for you.";
		continue the action.


Every turn when GettingLost is true and GettingLoster > 4 :
	say "You wander around and around in the stacks for hours and hours and then days and days. Eventually the reality sinks in -- you will never find your way out of the stacks.";
	now LostStacks is Completed;
	now CurrentEnding is LostStacks;
	now GettingLost is false;
	now GettingLoster is 0;
	End the Journey.


WindowRW is a backdrop in The CorridorRW. The printed name of WindowRW is "The Window". The description of WindowRW is "You have to get on your tiptoes to see through the window. Why on earth is it so high? You're startled when you come face to face with a nose. [paragraph break]It's not a disembodied nose; there's a face attached to it, and it's actually quite a nice face, despite the fact that it looks a little bedraggled. This bedraggled face belongs to a girl, and she's nearly pressed up against the glass, her nose a little smushed against it. [paragraph break]'Help me!' she yells through the door. 'Let me out! The door is blocked!'"
Understand "window" as WindowRW.

SRDoor is an openable, closed, lockable, locked scenery door.
SRDoor is west of The CorridorRW and east of StudyRoomRW.

The description of SRDoor is "[if SRDoor is closed]It appears a shelf has fallen in front of the door to this study room; the heavy metal and a scramble of books lay against the door, effectively blocking it. [else]The door is wide open."
The printed name of SRDoor is "The door".
Understand "door" and "the door" as SRDoor.

Instead of opening SRDoor:
	if SRDoor is locked, say "You can't open it with this mess in the way!";
	stop the action.




Instead of going nowhere when the player is in the Main Library:
	say "There are two ways to get into the Main Library, either [bold type]down[roman type] or IN."

Instead of going nowhere when the player is in the LibraryBasementHallway:
	say "There isn't much down here, but the bathrooms are to the [bold type]south[roman type] and you can go[bold type] in [roman type]to Room 66."

Instead of going nowhere when the player is in ROOM 66:
	say "You can only go back [bold type]outside[roman type] once you are in here. There are no other places to go."

Instead of going nowhere when the player is in the BATHROOM_J: 
	say "You must go back [bold type]north[roman type] once you have checked the bathroom."

Instead of going nowhere when the player is in the MAIN LIBRARY ATRIUM:
	say "You don't want to disturb the students. You should go back [bold type]outside[roman type]."

Instead of going east when the player is in the LibraryBasementHallway:
	say "You go inside the tunnel and pass through quickly.";
	Now the player is in UGLFirstFloor.

A Room66Table is a scenery supporter in Room 66. 
The printed name of Room66Table is "a table".
Understand "table" as Room66Table.

The description of Room66Table is "There's a textbook and computer sitting on the table."

CHEM410Textbook is scenery on Room66Table. 
Understand "book" or "textbook" as CHEM410Textbook. Instead of taking CHEM410Textbook: say "No need to carry this thing around."

The description of a CHEM410Textbook is "This textbook is for CHEM 410. That information is way over your head and doesn't look like it'll solve any of your current problems. You decide to not look at it any further."

Room66Computer is a scenery device on Room66Table.
Understand "computer" as Room66Computer.
The printed name of Room66Computer is "the computer". 

The description of Room66Computer is "You can check the computer to see what the professor had been working on. There might be some important information on there."

Room66Desks are a scenery supporter in Room 66. "There are many desks down in Room 66, one of them in particular has some clothes on it that someone might have left behind in the chaos."
Understand "desks" and "desk" as Room66desks.
The printed name of Room66Desks is "some desks".

StripyT-shirt is a wearable thing on Room66Desks.
The printed name of StripyT-shirt is "t-shirt".

Understand "shirt" and "t shirt" and "t-shirt" as stripyt-shirt.

The description of Stripeyt-shirt is "The t-shirt is blue with black stripes on them. It looks like it could be an upgrade over what you are wearing now."

A pair of pants is a wearable thing on Room66Desks.

The description of a pair of pants is "The pair of pants has some holes in them. You can put them on, but it doesn't look like they are any better than what you are wearing."

Understand "pair of pants" as a pair of pants.
Instead of wearing a pair of pants:
	say "You're already wearing some! Leave those be.";
	stop the action.

Two socks is a wearable thing on Room66Desks.
The description of two socks is "You aren't wearing any socks or shoes right now. It might be a good idea to get something on your feet."
Understand "two socks" as Two socks.
Instead of wearing Two socks:
	say "You slide those socks on. How warm!";
	now player is wearing Two socks;
	stop the action.

AtriumTable is a scenery supporter in the Main Library Atrium. 

Instead of examining the AtriumTable for the first time:
	say "You see that there is a small safe on the wooden table. To the left of the safe, you notice that there are three numbers written down there. Seems silly to leave the code next to the safe but you might as well use it. You turn the dial and the safe clicks -- unlocked!"

Understand "wooden table" or "table" or "wooden" as AtriumTable.
The printed name of AtriumTable is "wooden library table".
The description of AtriumTable is "A small wooden table."

Bookcase is a thing in Main Library Atrium.
Understand "bookcases" and "book cases" as Bookcase.
Bookcase is scenery.
Instead of examining Bookcase:
	say "The books stretch on... and on... and on... best not look too long; your eyes are losing focus.";
	stop the action.

A small safe is a closed openable container on  AtriumTable.
A small safe is scenery.

Instead of examining a small safe:
	say "The safe might have something inside of it.";
	stop the action.
Instead of taking a small safe:
	say "You can't do that. It's too heavy.";
	stop the action.

After opening the small safe:
	say "You see [a list of things in the small safe]."

[
The description of a small safe is "[if unvisited] You walk up to the small safe that is currently locked. You can OPEN it to see what is in it.[else] After opening the small safe, you see [a list of things in the small safe]."
]

a piece of cheese is an edible thing in the small safe.
The description of a piece of cheese is "It's a nice chunk of what appears to be sharp cheddar. Too small to be satisfying for a human, but perhaps ideal for something smaller."
Instead of eating a piece of cheese:
	say "Not only do you not know where this cheese has been, but you get the sense that you'll need it later on. Maybe its ultimate use is not as sustenance for you.";
	stop the action.

A SecureBanana is an edible thing in the small safe.
Understand "banana" as SecureBanana.
The printed name of a SecureBanana is "banana".

The description of a SecureBanana is "The banana provides nutritional value and can help you in your journey. You should EAT the banana."

Instead of switching on the computer:
	if computer is switched off:
		say "The computer's battery seems to be dead! You plug the charger in to see what shows up on the computer. The professor had the page opened to emergency escape routes from Room 66. This doesn't look good.";
	else:
		say "There doesn't seem to be anything new open since the last time.";
	now the computer is switched on.

Instead of switching off the computer:
	if computer is switched off:
		say "You should turn on the computer to see what shows up.";
	else:
		say "It doesn't seem like there is much more to see on the computer.";
	now the computer is switched off.

Instead of taking t-shirt:
	say "This shirt fits really well and is super comfortable. I'm going to keep it on.";
	continue the action.

Instead of taking off t-shirt:
	say "You already have one shirt on so another one might be overkill.";
	continue the action.

Instead of taking pair of pants:
	say "You wanted to see if these pants would be any better than the ones you have on but, as you originally thought, they are not.";
	now the player is wearing the pants.

Instead of taking off pair of pants:
	say "You take off the pants to go back to some form of comfort.";
	continue the action.

Instead of taking socks:
	say "Once you put the socks on, your feet get warmer and you are ready to walk more.";
	continue the action.

Instead of taking off socks:
	say "You decide to leave the socks there for later.";
	continue the action.

Instead of eating the SecureBanana:
	say "The banana is a little mushy and old, but it did the job. You have a little bit more energy now.";
	Now the SecureBanana is nowhere.

Understand "hit the [something] on" and "power [something] up" and "flip [something] on" as switching on.

Understand "slip [something] on" and "get dressed in [something]" as wearing.

Check flipping:
	if noun is not flippable:
		say "You don't want to flip that, it is valuable.";
		stop the action.

Carry out flipping:
	if noun is flippable:
		say "You flip the [noun] over and it breaks into pieces. It is now unusable."

[Instead of flipping a computer:
	say "You lift the computer up and flip it to the ground in frustration. It seems like there is nothing valuable on it and it won't be any help to you on your journey. Sometimes breaking things to let out aggression is needed."
]

A thing can be rippable or unrippable.

A thing is usually unrippable.

T-shirt is rippable.

Pants are rippable.

Socks are unrippable.

Ripping is an action applying to one thing.
Understand "rip [something]" or "tear [something]" as ripping.

Check ripping:
	if noun is unrippable:
		say "That [noun] is way too strong to rip.";
		stop the action.

Carry out ripping:
	if noun is rippable:
		say "The [noun] is now ripped in half. It is completely unusable now.";

Instead of ripping [noun]:
	say "You didn't want the [noun] so you decided that no one else can have it too. You leave the unwearable [noun] on the ground and walk away victorious, defeating the [noun]."

LibraryStudents are a scenery person in the Main Library Atrium.

The printed name of LibraryStudents is "students".
Understand "students" and "library students" as LibraryStudents.

The description of LibraryStudents is "The students in the atrium look up as you walk and then go straight back down to their work. It is important to try to not disturb them, they might get angry and shush you."

OldLibrarian is a scenery person in the Main Library Atrium.

Understand "old librarian" and "librarian worker" and "librarian" and "woman" and "lady" and "old lady" as OldLibrarian.
The printed name of OldLibrarian is "older librarian".

a small brown dog is a scenery animal.

Understand "Cavachon" and "Charlie" and "buddy" as small brown dog.

The description of OldLibrarian is "This librarian looks to have worked here for years. She has gray hair and dark, droopy eyes. Someone looks like she needs a retirement."

The description of small brown dog is "This dog is the cutest dog you have ever seen. It is white with brown and black spots and is incredibly friendly. It doesn't seem to belong to anybody and you wonder what it is doing in the library."

Instead of talking to small brown dog:
	say "You try to talk to the dog and he looks at you, pants, and lets out a small bark."

Instead of talking to LibraryStudents :
	say "One of the [noun] looks at you with a glare and says, 'Please be quiet,' and turns back around."

Instead of asking LibraryStudents  about "small safe":
	say "The [noun] doesn't know anything about the safe. They didn't even know it was there."

Instead of asking LibraryStudents  about "banana":
	say "The [noun] looks at you, stunned, and says, 'Don't you know what a banana is?' and turns back around."


Instead of asking LibraryStudents  about "table":
	say "You get no response and then feel stupid, realizing it's a table."

Instead of asking LibraryStudents  about [something]:
	say "They all shush you and goes about their day."

Instead of asking dog about [something]:
	say "'Roof, roof, bark, bark.' Only thing this dog is good for is looking cute."

Instead of asking OldLibrarian about "Main Library Atrium":
	say "One of the [noun] looks at you with a glare and says, 'Please be quiet,' and turns back around."

Instead of asking OldLibrarian about "small safe":
	say "The old librarian says that she saw them move that safe in this morning. They mentioned something about undead and food for thought. Not really sure what any of that means."

Instead of asking OldLibrarian about "banana":
	say "The [noun] looks at you, stunned, and says, 'Don't you know what a banana is?' and turns back around."

Instead of asking OldLibrarian about "me":
	say "The librarian snorts. 'What do I care about you for?'"

Instead of asking OldLibrarian about "myself":
	say "The librarian snorts. 'What do I care about you for?'"

Instead of asking OldLibrarian about "player":
	say "The librarian snorts. 'What do I care about you for?'"

Instead of asking OldLibrarian about "table":
	say "You get no response and then feel stupid, realizing it's a table."

Instead of asking OldLibrarian about [something]:
	say "She shushes you and goes about her day."

Instead of giving SecureBanana to LibraryStudents:
	say "The student you try to hand the banana looks at it and shoos it away. He said it 'looks way too old and mushy. It's basically black.' Wow, someone's a little critical of a perfectly good banana.";
	stop the action.

Instead of giving [something] to LibraryStudents:
	say "The student looks at you with delight, happy to finally the [noun] and not just a pencil and paper.";
	now noun is nowhere;
	stop the action.

Instead of giving SecureBanana to OldLibrarian:
	say "'Wow, that looks like a lovely banana,' she says as I hand it to her. In seconds, she eats the whole thing.";
	stop the action.

Instead of giving [something] to OldLibrarian:
	say "'I don't really want this,' she says, 'but I guess I'll take it. Anything to get you to go away.";
	now OldLibrarian has the noun;
	stop the action.

Instead of giving [something] to dog:
	say "It looks like all a dog wants is a bone, not a [noun].";
	stop the action.

Instead of attacking OldLibrarian:
	say "She swats your arms away and pokes you on the nose. 'Don't do that, respect your elders!'";
	stop the action;

Agitated Kid is a person in Main Library Atrium. "[descript of agitated kid]"

To say descript of agitated kid:
	choose a random row in the Table of Agitated Student attacks;
	say "[attack entry]".

Table of Agitated Student attacks
attack
"An agitated student is knocking things off of tables."
"An agitated student is kicking things off of the ground."
"An agitated student is throwing his pencil at the ceiling."
"An agitated student is yelling at random people."


Understand "student" and "agitated student" as Agitated Kid.

The description of agitated kid is "Maybe they had a rough day, or perhaps they are having difficulty studying."

Instead of talking to agitated kid:
	say "You start to speak to them, but decide you don't want to get hit by a pencil.";
	stop the action.

Instead of attacking agitated kid:
	say "You punch the student on the arm, but it doesn't faze him. 'Better hit me harder next time,' he mutters under his breath.";
	stop the action.


Instead of WeaponAttacking OldLibrarian:
	say "The old librarian notices you are about to swing the [second noun] and ducks so that it misses her head.";
	stop the action.


DogEntryCounter is a number variable. DogEntryCounter is 0.

Every turn when player is in Main Library Atrium:
	increment DogEntryCounter.

Before attacking something when player is in Main Library Atrium:
	increase DogEntryCounter by 3.

Before giving [something] when player is in Main Library Atrium:
	increase DogEntryCounter by 10.

DoginRoom is a truth state variable.
DoginRoom is false.

Every turn when DogEntryCounter is greater than 19 and DoginRoom is false:
	say "Charlie, the friendly library dog, enters the atrium. He walks around to the students and awaits getting pet. [if player has SecureBanana] He smells food somewhere in the atrium. He can smell the banana.";
	now DoginRoom is true;
	now small brown dog is in Main Library Atrium.

OldLibrarianEntryCounter is a number variable. OldLibrarianEntryCounter is 0.

Every turn when player is in Main Library Atrium:
	increment OldLibrarianEntryCounter.

Before talking to someone in Main Library Atrium:
	increase OldLibrarianEntryCounter by 2.

Before flipping [something] in Main Library Atrium:
	increase OldLibrarianEntryCounter by 3.

OldLibrarianinRoom is a truth state variable.
OldLibrarianinRoom is false.

Every turn when OldLibrarianEntryCounter is greater than 5 and OldLibrarianinRoom is false:
	say "Oh no, the cranky old librarian has entered the room. You should try to steer clear of her.";
	now OldLibrarianinRoom is true;
	now dog is in Main Library Atrium.



Atrium Hallway is a room. "[if unvisited]You're in a hallway. There's a chair here. Go ahead and try to take it.[else]Nothing to see here but a chair. You can go north back to the Main LIbrary Atrium."

Atrium Hallway is south of Main Library Atrium.

LibraryChair is an undescribed supporter in Atrium Hallway.
The printed name of LibraryChair is "chair".
Understand "stool" and "chair" and "library chair" as a LibraryChair.


Instead of going nowhere from Atrium Hallway:
	try whichwaying.

MovingChair is a number variable. MovingChair is 0.

Instead of taking a LibraryChair:
	try examining LIbraryChair.

Instead of examining Librarychair:
	if MovingChair is 0:
		say "Your legs are tired from walking so much and you need somewhere to sit near a table. The extra chair seems to be on the other side of the room. Go grab it, doesn't look too heavy.";
		increment MovingChair;
		stop the action;
	if MovingChair is 1:
		say "The chair is sliding easily across the floor as you pull it.";
		increment MovingChair;
		stop the action;
	if MovingChair is 2:
		increment MovingChair;
		say "You yank a little too hard, and the legs fall off the chair. Now they are just laying on the ground.";
		now chair legs are in the location.

chair legs are a thing.
The description of chair legs is "Too bad the legs broke off. That was a good chair. And now you have nowhere to sit!"



Instead of examining OldLibrarian:
	if OldLibrarian is unexamined:
		say "The old librarian normally doesn't do much, but she doesn't like being bothered.";
		now OldLibrarian is examined;
		stop the action;
	else:
		if OldLibrarian carries something:
			say "The old librarian is carrying [a list of things carried by OldLibrarian].";
		say "The old librarian doesn't look very busy, but she probably doesn't want anyone to talk to her. Try asking her a question, if you dare."

PrivateBook is a book.
Understand "book" as PrivateBook.
The printed name of PrivateBook is "librarian's book".

OldLibrarian is carrying PrivateBook.
The description of the book is "the book looks old, like she has been holding it the whole time she's worked there."

Instead of taking book:
	if OldLibrarian is holding PrivateBook:
		say "You try to get the book, but you have trouble prying it from her hands. Finally, you win the battle!";
		now player has PrivateBook.


Instead of talking to OldLibrarian:
	if OldLibrarian is unexamined:
		say "The librarian is putting the books on the shelf away and doesn't hear you speak.";
		stop the action;
	if safe is closed:
		say "The librarian put the code in the safe, but she always tells people it is wrong, hoping they don't try it.";
		stop the action;
	if students are unexamined:
		say "The old librarian only helps the students in dire situations.";
		stop the action;
	else:
		say "You try to talk to the old librarian, but she blurts out 'Unless it is the most important thing in the world, NO TALKING IN MY ATRIUM.' Someone isn't having a good day."


ReorderBooks is an action applying to nothing.

Understand "sort" and "redo" as ReorderBooks.

[
Maintenance worker is a person in Main Library Atrium. Maintenance worker is scenery. "It seems like some of the tables are broken so help was called."

Before listing nondescript items of MAIN LIBRARY ATRIUM:
	if Maintenance worker is marked for listing:
		now Maintenance worker is not marked for listing.

Every turn when OldLibrarianEntryCounter is 20:
	say "It looks like the Maintenance worker has finally showed up";
	repeat with maintenance worker running through people in Main Library Atrium:
		now Maintenance Worker is in Main Library Atrium.
]

[Every turn when OldLibrarian is not nowhere and player is in Main Library Atrium:
	if a random chance of 1 in 10 succeeds:
		say "Old Librarian [one of]is saying 'Please leave if you are going to make noise'[or]is moving a book[or]is eating a piece of fruit[or] is asking 'What do you need from me?'[or]is thinking that she really wants to leave [as decreasingly likely outcomes].";
		now OldLibrarian is in the location.]

LibFighting is a number that varies. LibFighting is 1.

piece of fruit is a backdrop.
Piece of fruit is in Main Library Atrium.
The description of piece of fruit is "It is hard to see anything but what is on the surface, but it may have a deeper meaning."

Instead of interrogating OldLibrarian about an item listed in Table of OldLibrarian Responses:
	say "[reply entry][paragraph break]".

Table of OldLibrarian Responses
Item	reply
a small safe	"Old librarian says, 'It's just a safe, I know nothing about it. Except the code I wrote next to it.'"
PrivateBook	"Old librarian says, 'This is a book. They belong in a library.'"
a banana	"Old librarian says, 'This banana is disgusting. I don't want that.'"


Instead of going nowhere when the player is in the Stacks:
	   say "You must press on."

Instead of going nowhere when the player is in the Help Desk:
	say "Well that certainly didn't get her attention. You could leave her alone and go [bold type]east[roman type]."


A Worn Couch is a supporter in StacksEntry. "A worn couch is pushed up against one of the walls."

Instead of entering Worn Couch:
	try attacking Worn Couch.

Instead of attacking Worn Couch:
	say "Why would you do that to this poor old piece of furniture? Hasn't it weathered enough already?";
	stop the action.

The description of the Worn Couch is "You wouldn't want to sit on this couch; its leather is cracked and faded, and an abandoned folder sits on it."

The folderRW is a closed openable container on the Worn Couch. The folderRW is scenery.
The printed name of the folderRW is "folder".
Understand "folder" as the folderRW.
Instead of taking the folderRW:
	say "You don't need that. Maybe you'll need what's inside, however.";
	stop the action.

The description of the folderRW is "The folder is brand new and in good condition except for a crease in its upper right corner."

A paperRW is a thing in the folderRW.
The description of paperRW is "It appears to be a graded exam, though for what, you can't tell. The exam is strangely heavy and nice, and corner of it is a little mangled, a little bitten; the marks look small, like a rodent's. The words on the exam aren't in English, or in any other language you recognize. There IS, however, a name at the top: this exam belongs to someone named Noor. She'll probably want this back. Maybe you could inquire about her at the HELP DESK."
The printed name of paperRW is "exam".
Understand "exam" as paperRW.
Understand "test" as paperRW.

tableRW is a supporter in StacksEntry. The tableRW is scenery. The printed name of the tableRW is "the desk." The description of the tableRW is "The desk appears old and impressive; it has rested here for decades. Centuries, maybe. Time is relative, after all."

stack of books are scenery on tableRW.
The description of stack of books is "An impressive stack of books sits in front of the grad student. Their spines are facing outwards; you see:[paragraph break][italic type]The Big Short: Inside the Doomsday Machine[roman type] by Michael Lewis, [line break][italic type]Stamping Butterflies[roman type] by Jon Courtenay Grimwood, [line break][italic type]The Queue[roman type] by Vladimir Sorokin,[line break][italic type]A Dentist's Story[roman type] by Barrie Lawrence, and[line break][italic type]East of Eden[roman type] by John Steinbeck."

ShelfRW is a thing in The CorridorRW. ShelfRW is scenery. The description of ShelfRW is "Something massive had to have pushed this over; it looks heavy, and the books it scattered certainly weren't flimsy paperbacks. Even so, you'd probably be able to move it if you really put your back into it. Maybe a firm kick would do the trick?"
Understand "shelf" and "mess" as ShelfRW.

Gum Wrapper is a thing. Gum Wrapper is scenery. Gum Wrapper is in The CorridorRW. The description of Gum Wrapper is "It's a long bubble gum wrapper, and you see Noor's phone number scribbled on it, bookended by smiley faces."


squeaking is a backdrop.
squeaking is in GradLibraryRW.
The description of squeaking is "You think you see something small and pale move around in the shadows of the tables, but you can't be sure; it's gone before you can see it properly."
Instead of taking squeaking:
	say "That's a noise; how on earth would you take it?";
	stop the action.

Every turn when player is in StacksEntry:
	   if a random chance of 1 in 10 succeeds:
		say "[one of]A stray coughing fit interrupts the silence before being quieted down; cough season is upon you[or]The grad student clears her throat unkindly[or]You hear someone frustratedly murmur 'What the hell is a Diffie Hellman key exchange?' [line break]You had no idea the University was introducing cryptography into its syllabus[or]A kid, they look like a freshman, to be frank, blows past you with their laptop clutched to their chest, nearly falling down the stairs[or]It sounds like there might be a noise in the walls, a scratching noise, but it's gone before you can investigate[or]An overwhelmed professor inches past you, carrying a stack of books in his arms that tremble and sway. The stack goes up, and up, and up, until you can't see it anymore. You're not sure how he'll make it out the door. Hopefully he's tenured[or]Your phone goes off and the entire library goes deadly quiet. You look around in a panic, feeling the eyes of the grad student, the studying undergrads, the librarians... hell, even the library itself is glaring at you. Your vision starts to flicker in the corners of your eyes. The room is getting darker. Oh god, you've made a mistake. [paragraph break]'I'm so sorry,' you gasp out. [paragraph break]'You should be,' the grad student hisses[at random]."

unhelpful professor is a scenery person in StacksEntry .
The description of professor is "He disappears through a doorway (somehow) before you can offer your help."

freshman is a scenery person in StacksEntry.
The description of freshman is "Someone's about to miss an exam. Poor kid."

stacksRW is scenery in StacksEntry .
Understand "stacks" and "the stacks" as stacksRW.
Instead of examining stacks:
	say "The stacks stare back forebodingly. How eerie.";
	stop the action.

studentsRW are a scenery person in StacksEntry.
Understand "students" as StudentsRW.
Instead of examining studentsRW:
	say "It's best to leave them alone. They look busy.";
	stop the action.

PosterRW is scenery in StacksEntry.
Understand "poster" and "posters" as PosterRW.
Instead of examining PosterRW:
	say "You can't even see what they're writing; it didn't even look like a language to you. How odd.";
	stop the action.

HelpDeskRW is scenery in StacksEntry.
Understand "Help desk" and "desk" as HelpDeskRW.
Instead of examining HelpDeskRW:
	say "It's a rather intimidating piece of furniture, wouldn't you say? It's been here for longer than this land has had gods.";
	stop the action.

Diffie-Hellman key exchange is scenery in StacksEntry.
The description of Diffie-Hellman key exchange is "Unless you're a cryptography major, I doubt the Diffie-Hellman key exchange is going to be helpful to you."

Instead of taking scenery in StacksEntry:
	   say "[one of]You certainly can't take that with you[or]Think again; that's not for taking[or]Nope[or]The [noun] doesn't want to be taken[at random]."

The Big Short is a backdrop.
The Big Short is in StacksEntry.
The description of The Big Short is "Wasn't there a movie made about this? It sounds like something a business student would read."
Instead of taking The Big Short:
	say "You shouldn't take other people's books.";
	stop the action.

Stamping Butterflies is a backdrop.
Stamping Butterflies is in Help Desk.
The description of Stamping Butterflies is "This one looks like a hot mess of a book. Is it an action thriller? A political drama? A sci-fi odyssey? You can't quite tell."
Instead of taking Stamping Butterflies:
	say "You shouldn't take other people's books.";
	stop the action.

The Queue is a backdrop.
The Queue is in StacksEntry.
The description of The Queue is "Ah, a Russian book. You once took a course on Russian literature; you can't really remember much about it. It's like a dark, dark void in your memory. Perhaps that's for the best. Russian literature holds secrets mortals are never really meant to know."
Instead of taking The Queue:
	say "You shouldn't take other people's books.";
	stop the action.

A Dentist's Story is a backdrop.
A Dentist's Story is in StacksEntry.
The description of A Dentist's Story is "'Who on earth would want to read about a dentist?' you wonder. It's a valid question."
Instead of taking A Dentist's Story:
	say "You shouldn't take other people's books.";
	stop the action.

Steinbeck is a backdrop.
Steinbeck is in Help Desk.
The description of Steinbeck is "Ah, the saga of the Trasks and the Hamiltons. You've never read it, but you think simply saying 'Ah, the saga of the Trasks and the Hamiltons' is enough to make it sound like you've read it."
Instead of taking Steinbeck:
	say "You shouldn't take other people's books.";
	stop the action.


Instead of WeaponAttacking Libgradstudent:
		say "The [second noun] doesn't even reach her; it bounces pathetically off of the strong wood of the Help Desk.";
		stop the action.


Instead of kicking ShelfRW:
	say "You give it your all, stomping and kicking against the debris, and the metal of the shelving unit makes the most awful, inhuman screech as it drags across the floor. You're able to push it just far enough that the door can be wedged open, and the girl shimmies her way out.";
	now SRDoor is open;
	now FoundNoor is true.
Instead of kicking the piece of cheese:
	say "Now what'd you do that for? Cut it out.";
	stop the action.

Libgradstudent is a person in help desk. "[if unexamined]Seated within the protective circle of the Help Desk is a graduate student, working away at her computer. A stack of books sits to the side of her laptop, precariously close to the desk's edge[end if][if examined]The grad student watches you balefully[end if]."

The description of Libgradstudent is "The bored graduate student taps her nails on her coffee cup as she glances at the computer screen in front of her. Her nametag is curiously blank, but no one questions that she belongs there. Everything about her face is linear and harsh, and when she turns her eyes on you, you feel cowed without even having said a word."

Understand "graduate student" and "student" and "grad" and "grad student" as Libgradstudent.

Instead of talking to Libgradstudent:
	say "She looks down upon you imperiously from her seat; she doesn't seem very helpful for someone at the help desk. Maybe you need to ask for something specific."

Instead of giving something to Libgradstudent:
		say "She seems uninterested in what you offer and refuses to take it.";
		stop the action.

Instead of attacking Libgradstudent:
	say "You fool; you think anything could faze a graduate student? Think again.";
	stop the action.


Noor is a scenery person in The CorridorRW. The description of Noor is "The girl looks a little worn down, though being trapped in a tiny cube for a while will do that to a person, you suppose. [paragraph break]'Hey, thanks for your help,' she says as she smooths down her shirt. 'That damn mouse knocked over a shelf somehow, and I need to get to my class. My name is Noor, by the way. Nice to meet you.'"

Understand "girl" as Noor.

Instead of interrogating Noor about an item listed in the Table of Noor Responses:
	say "[reply entry][paragraph break]".

Table of Noor Responses
Item	reply
mouse	"'That little thing must be awfully strong, huh?' Noor says."
paperRW 	"'Oh, yeah!' Noor says. 'It's for my cryptology class. We're learning about the Diffie Hellman key exchange. Don't ask what it is; it's a long explanation.'"
Diffie-Hellman key exchange 	"'Hey!' she laughs. 'I said not to ask!'"

Instead of asking Noor about [any thing]:
	say "'Listen,' Noor says. 'I've got to get to class, I'm sorry!'"

Instead of giving paperRW to Noor:
	say "Noor looks down at the paper you've handed her in surprise. [paragraph break]'Oh, it's my cryptography exam! You have no idea how badly I need this for my class, thank you!'[paragraph break]'You've been so helpful,' Noor tells you, speaking so fast that you can't get a word in edgewise. 'I can't thank you enough. I need to run to class, but here, take my phone number-' she pulls a gum wrapper from her bag and scribbles something on it, '-because you should call me! I can thank you over a burger sometime, okay?'[paragraph break]She holds out the gum wrapper to you.";
	now paperRW is nowhere.

Instead of taking Gum Wrapper:
	say "She places the gum wrapper in your hands before she jogs down the hallway, and just like that, she turns the corner, waving at you as she disappears with a smile.[paragraph break]Well.[line break]That was a weird little adventure.[line break]You're glad you helped Noor, though. Maybe her number will come in handy one day. She was kind of cute, after all.";
	now player has gum wrapper;
	now Noor is nowhere.

Instead of attacking Noor:
	say "That defeats the whole entire purpose of this section of the game. What on earth do you think you're doing? Pull yourself together.";
	stop the action.

FoundNoor is a truth state variable.
FoundNoor is false.


gray mouse is a female animal in The Stacks1. gray mouse is scenery.
The description of gray mouse is "The mouse is fine-boned, and its fur shimmers even in the poor lighting of the stacks."
Understand "mouse" as gray mouse.

Instead of talking to gray mouse:
	say "'I'm a mouse,' the mouse tells you. 'If you're talking to me, you're more sleep-deprived than the graduate student at the Help Desk.'"

Instead of attacking gray mouse:
	say "The mouse dodges your feeble attack. It is much more nimble than you. Regardless, that's no way to treat a hungry animal.";
	stop the action.

Instead of giving cheese to gray mouse:
	say "You gently drop the cheese near the mouse, and it watches you with uncanny eyes. (You [italic type]really[roman type] hope this mouse doesn't have rabies.)[paragraph break]Without warning, the mouse grabs onto the cheese and scampers down a row of shelves to the [bold type]south[roman type].[paragraph break]It's fast, and you'll lose sight of it soon, but you also saw something interesting glint between the bookshelves to the [bold type]west[roman type]... do you follow the mouse, or satisfy your own curiosity?";
	now cheese is nowhere.

Instead of interrogating Libgradstudent about an item listed in the Table of Grad Responses:
	say "[reply entry][paragraph break]".

Table of Grad Responses
Item	reply
folderRW	"The grad student scoffs. [paragraph break]'I don't make a point to keep track of every wayward piece of school supplies in this place.'"
paperRW 	"She shrugs. [paragraph break]'I've never seen it before, and I don't know if you should be snooping in other people's school materials.'"
Libgradstudent    	"She smirks at you, her eyes glinting disturbingly from behind her glasses. [paragraph break]'Don't you see my nametag?' she asks, her voice saccharine sweet, gesturing to the blank nametag on her blouse. 'All you need to know about me is right here.'"
mouse   	"'You think we have WHAT in the library?' she sneers. 'I think not!'"
stack of books   	"'Oh, I just like them for their titles,' she says dismissively."
Noor    	"She pauses, looking down at you from her perch. She's birdlike, staring down the ramrod-straight angle of her nose at you. You start to shift, uncomfortable, and the grad student finally settles back in her chair, though her feathers certainly are still ruffled. [paragraph break]'I may have seen a girl go into the stacks,' she says reluctantly. 'But you won't be able to get in there without my assistance, and you'll need to ASK for that.'"

Instead of asking Libgradstudent about "weapon":
	say "She says, 'I can call campus security on you for asking that question.'"
Instead of asking Libgradstudent about "winning":
	say "She says, 'That violates the academic code of conduct on campus!'"
Instead of asking Libgradstudent about "how to win":
	say "She says, 'Kid, if I knew that, I wouldn't be in grad school.'"
Instead of asking Libgradstudent about "hint":
	say "She says, 'This is a library, kid. Go read a book.'"
Instead of asking Libgradstudent about "clue":
	say "She says, 'Look around you; this place has answers all over it. It's covered in books! On the walls, on the floor, even...'"
Instead of asking Libgradstudent about "help":
	say "She says, 'What do I look like to you, a Help Desk?' You're too speechless to come up with a retort."
Instead of asking Libgradstudent about "assistance":
	say "'Are you familiar with riddles?' the grad student asks. [paragraph break]'I will reward you with passage into the stacks if you answer five riddles for me,' she tells you, the fluorescent light shining off of her glasses forebodingly. 'Do you consent?'[paragraph break]";
	say "Well, do you?[paragraph break]";
	if the player consents:
		say "[paragraph break]'Good choice,' the grad student tells you. 'When you answer me, you must say you ANSWER [italic type]your response[roman type] TO ME. I'm a stickler for correct formatting. My first riddle is this: [paragraph break]'What becomes shorter when you add two letters?'";
	otherwise:
		say "'Poor decision,' she sneers at you. 'I think we're done here. Run along.'"

After answering the Libgradstudent that [noun], say "[one of]The grad student laughs at you. 'No, try again.' [or]She gives you an unimpressed look. That certainly wasn't the correct answer. [or]'Please, tell me that wasn't your best guess,' she tells you. [or]'Think again, kid,' she says. [or]'Wrong,' she drones in a bored tone. [or]'What a rudimentary guess,' she sneers. [or]'This isn't grade school, you'll have to think harder than that,' she tells you.[or]She doesn't even dignify that guess with a response.[or]'This is pathetic,' she says, almost to herself.[or]'Absolutely not, you fool,' she laughs.[at random]"

Instead of answering the Libgradstudent that "short", say "'Well done,' the grad student says. 'Now, for my second riddle:[paragraph break]'What travels around the world but always stays in the corner?'"

Instead of answering the Libgradstudent that "stamp", say "'You're better at this than I thought,' the grad student says begrudgingly. 'My third riddle:[paragraph break]'What 5-letter word can lose 4 letters and still be pronounced the same way?'"

Instead of answering the Libgradstudent that "queue", say "'Impressive,' the grad student says. 'My next riddle:[paragraph break]'I dig tiny holes and put silver in them. I also make crowns of gold. Everyone has to visit me if they want to smile nicely. Who am I?'"

Instead of answering the Libgradstudent that "dentist", say "The grad student looks over her glasses at you, eyebrows raised. [paragraph break]'Very good,' she says calmly. 'You've made it far. Now, for my final riddle:[paragraph break]'The beginning of eternity, the end of time and space; the start of every end, and the end of every place. What am I?'"

Instead of answering the Libgradstudent that "e", say "The grad student leans back in her chair, crossing her arms over her chest. [paragraph break]'Well, well, well,' she says softly. [paragraph break]'You've exceeded my expectations. Look in that container over there, its contents will help you' she tells you as she points towards an unassuming wooden box on the edge of the Help Desk."

PART 4 -  DAVID KINLEY HALL

DavidKinleyHall is a RoomProxy in David Kinley Hall. The printed name of DavidKinleyHall is "David Kinley Hall".
[missing description]
David Kinley Hall is outside from DavidKinleyHallInterior. "You are outside David Kinley Hall. You can go[bold type] in [roman type]from here. Otherwise the Main Library Entrance is to the [bold type]north[roman type], to the [bold type]south[roman type] lies Temple Hoyne Buell Hall."

DavidKinleyHallInterior is an interior location. "[if unvisited]You have just entered David Kinley Hall and come face to face with the Abominable Troll. As a typical college student, you didn't have time for breakfast this morning, didn't shower, and are running on three and a half hours of sleep. However your tribulation is irrelevant to the troll as it proceeds to eloquently troll you. The trolling becomes more than you can handle, and you march off outside to the bell tower of the South Quad to get some fresh air. While sitting down by the flowers, you come up with the master plan to rid yourself of this heinous troll. Time to enact the master plan. You march right back into David Kinley Hall. [end if]The Main Hall in David Kinley Hall bustles with Econ students going to and from class. To the [bold type]south[roman type] is Room 114. and a well-worn staircase leads [bold type]up[roman type] to the second floor and [bold type]down[roman type] to the basement."
The Printed name of DavidKinleyHallInterior is "David Kinley Main Hall".

DKH Basement is down from DavidKinleyHallInterior. "[if unvisited] Opening the main door to the basement you see the small cafeteria area. Down the hall is the Econ help center for freshmen, as a senior you think about going but then remember you don't waste time on lost causes. The cafeteria counter has some food that looks interesting. You can go [bold type]up[roman type] to the main hall, a long hallway to the [bold type]south[roman type], there could be something of interest there.[else] You've returned to the basement.  You can go [bold type]up[roman type] to the main hall, or take the hallway to the [bold type]south[roman type]."
The printed name of DKH Basement is "Kinley Hall Basement".

DKHBackHall is a room. "[if unvisited] You reach the back hall of the basement, at the end you see a strange metal door.[else] You're in the back halls. You can return to the cafeteria to the [bold type]north[roman type] or go through the door to the [bold type]south[roman type]."

DKHBackHall is south of DKH Basement.
The printed name of DKHBackHall is "Back Hallway".


DKHRoom B35 is a room. "[if unvisited] A mysterious room in furthest back corner of the basement, all the lights are off leaving only a window near the top of the wall to be sole source of light. The beam of sun shines down leading you to see a mysterious black box.[else] You return to room B35, just being there makes you uneasy."
The printed name of DKHRoom B35 is "Room B35".


DKHRoom 114 is a room. "[if unvisited] You enter Room 114 to the DKH auditorium, the air is stale and a touch musty. The auditorium is empty all you can hear is the sound of white noise broken up by electronic hums coming from the projector. A red flashing light can be seen on the back of it, maybe it can be turned on? It looks to be connected to the desk panel.[else] You take a seat in one of the chairs of the auditorium listening to the low hum of the fluorescent lights. There's an evil looking door to the [bold type]west[roman type], and the regular exit is to the [bold type]north[roman type]."

DKHRoom 114 is south of DavidKinleyHallInterior.
The printed name of DKHRoom 114 is "Room 114".

2ndFloorHall is a room. "[if unvisited] You run up the stairs. It's quiet up here, a few students sit in the chairs  studying, waiting for their classes. [else] You're back at the second floor hall. Students study quietly here.[end if]You can go [bold type]south[roman type] or [bold type]down[roman type] from here."
The printed name of 2ndFloorHall is "Second Floor Hall".
2ndFloorHall is up from DavidKinleyHallInterior.

2ndFloorOffice is a room. "[if unvisited] You make your way to the office. The desk attendant looks at you asking, 'Is there anything I can help you with?' however you can't hear him as your focus is on the candy bowl sitting at the end of his desk. You grab a handful of mints, and put them in your mouth, then notice a blue key sitting on the desk. The desk attendant is looking at you impatiently as he doesn't know what you want, and he has more important things to attend to. [else] You enter the office, unfortunately the candy bowl is empty."

2ndFloorOffice is south of 2ndFloorHall.

The printed name of 2ndFloorOffice is "Second Floor Office."


Student Help Lab is a room. "[if unvisited] Econ help center for students, you haven't been to this place in years, because you know everything and never require outside help. At least that's what you keep telling yourself. Either way its empty, so you can research this dire matter all you want. You should probably [italic type]browse[roman type] one of the computers for information. [else] Why did you bother coming back here?".

Student Help Lab is north of DKH basement.

The Nutty Professor's Office is a room. "[if unvisited] You enter the Nutty professor's room, surprisingly the door wasn't locked. You begin to make your search of the magic crystal. [else] You shouldn't be back here what if the professor comes back and notices you took his crystal?".

The Nutty Professor's Office is south from 2ndFloorOffice.

Troll's Lair is a room. "[if unvisited] It's dirty in here and it smells like troll shit, the troll is nowhere to be found. You glance around the room to spot some sign of the troll. Some interesting looking things are a poster to the west side of the room, there is also a desk.[else] You return to the lair of the Troll."

TrollsDungeon is a room. "[if unvisited] You make your way across an cramped underground labyrinth it's dark in here but there is light coming from somewhere up ahead. You come to the end of the narrow tunnel to reach an opening. You've entered into a vast underground dungeon, on the other side sits the menacing troll upon a throne atop the skulls of its former students. The troll looks at you with an evil smile and waits for you to approach. [else] You've come to the dungeon of the troll." The printed name of TrollsDungeon is "Troll's Dungeon".

Instead of going nowhere:
[	if player is in the south quad:
		say "David Kinley Hall is to the [bold type]northwest[roman type]. Main Library is to the [bold type]north[roman type], and Temple Hoyne Buell Hall is to the [bold type]south[roman type].";
		stop the action;]
	if player is in David Kinley Hall:
		say " You can head [bold type]west[roman type] into David Kinley Hall or [bold type]southeast[roman type] back to the South Quad.";
		stop the action;
	if player is in DavidKinleyHallInterior:
		say "You can go [bold type]west[roman type] up the stairs to the 2nd Floor, [bold type]south[roman type] to the class rooms or [bold type]southwest[roman type] to the Basement.";
		stop the action;
	if player is in DKHRoom 114:
		say "You can head back [bold type]north[roman type] to the main hal, or try to go to the troll's office to the [bold type]west[roman type].";
		stop the action;
	if player is in DKH Basement:
		say "You can go [bold type]south[roman type] into the office halls, [bold type]northeast[roman type] back up to the main hall or [bold type]north[roman type].";
		stop the action;
	if player is in the DKHBackHall:
		say "You can continue [bold type]south[roman type] and try opening the strange door or return to the basement to the [bold type]north[roman type].";
		stop the action;
	if the player is in DKHRoom B35:
		say "You can head back [bold type]north[roman type] to get out of here.";
		stop the action;
	if player is in student help lab:
		say "You can return to the main basement to the [bold type]south[roman type].";
		stop the action;
	if player is in the 2ndFloorOffice:
		say "I can go back [bold type]north[roman type] to the Hall or [bold type]south[roman type]";
		stop the action;
	if player is in the Nutty Professor's Office:
		say "I can return [bold type]north[roman type] to the office.";
		stop the action;
	if player is in the Troll's Lair:
		say "I can go [bold type]east[roman type] back to room DKH114";
		stop the action;
	if the player is in the TrollsDungeon:
		say "Better not to leave this place";
		stop the action;
	else:
		continue the action.

[THINGS, PEOPLE, ITEMS, SUPPORT, CONTAINER]

A Cafeteria Counter is a supporter in the DKH Basement.  A Cafeteria Counter is scenery.

The description of a Cafeteria Counter is "It's a counter spanning across the wall of the small cafeteria lounge, it's kept clean. There's nothing of interest except a microwave and a fruit basket. A snack couldn't hurt."
A Cafeteria Counter is fixed in place.
Understand "counter" and "table" as Cafeteria Counter.

A fruit basket is scenery on the Cafeteria Counter.
The description of the fruit basket is "You go to grab one of the apple on top of the basket of fruit, but you hold it in your hand you realize it's made of plastic and the basket is simply a decoration. Your stomach grumbles, and you sigh as you realize the universe has played another cruel joke."

Understand "fruit" and "basket" as fruit basket.

A microwave is a closed, openable container on the Cafeteria Counter. A microwave is scenery.
Understand "reheater" as microwave.

The description of a microwave is "The microwave sits on the counter. [if LeftoverChineseFood is in the microwave]As you approach you smell something delicious and your senses call you to open the door to see what's inside.[end if]"

LeftoverChineseFood is an edible thing in the microwave.

The description of LeftoverChineseFood is "A white plastic container containing sauce covered chicken and white rice with a plastic fork, it might be orange chicken or General Tsao's, that doesn't matter because it's still warm and nobody has noticed you taking it out, best to eat it and leave before someone comes back for it."

Understand "food" and "chinese food" and "leftover food" as LeftoverChineseFood.

FoodEaten is a truth state variable. FoodEaten is false.

Instead of eating LeftoverChineseFood:
	say "You quickly inhale the Chinese food leaving nothing but a few grains of rice and sauce on the tray, feeling energized you find there is nothing else here of interest.";
	if FoodEaten is false:
		now FoodEaten is true;
		continue the action.

The mysterious black box is a lockable, locked, closed container in DKHRoom B35.  "A strange black box sits on the floor, a beam of light shines upon it perfectly."

The mysterious black box is fixed in place.

Instead of opening the mysterious black box:
	say "You unlock the mysterious black box as you open it, god like rays of light blast out blinding you momentarily. As you slowly open your eyes, the box's contents are revealed to you, a massive gauntlet.";
	continue the action.

The description of the mysterious black box is "It's locked with a padlock reading 1337, what could be inside the box?"

The platinum key unlocks the mysterious black box.

The platinum key is on the Desk Panel.

The description of the platinum key is "A shiny key with the numbers 1337 etched into it, it looks familiar but what could it open?"

A Projector is a device in DKHRoom 114.

A Projector is scenery.
understand "red light" and "red flashing light" as projector.

The description of the Projector is
"A square box hooked up to the electronic panel on the desk at the front of the room."

A Desk Panel is a supporter in DKHRoom 114.
Desk Panel is scenery.

The description of the Desk Panel is "A desk at the front of Room 114, it is connected to the projector."

Instead of examining Desk Panel:
	if platinum key is on the Desk Panel:
		say "A shiny key lays alone on the desk.";
	else:
		say "Nothing else is on the desk."

Understand "desk" and "panel" as Desk Panel.

Instead of switching on Projector:
   say "You head over to the desk and switch the projector on. It boots showing a blue light that eventually connects to the computer and fades into the windows desktop, it seems somebody has already logged in and a webpage is open on YouTube 'Infowars by Alex Jones, secret government weapon hidden at University of Illinois' You hesitantly click play. 'Ladies and gentlemen, it is October [a random number between 1 and 31] 2016 and I have confidential information describing a new weapon of the globalist hidden somewhere on the campus of the University of Illinois. This is a big deal folks, this weapon is said to pack a power of a nuclear device, and the globalists intend to use it to destroy freedom. Stay tuned to Infowars for more updates'.";
   stop the action.

 A JovansFrontDesk is a supporter in the 2ndFloorOffice. "The front desk is the first thing you come to."

Instead of examining JovansFrontDesk:
	if blue key is on the JovansFrontDesk:
		say "A blue key with the engraving of B35 sits on the desk.";
	else:
		say "Not even candy is left on the desk, a sad day indeed."

Understand "Desk" and "Table" and "front desk" and "Office Desk" as JovansFrontDesk.

A Power Gauntlet is a wearable thing inside the mysterious black box.

Instead of wearing a power gauntlet:
	if CrystalSmoked is false:
		say "You slide your hand into the power gauntlet. As you get it on it powers up with energy so much so that it becomes too heavy to bear and pulls you to the floor. You quickly take it off and realize you are too weak and unworthy to tote the power gauntlet.";
		stop the action;
	else:
		say "You eagerly slide your hand into the gauntlet of power, as it powers up with energy, you feel its immense will channel through you and your strength ascends to godhood.";
		now player is wearing power gauntlet;
		stop the action.

Instead of examining the Power Gauntlet:
	say "An enormous titanium gauntlet with sharp electric nodes pointed out in between each knuckle. This weapon looks incredibly dangerous.";
	stop the action.

a computer terminal is a kind of thing.

a computer terminal can be Booted or Turned Off.

a computer terminal is usually booted.

DKH Computer 1534 is a booted computer terminal.
DKH Computer 1535 is a booted computer terminal.
DKH Computer 1536 is a turned off computer terminal.
DKH Computer 1537 is a booted computer terminal.
DKH Computer 1538 is a turned off computer terminal.
Understand "computer" and "terminal" as computer terminal.

A Lab Desk is a supporter in the Student Help Lab. "A desk with row of computers sitting on top."
Understand "lab desk" and "computer table" and "work table" as Lab Desk.
Lab Desk is scenery.

DKH Computer 1534 is on the Lab Desk.
DKH Computer 1535 is on the Lab Desk.
DKH Computer 1536 is on the Lab Desk.
DKH Computer 1537 is on the Lab Desk.
DKH Computer 1538 is on the Lab Desk.



a professor's desk is a closed openable container inside the nutty professor's office. "The Nutty Professor's desk, supposedly the magic crystal should be somewhere around here."

Understand "professor's table" and "professor desk" and "professor table" as professor's desk.

a magic crystal is a thing inside the professor's desk. "A clear shard of crystal inside of a ziplock bag, this will give me the strength I need to destroy the troll."

Understand "Crystal" and "Meth" and "Methamphetamine" as magic crystal.

a glass pipe is a thing inside the professor's desk. "A tube-like glass pipe with a circular bowl at the end. It must be a device to consume the magic crystal."

a cheap lighter is inside the professor's desk.
The description of cheap lighter is "It's a lighter."

a troll's desk is a supporter in the troll's lair.

Student Tears is an edible thing on the troll's desk. " A glass jug labeled student tears sits on the desk. It must be the troll's favorite drink. You shudder wondering what other nefarious things are in here."

Understand "jug" and "tears" and "glass jug" as student tears.

Understand "consume" as eating.

Instead of eating Student Tears:
	say "You gulp down the full jug of student tears, you feel trollish power take you over. You are fully readied for your final battle with the troll.";
	now DrankTears is true;
	stop the action.

Stanley is an attendant staff member. "Stanley is the front desk attendant in the office. Maybe he might know something about the troll."
Stanley is in 2ndFloorOffice.

Stanley is carrying a troll's key. The description of troll's key is "Key to the troll's lair."
Stanley is wearing a mustard stained tank top. The description of a mustard stained tank top is "It looks greasy and is covered in mustard."

Instead of examining Stanley:
	if Stanley carries something:
		say "He is carrying [a list of things carried by Stanley]. ";
	if Stanley is wearing something:
		say "He is wearing [a list of things worn by Stanley]."

[students are people. [that is a lie]]
Jovansstudents are scenery people.
Jovansstudents are in 2nd Floor Hall. 
The description of Jovansstudents is "Students study quietly in the hallway.".
Understand "classmates" as Jovansstudents.

Instead of giving something to Stanley:
	if noun is power gauntlet:
		say "You drop the power gauntlet on Stanley's desk, nearly destroying his desk. He looks up and says, 'Whoa! What the hell is that thing?! Get it off my desk!'";
	else:
		say "Stanley looks at you and says, 'I don't want that crap.'";
		stop the action.

Instead of giving something to Jovansstudents:
	if noun is power gauntlet:
		say "You pull out the power gauntlet in front of the students, they all look at you in amazement, then go back to studying.'";
	else:
		say "They give you a look that they don't want it.'";
		stop the action.

Instead of asking Stanley about "Life":
	say "'I sit at a desk all day doing spreadsheets, what do you want from me?'"

Instead of asking Jovansstudents about "studying":
	say "They look at you and say, 'Yea we're studying, so piss off.'"

Instead of interrogating Stanley about Troll:
	say "Stanley hears out your plight about the troll as he listens he nods his head as if he understands exactly what you are talking about he tells you [italic type]'I feel you man, that troll sucks, somebody needs to destroy it. There's only one way you'll be strong enough to destroy the evil bastard once and for all. There's a magic crystal of strength in the Nutty Professor's Office just [bold type]south[roman type] of here, look around there and you'll find what you'll need to fight that thing. Also take this key to the troll's lair, and good luck friend.";
	now player has troll's key;
	stop the action.

Instead of interrogating Jovansstudents about Troll:
	say "You walk up to one of the students and ask about how to defeat a troll, they look at you in confusion and tell you they have no information on trolls, but that you can find the information on the internet. According to them there is a computer lab just [bold type]north[roman type] once you reach the basement.";
	stop the action.

Troll is a monster.
The description of the troll is "It's an abhorrent troll and needs to be destroyed."
Understand "the troll" as troll.
Troll is inside TrollsDungeon. "The filthy troll is before you, let's finish this."

Instead of giving something to Troll:
	say "The troll wants nothing from you but your death.'";
	stop the action.

Instead of asking Troll about "Fight":
	say "The troll responds 'Yes to the death!'"

 Instead of interrogating Troll about Troll:
	say "The Troll responds 'I am the evil troll, bwuahahahahahha!'";

[DOORS and KEYS]

The Blue Key unlocks the Metal Door.

The description of the blue key is "Engraving says B35"

The Blue Key is on the JovansFrontDesk.

Understand "key" as blue key.

Metal Door is south of DKHBackHall and north of DKHRoom B35.

The description of the Metal Door is "A heavy metal door with B35 printed on it stands in front of you, it seems quite out of place and it's locked. [if player is in DKHRoom B35]You unlock the door and enter a creepy dark room".

Metal Door is scenery.

Metal Door is an openable, closed, lockable, locked door.

Understand "door" as Metal Door.

evil looking door is an openable, closed, lockable, locked door.
evil looking door is west of DKHRoom 114 and east of Troll's Lair.
evil looking door is scenery.
The description of the evil looking door is "There's something menacing about this door."

Troll's Key unlocks the evil looking door.

jovanposter is west of Troll's Lair and east of TrollsDungeon.

The description of jovanposter is "An out of place poster, you hear a strange whistling coming from it. As you approach closer, you can feel a gentle breeze."[x]

jovanposter is an openable, closed, closed door.

Instead of opening jovanposter:
	if CrystalSmoked is false:
		say "You lack the strength to fight it.";
		stop the action;
	else if ResearchTroll is false:
		say "The troll could be behind here, you are unready to fight as you have no information on it.";
		stop the action;
	else if DrankTears is false:
		say "The troll could be behind here, you need essence of a troll to be victorious over the troll.";
		stop the action;
	else if player is not wearing power gauntlet:
		say "The troll could be behind here, you require the power gauntlet on your arm to fight the troll.";
		stop the action;
	else if foodeaten is false:
		say "You aren't at full energy to fight the troll, you need a full stomach.";
		stop the action;
	else:
		say "You poke a hole in the poster with your finger, revealing there is nothing behind it. You tear it down revealing a cavern that leads to the [bold type]west[roman type].";
		continue the action.

[MISC CODE and RULES]

ResearchTroll is a truth state variable.
ResearchTroll is false.

Browsing is an action applying to one visible thing.
Understand "Google [something]" and "Look up [something]" and "Browse [something]" as Browsing.

Check Browsing:[X]
	if noun is not computer terminal:
		say "You need a computer if you want to browse the internet.";
		stop the action;
	else if noun is turned off:
		say "This computer is switched off, there is one turned on just a few seats down.";
		stop the action;
	else if noun is booted:
		say "You use Google to find the answer you are looking for on how to destroy the malignant troll. According to the infinite knowledge of the internet, a troll can only be destroyed by an even more powerful troll. You spend the next 4 and a half hours training your mind in the ways of the troll and feel ready to fight the beast once and for all.";
		now ResearchTroll is true;
		stop the action.

CrystalSmoked is truth state variable. CrystalSmoked is false.



Instead of Smoking when player is in KinleyTrollMap:
	if noun is not magic crystal:
		say "That's not something that looks like it can be smoked.";
	else if glass pipe is not visible:
		say "You need something to put it in.";
	else if lighter is not visible:
		say "You need a lighter to smoke it."

Instead of smoking magic crystal:
	say "You crush up the magic crystal into magic fragments, pour it into the bowl of the pipe and light it up, as it smokes you inhale its infinite magical power. You feel it uplift you in a way you have never felt before. You feel as strong as a mountain and healthier than a vegan. The glass pipe explodes in your clench of astronomical strength, your hand is bleeding, but you are too strong to feel the pain.";
	stop the action;
	if CrystalSmoked is false:
		now CrystalSmoked is true;
		continue the action.

DrankTears is a truth state variable.
DrankTears is false.

TrollAnger is a number variable.
TrollAnger is 0.

Every turn when troll is in the location:
	if a random chance of 1 in 3 succeeds:
		say "The troll [one of] belches, 'Give me your tears!'[or] The troll picks it's belly button and removes some anomalous material [or] takes one of the skulls from under its belt throne and recites Hamlet, while laughing an evil laugh [or] says, 'Come here and fight Hoooman' [or] scratches it's fat belly [or] picks it's ugly troll nose[or] takes a swig of student's tears[or] starts trolling you.[at random]";
		increase TrollAnger by 5;
		continue the action;
	if TrollAnger is 10:
		say "The troll can't handle being trolled and lunges at you, the mortal kombat has begun.";
		stop the action.


Instead of attacking Stanley:
	say "You smack Stanley in the face, he gets up in a rage and punches you so hard in the stomach you soil your pants. You wonder if it's possible to die from humiliation."

Instead of attacking Jovansstudents:
	if GoingToJail is incompleted:
		say "You throw a punch at one of the students, prompting a fight to break out in the hallway, you won the fight, but it was short lived as the cops handcuff you and take you to jail.[paragraph break]Busted";
		now GoingToJail is completed;
		now CurrentEnding is GoingToJail;
		End the Journey;
	else:
		say "The terms of your parole do not allow you to go within fifty feet of them,";
		stop the action.

Instead of attacking troll:
	say "You can't defeat the troll with your bare hands.";
	stop the action.

GauntletAttacking is an action applying to two visible things.
Understand "attack [something] with [something]" as GauntletAttacking.

Instead of GauntletAttacking:
	if the noun is stanley:
		say "You smash Stanley in the face with the [second noun] throwing him clear through the building, there's no way he could have survived.";
		remove stanley from play;
		stop the action;
	else if the noun is Jovansstudents:
		say "You attack the peaceful group of studying students with the [second noun] and reduce them to blobby bags of broken bones.";
		remove Jovansstudents from play;
		stop the action;
	else if the second noun is not power gauntlet:
		say "You smack the [second noun] across the [noun] but nothing happens." ;
		stop the action;
	else if the noun is not troll:
		say "You power punch the [noun], it is completely destroyed.";
		stop the action;
	else if TrollAnger is not 10:
		say "Don't rush into combat too soon, the only way to defeat a troll in combat is to weaken its mind first, there is nothing a troll hates more than trolling you and getting no reaction.";
		stop the action;
	else:
		say "[line break]You rush at the troll with the gauntlet of power and throw your hardest punch at the troll's stomach. The troll flies up and smashes through the roof of its cave leading back outside to the south quad. You fly up the massive hole (I guess the gauntlet lets you fly too) to the south quad, the troll is slowly getting up, recovering from the hit.[paragraph break]You take it by the head and swing it around and around, throwing it at the bell tower. The troll crashes through and the bell tower comes crumbling down atop it. As you walk towards the rubble the troll slowly digs its head up from the pile of debris.[paragraph break]As it looks up at you in pain, you give it your final punchline '[italic type]It's just been revoked'[roman type], the relevance of your statement isn't clear, but either way you fly up to the outer atmosphere of earth and throw the troll into the sun. You watch as it creates a solar flare, and relish in your victory over the troll.[paragraph break] Congratulations, but now you have to get to class.";
		remove troll from play.


PART 5 - STOCK PAVILION

StockPavilion is a RoomProxy in Stock Pavilion. The printed name of StockPavilion is "Stock Pavilion".

Juggle Man is a scenery person in the stock pavilion.
Understand "man juggling","the man juggling", "juggling man", "juggler", "clown", "a juggling man", "man" as Juggle Man.
The description of Juggle Man is "The juggler is wearing no shirt and a pair of suspenders. He is juggling three pieces of fruit and muttering something to himself. Maybe you should talk to him."
The printed name of Juggle Man is "the juggler"
 
Instead of talking to Juggle Man for the first time:
	say "As you walk up to the juggler he looks up, but even as his eyes leave the fruit that he's juggling he manages to not look flustered at all. [line break] 'Hey! Could you help me out?' he calls out to you. 'As I was juggling my fruits someone came by and stole the shirt right off my back. Can you retrieve it for me?'"
 
Instead of talking to Juggle Man:
	say "Try asking him about his fruits, the missing shirt, or his talents."
	
Juggle Man is carrying jugglingfruit, missingshirt and talents.
Understand "fruit" and "fruits" and "pieces of fruit" and "three pieces of fruit" and "apple" and "apples" as jugglingfruit. 
The printed name of jugglingfruit is "three pieces of fruit."

The printed name of missingshirt is "his missing shirt".

Rule for clarifying the parser's choice of jugglingfruit: do nothing.

Understand "t-shirt" and "missing t-shirt" and "missing shirt" and "shirt" as missingshirt.

Understand "his talents" and "his talent" and "talent" as talents.

Instead of interrogating Juggle man about jugglingfruit: 
	say "The juggler explains: 'The first thing I ever juggled was an apple. I planted that apple's seeds into a tree and now I exclusively juggle apples that sprout from that tree.'"

Does the player mean interrogating Juggle man about missingshirt: it is very likely.
Rule for clarifying the parser's choice of missingshirt: do nothing.
	 
Instead of interrogating Juggle man about missingshirt: 
	say "The juggler nods. 'Right, so like I said I was just here jugging my fruits not bothering anyone and someone ran by and stole the shirt right off my back. I was way too focused on making sure the fruits didn't drop to see who it was. The shirt was a striped and looked pretty cool.'"
		
Instead of interrogating Juggle man about talents:
	say  "The juggler chuckles. 'I learned everything I know off of Youtube. I don't know why I picked up juggling. I mean in hindsight I could have picked up so many cooler skills but now that I'm really good at it it's all people know me for. I juggle my fruits with the utmost passion.'"
 

Instead of giving StripyT-shirt to Juggle man:
	say "Juggler: 'Oh my god that's my t-shirt! How'd you find it? Oh I guess it doesn't matter, thank you so much.' The juggling man hands you what looks to be his last $10 and runs off.'";
	increase the price of your available cash by $10.00;
	now the juggle man is nowhere;
	stop the action.

green tree is a scenery container in The Stock Pavilion. "The tree resembles your father. There appears to be a cinderblock right below the tree."
Understand "tree" as green tree.
 
Cinderblock is a scenery thing in green tree. "The cinderblock resembles your blockheaded friend from back home. It looks heavy."
 
Instead of player taking cinderblock:
	say "The cinderblock looks way too heavy to carry. Maybe if you went to the ARC more often you'd be able to hold it.";
	stop the action.
 
Instead of player eating cinderblock:
	say "As appetizing as it looks, your dentist probably wouldn't be happy with you taking a bite of the cinderblock.";
	stop the action.

StockPavilionInterior is an Interior Location. "The Stock Pavilion Main Hall is eerily empty as you enter into the main halls. You hear the crunch of woodchips under you as your feet enter the empty cavern. At the far end of the Main Hall, you see discarded items laying all around. As the wind whistles around you, you hear Entrance of the Gladiators and catch a faint whiff of popcorn. The smell and sounds seem to be leading from a doorway to the [bold type]south[roman type], while the items lie to the [bold type]east[roman type]."
The printed name of StockPavilionInterior is "Stock Pavilion Main Hall".
StockPavilionInterior is inside from the Stock Pavilion.

East End of Stock Pavilion is east of StockPavilionInterior. "As you reach the far end of Stock, you see a myriad of circus items strewn around the floor. There is a lion there as well. It appears to be following you with its eyes. You can return to the front hall by going [bold type]west[roman type]."

StockStorage is south of StockPavilionInterior. "[if unvisited]You stand in the doorway and look into quite an amusing scene. A gaggle of clowns are riding on unicycles and juggling bowling pins with music playing in the background. [end if] The circus-folk pay you no attention as they are preoccupied with their own business. There is a foul-smelling bathroom with belching noises coming from within to the [bold type]west[roman type]."

The printed name of StockStorage is "stock room".

Smelly Bathroom is west of StockStorage. "The smell of the room is repugnant as you force yourself into the room. It is very dimly lit and both bathroom stalls do not have a door.  You can exit the bathroom by heading [bold type]east[roman type]."

The lion's stomach is a room. "It's dark in here. You feel around until you realize your eyes are closed. You open them. It's pink and sticky and gross in here. It also smells like the inside of a lion: how applicable. There appears to be a gross pink object hanging from the top of the ceiling."

Woodchips are an edible thing in StockPavilionInterior.
Woodchips are scenery.
Instead of examining Woodchips:
	say "They're wood, and they're chips. How nice.";
	stop the action.
Instead of eating Woodchips:
	say "Not that kind of chip, buckeroo.";
	stop the action.

circus is a thing.

magnifying glass is a thing in StockPavilionInterior. "A magnifying glass lies on the ground. It seems to have been left there mysteriously..."

the description of magnifying glass is "A classic Holmesian magnifying glass. When you look through the glass items seem to reveal secrets they didn't before. Maybe you should INVESTIGATE some things. You'd be on TOP of the world and people would tip their HATS to you if you investigate a certain item."

Understand "glass" as magnifying glass.

the fool card is a thing.

Understand "fool" and "fool card" as the fool card.

The description of the fool is "A tarot card with a jester on it. The word fool is written at the bottom of the card."

stuffed unicorn is an edible object.

Understand "unicorn" and "best friend" as stuffed unicorn.

slab of meat is a thing. "The slab of meat is lying over in the corner of the lion's tummy."

The description of slab of meat is "A yummy slab of meat. Raw, but you kind of want to eat it. But you can't cause it's raw."

Understand "slab" and "meat" as slab of meat.

gross pink object is scenery in the lion's stomach.

The description of gross pink object is "[puke level]".

Understand "uvula" and "ugula" and "boobala" and "pink object" as gross pink object.

The description of stuffed unicorn is "This unicorn is the most dazzling thing you have ever seen. It is an awe to all five senses. It smells like sunshine and happiness. It feels as soft as the warmth of a mother's touch. It looks as beautiful as the mona lisa mixed with ryan gosling. When squeezed, it emits a purr sweeter than any cat ever could. This is your new best friend."

circus items is scenery in the East End of Stock Pavilion.

The description of circus items is "Trapeze nets, rubber chickens, and popcorn containers lie about discarded. As you go to approach the items, the lion growns angrily. I would stay away."

a thing can be funny or Unfunny.  A thing is usually Unfunny.

Trapeze net is a funny supporter. "Looking at the trapeze net give you a sense of relief. You wouldn't want any of the clowns to get hurt."

Understand "net" as trapeze net.

Bouquet of flowers is a funny thing.

Understand "bouquet" and "flowers" as bouquet of flowers.

seltzer water is a funny thing.

Understand "water" and "seltzer" as seltzer water.

Instead of examining circus items:
	if circus items is unexamined:
		say "A trapeze net, bouquet of flowers, and seltzer water lie about discarded. There is a tag on some of the things that says, 'Property of Clowns.' As you go to approach the items, the lion growns angrily. I would stay away.";
		now circus items is examined;
		now trapeze net is in the East End of Stock Pavilion;
		now bouquet of flowers is in the East End of Stock Pavilion;
		now seltzer water is in the East End of Stock Pavilion;
		stop the action;
	else:
		say "Just some items left over from the circus. Nothing special really."

Understand "items" as circus items.

Unicycle is a thing in Storage Room.
Unicycle is scenery.
Instead of examining Unicycle:
	say "This is one of the strangest modes of transportation you've ever seen.";
	stop the action.
Instead of taking Unicycle:
	say "You don't even know how to use one! Leave it.";
	stop the action.

BowlingPins is a thing in Storage Room.
BowlingPins is scenery.
The printed name of BowlingPins is "bowling pins".
Instead of examining BowlingPins:
	say "STEEEEEEEEEEEEEEEEEEEEEEEEEEE-RIKE! Or... oh, wait, wrong sport for that kind of call, right?";
	stop the action.
Instead of taking BowlingPins:
	say "You don't need those.";
	stop the action.

RectangularTable is a supporter in Storage Room.
the printed name of RectangularTable is "rectangular table".

RectangularTable is scenery.

Understand "table" as RectangularTable.

The description of RectangularTable is "There appear to be tarot cards spread all around the table. The far end of the table holds a small lockbox of sorts and the popcorn the woman is eating. Small green bills appear to be spilling out of the box."

popcorn is an edible object.

mystical woman is holding popcorn.

Understand "corn" and "pops" as popcorn.

The description of popcorn is "Each kernel looks round and fluffy as the mystical woman weaves her hands through the corn. The smell almost overtakes you as you inhale deeply. You feel queezy. Nothing has smelt so delicious. You want that popcorn. BUT! You are on a diet. Be careful with what you do."

Tarot cards are scenery on RectangularTable.

The description of the tarot cards is "The cards seem to be in disarray all over the table. One reads Death, another The Emperor, and another, and another. By the woman's feet lies the rest of the deck."

DeathCard is a backdrop.
Understand "death" as DeathCard.
Instead of examining DeathCard:
	say "A skeleton looms on the card. How creepy.";
	stop the action.
Instead of taking DeathCard:
	say "That's not the best idea.";
	stop the action.

TheEmperorCard is a backdrop.
Understand "emperor" and "the emperor" as TheEmperorCard.
Instead of examining TheEmperorCard:
	say "The emperor looks fearsome indeed.";
	stop the action.
Instead of taking TheEmperorCard:
	say "That isn't yours to take.";
	stop the action.

Understand "cards" and "deck" as tarot cards.

Small lockbox is a closed openable container on RectangularTable.

Small lockbox is scenery.

The description of small lockbox is "A small grey lockbox that seems cheaply made. Several bills seem to be spilling out of the lockbox. You wonder if it is locked."

Understand "box" and "lockbox" as small lockbox.

Stack of bills is in small lockbox.

The description of stack of bills is "A stack of bills, mostly singles, probably around $100."

Understand "money" and "bills" and "stack" as stack of bills.

top hat is worn by ringleader.

The description of top hat is "A large beautiful black hat with a red ribbon streaking across its middle. It glistens with a sheen like no other. Even though the scene around you is disturbing, you are drawn to this hat."

Understand "hat" as top hat.

toilet is a device in the smelly bathroom.

The description of the toilet is "A disgusting moldy toilet that no man would ever really want to use."

toilet is scenery.

Understand "porcelain goddess" as toilet.

Instead of taking circus items:
	say "The lion lashes out at you! Why did you do that?! I warned you! Please stay away from those things";
	stop the action.

Instead of eating popcorn:
	say "Each kernel sends sensations of flavours coursing through your entire being. This is the best popcorn; neigh! The best food you've ever tasted.";
	now the popcorn is nowhere.

Instead of eating stuffed unicorn:
	say "YOU ATE YOUR BEST FRIEND!!! ...And boy did it taste good. You are a savage!"

Instead of taking tarot cards:
	say "The woman wags a finger at you as you try to snatch them. You should probably avoid her.";
	stop the action.

Instead of taking small lockbox:
	say "You have dozens of lockboxes at home. You don't need another ya nincompoop.";
	stop the action.

Instead of opening small lockbox:
	say "The lockbox opens with ease as the mystical woman eyes you carefully. Inside the lockbox is a stack of bills.";
	now small lockbox is open.

Instead of closing small lockbox:
	if player has stack of bills:
		say "You close the lockbox with an echo as it now is empty. The mystical woman probably won't appreciate you stealing from her.";
	else:
		say "You close the lockbox carefully. Probably, best not to steal from scary women.";
	now small lockbox is closed.

Instead of examining small lockbox:
	if player has stack of bills:
		say "The lockbox looks a little sad without all that money in it.";
	else:
		say "A stack of bills, mostly singles, probably around $100.";

Instead of eating stack of bills:
	say "Despite being a good source of fiber, it is probably a good idea to not eat the money.";
	stop the action.

Instead of dropping stack of bills:
	say "Really? Are you sure you want to leave A HUNDRED DOLLARS ON THE GROUND! I think you should keep the money.";
	stop the action.

Instead of taking top hat for the first time:
	say "Wow! You for sure will look more attractive than mister pukesy over there!";
	now player has top hat.

Instead of switching on Toilet:
 say "You press down the handle of the toilet. The puke inside disappears, as water begins to cascade down the sides of porcelain. BUT WAIT! The handle is now stuck down! The water is rising to meet the face of the man in coattails. You should probably shut this off.";
 now toilet is switched on.

Instead of switching off toilet:
 say "You flip the handle of the toilet back to its upright position and the water level begisn to return to normal. That was a close one!";
 now toilet is switched off.

uuddlrlrbas is an action applying to nothing.

Understand "upupdowndownleftrightleftrightbastart" and "uuddlrlrbas" as uuddlrlrbas.

carry out uuddlrlrbas:
	say "clever girl...";
	now the player has stuffed unicorn.

circus items is uninvestigable.

Instead of investigating a circus items:
	say "The circus folk wouldn't be too happy if they knew you were snooping around their [noun].";
	stop the action.

Carry out investigating:
	say "You investigate [noun], but there wasn't really anything to learn. Better luck next time, ya chump!";

Instead of investigating top hat:
 say "You look into the hat and it appears there is a card on the hat. You flip the hat over and the card falls to the floor. The card reads THE FOOL.";
now the fool card is in smelly bathroom.


gaggle of clowns are people in Storage Room.

gaggle of clowns is scenery.

The description of gaggle of clowns is "The clowns all look a little different. Some look sad, some look happy, some look curious, and one looks gassy. There is one clown that looks particularly angry, so I wouldn't bother him. Some are tall and some are short. Their unicycle skills are made apparent as they swish and swoosh around the room. It makes you wish you were a clown."

Understand "gaggle" and "clowns" as gaggle of clowns.

Instead of talking to gaggle of clowns:
	say "Clowns only talk to other clowns. Are you a clown? I don't think so. Stop or you might go to Clown prison."

Instead of giving something to gaggle of clowns:
 say "Are you a clown? Do you really think a non-clown can give something to a clown? How dumb are you? Maybe you are just a FOOL!";
 stop the action.

Instead of interrogating gaggle of clowns about ringleader:
	say "Yeah what about him? That shmuck gets the bright idea of getting sick on our big day?! Well screw him. We clowns, we should run the circus now don't ya think. We got the charm, we got the looks all we need is the rest of the circus to agree."

Instead of interrogating gaggle of clowns about lion:
	say "We ain't too sure why Fluffles has been acting up lately. He was all sunshine and roses until Jimmy disappeared. Now he is out of control. Won't even let us get to our stuff."

Instead of interrogating gaggle of clowns about jimmy:
	say "You don't know Jimmy? That's crazy! Everybody knows Jimmy. He was the best lion tamer in town. He had Fluffles doing all sorts of tricks, but then he disappeared and now Fluffles is wild."

Instead of interrogating gaggle of clowns about angry clown:
	say "Don't mess with giggles, y'hear? He don't like no funny business."

wheel of fortune card is a thing.

Understand "wheel of fortune" and "wheel card" as wheel of fortune card.

The description of wheel of fortune card is "Another tarot card! Awesome! This one I guess is based off of some kind of game show. It says wheel of fortune on the bottom."

Instead of interrogating gaggle of clowns about circus items:
	if Trapeze net is in ClownCar1:
		say "Oh you actually cleaned up the crap! Nice. Here's some dopey card we found in one of our cars. I think someone is trying to mess with us. I bet you its that fortune teller.";
		now player has Wheel of fortune card;
	else:
		say "We left a bunch of crap by the lion but no one wants to pick them up. If you want to clean those up for us, we would help you out. We have some clown cars by the lion. Just put the funny things in the nice car. Okay?"

Instead of attacking gaggle of clowns:
	say "There are a whole lotta clowns and a single you. Do you really need to know what it is like to be beaten up by a bunch of clowns?";
stop the action.

Instead of weaponattacking gaggle of clowns:
	say "You can take down one maybe two clowns with [second noun], but in the end only more clowns will follow. Stop before you hurt yourself.";
	stop the action.

Instead of weaponattacking ringleader:
	say "You are going to attack a defenseless man belching his guts out with [second noun]? Are you serious? I can't believe you.";
	stop the action.

Instead of weaponattacking mystical woman:
	say "The mystical woman points at [second noun]. It stops moving. I wouldn't try to hit her if I were you.";
	stop the action.

Instead of weaponattacking lion:
	say "Dude it's an animal. Don't attack it with [second noun]. It will probably just maul you if you do";
	stop the action.

lion is a male animal in East end of stock pavilion.
lion is scenery.

Description of lion is "There's a lion. It kinda looks like a big cat. But I guess all lions look like big cats. It also looks fluffy. Like real fluffy."

Understand "Fluffles" as lion.

Instead of talking to lion:
	say "You try to talk to it, but its a lion."

Instead of giving something to lion:
	if noun is slab of meat:
		say "The lion approaches slowly. He sniffs the meat. You lean closer. He starts to open his...large...maw. You then hear a voice inside the lion. You can't make it out. As you lean a little closer, the lion swallows you with the meat as well.";
		pause the game;
		now slab of meat is in the lion's stomach;
		now the player is in the lion's stomach;
	else:
		say "You start to give it to the lion, but the lion just glares at you. Maybe lions don't like gifts.";
		stop the action.

Instead of attacking lion:
	say "You. Will. Lose.";
	stop the action.

mystical woman is a person in storage room. "A mystical looking woman is sitting in the corner of the room. Her feet are propped on a rectangular table and she is eating popcorn lazily. It smells delicious."

mystical woman is fixed in place.

the description of mystical woman is "A woman that could be 25 or 85. Every time you look at her, her face changes ever so slightly. You are both attracted and repulsed. Also, she has an afro."

Instead of talking to mystical woman:
	say "She is too focused on her magic for idle chatter at the moment. Leave her be."

Instead of attacking mystical woman:
	say "She knows the future and knows you won't attack her. You are too much of a wuss.";
	stop the action.

eatenjimmy is a male person in the lion's stomach. "A thin man in a flaming red leotard is here as well. He looks kind of rattled. Guess that will do it to you if you are eaten by a lion."

understand "eatenjimmy" and "thin man" and "man" and "eaten man" and "man in red leotard" as eatenjimmy.

The printed name of eatenjimmy is "jimmy".

Instead of interrogating eatenjimmy about lion:
	say "Fluffles would never eat me if he didn't have to. Someone pushed me I tells ya. I never saw them but I need to get outta here and catch this rat bastard."

Instead of interrogating eatenjimmy about gross pink object:
	say "Hey doesn't that thing make people puke?"

Instead of interrogating eatenjimmy about ringleader:
	say "I don't know what's wrong with him, he just got sick is all. I always thought he was a lousy ringleader anyways. I thought I could do a better job. Tonya did too. But I don't really wanna talk about it okay."

Instead of talking to eatenjimmy:
	if player is in the lion's stomach:
		say "He ignores you. He seems to be really mad that he is in a lion's tummy.";
	else:
		say "He doesn't seem to want to talk too much. He did just get thrown up after all."

Instead of giving something to eatenjimmy:
	say "I don't want that mister. I just want to be out of this tummy."

Instead of attacking eatenjimmy:
	say "The dude just got eaten. Give him a break."

ringleader is a male person in smelly bathroom. "You see a man in a top hat, spats, and coattails puking into a toilet as if his life depended on it. He looks like the ringleader."
Understand "man" as ringleader.

ringleader is fixed in place.

Instead of talking to ringleader:
	say "He is throwing up, not chatting, ya ding dong."

Instead of giving something to ringleader:
	say "He is too busy puking to accept any gifts at the moment.";
	stop the action.

Instead of attacking ringleader:
	say "If you attack a man puking his guts out, you are some basement scum. Just let him be.";
	stop the action.

Instead of examining ringleader:
	say "That's impolite to do in a bathroom, especially to someone upchucking. Didn't you know?";
	stop the action.

Deliverydriver is a number variable. Deliverydriver is 0.

Every turn when player is in East End of Stock Pavilion:
	increment Deliverydriver.

Before examining something when player is in East End of Stock Pavilion:
	increase Deliverydriver by 2.

Before switching on something when player is in East End of Stock Pavilion:
	increase Deliverydriver by 5.

playerhasrecievedmeat is a truth state variable.
playerhasrecievedmeat is false.

Every turn when Deliverydriver is greater than 5 and Playerhasrecievedmeat is false:
	say "A delivery driver runs in. He apologizes for being so late. As you try to question what he is doing, he hands you a large slab of meat and runs off.";
	now player has slab of meat;
	now playerhasrecievedmeat is true.

pukeylion is a truth state variable.
pukeylion is false.

irritablelionlevel is a number variable.
irritablelionlevel is 0.

magicmysticwoman is a number variable.
magicmysticwoman is 0.

A thing can be unirritated or irritated or very irritated or crazy irritated.  A thing is usually unirritated.

To say puke level:
	if gross pink object is unirritated:
		say "It kinda looks like the thing in the back of your throat. A ugula or a boobala or something like that. You can't really remember.";
	else if gross pink object is irritated:
		say "It looks like it is a little bothered. Maybe hitting it did something.";
	else if gross pink object is very irritated:
		say "Okay something is going on here. That thing is not really appreciating being slapped with meat.";
	else:
		say "The uvula is going crazy. I think Fluffles doesn't like this."

instead of attacking gross pink object:
	say "It's too high for you to reach with your bare hands. If only you had a weapon of some kind."

instead of weaponattacking gross pink object:
	try throwing slab of meat at gross pink object.

Instead of throwing slab of meat at gross pink object:
	if gross pink object is unirritated:
		say "You chuck that meat with all your might...DIRECT HIT! The ground shakes a little bit. Fluffles clearly did not appreciate that.";
		now gross pink object is irritated;
	else if gross pink object is irritated:
		say "You throw it again and this time hit it confidently. Not bad, you could be a pitcher if you weren't in a lion's stomach. The ground shakes even more. Like a 4 on the Richter scale.";
		now gross pink object is very irritated;
	else if gross pink object is very irritated:
		say "The uvula is getting a beating after each meat hit. It really does not like this. The ground shakes like crazy and you hear a roar in the distance. You may have gone too far...";
		now gross pink object is crazy irritated;
	else:
		say "You miss because everything is going to chaos.";
		increment irritablelionlevel. 

Every turn when player is in the lion's stomach:
	if gross pink object is crazy irritated:
		increment irritablelionlevel.

the chariot card is a thing.

understand "chariot" as the chariot card.

The description of the chariot card is "A tarot card that depicts a man riding a chariot pulled by a...is that a lion? How strange. The bottom of the card reads chariot."

Every turn when irritablelionlevel is greater than 3 and pukeylion is false:
	say "Gross lion food and slop rises around you. You float to the top as you are quickly upchucked from the lion. Along with you comes the lion tamer, the slab of meat, and surprisingly what appears to be a tarot card. That was a wild ride.";
	pause the game;
	now player is in the East End of Stock Pavilion;
	now jimmy is in the East End of Stock Pavilion;
	now the chariot card is in the East End of Stock Pavilion;
	now slab of meat is in the East End of Stock Pavilion;
	now pukeylion is true.


beautiful woman is a female person in the storage room.

The description of beautiful woman is "An elegant beauty beyond compare. She is the visage of Aphrodite. No other person in the room compares. She glows like the sun."

Instead of talking to beautiful woman:
	say "You must ask her about something specific.";
	stop the action.

Understand "Tonya" and "Tonya Harding" as beautiful woman. "[Kerrigan must go]".

To say Kerrigan must go:
	if beautiful woman is unexamined:
		say "A beautiful woman is pacing back and forth. She wears a leotard that emulates the flames of a bonfire. She seems a little lost in thought, however.";
		stop the action;
	if lion is unexamined:
		say "The beautiful woman keeps mumbling about somebody named jimmy and his cat...?";
		stop the action;
	if circus items is unexamined:
		say "The beautiful woman is whispering something about the clowns needing help cleaning or something...";
		stop the action;
	If the angry clown is unexamined:
		say "The beautiful woman mumbled something about the clowns itching for a fight...";
		stop the action;
	if the fool card is unexamined:
		say "The beautiful woman seems to keep glaring at the mystical woman's tarot cards and whispered something about a top hat. You wonder why.";
		stop the action;
	else:
		say "The beautiful woman is standing in the corner somberly. You hope she is alright."

Instead of examining beautiful woman:
	if beautiful woman is unexamined:
		say "She looks a little lost. As if many a traumatic event has happened recently. Maybe a quick conversation with her would help. Or maybe it won't. She seems to be carrying a card and wearing a necklace.";
		now beautiful woman is examined;
		stop the action;
	else:
		if beautiful woman is carrying something:
			say "She is carrying [a list of things carried by beautiful woman].";
		if beautiful woman is wearing something:
			say "She is wearing [a list of things worn by beautiful woman].";
		say "She might help you solve what the hell is going on here?";

beautiful woman is carrying the lovers card.

understand "lovers" and "lovers card" as the lovers card.

The description of the lovers card is "A tarot card that reminds you of the kind the mystical woman has. This one shows two people in love on the front. It reads the lovers on the bottom."

beautiful woman is wearing a diamond necklace.

Understand "necklace" as diamond necklace.

The description of diamond necklace is "It looks to be a rather impressive piece of jewelry. Doesn't make sense how she ended up with it in a circus."

Instead of asking beautiful woman about "routine":
	say "I just do some flips and stuff on the trapeze. It's really nothing special."

Instead of asking beautiful woman about "Jimmy's cat":
	say "'Oh,' she says. 'I hate that cat.'"

Instead of asking beautiful woman about "cat":
	say "'Oh,' she says. 'I hate that cat.'"

Instead of taking the lovers card:
	if beautiful woman is holding the lovers card:
		say "You hastily snatch at it but the woman is faster. She then hands it over as if she wants nothing to do with it. What a strange interaction.";
		now player has the lovers card.

A clowncar is a kind of container. a clowncar is usually open and openable.
A clowncar can be clownexclusive or clowninclusive. A clowncar is usually clownexclusive.

ClownCar1 is a scenery clowncar in the storage room.
ClownCar1 is clownexclusive.
The printed name of ClownCar1 is "the Luxury Clown Car".
Understand "Luxury Clown Car" as ClownCar1.

ClownCar2 is a scenery clowncar in the storage room.
The printed name of ClownCar2 is "the Poopy Clown Car".
ClownCar2 is clowninclusive.
Understand "Poopy Clown Car" as ClownCar2.

rubber chicken is a funny thing in ClownCar1. "It looks like there is a rubber chicken in there."

The description of the rubber chicken is "A hilarious rubber chicken. Just looking at it makes you chuckle. Man, if you had that chicken you would be the funniest dude in the room."

instead of taking rubber chicken:
	say "I don't think those clowns would appreciate you taking their rubber chicken from the luxury car."

dead flowers is an unfunny thing in ClownCar2. "Just some dead flowers. They smell too."

The description of dead flowers is "A tulip, a rose, a daisy and the sweet smell of death all in one."

Instead of inserting something into clownexclusive clowncar:
	if noun is unfunny:
		say "Yo, Yo, Yo, this car is only for funny things. Nice try four eyes!";
	else:
		say "Ahh, yes, this is the right place for you.";
		now noun is in second noun.

Instead of inserting something into clowninclusive clowncar:
	if noun is funny:
		say "Yo, Yo, Yo, this car is only for unfunny things. Nice try two eyes!";
	else:
		say "Ahh, yes, this is the right place for you.";
		now noun is in second noun.

cleaningforclowns is an action applying to nothing.

Understand "clean" and "clean for clowns" and "help clowns out" and "clean up items" and "sort items" and "put clown things away" and "clean up the mess" as cleaningforclowns.

Carry out cleaningforclowns:
	repeat with X running through things in the location:
		if X is funny:
			now X is in ClownCar1;
	say "You sorted [list of things in ClownCar1] in the funny car."


A person can be ClownFree or ClownAttacked or ClownFreed. A person is usually ClownFree.

The angry clown is a scenery person.
The angry clown is in StockStorage.

The description of the angry clown is "A very angry clown. Very angry. I would stay away from him if I were you."

Instead of asking angry clown about something:
	say "The angry clown will answer nothing about anything. He only talks to other clowns you unfunny scum"

Instead of giving something to angry clown:
	say "The angry clown wants nothing from you, you unfunny scum."

Instead of attacking gaggle of clowns when angry clown is in the storage room:
	say "The clowns are fed up with your nonsense and want to be rid of you. They send out their meanest clown to fight you...the angry clown.";
	pause the game;
	now player is ClownAttacked.

ClownDanger is a number that varies.
ClownDanger is 8.

strength card is a thing.

The description of strength card is "A tarot card that seems to have a strongman on it. The man is lifting weights and looks rather attractive. So attractive that you find yourself attracted to the card. On the bottom of the card reads strength."

Understand "strength" as strength card.

Every turn when the player is ClownAttacked:
	Choose row ClownDanger in the Table of clown attacks;
	if ClownDanger is greater than 0:
		say "[attack entry] You have [ClownDanger][if ClownDanger is 1] turn[else] turns[end if] to stop this very angry clown.[paragraph break]";
		decrease ClownDanger by 1;
		stop the action;
	else:
		if player is not ClownFreed:
			say "The clown is about to attack you one last time, when its eyes begin to water. This bloodthirsty clown begins to cry and shed tears of sadness. the opposite of humor. He slinks away. He no longer has the desire to fight. As he slinks away he leaves a card on the ground.";
			pause the game;
			now player is ClownFreed;
			now strength card is in storage room;
			now Angry Clown is nowhere;
		else:
			say "You killed the clown..."

Table of clown attacks
attack
"Man, it's coming close to the end for you. You better stop this clown. He clearly means no funny business."
"The clown rides over your toes on his sparkling unicycle."
"The clown uses a spray bottle with what looks like urine. It smells awful and makes you feel demoralized."
"The clown throws banana peels everywhere. he then starts to push you until you slip on them."
"The clown points at you and says a joke to the other clowns. They all laugh and you feel a little poopy on the inside."
"The clown throws a rubber chicken at you. The move was pretty fowl."
"The clown takes you out to a nice dinner. He really wines and dines you. He talks to you about your parents, your aspirations, and wants to enter into a serious relationship. He then says he needs to go to the bathroom and he leaves. Hurting you emotionally."
"The clown honks your nose really hard. It kind of stings."


Instead of Interrogating beautiful woman about an item listed in the Table of beautiful woman responses:
	say "[reply entry][paragraph break]".

Instead of Interrogating mystical woman about an item listed in the Table of mystical woman responses:
	say "[reply entry][paragraph break]".

Table of Beautiful woman responses
Item	reply
Jimmy	"Yeah, me and him have been dating for a bit. I just don't know where he's been. I haven't seen him for three days. I bet you he ran off. I wouldn't hope to find him if I were you"
diamond necklace	"Oh this old thing? Jimmy gave it to me. He says its a fake so I shouldn't worry if it breaks or nothing when I do my routine. Still, I do think it makes me look pretty?"
the lovers card	"Yeah, I found that in my bed right after Jimmy disappeared. I think its a warning or something? Maybe the mystical woman is doing something here."

Table of mystical woman responses
Item	reply
tarot cards 	"These, my darling, are how I know the past present and the future. They are my sight my taste my everything. Without them, I am powerless. Sadly, someone went through my deck recently and took out some of my cards. I would know what's going on if I had them all. I think there are 5 cards missing."
The fool card  	"Where did you get this?! This card was stolen from my deck a week ago. I haven't seen it since."
strength card   	"The angry clown dropped this? Very strange...Why did he try to fight you?"
the lovers card 	"Tonya found this?! This is not good. I think someone is trying to make it seem like I'm screwing with the circus."
ringleader  	"That fool got sick somehow and I'm not sure how we are supposed to perform without him."
gaggle of clowns    	"I don't trust that gang. They always seem to be gossiping about clown stuff. I think one of them said he wants to fight too? They seem a little dangerous."
circus  	"Something's been going on. We have been doing well for the past few weeks gaining a few dollars per show. Tonight was supposed to be our big event. But someone seems to be sabotaging us. Our lion tamer is disappeared, our ring leader is sick, and the clowns are just angry."
chariot card    	"This was inside the lion!! That doesn't make any sense!!!"

Instead of giving something to mystical woman:
	if noun is the fool card:
		say "Thank you! My powers are increasing. From this card I sense that someone certainly poisoned the ringleader. But my vision won't tell me who. Keep searching.";
		now mystical woman has the fool card;
		increment magicmysticwoman;
	else if noun is strength card:
		say "I think someone gave this to the angry clown as a warning. Fight whoever tries to help this circus...or else. This is a bigger story than I thought.";
		now mystical woman has strength card;
		increment magicmysticwoman;
	else if noun is the lovers card:
		say "I see Tonya and her husband fighting and then...nothing. I wonder what they were fighting about.";
		now mystical woman has the lovers card;
		increment magicmysticwoman;
	else if noun is chariot card:
		say "I see someone putting this card in Fluffle's teeth. It must have really bothered the poor buddy. Only someone who knew the lion well could get that close. Maybe that's why he's been acting up recently.";
		now mystical woman has chariot card;
		increment magicmysticwoman;
	else if noun is wheel of fortune card:
		say "This one is strange. I see someone crying, and alone. This person might regret what they have done.";
		now mystical woman has wheel of fortune card;
		increment magicmysticwoman;
	else:
		say "She is too busy with her magic to focus on whatever gift you have given her. Leave her alone unless you have something she wants.";
		stop the action.

Every turn when player is in storage room:
	if magicmysticwoman is 5:
		say "The mystical woman approaches you. She tells you she has had a vision. Her deck is complete, and her powers are slowly returning. She saw that the person that has done all of these awful things to the circus has been walking a tightrope this whole time. This balancing act this person is performing cannot go one much longer. This ballet of mischief must come to an end. You must ACCUSE one of the circus members. If you are wrong you will die, but if you are right, you might just save the circus.";
		increment magicmysticwoman.


Instead of Accusing:
	if magicmysticwoman is 6:
		if noun is beautiful woman:
			say "I didn't mean to do all of this! I just wanted Jimmy to be happy. He said he wanted to be the ringleader, so I poisoned our terrible leader. But then Jimmy, he got mad. He kept yelling at me, so I paid one of the clowns, an angry one, to push him into Fluffles while I distracted him. Afterwards, I laid all the cards around hoping someone would think it was that creepy woman. I would have gotten away with it too if it wasn't for you, ya meddling kid. And your dumb mystic woman too.[paragraph break] The rest of the circus picks the beautiful woman up and throws her out of the Stock Pavilion.[paragraph break] Afterwards, the mystical woman approaches you and says, 'Hey, I know you've helped us a ton so far, but we got a favor to ask. We still need a ringleader since our's is sick. You up for the job?";
			if player consents:
				say "Awesome! We are going to gather in the main hall, whenever you are ready.";
				increment magicmysticwoman;
				now mystical woman is in StockPavilionInterior;
				now gaggle of Clowns is in StockPavilionInterior;
				now jimmy is in StockPavilionInterior;
				now lion is in StockPavilionInterior;
			else:
				say "Oh...Okay. I guess we will get out of your hair then.";
				now mystical woman is nowhere;
				now gaggle of clowns is nowhere;
				now lion is nowhere;
				now jimmy is nowhere;
				now ringleader is nowhere;
				say "The circus leaves town never to perform again. If only they had that darn ringleader. Oh well, maybe next time.";
				now CircusEnd is completed;
				now Currentending is CircusEnd;
				now beautiful woman is nowhere;
				End the Journey;
				stop the action;
		else if noun is not a person:
			say "You have to accuse a person not a thing you nincompoop.";
			stop the action;
		else:
			say "YOU ACCUSED THE WRONG PERSON! The circus doesn't take too kindly to false accusations. They beat you up and leave you for dead...";
			now CircusEnd is completed;
			now Currentending is CircusEnd;
			End the Journey;
			stop the action;
	else:
		say "You can't accuse someone til you have all the info silly."

Every turn when player is in StockPavilionInterior:
	if magicmysticwoman is 7:
		say "The circus folk gather around you as they dress you in an extra ringleader. The mystical woman casts a spell that gives you more confidence. Suddenly, people start filtering in and filling the seats. The circus goes to work. Jimmy is working with Fluffles, the mystical woman is reading fortunes, the clowns are clowning around, and you are leading it all.";
		increment magicmysticwoman;
		say "[paragraph break]The Circus was the best it had ever been that day. All thanks to you. Good job.";
		now CircusEnd is completed;
		now Currentending is CircusEnd;
		End the Journey.


Instead of going nowhere when the player is in StockPavilionInterior:
	say "The eerie feelings and loneliness makes you feel too uneasy to proceed any further. You decide it's best to stay put. You can go [bold type]west[roman type] towards the items or [bold type]south[roman type] towards the smell of popcorn and sound of music."

Instead of going nowhere when the player is in the East End of Stock Pavilion:
	   say "The lion growls as you proceed in that direction. You feel pee running down your leg. You take a step back and the lion backs down. You feel the urge to go back [bold type]west[roman type]."

Instead of going nowhere when the player is in the Storage Room:
	say "HONKA! HONKA! A clown rides in front of you and sprays you with water from a flower. He is ready to spray you with more if you don't proceed [bold type]west[roman type] to the bathroom or [bold type]north[roman type] to the front hall."

Instead of going nowhere when the player is in the Smelly Bathroom:
	say "The smells of puke, fecal matter, and god knows what else is too strong in that direction, unless you are an anosmiac, you should probably exit [bold type]east[roman type]."

Instead of going nowhere when the player is in the lion's stomach:
	say "It's a tummy. The only real way out is down or up. And you probably don't wanna go down. And it is too hard to navigate up easily. What to do..."



VOLUME 5 - SOUTHWEST CAMPUS

BOOK 1 - REGIONS

SouthwestCampusOutdoor is a region.


SouthwestCampusOutdoor is a region.

BusinessNeighborhood is an OutdoorRegion in SouthwestCampusOutdoor.
College of Business and Wohler's Hall and Business Parking Lot and George Huff Hall are in BusinessNeighborhood.

DesignNeighborhood is an OutdoorRegion in SouthwestCampusOutdoor.
Law Building and Large Law Park and Small Law Park and Art Design Building and WestEndKAM and EastEndKAM and KrannertArtMuseumExhibitHall and MarchingBandField and Siebel Design Center and Grassy Field are in DesignNeighborhood.

ARCNeighborhood is an OutdoorRegion in SouthwestCampusOutdoor.
Taft Van Doren Hall and ARC and Irwin Indoor Football facility and Illini Stadium and Flagg Hall are in ARCNeighborhood.



SouthwestCampusIndoor is a region.

FlaggMap is an IndoorRegion in SouthwestCampusIndoor.
FlaggHallInterior and Flagg Hall1 and Flagg Hall4 and the West Senior Studio and the East Senior Studio and the Creepy Bathroom are in FlaggMap.

BusinessMap is an IndoorRegion in SouthwestCampusIndoor.
BusinessInterior and Business Career Services is in  BusinessMap.

ArtMap is an IndoorRegion in SouthwestCampusIndoor.
ArtDesignInterior, WestKAMInterior and EastKAMInterior are in ArtMap.

LawMap is an IndoorRegion in SouthwestCampusIndoor.


BOOK 2 - OUT of DOORS

PART 1 - ROOMS

SouthwestCampusIndoor is a region.

EastEndKAM is south of MarchingBandField. "You are standing outside of the east entrance of Krannert Art Museum which you can [bold type]enter[roman type] from here."
Understand "KAM" and "Krannert art center" and "art center" and "frannert" as EastEndKAM.
The printed name of EastEndKAM is "East Entrance to Krannert Art Museum."

WestEndKAM is west of EastEndKAM. "You are standing outside the west entrance of Krannert Art Museum which you can [bold type]enter [roman type]from here, or continue [bold type]east[roman type] to the other entrance."
Understand "KAM" and "Krannert art center" and "art center" and "frannert" as WestEndKAM.
The printed name of WestEndKAM is "West Entrance to Krannert Art Museum"


MarchingBandField is north of EastEndKam. "You are standing outside a large green lawn that seems to have no purpose or use whatsover. The College of Business and George Huff Hall lie to the [bold type]north[roman type] of the lawn. The east end of the Krannert Art Museum is to [bold type]south[roman type]."
Understand "Marching Band Field" as MarchingBandField.
The printed name of MarchingBandField is "Marching Band Field."

College of Business is south of Armory southeast and north of MarchingBandField. "You are standing outside the College of Business, also known as BIF, the main building of the College of Business. To your right you see a strange red sculpture with splotchy white patches."

Understand "BIF" and "Business Instructional Facility" as College of Business.

Business sculpture is a thing in College of Business.

Business sculpture is scenery. Understand "sculpture" and "business sculpture" and "white patches" and "twisted sculpture" and "red sculpture" and "splotchy white patches" as Business sculpture.

Instead of examining business sculpture:
	say "It's a twisted, arch-like sculpture - rust red with strange, splotchy white patches scattered on its surface. People have drawn on it with sharpies."
	
Wohler's Hall is east of College of Business. "You are near the entrance of Wohlers Hall which you can enter from here. There are four floors in this hall. The first floor is used for classes while the second and third floor are for administrative uses, such as housing the Department of Finance. You can enter inside the hall by going [bold type]inside[roman type]. The College of Business is [bold type]west[roman type] of Wohlers Hall. Sixth St and Gregory St is to the [bold type]north[roman type]. The western side of Wohlers Hall parking lot is to the [bold type]south[roman type]. While the eastern side of the parking lot is to the [bold type]east[roman type]."

Western SCD is a room. "You are standing outside the west entrance of the Center for Design. You can enter it from here, go north to George Huff Hall or south to Art and Design. Flagg Hall is due west, across the street."

The printed name of Western SCD is "Siebel Center for Design".

Eastern SCD is west of MarchingBandField. "Grass, grass, and more grass. Wade through it east or enter the east entrance to Siebel Center for Design." 

George Huff Hall is west of Business Parking Lot and south of Armory Southwest and north of Western SCD. "You are standing outside George Huff Hall. You can cross the street [bold type]north[roman type] to the Armory or walk towards the Seibel Design Center to the [bold type]south[roman type]. You can also go towards the [bold type]east[roman type] to the Collage of Business’ parking lot and continue going east to reach their building."

Business Parking Lot is west of College of Business and south of Armory South. "You're standing in the driveway of a parking lot. Better keep moving!"

Flagg Hall is west of Western SCD and north of Taft Van Doren Hall. "This building's history as a dorm is obvious from its exterior. Now it houses the studios for several different majors in the college of Art and Design. The entrance that most people use is a wheel-chair ramp on the east side of the building. The grander front doors sit unused off of the [bold type]south[roman type] side of the building.[paragraph break]Far to the [bold type]east[roman type] is the Architecture Building.  Inside the door in front of you is the 1st floor of Flagg Hall.".
Instead of going West when the player is in Flagg Hall:
	say "No one uses the main entrance. Not only is it further away, its actually the furthest entrance from where most people want to be.";
	stop the action.

Art Design Building is east of Taft Van Doren Hall and south of Western SCD and north of Large Law Park and west of WestEndKam. "You are outside the Art and Design Building which you can [bold type]enter [roman type] from here. Krannert Art Museum lies to the [bold type]east[roman type]."

The printed name of Art Design Building is "Outside the Art and Design Building."

Law Building is southeast of Art Design Building and south of WestEndKAM and southwest of EastEndKAM. "You are hanging out on the sidewalk on E. Peabody Dr. between the Law Building and School of Art and Design. The Law Building is the main building and also the center of College of Law. [bold type]North[roman type] of Law Building is School of Art and Design, which consists of Art and Design Building and Krannert Art Museum.  Education Building locates to the [bold type]northeast[roman type] of Law Building."

Large Law Park is west of Law Building. "You are in a large green space near to the College of Law which lies to the [bold type]east. [roman type]The Art and Design Building is to the [bold type]north[roman type].".

Small Law Park is east of Law Building and south of EastEndKAM. "You are standing in a small green space just [bold type]east[roman type] of the College of Law. Krannert Art Museum lies to the [bold type]north[roman type]."

ARC is a room. "You are standing outside 'the ARC' at the University of Illinois at Urbana-Champaign, a multifunctional center that includes gym, classrooms for yoga, cooking, dancing and so on, swimming pool, and meeting rooms. You can go [bold type]east[roman type] from here."
The printed name of ARC is "Activity and Recreation Center."

Irwin Indoor Football Facility is east of the ARC and west of Large Law Park. "You are standing in front of Irwin Indoor Football Facility at the east of the ARC. There is a truly enormous statue of a football player here. You can see Taft Van Doren Hall to the [bold type]north[roman type], the ARC is to the [bold type]west,[roman type] and the School of Art and Design is to the [bold type]northeast[roman type]."

Illini Stadium is southwest of Irwin Indoor Football Facity and south of the ARC. "You are standing outside the Big Ten Football field where the Illini play. There's nothing happening her at the moment, and the doors are locked. You can return to the ARC to the [bold type]north[roman type] and to the Indoor Football Facility to the [bold type]northeast.[roman type]"

monolithic football player is a photogenic, scavengerhuntable scenery thing in Irwin Indoor Football Facility.
The description of monolithic football player is "They grow 'em big in the Big 10."

Taft Van Doren Hall is north of Irwin Indoor Football Facility. "From here, you can go [bold type]north, south[roman type] or [bold type]east[roman type]."
Instead of entering Taft Van Doren Hall:
	say "[one of]You swipe your icard into the card reader, but it beeps with a red light. You don't live here, so there really isn't a reason to go in, anyways.[or]Beep. You don't live here.[stopping]"

Lundgren Hall is north of Clark Hall and northwest of George Huff Hall and southwest of Armory Southwest.
Instead of entering Lundgren Hall:
	say "[one of]You swipe your icard into the card reader, but it beeps with a red light. You don't live here, so there really isn't a reason to go in, anyways.[or]Beep. You don't live here.[stopping]"

Weston Hall is southwest of Barton Hall and northwest of Flagg Hall and south of SDRP.
Instead of entering Weston Hall:
	say "[one of]You swipe your icard into the card reader, but it beeps with a red light. You don't live here, so there really isn't a reason to go in, anyways.[or]Beep. You don't live here.[stopping]"

Snyder Hall is west of I-Stem Education Initiative Building and south of Weston Hall.
Instead of entering Snyder Hall:
	say "[one of]You swipe your icard into the card reader, but it beeps with a red light. You don't live here, so there really isn't a reason to go in, anyways.[or]Beep. You don't live here.[stopping]"

Scott Hall is west of Snyder Hall and north of ARC.
Instead of entering Scott Hall:
	say "[one of]You swipe your icard into the card reader, but it beeps with a red light. You don't live here, so there really isn't a reason to go in, anyways.[or]Beep. You don't live here.[stopping]"

Bousfield Hall is west of Scott Hall and northwest of ARC and north of ARC Parking Lot and east of Campus Recreation Turf Soccer Field.
Instead of entering Bousfield Hall:
	say "[one of]You swipe your icard into the card reader, but it beeps with a red light. You don't live here, so there really isn't a reason to go in, anyways.[or]Beep. You don't live here.[stopping]"

ARC Parking Lot is west of ARC.

Campus Recreation Turf Soccer Field is west of Bousfield Hall.

Campus Recreation Volleyball Court is northwest of Campus Recreation Turf Soccer Field.

Campus Recreation Basketball Court 1 is west of Campus Recreation Turf Soccer Field.

Marching Illini Practice Field is north of Campus Recreation Turf Soccer Field.

Campus Recreation Tennis Court is northeast of Marching Illini Practice Field.

Campus Bike Center is north of Marching Illini Practice Field and west of Campus Recreation Tennis Court.

Campus Recreation Basketball Court 2 is west of Campus Bike Center and northwest of Marching Illini Practice Field.

Wassaja Hall is east of Marching Illini Practice Field. "You stand on the brick path, a chic frame, in front of the equally chic Wassaja Hall." [something something vase thingy]
Instead of entering Wassaja Hall:
	say "[one of]You swipe your icard into the card reader, but it beeps with a red light. You don't live here, so there really isn't a reason to go in, anyways.[or]Beep. You don't live here.[stopping]"

Hopkins Hall is south of Wassaja Hall and northeast of Campus Recreation Turf Soccer Field and north of Bousfield Hall. "You stand in the center of the hoop-shaped building called Hopkins Hall. The concrete path graciously continues through the building. You wonder how one lives in a building missing half of its first floor."
Instead of entering Hopkins Hall:
	say "[one of]You swipe your icard into the card reader, but it beeps with a red light. You don't live here, so there really isn't a reason to go in, anyways.[or]Beep. You don't live here.[stopping]"

Nugent Hall is east of Wassaja Hall. "Nugent Hall. It's the only Hall in Ikenberry that connects directly to the Student Dining and Residential Programs Building, dining hall and all. Must be nice. Surprisingly, the door is open."
Instead of entering Nugent Hall:
	say "You peek in, but it looks like there is a large group of people holding orange bags, with one guide at the front. Darn dorm tours. They show off the best room to make you believe your dorm life will be as pristine as they come. You back out before the crowd swallows you whole."

SDRP is east of Nugent Hall and west of Lundgren Hall. "The SDRP, which has 57N, the Ikenberry dining hall, and other amenities. Your one stop shop."
The printed name of SDRP is "Student Dining and Residential Programs Building".

Ikenberry Commons Courtyard is north of Scott Hall and northeast of Hopkins Hall and southeast of Wassaja Hall and south of Nugent Hall and southwest of SDRP and west of Weston Hall and northwest of Snyder Hall. "You see a swath of green lawn of an awkward shape. The grass is weirdly wet. Despite this, you see people playing spikeball in the middle. You don't dare enter the grass and risk getting your socks wet."

PART 2 - CURIOSITIES

The wandering puppy is an animal. "A puppy is following you. It looks up at you with adorable puppy eyes."

The Wandering Puppy is in Grassy Field.  

The description of the wandering puppy is "It's the cutest damn puppy you've ever seen. It is brown and fluffy. You look around, but it doesn't seem to have an owner. No collar or tag either."
Understand "brown dog" and "dog" and "adorable puppy" and "puppy" as wandering puppy.

Instead of interrogating puppy about something:
	try talking to puppy.
	
Instead of talking to puppy:
	say "He's a puppy. He doesn't know about the [noun]. Jeez."

Instead of giving something to the puppy:
	say "The puppy licks the [noun], but shows no further interest."

Instead of attacking the puppy:
	say "WTF, you monster!";
	now BadPerson is completed;
	now CurrentEnding is BadPerson;
	End the Journey.

Instead of weaponattacking puppy:
	try attacking the puppy;
	stop the action.

GotAFriend is a truth state variable.

Instead of petting the puppy:
	say "The puppy looks happily up at you, his tongue out and his tail wagging. You feel an unreasonable amount of joy and contentment.";
	now GotAFriend is true;
	stop the action.

Every turn when GotAFriend is true:
	now wandering puppy is in the location.

BOOK 3 - INDOOR MAPS

PART 1 - ARMORY

ArmoryNortheast is a RoomProxy.  ArmoryNortheast is in Armory Northeast.
Understand "Armory" and "the armory" as ArmoryNortheast.
The description of ArmoryNortheast is "[ArmoryDescription]".

ArmoryNorth is a RoomProxy. ArmoryNorth is in Armory North.
Understand "Armory" and "the armory" as ArmoryNorth.
The description of ArmoryNorth is "[ArmoryDescription]".

ArmoryNorthwest is a RoomProxy. ArmoryNorthwest is in Armory Northwest.
Understand "Armory" and "the armory" as ArmoryNorthwest.
The description of ArmoryNorthwest is "[ArmoryDescription]".

ArmorySouthwest is a RoomProxy. ArmorySouthwest is in Armory Southwest.
Understand "Armory" and "the armory" as ArmorySouthwest.
The description of ArmorySouthwest is "[ArmoryDescription]".

ArmorySouth is a RoomProxy. ArmorySouth is in Armory South.
Understand "Armory" and "the armory" as ArmorySouth.
The description of ArmorySouth is "[ArmoryDescription]".

ArmorySoutheast is a RoomProxy. ArmorySoutheast is in Armory Southeast.
Understand "Armory" and "the armory" as ArmorySoutheast.
The description of ArmorySoutheast is "[ArmoryDescription]".

To say ArmoryDescription: 
	say "The Armory was built in 1927 to replace the Military Hall built in 1896. As a land grant University, one condition of federal money in its construction was a commitment to military science. A lot of marching has taken place in this building. But lots of other activities as well."

ArmoryNInterior is an Interior Location. "You are inside the armory near the north entrance. A mini Einstein's Bagels is here. It only has one small counter. You can go [bold type]east[roman type] or [bold type]west[roman type] or [bold type]exit[roman type] the building from here." 
ArmoryNInterior is west of ArmoryNEInterior and east of ArmoryNWInterior.
The printed name of ArmoryNInterior is "North Side of the Armory".

MiniEinsteins is a scenery enterable container in ArmoryNInterior.
Understand "Einstein's" and "Einstein's Bagels" and "mini Einstein's bagels" and "bagel shop" and "mini Einstein's" and "counter" as MiniEinsteins.

The description of MiniEinsteins is "This small satellite Einstein's Bagels is ready to serve Armory students, staff, and visitors. Unfortunately there's no barista at the moment. There is however, a cup of coffee sitting on the counter unattended."

Instead of entering MiniEinsteins:
	say "You walk up to the counter."
	
Instead of exiting from MiniEinsteins:
	say "You back away from the counter."

CupOfCoffeeArmory is a scenery drinkable thing in ArmoryNInterior.
The description of CupOfCoffeeArmory is "It's a steaming cup of coffee that seemingly belongs to no one."
Understand "cup of coffee" and "steaming cup of coffee" and "coffee" and "cup" as CupOfCoffeeArmory. 

Instead of taking CupOfCoffeeArmory:
	say "You consider taking the cup, but honest prevents you. However your caffeine pangs are pretty intense. Maybe it wouldn't be so terrible to take a sip?"

Instead of drinking CupOfCoffeeArmory:
	say "With a furtive glance around you, you start to sip, and then just chug the coffee, scalding yourself in the process. You put the cup back down on the counter. You feel instantly better and pretty horrible about yourself at the same time. Plus you burned your mouth. But hey, you're caffeinated.";
	now HadCoffee is true.

ArmoryNWInterior is an Interior Location. "You are inside the Armory near the northwest entrance. You can [bold type]exit[roman type] the building from here or else go [bold type]east[roman type] or [bold type]south[roman type]."
The printed name of ArmoryNWInterior is "Northwest End of the Armory Entrance".
Armory Northwest is outside from ArmoryNWInterior.

ArmorySWInterior is an Interior Location. "You are inside the Armory near the southwest entrance. You can [bold type]exit[roman type] the building from here, or else go [bold type]north[roman type] or [bold type]east[roman type]."
The printed name of ArmorySWInterior is "Southwest Armory Entrance".
Armory Southwest is outside from ArmorySWInterior.

ArmorySInterior is an Interior Location. "You are inside the Armory near the south entrance. This corridor runs alongside the Armory Track on the south side of the building. There are many ROTC and other military-related offices on along here. You can [bold type]exit[roman type] the building from here or else go [bold type]east[roman type] or [bold type]west[roman type]."
The printed name of ArmorySInterior is "South Armory Entrance".
Armory South is outside from ArmorySInterior.

ArmorySEInterior is an Interior Location. "You are inside the Armory at its Southeast corner. You have found the main entrance to Armory 100. You can go [bold type]in[roman type] to the lecture hall, [bold type]exit[roman type] the building here or else go [bold type]north[roman type] or [bold type]west[roman type] along the outside of the Armory Track."
The printed name of ArmorySEInterior is "Southeast Armory Entrance".
Armory Southeast is outside from ArmorySEInterior.

ArmoryNEInterior is an Interior Location. "[if unvisited]The Armory is an enormous building taking up two long blocks. The building has an enormously high curved roof over its running track, making it look from the outside like an aircraft hangar. Inside the Armory is starkly decorated with a strong militant vibe. The walls are concrete with large metal supports jutting from them at regular intervals. [end if]Just inside the entrance is a small table with various papers and pamphlets on it. Confusingly, there are two staircases, here both leading up. You can go [bold type]out[roman type], [bold type]west[roman type] or [bold type]south[roman type] from here."
The printed name of ArmoryNEInterior is "Northeast Armory Entrance".
Armory Northeast is outside of ArmoryNEInterior.

concrete walls are a backdrop. concrete walls are everywhere.
The description of concrete walls is "The concrete is cold to the touch."


	
small metal stand is a supporter and scenery in the ArmoryNEInterior.
Understand "small table" as small metal stand.
The description of the small metal stand is "A small metal stand filled with small maps of the armory has a sign that reads 'It's dangerous to go alone. Take one of these.'"

SmallMap is an undescribed, readable, folded thing on small metal stand. 

Understand "small map" and "map" and "maps" as smallmap.
The description of SmallMap is "There are small folded maps of the Armory here, like the kind you'd get at a zoo or museum. With this in hand, it should be safe for you to go [bold type]up[roman type] now."

The printed name of SmallMap is "small map".
	
[WorldSquirrel code taken from here for the VR Lab where the code is]

EntranceToArmory172 is south of ArmoryNEInterior. "You are standing outside the Illinois Innovation classroom. Through the window you can see a figure inside wearing a VR headset and jumping wildly around the room. You can go [bold type]in [roman type] or else go [bold type]north[roman type] or [bold type]south[roman type] in this corridor."
The printed name of EntranceToArmory172 is "Entrance to Armory 172".

Armory 172 is inside from EntranceToArmory172. "You are standing inside the Illinois Innovation classroom, which is equipped with VR headsets, and has a huge wall screen. Several people are demoing a VR game at the moment, so maybe you should come back later."

EntranceToVRLab is south of EntranceToArmory172. "You are standing outside the VR Lab. You can go[bold type] in [roman type]from here. The main corridor goes [bold type]north[roman type] and [bold type]south[roman type], but a side corridor heads due [bold type]east[roman type]."
The printed name of EntranceToVRLab is "VR Lab".

VR Lab is inside from EntranceToVRLab. "This is a VR development studio. There's a green screen against one wall, and several computers attached to VR sets all around the room." 

VRStuff is scenery in VR Lab. Understand "studio" and "green screen" and "screen" and "computers" and "several computers" and "VR sets" and "VR" and "headset" as VRStuff.
The description of VRStuff is "You probably shouldn't touch any of this stuff right now. Maybe someone will come back later and answer your questions."

EntranceToArmory100 is east of EntranceToArmory182 and east of EntranceToVRLab. "You are standing at the stage side door of the Armory 100 Lecture Hall. It's probably not okay to slide in behind the presenters, but since the conference hasn't started you can go [bold type]in [roman type] if you'd like to talk to a volunteer. The main corridor is to the [bold type]west[roman type]."
The printed name of EntranceToArmory100 is "Entrance to Armory 100".

Front of Armory 100 is inside from EntranceToArmory100. "The Armory Theater is a steep narrow lecture hall, with a large screen, and presentation tables at the front. You are standing at the front of the hall near the presenter's station." 

Back of Armory 100 is south of Front of Armory 100. "You are standing at the back of Armory 100, the buildings main lecture hall. The seats look pretty comfortable. The front of the hall is to the [bold type]north[roman type]. You can go[bold type] out[roman type] the back of the room without disturbing anyone."

ArmorySEInterior is outside from Back of Armory 100. 

tangled cables are scenery in Front of Armory 100.

The description of tangled cables is "Tangled cables. We've all been there."

ArmorySInterior is west of ArmorySEInterior and east of ArmorySWInterior.

EntranceToArmory182 is south of EntranceToVRLab and north of ArmorySEInterior. "You are standing outside Armory 182, an 'iFlex Classroom'. Peering through the windows, it's the strangest looking classroom you've ever seen. What's with the organge bowl chairs? You can go [bold type]in[roman type] or go [bold type]north[roman type] to the VR lab, or [bold type]east [roman type]to the stage entrance of Armory 100, the large lecture hall, or [bold type]south [roman type] to the its main entrance."

The printed name of EntranceToArmory182 is "Entrance to Armory 182".

Armory 182 is inside from EntranceToArmory182. "You have entered Armory 182. This is the room where game design and Interactive Fiction courses are taught at the University of Illinois. There are writeable surfaces on every wall of the room. There are high tables and low tables and several large orange bowl chairs. There are four wall screens, and tables of many shapes, sizes and heights. You can [bold type]exit[roman type] the classroom from here."

OrangeBowlChairs are an enterable container in Armory 182.
The printed name of OrangeBowlChairs is "orange bowl chairs".

OrangeBowlChairs are scenery.
The description of OrangeBowlChairs are "The instructors who teach in this room call these round orange chairs the 'texting chairs' because the students who sit in them are so comfortable that they find it impossible to pay any attention to the instructor, or to the students in their project projects who are sitting on more normal chairs around them."

Understand "orange bowl chairs" and "orange bowl chair" and "bowl chair" and "chair" and "texting chairs" as OrangeBowlChairs.

Instead of entering OrangeBowlChairs:
	say "You consider getting into one of the chairs, but wonder if you will ever get out again, so decide not to.";
	stop the action.
	
VariousChairs are an enterable scenery container in Armory 182.
The description of variouschairs is "There are regular height chairs beside rectangular tables, and high chairs beside high tables."
Understand "high chairs" and "regular height chairs" and "regular chairs" and "high chair" and "regular chair" and "chair" as variouschairs.

Instead of entering variouschairs:
	say "You take a seat in Armory 182 but there isn't much going on in here since the conference hasn't started yet."

After deciding the scope of the player when player is in EntranceToArmory182:
	place OrangeBowlChairs in scope.
	
Writeable surfaces are scenery in Armory 182. "This room was designed as an ideation space, so students can write on white boards, the closet doors, the tables and the walls. You can still see some student design work here that hasn't been cleaned off yet."

design work is scenery in Armory 182. The description of design work is "It looks like the branching map for an interactive narrative."


jumping figure is scenery in VR Lab.
Understand "VR headset" and "door" and "headset" as jumping figure.
Instead of examining jumping figure the first time:
	say "As you watch in fascination through the window at the crazy antics of the person wearing the VR headset, you notice a strange and colorful bug climbing up the window close to where you are standing. Perhaps you should examine the strange bug."
Instead of examining jumping figure:
	say "You have probably spent enough time watching someone else have a VR experience. One of these days you'll have to try it yourself. But today is not that day."

Instead of going nowhere when player is in ArmoryMap:
	say "Better not go that way, you'll never find your way back again. This is the Armory.";
	stop the action.
	
ArmoryTrackEntrance is south of ArmoryNWInterior and north of ArmorySWInterior.
"You are standing at the entrance to the Armory Track. This huge arena is sometimes used for training the ROTC, but is also available to the campus at large for exercise and other activities. You can enter the Track to the [bold type]east. [roman type]This corridor. which runs along the western side of the tracks, continues both [bold type]north[roman type] and [bold type]south[roman type] from here."
The printed name of ArmoryTrackEntrance is "Entrance to the Track".


ArmoryTrack is east of ArmoryTrackEntrance. The description of ArmoryTrack is "Stepping inside the Armory Track, you are astonished by the size of the room. The glass-topped ceiling lets natural light down upon the track. It looks like a wonderful place to [bold type]run[roman type]. If you don't feel like running you can exit to the [bold type]east[roman type]." The printed name of ArmoryTrack is "Armory Running Track".

ROTC Officer is a scenery person in ArmoryTrack. 
The description of ROTC Officer is "The officer is dressed in an officer's uniform. She is adorned with various military adornments. She looks confident and hawkeyed."
	
PlayerExercise is a number variable. PlayerExercise is 0.

Instead of running when player is in ArmoryTrack:
	if a random chance of 1 in 3 succeeds:
		now ROTC Officer is nowhere;
	if ROTC Officer is in ArmoryTrack: 
		say "The ROTC Officer takes you firmly by the arm and walks you towards the exit.";
		now player is in ArmoryTrackEntrance;
	else:
		if playerexercise is 0:
			say "You run around the Armory track. Okay, mostly walk, a little run.";
			increment PlayerExercise;
			stop the action;
		if playerexercise is 1:
			say "You run around the Armory track. Mostly run, a little walk.";
			increment PlayerExercise;
			stop the action;
		if playerexercise is greater than 1:
			say "You run around the Armory track. Feels great!";
			increment PlayerExercise;
		if a random chance of 1 in 2 succeeds:
			now ROTC Officer is in ArmoryTrack.

Instead of interrogating the ROTC officer about something:
	say "The officer keeps her stony-eyed gaze on you. You wither and reconsider following her directions."

Instead of attacking the ROTC officer:
	Say "The officer follows your attempted blow through, and after a flurry of motion in which your world spins, you find yourself staring at the ceiling regretting your most recent decision. You are unceremoniously dragged out.";
	now the player is in the ArmoryTrackEntrance

After going east from ArmoryTrackEntrance: 
	The Officer Approaches in 1 turn from now;
	The Officer Escorts in 5 Turns from now;
	continue the action.

At the time when the Officer Approaches:
	if player is in the ArmoryTrack:
		say "The officer approaches you, 'Excuse me, this area is off limits. You need to leave.'".

At the time when the Officer Escorts:
	if player is in the ArmoryTrack :
		say "The officer escorts you firmly from the track.";
		now the player is in the ArmoryTrackEntrance.

Every turn when the player is in Armory:
	if a random chance of 1 in 10 succeeds:
		now the busy TA is in the location;
		say "A busy looking TA walks briskly through the area.";
		the TA wanders away in 5 turns from now.

At the time when the TA wanders away:
	say "The TA walks off as suddenly as he appeared.";
	now the busy TA is nowhere.

Table T
TA
"Too busy to chat now. Gotta grade papers,"
"Sorry, my office hours just ended,"
"That sounds like a question for the professor,"
"Why don't you set up an appointment and we can talk later,"
"If I had time for chit-chat, I'd be using it to eat,"

Instead of giving something to someone when player is in armoryTrack:
	say "They look at the [noun]. They don't want it. Besides, don't you think you might need it later?";
	stop the action.

Instead of attacking someone when player is in armoryTrack:
	say "You are not of a high enough level to engage this opponent. Seek more XP.";
		stop the action.

Instead of going nowhere when player is in LibParkingLot:
	say "That street looks too dangerous to cross.";
	stop the action.

Instead of going nowhere when the player is in the ArmoryTrack:
	if the ROTC Officer is in ArmoryTrack:
		say "The officer blocks your path.";
	else:
		say "You wander a bit. the Armory is a confusing place."
		
Instead of going nowhere when the player is in Armory Classrooms:
	say "You wander around for a bit looking at the different rooms, but don't find anywhere else interesting to go.";
		stop the action.

Instead of going nowhere when player is in Foellinger Hall and player's command includes "south" or player's command includes "s":
		say "You waste a few minutes wandering around the entryway to Foellinger Auditorium before heading in.";
		now player is in Foellinger Auditorium;
		stop the action.

Instead of going nowhere when player is in Foellinger Auditorium:
		say "You apologize to the people around you as squeeze out of your row of seats and head towards an exit.";
		now player is in Foellinger Hall;
		stop the action.

Instead of going west from LibParkingLot:
	say "After waiting for the signal, you cross Sixth Street.";
	continue the action.

Understand "key" and "sword" as bronze key.
The bronze key unlocks the Dangerous Door.


Armory Classrooms is up from ArmoryNEInterior.
The description of Armory ClassRooms is "This floor has a long line of classrooms on one side of the corridot, and on the other side, a window that looks down at the Armory Track. [If ROTC Officer is in Armory Track]The campus ROTC is using it at the moment. Too bad, because you kind of fancy a run. [else]Maybe you'll stop in later for a run. The classrooms up here look all alike, some with classes in session, some empty. You stop in front of a classroom that has a dangerous looking door." 

Dangerous Door is a scenery locked and lockable door. "The door seems to be rumbling and is warm to the touch. Two bugles are carved above a handwritten sign saying 'DO NOT ENTER'."

Understand "dangerous looking door" and "rumbling door" as Dangerous Door.

Puzzling Room is a room. "This room is painted an academic beige. There are no windows and the only piece of furniture is a pale green metal desk. [if unvisited]On it are a glass cup with what appears to be water in it and a black card of some kind.[end if]"

Dangerous Door is east of Armory Classrooms and west of Puzzling Room.

A boring desk is a scenery supporter in Puzzling Room.

Instead of examining boring desk:
	say "A boring green desk. On it is [list of things on desk]."

A key card is an undescribed thing on boring desk.

Instead of examining key card: say "A black card about the dimensions of a credit card but thicker and inflexible. It has a strange texture and the word 'KEY' is printed on it in large red letters."

Understand "card" and "key" as key card.

A glass cup is an undescribed and open container on the desk.

Understand "cup" and "glass" and "water" and "vinegar" as glass cup.

Instead of examining glass cup: say "On close inspection, the glass is filled with vinegar. Its acidic smell assaults your nostrils."

Instead of drinking glass cup: say "You start to drink some of the liquid, but as soon as it touches your tongue you have to resist the urge to puke. You don't think drinking this is a good idea."

Understand "chugging" as eating.

Instead of inserting the key card into the glass cup:
	say "You drop the black card into the vinegar. Before your eyes most of it begins to dissolve, leaving behind the shape of a small bronze key in the acid.";
	now the key card is nowhere;
	now the bronze key is in the glass cup.

Instead of taking the bronze key:
	if the bronze key is in the glass cup:
		say "You fish the key out of the solution. Your hands smell like vinegar now, but you've got the key. It is small and hard, made from some sort of plasticine material, perhaps carbon fiber.";
		continue the action;
	else:
		continue the action.

Instead of going up from the Armory:
	if player has SmallMap:
		continue the action;
	else:
		say "You ascend the staircase and are immediately lost. You walk up staircases to find yourself in short, dead-end hallways, walk down hallways to find the stairs don't have an entrance on this floor. After traveling this labyrinth for some time, you find yourself back where you entered. Maybe you should have a map.";
		stop the action.

Instead of going west from Armory Rooms:
	if Dangerous Door is locked:
		continue the action;
	else:
		now the bronze key is nowhere;
		now the player is in Puzzling Room;
		say "The door slams shut behind you, and you hear the lock click.";
		now the Dangerous Door is locked;
		The Minotaur Devours You in 9 turns from now;
		stop the action.

Every turn when the player is in the Puzzling Room:
	say "[if the player has been in the Puzzling room for exactly 1 turn]The rumbling from the door grows slightly louder. Are the walls also closer than they were before? [else if the player has been in the Puzzling room for exactly 2 turns] The rumbling increases and the walls grow ever closer. [else if the player has been in the Puzzling room for exactly 3 turns] The rumbling increases and the walls grow ever closer. [else if the player has been in the Puzzling room for exactly 4 turns] The rumbling increases and the walls grow ever closer.[else if the player has been in the Puzzling room for exactly 5 turns] The rumbling increases and the walls grow ever closer.[else if the player has been in the Puzzling room for exactly 6 turns] The rumbling increases and the walls grow ever closer.[else if the player has been in the Puzzling room for exactly 7 turns] The rumbling increases and the walls grow ever closer. [else if the player has been in the Puzzling room for exactly 8 turns] The rumbling is so loud you can't hear yourself think, and the walls are now touching your elbows."

At the time when the Minotaur Devours You:
	if player is in Puzzling Room:
		say "The walls crush you. You are not alive anymore.";
		now TightSqueeze is completed;
		now CurrentEnding is TightSqueeze;
		End the Journey.

Instead of going nowhere in Puzzling Room:
	say "The beige walls of the room bar your progress.";
	stop the action.

Instead of going east from Puzzling Room:
	if Dangerous Door is locked:
		continue the action;
	else:
		say "You dart out of the room, too ecstatic at your regained freedom to risk losing it. You dart past the rooms and back dwon to the Armory entrance.";
		now the player is in ArmoryNEInterior;
		now there is a key card on the desk;
		stop the action.

PART 2 - HARDING BAND BUILDING

BandBuilding is a RoomProxy. BandBuilding is in Armory Southeast. 
The description of BandBuilding is "The Harding Band Building is a confusing place, because it's much too small to hold the entire ILLINI Marching band, yet its members are always around the place."
The printed name of BandBuilding is "Band Building".
Understand "Harding" and "harding band building" as BandBuilding.

Instead of going east from Armory Southeast: 
	say "After walking to the corner and waiting for the signal, you cross Sixth Street.";
	continue the action.

BandBuildingInterior is an Interior Location. "[if unvisited]You approach the Band building doors, but as soon as you reach for the handle, the doors burst open and a mob of band members pour out, swarming past. You are jostled by tubists, knocked around by flutists, and downright assaulted by a particularly unobservant drummer. After a loud and painful few seconds, they're gone as quickly as they appeared, leaving you confused and your ears ringing.[end if] Inside the band building, the hallway is lined with rooms housing strange and expensive looking instruments. Some rooms have fancy Electronic switchboards and recording studios. The sound of music grows and fades as you walk past practices in session. There's nothing for you to do here but go [bold type]out. [roman type]".
The printed name of BandBuildingInterior is "Band Building Entrance".

Armory Southeast is outside from BandBuildingInterior.

[TODO: Needs objects to examine]


PART 3 - COLLEGE of BUSINESS

CollegeOfBusiness is a RoomProxy in College of Business.
The printed name of CollegeOfBusiness is "College of Business".
Understand "BIF" and "Business School" and "College of Business" and "Business Facility" and "College of Business" as CollegeOfBusiness.

BusinessInterior is inside from College of Business.  "You are in the atrium of the College of Business. It is usually noisy in here, between students meeting here for group projects, the sound of lawn mowers on one side and the Marching Band Drum Line practicing on the other."
BusinessInterior is an interior location.

Business Career Services is northwest of BusinessInterior. "The Business Career Services are located in BIF. They are funded by Ernst&Young, one of the 'Big Four' auditing firms. BCS provides College of Business students with career exploration advising, mock interviews, and professional events to let students build network and learn more about companies. The waiting room is quiet, despite the number of students waiting there.[paragraph break]You can return to the atrium of BIF to the [bold type]southeast[roman type].".

BCSChairs are scenery in Business Career Services. The description of BCSchairs is "These chairs are used for students who are waiting for their appointment time."

 The printed name of BCSChairs is "wooden chairs."

A BCSFrontDesk is a supporter in Business Career Services. "A long wooden table sits in the north of the room. Next to the card reader and computer screen, you can see a large jar. There's a front-desk officer sitting behind the table."

The description of the BCSFrontDesk is "You have walked so long without any rest. You think it is time to take a break  and grab soemthing to eat."
Understand "desk" and "table" as BCSFrontDesk.

A card reader is a device on BCSfrontdesk.
A card reader is scenery.
The description of the card reader is "It is just a normal card reader. Once you slide your card, your information can be shown on the computer screen."
Computer screen is a device on BCSfrontdesk.
Computer screen is scenery.
The description of computer screen is "Now it is a black screen, because no one is using it."
Understand "screen" as computer screen.
A transparent glass jar is a closed, openable container on BCSFrontDesk. "A transparent glass jar is sitting on the front desk. Based on your experience, you know that this jar is used to contain some candies provided to students waiting in the BCS."
The transparent glass jar is fixed in place.
The description of the transparent glass jar is "Seems that no one added candies in the jar for a long time. Almost nothing left in the jar. Only one Mini Twix is in the jar."
Understand "jar" and "glass jar" as The transparent glass jar.

A mini Twix is an edible thing in the transparent glass jar.
The description of mini Twix is "You are lucky to find one cookie bar left at the bottom of the jar. [line break] 'Oh My God!' [line break] 'It is disgusting!' [line break] You shout it out loudly because you find that the chocolate bar is melting, and some chocolate cream is leaking outside of the outer packing. You are starving. You tell yourself you really should eat it. Actually, hmm, it is not a good idea."

Understand "chocolate bar" and "bar" and "chocolate" and "Twix" and "cookie" and "cookie bar" as mini Twix.


PART 4 - FLAGG HALL


FlaggHall is a RoomProxy in Flagg Hall.
The printed name of FlaggHall is "Flagg Hall".
Understand "Flagg Hall" and "Flagg" as Flagg Hall.

FlaggHallInterior is an Interior Location. "The linoleum floors, white-washed walls, and rusty lockers give this hallway a distinctly academic feeling.  This building used to be a dorm, but instead of tearing it down, or building a new dwelling for the college of art, the university retrofitted this building to serve the art department's needs. This doors that dot the walls lead to the studios for sculpture and painting majors: strange, colorful places populated primarily by old-furniture, art supplies, and the refuse of nocturnal students. [paragraph break]Above you is the 4th floor of Flagg, which you are more familiar with. Outside is the area in front of Flagg Hall.".
The printed name of FlaggHallInterior is "Inside Flagg Hall".
Flagg Hall is outside from FlaggHallInterior.

Flagg Hall4 is above Flagg Hall1."Flagg 4 shares the repurposed aesthetic of Flagg 1. The primary difference is that there are far more doors on these walls, however the vast majority of them don't seem to have any handles, or room numbers.[paragraph break]To the  [bold type]north[roman type] is the eastern entrance to the Senior Studio, and to [bold type]northwest[roman type] is the western entrance. Down the hall to the [bold type]west[roman type] of here is that one creepy bathroom. Far below lies the 1st floor of Flagg Hall.".
[East Senior Studio]
the East Senior Studio is north of Flagg Hall4."The Senior Studio is pretty large. Spatially it’s the smallest of all three studios, but the space feels larger because of how well it is used by the students here. Drawings and renderings cover the walls, and various artists’ tools dot the tables. One desk in particular is piled high with modelling and prototyping tools.[if chisel is on desk] You spot a shimmer from the desk.[end if] Once again you see the telltale signs of late night work, particularly interesting is the pile of snacks in the corner of the room. You see a large purple mass behind the snack pile. You wonder what it could be.[paragraph break]West of here is the west end of the Senior Studio. South of here is the hallway."

A motivation is a kind of thing. A motivation can be empathetic or aspirational or sentimental. A motivation can be forced or unforced. A motivation can be broken or unbroken. A motivation is usually unbroken.
A design award is a motivation. A design award is aspirational. A design award is forced. A design award is unbroken.
A beloved picture is a motivation. A beloved picture is sentimental. A beloved picture is unforced. A beloved picture is unbroken.
A torn doll is a motivation. A torn doll is empathetic. A torn doll is unforced. A torn doll is unbroken.
A bad grade is a motivation. A bad grade is aspirational. A bad grade is forced. A bad grade is broken.

Shadow Monster is a monster. Shadow Monster is hidden and alive.

A Mold Cup is a kind of person. A Mold Cup can be small or medium or large. A Mold Cup can be coloredorange or coloredgreen or coloredpurple. A Mold Cup can be sentient or nonsentient.


the purple mass is a Mold Cup. The purple mass is coloredpurple. The purple mass is large. The purple mass is sentient. The purple mass is scenery in the East Senior Studio. The description of the Purple Mass is "This volleyball sized fuzzy mass looks like a Furbee. It is not a Furbee, but in fact a Furbee sized shock of purple mold! You recoil (because EWWWWWWW!) and you get the distinct impression that someone is laughing at your reaction.". Understand "Purple thing" and "Purple mold" and "Big mold" and "psychic mold" as the purple mass.
To say pmResponse:
	if pmRescued is false:
		say "You see a series of images in your head. The creepy bathroom at the end of the hall. A child, green and fuzzy, lost and alone. This child is in the presence of a great evil, lingering helpless and unnoticed in the shadow of a menace. You worry for the child. You wonder how long it can last for by itself. These images leave you mind, and you feel as if you are being implored to go rescue the child.";
	else:
		say "Your mind floods with images of the bathroom, and the shadowy man. You shiver as you feel an intense anger radiating from the purple mass. This surge of emotion is quenched by a sense of relief surrounding images of the green cup of mold. Inexplicably you get a warm fuzzy feeling.".
Instead of talking to a mold cup:
	if the noun is a purple mass:
		say "The commence whatever the telepathic version small talk is. Images of cat memes and the weather flash in your head.";
	else:
		say "The mold listens patiently. It doesn't respond. Its mold.".

the ArtDesk is a supporter in the East Senior Studio.  The description of the Artdesk is "These tools are scattered about on the desk amidst piles of dust and tubes of various chemicals. They give the otherwise sterile white environment a flash of color, dark red Bondo, light yellow modelling foam, and slate gray primer. [if chisel is on desk] Amidst many tiny knives and comically delicate files, you spot a glistening chisel sitting atop a pile of foam dust.".
The printed name of ArtDesk is "art studio desk".
understand "desk" and "art desk" as the ArtDesk.

the snack pile is a container in the East Senior Studio. The description of the snack pile is "The snack pile seems to be composed of various processed food items. Cookies, crackers, and fruit snacks mainly. Upon closer inspection, almost all of the snacks have been opened or eaten. [if snack pile contains snack pack] Amidst the wrappers you find an unopened snack pack of fruit gummies.".

The chisel unlocks the creepy stall. The chisel is on the ArtDesk. The description of the chisel is "The cherry handle would fit easily into your hand, and the four inch long blade is thick enough to endure a large amount of force, and sharp enough to be dangerous.".

The ArtSnackPack is an edible thing in the snack pile. "This pack of fruit gummies is the only thing unmolested in the pile. The picture on the front looks delicious... You love gummies!".
The snack pile is scenery.
the desk is scenery.
Rule for choosing notable locale objects for East Senior Studio:
	set the locale priority of chisel to 0. [Doesn't display at all]
understand "tool" and "knife" and "blade" and "pry" as chisel.
understand "table" and "shimmer" and "tools" and "prototyping tools" and "tools" as desk.
understand "snack" and "pack" and  "fruit snack" and "gummies" and "fruit gummies" and "gummy" and "snackpack" as ArtSnackPack.
understand "snacks" and "pile" and "food" as snack pile.
Before taking the ArtSnackPack, say "You wonder if it’s rude to take the last unopened snack of this pile. Someone is sure to notice right? Then you realize no will know it was you, and you really want this snack."
Before of eating the ArtSnackPack, say "Oh man you're excited for this. You love these things. You tear open the pack and pour the gummies into your mouth. All of them. At once. Your cheeks bulge with fruity goodness and saliva drips down your chin.  When you've finished eating and cleaning up the mess you take a moment to reflect on how undignified you feel."

[West Senior Studio]
the West Senior Studio is west of East Senior Studio. "This end of the large studio space is similar to the opposite end, with the exception of the monitors set up on the occasional desk. It seems as if the students bring in their own supplies, and a couple of the students who work on this end of the room have brought in computer monitors and dedicated tablets for digital sketching. Amidst the evidence of hard work, you see several curious items. You can tall as soon as you lay eyes on them, each item is important, and for some reason you feel that they are also powerful. A worryingly orange bottle sits on the floor next to a desk.[paragraph break][bold type]southeast[roman type] of here is the hallway, and east of here is the other end of the studio. ".
 [Sleepy Student]
The doodles are scenery in the West Senior Studio. The description of the doodles is "The pile of drawings by the student are obviously not scholastic. They appear to be casual, messy drawings, all of the same thing: A tall, black, vaguely humanoid shadow. The creature is nightmarish indeed. [if shadowHint is true] This must be what was in the student's dreams. The thing he saw in the bathroom. You wonder if it's really in there, but simply for sanity's sake you pray its not. [end if]". Understand "drawings" and "doodle" as doodles.
The defeated student is a person in the West Senior Studio. "A student sits facing away from you at one of the desks. He doesn't seem to be moving much." The description of the defeated student is "Upon closer inspection you realize that [name] is asleep. He seems to have fallen asleep while drawing, and now is face rests on a pile of papers covered in doodles."
Understand "Chase" and "student" as the defeated student. The defeated student has some text called name. The name is "The student".

To say dsResponse:
	now dsShaken is dsShaken plus 1;
	if dsShaken is 1:
		say "[name]'s eyes widen slightly. 'Oh, you must be referring to the bathroom down the hall. Yeah, it's pretty...', he pauses briefly, choosing his next word, '...strange'. You get the feeling there's something he's not telling you.";
	else if dsShaken is 2:
		say "[name]'s eyes dart to the door of the studio, and then to the wall through which the bathroom must lie. 'Curious huh? Yeah I guess that place is pretty interesting.' He pauses a little bit too long, like he wants to say something but isn't sure if he should. 'A couple of us have weird stories about that bathroom. Nothing serious or anything, just weird little things. Late at night when were all really tired. But I'm sure its nothing. Your imagination can run away from you when exhaustion meets weird lighting'. His nervous smile makes you think he doesn't believe what he says. Maybe you should ask him ask him more?";
	else if dsShaken is 3:
		say "[name] obviously wants to talk to you about this but is also obviously very nervous. 'What have I seen? Oh nothing, ha ha ha' he forces a nervous laugh. 'Just weird interactions of the bad lighting and the uneven tiles I'm sure.' His eyes dart around and he licks his lips, 'Although there was something a couple weeks ago I couldn't explain. To be honest I've been kind of freaked out about that place since. Actually, I haven't been able to sleep really, or focus on my work since then...' His eyes fall to his many pages of doodles.";
	else if dsShaken is 4:
		say "[name]'s eyes are filled with fear. You can't explain it, but the more you've pushed him to talk about this, the more you can feel an almost physical pressure building in the room. Whatever is causing this fear in him is making your skin crawl. 'About two weeks ago I was in the studio, working late at night. I was having a really rough night. Not just physically, I've been struggling with my path in life, and figuring out what's right for me, and that night it was really hitting me hard. Well I go to the bathroom and I splash so water on my face to wake myself up, but when I look in the mirror I saw something...' he struggles with his words for a moment, 'It was like a figure. Like a person, but it looked... wrong. And then everything went black. That's not right. Everything didn't go black, not at once at least. It was like the blackness rushed up to me. It flooded out from some point behind me and engulfed everything. I guess I passed out, because the next thing I know I woke up on the bathroom floor.' He shivers, and fiddles with a pen in front of him. 'I know it was nothing, I was just tired. But I haven't been able to get myself to go back into the bathroom since. And ever since then I keep seeing this figure in my dreams. Its made it really hard to care about anything really. All I can think about is that thing I saw'.";
		now shadowHint is true;
	else if dsShaken is 5:
		say "[name] looks pale and shaken. When he speaks his voice is weak. 'I don't want to talk about this anymore. I don't want to think about this anymore. Please stop asking'.";
		now dsShaken is 5.

Instead of talking to the defeated student:
	say "You trade small talk with the still groggy student. His friendly smile clashes conspicuously with his cynical and self-deprecating conversational style. He seems like a nice guy going through a rough spot.".
Instead of interrogating the defeated student about the bad grade:
	say "[name] looks at you and says, 'Oh... yeah. I dunno. It sucks, but I don't really care anymore. I don't even know what I'm doing here'.".
Instead of interrogating the defeated student about the defeated student:
	say "[name] says, 'Oh... Right' as he frowns at himself. 'I guess I should introduce myself. My name is Chase. I'm on of the Industrial Design students, and these are our studios. Nice to meet you!''";
	now the name is "Chase".
Instead of asking the defeated student about something:
	if dsSleep is true:
		say "In response you get here a soft murmur. You realize this wasn't a murmured response, but rather the murmuring of someone in a fitful sleep. Whatever this poor soul is dreaming, its not good. You'll have to wake him if you want to talk to him.";
	if dsSleep is false:
		say "[name] mumbles unintelligibly.".
Instead of waking the defeated student:
	say "You clear your throat loudly. When the student fails to react, you say in a voice soft enough not to startle him 'Uhhhh... Hello?'. The student stirs awake, but just barely. In fact, his head is still on the desk, but now his eyes are open, observing you. 'Oh. Hi.' he mumbles.";
	now dsSleep is false.

the Studiodesks are scenery in the West Senior Studio.
The description of the Studiodesks is "The desks are really more like tables. 4x2.5 foot slabs on silver legs. They're lined up in rows, far from neat. The height and spacing of each table has been adjusted to best fit its resident.".
Understand "desks" as Studiodesks.
The printed name of Studiodesks is "desks".

a beloved picture is in the West Senior Studio. "A picture frame sits on a cluttered desk". The description of the beloved picture is "A picture of someone dear it seems. The frame is simple, but it bears the marks of a lot of time, and a lot of travel. This picture brings memories of you own past, and a sense of peaceful sentimentality." Understand "picture" and "photo" as beloved picture.
a design award is in the West Senior Studio. "A small award of some sort is displayed on a desk in the middle of the room."The description of the design award is "A small design award sits on a desk in the middle of the room. It's not a trophy, and you doubt it came with any money or notoriety. But it is an accomplishment to have such an award as a student, and it is obviously the source of much pride. The award makes you feel want to aspire to greatness.". Understand "award" and "trophy" as design award.
a torn doll is in the West Senior Studio. "A small doll sits on one of the shelves cluttered with tools and knick-knacks". The description of the torn doll is "A small handmade doll sits on a shelf by one of the desks. You recognize the beads and patterns as African in origin, but that's as specific as you can get. It has had one arm torn off, and yet it still manages to balance on the shelf. You wonder what hardship the doll has been through, and what hardships its owners, and creators have been through. As you stare at the doll you feel great empathy towards those who face great hardship every day.". Understand "doll" and "toy" as torn doll.
a bad grade is in the West Senior Studio. "Under the student's arm is a piece of paper with a large red F on it.". The description of the bad grade is "A sheet of paper with red on it draws your attention a desk against the wall. The red is a large stamp that reads 'DENIED' and has been accompanied by a hand written 'F'. Ouch. Harsh. Even if the work wasn't good, did the teacher need to DOUBLE FAIL the kid? Its not hard to imagine what this student must feel. Failure. Crushing failure. Looking at the assignment twists your stomach into anxious knots, and makes you a little sad, and a little afraid.". Understand "grade" and "F" and "red paper" and "assignment" and "homework" as bad grade.
The worrying cup is a Mold Cup in the West Senior Studio. The worrying cup is medium. The worrying cup is nonsentient. The worrying cup is coloredorange. The description of the worrying cup is "This old water cup is completely filled with bright orange mold. You've never seen this particular color of mold before, and while very worrying, it is beautiful.". Understand "water cup" and "orange mold" and "orange mold cup" and "orange cup" as worrying cup.
Rule for choosing notable locale objects for West Senior Studio:
	set the locale priority of picture to 1;
	set the locale priority of award to 1;
	set the locale priority of doll to 1;
	set the locale priority of the defeated student to 2;
	set the locale priority of bad grade to 3.

Instead of taking a motivation:
	if the player has a motivation:
		say "You reach for the object, but something stops you. You feel the presence both physical and emotional, of the [noun] in your pocket, and you can imagine being able to carry more than one item of this emotional significance. Perhaps you could manage it if you put this one down.";
		stop the action.
The art supplies are scenery in the West Senior Studio. The description of the art supplies is "Markers, pencils, erasers, and reams of paper line the shelves and cover the desks.".
The monitors are scenery in the West Senior Studio. The description of the monitors is "The monitors aren't ostentatious, or fancy. Functional black panels of reasonable size on minimalist stands. Cords creep from the backs of the monitors waiting for computers or tablets to be plugged in.".
Understand "table" and "desk" and "tables" as ArtDesk.
Understand "supplies" and "tools" as art supplies.
Understand "computer" and "monitor" and "screens" as monitors.

the West Senior Studio is northwest of Flagg Hall4.
[Creepy Bathroom]
the Creepy Bathroom is west of Flagg Hall4."This bathroom creeps you out. It's a snapshot of what could easily be a century old conflict between entropy and the university facilities department. The faucets are all different models, and only one of the paper towel dispensers works. The lights are ancient and flickering fluorescent lights that were taken straight out of a horror movie. It's technically a men's bathroom but considering the remote location and penchant of art students to work through the night you wouldn't be surprised if it was used by either gender on occasion. A suspicious looking cup sits on the sink.[paragraph break]On the north wall stands the creepiest mirror you have ever seen in your entire life. Around the corner to the [bold type]northeast[roman type] is a row of stalls.".

FlaggLight is a lightswitch in the creepy bathroom.
understand "light" and "light switch" as FlaggLight.
FlaggLight is switched on.
The green mold is a Mold Cup in the Creepy Bathroom. The green mold is small. The green mold is nonsentient. The green mold is coloredgreen. The description of the green mold is "This experiment in fungal growth seems to be relatively new. Not in the time-scale of food stuffs, but definitely compared to other things you've encountered of its ilk. Green mold lines the inside of the old coffee cup a centimeter thick. It its really gross.". Understand "suspicious cup" and "green cup" and "little mold" and "little cup" as green mold.
the facilities are scenery in the creepy bathroom. The description of the facilities is "The urinals on the wall closest to the door are all of slightly different height, color, and shape. The faucets under the creep mirror are unevenly spaced out, and each one of them has a different shape for the handles, and faucet itself. The tiles and floor are tiled in what appears to be straight lines[if light is switched off], but the strange and dim lighting from the windows seems to make them waver[end if]. ".
understand "sink" and "toilet" and "urinals" and "sinks" and "faucett" and "faucetts" as facilities.
 [The Mirror]

[The following variable assignments mD and sD exist to work around inform's inability to have nested if statements in a description. I moved the logic to operate on the variables outside the description, and then simply called the variables in the description. It took a while to figure out (because I'm bad at bug testing), but it worked perfectly in the end.]

To say mD:
	if unfocused is true:
		say "The shadows fizz and bubble in your unfocused periphery and the borders of the mirror dissolve under the assault of grey that bleeds from your blurry surroundings. [sd]";
	else:
		say "If you were to unfocus your eyes, you think you might be able to make out a pattern in the shadows.".
To say sD:
	if the Twisted Man is hidden:
		say "Paradoxically, one patch of darkness seems to be growing more into focus the more you relax your eyes. Your heart lurches and the edges of your vision darken as the crisp silhouette of a sinewy, hulking figure bends unnaturally and contorts itself to slink under the furthest stall door.";
	else:
		if the Twisted Man is alive:
			say "Your skin crawls with goosebumps as you remember the shadowy figure contorting under the furthest stall door. Curiously your sense of dread is counterweighted by a compulsion to investigate.";
		else:
			say "You never thought you would have to face your demons so literally. At least you had motivation to keep you strong in the face of whatever that was. All the same, you think it's time you got some well-earned rest. At home. And maybe with the lights on.".


the Mirror is scenery in the Creepy Bathroom. "This mirror is terrifying. Between the poor lighting of the bathroom, browning tiles, blackened grout, and rust that seems to claw its way up from the corners, it looks like the kind of thing urban legends are made from. You look at yourself, and the bathroom scenery reflected in the mirror. [if light is switched off] Without the flickering overhead light, the shadows dancing across the floor seem much more suspicious, and those lurking in the corners seem to lurch and sway with purpose and malice. [end if] Each time you begin to turn away, you could swear you see something out of the corner of your eye flit from one place to another. [if light is switched on]Probably just the horrid lighting playing a trick on you. Probably.[else]Without the lights on, you're pretty sure that its not just your imagination.[mD][end if]".
after examining the mirror:
	if the Twisted Man is alive:
		if the Twisted Man is hidden:
			if unfocused is true:
				now the Twisted Man is revealed.

[The Row of Stalls]
the Row of Stalls is scenery in the Creepy Bathroom. "Jeez this place is creepy. The first stall is missing a door entirely, and while the non-uniform spacing of the stalls is strange, you could swear that the first stall is entirely too small to be functional. [if light is switched off] The only light is natural light fighting its way in through the old-grimy glass, making [else] The flickering lights make[end if] uncomfortable patterns emerge from the strange tile work on the floor. One of the stalls doors seems to be moving- albeit very slightly- whenever you look away from it, but upon closer inspection it seems to be still. The final stall seems to be closed and locked, but with a missing handle it doesn't appear as if it is supposed to be opened.".
The creepy stall is scenery in the Creepy Bathroom.
The creepy stall is a locked, openable container. The description of the creepy stall is "[if locked stall is locked] The mysteriously locked stall [else] the stall [end if] is at the end of the corridor of stalls. Despite being locked, it possesses no handle, simply a large slot which you assume turns to unlock the door. [if locked stall is locked] Something that fits in the slot might be able to turn the mechanism.[end if] [if light is switched on] Despite the lights being on, no light seems to be able to permeate the stall. Utter blackness seems to consume what you can see of the floor and ceiling above and beneath the stall walls. [else] With the lights off, the blackness behind the stall door seems to be growing restless. Despite there being no lights for shadows, patches of oily carbon black slither and undulate across the floor and ceiling.[end if]".

The Twisted Man is a Monster. The Twisted Man is hidden. The Twisted Man is alive. The description of the Twisted Man is "You see a twisted man made of elongated knuckles of flesh and grinning teeth. He is darker than shadow, and as you look at him, you feel incredibly tired. You realize that you haven't slept in far too long. Too many late nights working on projects. Too many classes, too many social commitments. You should be scared, or screaming, or flailing. Probably flailing. DEFINITELY flailing. But instead you just want to submit. Just close your eyes and submit. submit to the warm, cozy dark . The man's eyes seem comforting. Wouldn't it be nice to just take a rest? Just submit to a nap. Submit. Submit.".

light is a device in creepy bathroom.

Instead of unlocking the stall with the chisel:
	if light is switched on:
		say "You insert the chisel into the slot, and you're surprised that it fits perfectly. You try to turn the chisel, but you find yourself unable to move it at all. The harder you try, the more the lights above you begin to flicker and whine.";
		stop the action;
	if light is switched off:
		say "You Insert the tip of the chisel into the slot, and it seems to pull itself the rest of the way in. As you begin to turn the handle, it seems eager to unlock, and almost no force is required to get the mechanism moving. The shadows on the floor and ceiling seem to quiver with excitement.";
		now the stall is open;
		The Twisted Man Appears in 1 turn from now.

ShadowAttacked is a truth state variable.

At the time when the Twisted Man Appears:
	say "The shadows in the various dank corners of the bathroom begin to swirl and mount each other in a writing mass of otherworldly horror.";
	Now The Twisted Man is in the creepy bathroom;
	now ShadowAttacked is true;
	Try examining the Twisted Man.

Every turn when ShadowAttacked is true:
	move the Twisted Man to the location of the player.


Instead of flailing:
	if the player is not in the creepy bathroom:
		say "You flail your arms about wildly! You are stricken by a fit of energy and you enthusiastically note that you are not only doing nothing but look really dumb.";
		stop the action;
	if the Twisted Man is hidden:
		say "You don't know what you're swinging at! You definitely feel as if you should be defending yourself, but you have no idea why.";
		stop the action;
	if the player has a broken motivation:
		say "You raise your arms weekly, to defend yourself. You almost forgot that you were carrying this failing assignment around with you. Why though? To remind yourself that you're a failure? To remind yourself that you couldn't cut it? That's what it feels like. You didn't even want to come to school- you're barely out of your teenage years! How can someone expect you to know what you want to do with the rest of your life? You came to school, and you tried, but you're tired of not making the cut. You just want to be done with it all. You're ready to submit.";
		wait for any key;
		say "You close your eyes and the incredible burden you suddenly feel seems to slink off your shoulders and fall to the ground. No, that's not quite right. It doesn't slink off of you completely. Part of this burden is still attached. In fact, it seems like your metaphorical burden of exhaustion is now a literal weight, pulling you to the floor by your tense shoulders and weak knees. You briefly fight it, but then realize that you don't want to fight it. You just want to sleep. Sleep. Sleep. How long as it been since you've been asleep? Too long. Now you will catch up on so many hours. Now you will sleep. The last thing you hear is the gleeful suckling of sharp teeth and a hissing laugh echoing from above you.";
	else if the player has a motivation:
		say "You pinwheel your arms about, hand clutched tightly around the motivational object you took from the studio. [if the player has empathetic motivation] Your hand glows warmly around the broken doll, and your heart pangs with empathy as your mind is suddenly awash with you images of people who deal with great hardship every day. People who struggle against disease, disability, bad-luck, poverty, even time. If these people can fight, you can certainly stave off exhaustion.[else if the player has aspirational motivation] Your arms being to move with confidence as you wield the small award with determination. This is just another battle you must fight, another hurdle to clear on your way forward. You've come so far, you're not going to cave in now.[else if the player has sentimental motivation] You shove the picture frame forward, and despite the fact that this isn't your picture frame, you see in the glass someone you know very well. It's from them that you draw much of your strength. They have inspired you, and it is in honor of the memories they have given you, and the love that feel for them that you pull through, no matter what.[end if] You feel your one of your blows connect, and you hear a hissing squeal.  You refocus your eyes, and everything in the bathroom seems to be back to 'normal'. You look around skeptically, and then you realize that you're not tired at all. In fact you feel great.";
	now the player is liberated;
	now ShadowAttacked is false;
	now the Twisted Man is dead;
	now the Twisted Man is nowhere;
	now DealWithFailure is completed;
	now CurrentEnding is DealWithFailure;
	End the Journey.


Instead of attacking defeated student:
	if dsSleep is false:
		say "You expertly jab the student in the shoulder. His look of surprise fades to confusion briefly as his eyelids flutter and he wobbles for a moment before collapsing forward onto the desk and snoring loudly.";
		now dsSleep is true;
		now dsShaken is 0;
	else:
		say "The sleeping student twitches briefly as you use your expert martial prowess and extensive knowledge of pressure points to put him into an even deeper sleep.";

Instead of attacking the Twisted Man:
		say "you swipe at the shadow man, but space seems to warp around him, and no matter how hard you try you always miss him by fractions of an inch."

Instead of WeaponAttacking the defeated student:
	if dsSleep is false:
		say "You hit [noun] over the back of the head with [the second noun]. It produces a satisfying crack, followed immediately by the also satisfying thud [noun]'s face makes as it hits the desk. Soon [noun] is snoring.";
		now dsSleep is true;
		now dsShaken is 0;

Instead of WeaponAttacking Twisted Man:
	try attacking the Twisted Man.

creepyshadows are a backdrop in FlaggMap.
Understand "seeing things" and "creepy bathroom" and "bathroom" and "the bathroom" and "the creepy bathroom" and "shadows" as creepyshadows.

Instead of interrogating someone about creepyshadows:
	if player is in FlaggMap:
		try asking the noun about "the shadows";
	else:
		say "It's not clear what you are asking. "

Instead of asking someone about something when player is in FlaggMap:
	try asking the noun about "errorHandle."
	
Instead of asking the defeated student about "errorHandle":
	say "The student mumbles a response under his breath".
Instead of asking a mold cup about "errorHandle":
	if the noun is sentient:
		say "The mold chooses not to respond.";
	else:
		say "The mold says nothing. Because it's mold. Duh.".
Instead of asking the Twisted Man about "errorHandle":
		say "The Twisted Man flicks his teeth over his needle teeth. He doesn't seem to pay you any heed. Oh bother.".

Instead of asking the defeated student about "the shadows":
	say "[dsResponse]".
Instead of asking the purple mass about "the shadows":
	say "[pmResponse]".
Instead of asking the Twisted Man about "the shadows":
	say "The Twisted Man snickers with a twisted smile, 'Yes... Welcome to my domain'.".

Instead of asking the defeated student about "himself":
	try interrogating the defeated student about the defeated student.
Instead of asking the defeated student about "him":
	try interrogating the defeated student about the defeated student.
[end conversation]
Instead of giving something to a mold cup:
	if the second noun is nonsentient:
		say "Why would you do that? It's mold.";
	else if the noun is the green mold:
		say "You place the baby mold next to the mother mold. They are both gross, and probably deadly fungal colonies, but the pangs of joy you feel in your mind make you smile all the same.";
		now the green mold is in the west senior studio;
		now the green mold is fixed in place;
		now pmRescued is true;
	else:
		say "You drop the [noun] into the [second noun], and it slowly sinks into it. You get a feeling of confusion from the mold.";
		now the second noun has the noun.
Instead of giving something to the defeated student:
	say "The student looks at what you offer him, 'What? I don't want that...'".
Instead of giving something to the Twisted Man:
	say "You push the [noun] towards the Twisted Man's torso. Instead of hitting his chest, it passes through his chest, and falls onto the floor at his feet.";
	now the noun is in the creepy bathroom.


dsSleep is a truth state variable. dsSleep is true.
dsDefeated is a truth state variable. dsDefeated is true.
dsShaken is a number that varies.
shadowHint is a truth state variable. shadowHint is false.
unfocused is a truth state variable. unfocused is false.
pmRescued is a truth state variable. pmRescued is false.

PART 5 - KRANNERT ART MUSEUM

WestKAMInterior is an Interior Location. "You enter the west side of the Krannert Art Museum. It is peaceful insider the building. You can here the soft murmur of voices. To the east is the east end of the buiding. You can also go [bold type]out[roman type] from here."
The printed name of WestKAMInterior is "Inside Krannert Art Museum".
WestEndKAM is outside from WestKAMInterior.
WestKrannertArtMuseum is a RoomProxy in WestEndKAM.
The printed name of WestKrannertArtMuseum is "Krannert Art Museum West End".
Understand "Krannert" and "KAM" and "Krannert Art Museum West End" as WestKrannertArtMuseum.

EastKAMInterior is an Interior Location. "You enter the east side of the Krannert Art Museum. It is peaceful insider the building. You can here the soft mummer of voices. To the west is the east end of the buiding. You can also go [bold type]out[roman type] from here."
The printed name of EastKAMInterior is "Inside Krannert Art Museum".
EastEndKAM is outside from EastKAMInterior.
EastKrannertArtMuseum is a RoomProxy in EastEndKAM.
The printed name of EastKrannertArtMuseum is "Krannert Art Museum".
Understand "Krannert" and "KAM" and "Krannert Art Museum East End" and "Krannert Art Museum" and "Krannert Museum" as EastKrannertArtMuseum.

KrannertArtMuseumExhibitHall is west of EastKAMInterior and east of WestKAMInterior. "Krannert Art Museum is worth visiting especially for people who come to this university for the first time. The exhibition in the museum changes regularly and all works are created by current students. You can explore the museum to the [bold type]west[roman type] or to the [bold type]east[roman type] , or visit the Krannert Art Museum Coffee Shop to the [bold type]south[roman type]." 
 The printed name of KrannertArtMuseumExhibitHall is "Krannert Art Museum Exhibit Hall."


Other exhibitions are on the Dooooo wall.
Other exhibitions are scenery.
The description of the Other exhibitions is "These works are too abstract for you to understand today. Another day you'll appreciate them more."
Understand "works" and "paintings" and "exhibition" as other exhibitions.

Krannert Coffee Shop is south of KrannertArtMuseumExhibitHall. "This is a pleasant place to sip some tea or coffee and read a book or chat with colleagues. The exit is to the [bold type]north[roman type]. [if unvisited][paragraph break]You ordered a latte to go, and the barista quickly made it just the way you like it. You used your iCard to save your cash, and they set it on the counter where it sits."

A perfect latte is in Krannert Coffee Shop. "Your latte is sitting on the counter."
Understand "counter" and "barista" as a perfect latte

The description of a perfect latte is "You pick the latte up from the counter and thank the barista for making such a perfect latte. Nothing to do now but drink it!"

A pefect latte is edible and drinkable. 

Instead of eating perfect latte:
	try drinking perfect latte.

Instead of drinking perfect latte:
	say "You sit for a few minutes sipping your latte and your headache melts away. You toss the cup in a recycling bin. You can leave the cafe to the [bold type]north[roman type].";
	now HadCoffee is true;
	now a perfect latte is nowhere. 
	



PART 6 - WOHLER'S HALL

WohlersHall is a RoomProxy in Wohler's Hall .
The printed name of WohlersHall is "Wohler's Hall".
Understand "Wohlers" and "Wohlers Hall " as WohlersHall .

WohlersInterior is an Interior Location. "You are inside Wohler's Hall. You have no business in here and should probably exist, for your own safety."
The printed name of WohlersInterior is "Inside Wohlers Hall".
Wohler's Hall is outside from WohlersInterior.

A vacuum cleaner is a kind of device.
A vacuum cleaner can be low-power or high-power or super high-power. A vacuum cleaner is usually super high-power.

The Monster Cleaner is a vacuum cleaner in WohlersInterior. "The Monster Cleaner is five meters tall. It has 'eaten' more than 10 students and teachers and countless facilities in the past few years. No one can move or control this 'monster' and no one know which power level it will be. People have to pray everyday and hope it will be in low power on the day they go to Wohler's Hall."

The Monster Cleaner is fixed in place.
Understand "cleaner" and "monster" as the Monster Cleaner.

Instead of examining the Monster Cleaner:
	if the Monster Cleaner is low-power:
		say "Thank God! It's  at low power today. You are given one more day of life!";
		stop the action;
	if the Monster Cleaner is high-power:
		say "Oh no, this is bad. It's at high power today. You'd better leave here as soon as possible!";
		stop the action;
	if the Monster Cleaner is super high-power:
		say "Oh no! The Monster cleaner is at super high power! Better run away!";
		Monster Cleaner Absorbs You in 1 turn from now.

At the time when Monster Cleaner Absorbs you:
	say "You cannot see anything. There's no light and is totally dark. You feel that it's hard to breathe and you believe you are in vacuum now. You are dying, but you still want to continue to play this game, so you decide to do something to save your life.";
	if player has the pliers:
		say "You are insanely lucky! You use the pliers to break the monstrous vacuuum cleaner and escape. No other experience of happy fate in your entire life will ever compare to this moment.";
		now PackRat is completed;
		now CurrentEnding is PackRat;
		End the Journey;
	else:
		say "Sadly, you don't have what you need to save your life. The tool you need is in a drawer of a professor's office back in 1969. As puzzles go, this one is totally unreasonable, but that's not important now. As you wait for death, all of your memories come to your mind, piece by piece, until you lose your mind.";
		now GoInsane is completed;
		now CurrentEnding is GoInsane;
		End the Journey.

PART 7 - ART and DESIGN BUILDING

ArtDesignBuilding is a RoomProxy in Art Design Building. 
The printed name of ArtDesignBuilding is "Art and Design Building."
Understand "art and design" and "ARD" and "art and design building" as ArtDesignBuilding.

[Hallway]
ArtDesignHallwayBF is a room. "This is the basement of the Art and Design Building. Down here are some classrooms that are sealed with ancient runes. On the [bold type]north[roman type] side of the hallway is the woodshop."
The printed name of ArtDesignHallwayBF is "Art and Design Basement Hall".
ArtDesignHallway1F is a room. "This is the ground floor of the Art and Design Building. The professors hibernate in their offices and think of ways to create new and strange art. Do not disrupt their pods."
The printed name of ArtDesignHallway1F is "Art and Design First Floor Hall".
ArtDesignHallway2F is a room."The second floor of the Art and Design Building is home to the print labs, the checkout window, and some classrooms."
The printed name of ArtDesignHallway2F is "Art and Design Second Floor Hall".
ArtDesignHallway3F is a room. "The third floor is the highest reaches of the art department. The lights will not stop flickering here. You can go [bold type]north, east, [roman type]or [bold type]west[roman type]."
The printed name of ArtDesignHallway3F is "Art and Design Third Floor Hall".

flickeringlights are scenery in ArtDesignHallway3F.
The description of flickeringlights is "Lights. Flickering."
The printed name of flickeringlights is "flickering lights".

[East Stairwell]
ArtDesignEastEntry1F is a room. "This is the east entry to the Art and Design building."
The printed name of ArtDesignEastEntry1F is "Art and Design First Floor Hall".

[West Stairwells]
ArtDesignWestEntryBF is a room. "The vending machines hum in the basement stairs. You can go [bold type]east [roman type]from here, or back [up]again."
The printed name of ArtDesignWestEntryBF is "Art and Design Basement West Stairs".
ArtDesignWestEntry1F is a room. "This is the west entry to the Art and Design building. There are stairs leading [bold type]up to the second floor and d[bold type]own to the basement. Alternatively you can go [bold type]east."
The printed name of ArtDesignWestEntry1F is "Art and Design West Entry".
ArtDesignWestEntry2F is a room. "Some posters are hanging around for GameBuilders, AIGA, and oSTEM here. To the [bold type]east are the doors to the hallway as well as stairs that go [bold type]up or [bold type]down."
The printed name of ArtDesignWestEntry2F is "Art and Design Second Floor West Stairs".

ArtDesignWestEntry3F is a room. "You have reached the very top of the art building staircase. A large window illuminates the room. You can go [bold type]east[roman type] or[bold type]down[roman type]."
The printed name of ArtDesignWestEntry3F is "Art and Design Third Floor West Stairs".

[Stairwells]
ArtDesignStairwellBF is a room. "The basement stairwell is dirty. You can go [bold type]west[roman type] or [bold type]up[roman type]."
The printed name of ArtDesignStairwellBF is "Art and Design Basement East Stairs".

ArtDesignStairwell1F is a room. "You're on the ground floor of the building and can go [bold type]up[roman type] or [bold type]down[roman type]."
The printed name of ArtDesignStairwell1F is "Art and Design First Floor East Stairs".

ArtDesignStairwell2F is a room. "Go [bold type]west to enter the rest. Or go [bold type]up or [bold type]down to.... Ugh. Just go up or down. There's some posters here for house shows."
The printed name of ArtDesignStairwell2F is "Art and Design Second Floor East Stairs".

AD RSO posters are scenery in ArtDesignWestEntry2F.
The description of AD RSO posters is "They advertise various RSOs and events on campus, like GameBuilders, AIGA, and oSTEM."
The printed name of AD RSO posters is "RSO posters".
Instead of taking AD RSO posters:
	say "The people running these clubs and events worked very hard on these posters. It wouldn't really be nice for you to take them down, even if you are interested."

AD show posters are scenery in ArtDesignStairwell2F.
The description of AD show posters is "These seem to be from last year."
The printed name of AD show posters is "show posters".
Instead of taking AD show posters:
	say "You're not really sure if you're qualified to be taking down posters here."

ArtDesignStairwell3F is a room. "[if strangePlantR is in ArtDesignStairwell3F] You can go down or west through the doors. A strange plant sits in the corner next to the stairs. [else]You can go down or west through the doors."
The printed name of ArtDesignStairwell3F is "Art and Design Third Floor East Stairs". 




ArtDesignInterior is an Interior Location. "You are inside the Art and Design Building.  It is the main building for students who major in Fine and Applied Arts and other students who take non-major art classes, such as ART 140. Looking outside the window, you can see a lot of grass. There is a bulletin board on the east wall. You can head west to dive deeper or head out."

[Rooms]
ArtDesign316 is a room. "[if unvisited]This is a horrid nightmare, the room is filled with overgrowth. A large plant is growing along the walls in the Northeast Corner. There are vines and bulbs that grow along the ceiling, creeping towards the door. In the tangle of vines you see some bones and what you hope sincerely aren't eyes. A small hydroponic growth setup is turned over and the floor is covered in a thin layer of water. The tables are all out of alignment and the professor's podium is in complete disarray.[else]The nightmare plant remains. The room is quiet and hot." The printed name of ArtDesign316 is "Art and Design Room 316".
ArtDesignFabLab is a room. "[if spadeKeyADFB is in ArtDesignFabLab]This is the place that industrial design students go to cry and wish for death. The machines are all turned off right now and the lighting in here is dim. A small shimmer is in the belt sander. [else]This is the place that industrial design students go to cry and wish for death. The machines are all turned off right now and the lighting in here is dim." The printed name of ArtDesignFabLab is "Art and Design Fab Lab".

[ArtDesign316]
profPodium is a scenery supporter in ArtDesign316.
Understand "podium" and "professor podium" and "front desk" and "front podium" as profPodium.
The printed name of profPodium is "Professor's Podium".
The description of profPodium is "The computer is knocked over, plants are growing into the monitor, there's a few sticky notes on this podium. A red sticky note, a blue one, a green one, two yellow notes next to each other and a black one. There are bloody handprints on the podium."

nightmarePlant is a person in ArtDesign316.
Understand "plant" and "nightmare plant" and "big plant" as nightmarePlant.
The printed name of nightmarePlant is "Nightmare Flora".
The description of nightmarePlant is "Unending. Massive. Scary. Hungry."

stickyNoteR is a scenery object.
stickyNoteR is on profPodium.
Understand "red note" and "red sticky note" and "red sticky" and "red postit" as stickyNoteR.
Description of stickyNoteR is "10/10/19 - A student has proposed a floral installation for the class, I think it could be interesting."

stickyNoteB is a scenery object.
stickyNoteB is on profPodium.
Understand "blue note" and "blue sticky note" and "blue sticky" and "blue postit" as stickyNoteB.
Instead of examining stickyNoteB:
	Say "10/15/19 - They're calling it PROJECT #19, it's an experiment in directed growth of plants to make art. So far, I'm loving it. The grow lamps in here are kind of getting to me.";
	Now the printed name of nightmarePlant is "Project #19".

stickyNoteBL is a scenery object.
stickyNoteBL is on profPodium.
Understand "black note" and "black sticky note" and "black sticky" and "black postit" as stickyNoteBL.
Description of stickyNoteBL is "10/22/19 - I haven't seen them in a few days, when I was watering the plant for them I got cut by it, I think I'm having an allergic reaction."

stickyNoteY is a scenery object.
stickyNoteY is on profPodium.
Understand "yellow note" and "yellow sticky note" and "yellow sticky" and "yellow postit" and "yellow notes" and "yellow sticky notes" and "yellow stickys" and "yellow postits" as stickyNoteY.
Description of stickyNoteY is "The first note says: 10/2819 - The doctor said im fine but I still keep finding myself not eating and im so thirsty[paragraph break]The second note says: my scab is green"

stickyNoteG is a scenery object.
stickyNoteG is on profPodium.
Understand "green note" and "green sticky note" and "green sticky" and "green postit" as stickyNoteG.
Description of stickyNoteG is "31 grows grows grows grows grows grows grows grows grows grows grows grows"


ArtDesignInterior is inside from Art Design Building.

[Basement]
ArtDesignWestEntryBF is down of ArtDesignWestEntry1F.
ArtDesignHallwayBF is east of ArtDesignWestEntryBF.
ArtDesignStairwellBF is east of ArtDesignHallwayBF.
ArtDesignFabLab is north of ArtDesignHallwayBF.

[First Floor]
ArtDesignHallway1F is east of ArtDesignWestEntry1F.
ArtDesignStairwell1F is east of ArtDesignHallway1F.
ArtDesignInterior is east of ArtDesignStairwell1F.
ArtDesignStairwell1F is up of ArtDesignStairwellBF.

[Second Floor]
ArtDesignWestEntry2F is up of ArtDesignWestEntry1F.
ArtDesignHallway2F is east of ArtDesignWestEntry2F.
ArtDesignStairwell2F is east of ArtDesignHallway2F.
ArtDesignStairwell2F is up of ArtDesignStairwell1F.

[Third Floor]
ArtDesignWestEntry3F is up of ArtDesignWestEntry2F.
ArtDesignHallway3F is east of ArtDesignWestEntry3F.
ArtDesignStairwell3F is east of ArtDesignHallway3F.
ArtDesignStairwell3F is up of ArtDesignStairwell2F.

[Doors]
spadeDoor is a scenery, closed, locked, openable door.
spadeDoor is north of ArtDesignHallway3F and south of ArtDesign316.
The printed name of spadeDoor is "Spade Door".
The description of spadeDoor is "A heavy set dark wood door with an obsidian Spade placed into the middle. The sign next to it says room 316."
Understand "Spade Door" and "door" and "spayd door" and "dark wood door" and "heavy door" as spadeDoor.

The printed name of ArtDesignInterior is "Art and Design Building".

ADBBoard is scenery in ArtDesignInterior.
The description of ADBBoard is "The bulletin board is covered in flyers and posters."
The printed name of ADBBoard is "bulletin board".
Understand "bulletin board" and "board"  and "east wall" and "wall" as ADBBoard.

ADBFlyer is scenery in ArtDesignInterior.
Understand "flyer" and "flyers" as ADBFlyer.
The description of ADBFlyer is "You look at the various flyers on the bulletin board. They're all advertising different art events on campus."

ADBPoster is scenery in ArtDesignInterior.
Understand "poster", "posters" as ADBPoster.
Instead of examining ADBPoster:
	say "You look at the posters hung up on the bulletin board. One poster in particular is quite immaculate. It has interesting shapes and symbols that you've never seen before. Something abstract perhaps? Before you can give it more thought, the drawings on the poster begin to glow. In a bright, blinding flash of light, you can see all the colors of the rainbow. When your vision returns, you notice that the poster has vanished. Your eyes ache a bit and your head feels somewhat heavier.";
	now the ADBPoster is nowhere;
	now the right hand status line is "Artsy".

[C H A N G E S]

Gabe is a person in ArtDesignHallway2F.

Instead of examining Gabe:
	say "In the middle of the hallway you come across a very tired looking designer. They wearing a terrifying looking shirt that covered in some sort of purple monkeys and carrying a skateboard."
 
Instead of attacking Gabe:
	say "'Bro are you really trying to vibe check me?'";
	say "You should have known better than to piss off a Super Senior. You immediately got bodied and you find yourself laying on the floor with you consciousness slowly leaving you. What you see in you fading vision is Gabe off to the side, Fortnite dancing over your body.";
	now KilledByGabe is Completed;
	now CurrentEnding is KilledByGabe;
	End the Journey.

Instead of talking to Gabe:
	say "'Howdy! I'm Gabe, are you in A+D? I'm just waiting for my friend Edgar, you know him?'"
		
Instead of asking Gabe about "shirt":
	say "'What? You've never heard about Bonzi Buddy??'"
	
Instead of asking Gabe about "skateboard":
	say "'You skate? I got a pretty sick board, wanna see me do some tricks?'"
	
Instead of asking Gabe about "tricks":
	say "'Actually I don't think you're ready for my sick sk8r tricks...'"
	
Instead of asking Gabe about "building":
	say "'Isn't this building the ugliest thing you've ever seen? I can't wait to get outta here.'"
	
Instead of asking Gabe about something:
	say "[one of]'That's pretty whack ngl...'[or]'Oh worm!' [or]'That's pretty unwoke of you to ask about that...' [or]'Don't make me cancel you....'[in random order]"

[OBJECTS]
strangePlantR is an undescribed object in ArtDesignStairwell3F.
The printed name of strangePlantR is "Red Herb".
The description of strangePlantR is "A wild herb that grows in this region."
Understand "plant" and "herb" and "red herb" and "strange plant" as strangePlantR.

spadeKeyADFB is an undescribed thing in ArtDesignFabLab.
The printed name of spadeKeyADFB is "Spade Key".
The description of spadeKeyADFB is "It is a heavy key with an obsidian playing card on the end -- an Ace of Spades."
Understand "shimmer" and "spade" and "ace" and "ace of spades" and "key" and "hidden key" and "spade key" as spadeKeyADFB.
spadeKeyADFB unlocks spadeDoor.

Part 8 - SIEBEL CENTER FOR DESIGN 

WesternSCD is a roomproxy in Western SCD.
The printed name of WesternSCD is "Siebel Center for Design".
Understand "Siebel" and "Design Center" and "SCD" and "Siebel Center" and "Siebel Center for Design" as WesternSCD. 

WesternSCDInterior is inside from Western SCD. "You are standing at the west end of the Siebel Center for Design, locally known as 'SCD'. A support desk is in front of you, but strangely there isn’t a person manning it. there are classrooms to the northwest and southwest."

The printed name of WesternSCDInterior is "West Terrace". 
WesternSCDInterior is an interior location. 

EasternSCD is a roomproxy in Eastern SCD.
The printed name of EasternSCD is "Siebel Center for Design".
Understand "Siebel" and "Design Center" and "SCD" and "Siebel Center" and "Siebel Center for Design" as EasternSCD. 

EasternSCDInterior is inside from Eastern SCD and east of SCDMainLobby. "You are standing at the east entrance of the Siebel Center for Design, locally known as 'SCD'. There are some chairs here that you can sit around in and be able to study in with a overhang acting as a small protection against harsh sunlight and rain. From here you can go north to the cafe or west to explore the building." 
The printed name of EasternSCDInterior is "East Terrace." 
EasternSCDInterior is an interior location. 				

Classroom 1000 is northwest of WesternSCDInterior. "A typical classroom filled with desks and chairs, a computer for the teacher to use, a projection screen, and a whiteboard with barely working markers. Strangely, you notice a lonely backpack sitting on top one of the tables. Some student must have forgotten it."

Classroom 1002 is north of WesternSCDInterior. "A typical classroom filled with desks and chairs, a computer for the teacher to use, a projection screen, and a whiteboard with barely working markers."

SCDGallery is east of WesternSCDInterior. "[if unvisited]You are surprised at how open this area feels and see that there are a lot of places that you can sit in. Other students are casually sitting around: working on homework, playing on their phone, or just casually resting. You feel relaxed at the sight of this. [else] There looks to be some students hanging around this area, but there is still enough free seats for you to sit down and have a rest."
The printed name of SCDGallery is "Gallery".

Multimedia room is northwest of SCDGallery and northeast of WesternSCDInterior. "A digital production lab for all your storytelling needs. Record your videos and podcasts — also feel free to eat some ice cream (BYOIC)."

SCDMainFloorRestrooms is north of SCDGallery. "[if unvisited] You take a deep breath before going into the restroom. You blink and let out a pleasantly surprised gasp. The restroom is cleaner than you first thought. You peek inside one of the stalls and aren't greeted with a dirty looking toilet with some toilet paper sitting inside the bowl. [paragraph break] You let out a ‘huh' as you step back and marvel at how clean it looks despite being a public restroom. It must be because the building is still new. So you count yourself lucky at seeing this restroom while it is still clean. [else] A clean looking restroom greets you, looks like it is being well kept by the janitors today."
The printed name of SCDMainFloorRestrooms is "Main Floor Restrooms".

SCDMainLobby is east of SCDGallery. "You look around and see tall tables and chairs to work and comfy captain’s chairs in front of the floor-to-ceiling east windows. There are some students already sitting on the tall tables and are busy studying away."
The printed name of SCDMainLobby is "Main Lobby".

SCDMainOffice is northwest of SCDMainLobby and northeast of SCDGallery. "(Looks terrible) Administrators’ here. Stop by to ask your questions."
The printed name of SCDMainOffice is "Main Office".

[
SCDKitchen is west of SCDMainLobby. [There will be an item hide]
The description of Kitchen is "[if unvisited] Seems not done yet but, there does have a door, white as wall, nobody notices it. [else] You grasp the doorknob and wrench at it." 
The printed name of SCDKitchen is "Kitchen"
]

Starlight Cafe is northeast of SCDMainLobby. "[if unvisited] No starlight but more Sunlight shines through on you, you can finish your pizza here. [else] you see the beautiful view of East Terrace and the bike side. There are some broken pumpkins left on the ground. "

[Concierge is east of SCDMainLobby. [im gonna make this an object not a room]
Sunrise Studios is east of Concierge.
Small hallway is south of Concierge.]		
	
SunriseStudio 1040 is southeast of SCDMainLobby. "An quaint room: large, but hidden in the corner."
	
Upper Hallway is southwest of SCDMainLobby.
The description of Small hallway is "A narrow hallway giving you a bird's eye view of the whole building."

Top of Southeast Stairway is south of SCDMainLobby and southeast of Upper Hallway. "The top of the southeast stairway. Your eyes are caught by the surrounding area."

SunsetStudio 1050 is south of Upper Hallway. "[if unvisited] Looks like there are students here working on projects together. You can see groups clearly with each cluster of students having open discussions with each other. [else] You remember not to disturb the working students but also recall the white boards there."
	
MoonlightBay 1060 is southwest of Upper Hallway. "A space for temporary housing for artists to keep their work for a few weeks. Looks like no one has laid claim to it for now. The empty pegboard catches your eye."

[Garage is southeast of Upper Hallway]

Front of elevator is south of WesternSCDInterior and west of upper hallway.
The description of Front of elevator is "In front of you is an elevator that you can use to go to the lower floors. However, there is a sign on it that says ‘Out of Order’" [this is not broken oops]		

Front entrance is south of Front of elevator. "A small room with a scale model of the Siebel Center of Design. To your east is a stairwell and the north the rest of the building."

Top of Southwest Stairway is east of front entrance. "A modest stairway, call concrete save for the modern-patterned door."

South Terrace is south of front entrance. "A lesser used entrance to the Seibel Design Center. You are also not that far from the Art and Design building."

MeetingRoom1070 is west of Front of elevator and northwest of front entrance.
Ramp is down of WesternSCDInterior.
The printed name of MeetingRoom1070 is "[if unvisited] Meeting room 1070 [else]taken meeting room".

The description of MeetingRoom1070 is " Right before you walk into the meeting room you notice that it is occupied. You decide not to be rude and let the meeting continue."

Instead of entering MeetingRoom1070:
	say "You forgot that the meeting is occupied and should not barge in at the moment. Maybe some time later they will finish up and you can check out the meeting room.";
	stop the action.

[-------- Bottom Floor —-----]
Bottom of southwest stairway is down from Top of Southwest Stairway and southwest of Lower Lobby. "A small alcove, in which you see a water fountain."

End of Ramp is down of ramp. "The bottom of the long ramp. Though it is a nice slope, the journey is quite long."

Amphitheater is east of End of Ramp. "A space walled off by the ramp itself. There is a television and supposed seating, which is wood paneling on the concrete construction."

Bulletin board is north of End of Ramp. "The bulletin board is covered in flyers of different events and classes."

Vending machine is north of Bulletin board. "[if unvisited]You see three different types of vending machines in front of you: one for coffee, though it is out-of-order, one for snacks, its items ranging from chips to sweet snacks, and one for soda, which has a variety of coke brand soda, monster energy drinks, and water (there is a water fountain behind you so...). [else]You see three different types of vending machines and a water fountain."

Lower Restrooms is west of Vending machine and northwest of bulletin board. "[if unvisited]Much like its main floor counter part, this area looks to be well maintained and clean. There is nothing special to note about the bathroom except for the stalls and the trash can near the doorway.[else]A clean looking bathroom. Its a typical bathroom with stalls, sinks, paper towel dispensers, and a trash can."

Lower Lobby is west of End of ramp. "[if unvisited]While not as big as the main lobby, it still has some desks and even couches for students to lounge in. A few students have already taken advantage of the two of the couches. [else]A small lobby for students to study in."

Lower Hallway is southeast of Lower Lobby and south of End of Ramp. "The lower counterpart of the hallway above. The northern wall is actually rows of large lockers for the Twilight residents."

Twilight Studio is south of Lower Hallway. "Tables and chairs sit at equal distances apart across the room. Tall rolling whiteboards separate them. Unlike the Sunset Studio upstairs, there is a depressing lack of both color and sunlight. Around the room are various projects and tools from the different student organizations.[if SCDBentNail is in Twilight Studio]As you stroll through the room, you spot a bent nail sticking out of the wall. You might be able to hammer it back in place with something."

Computer lab is southwest of Lower Hallway and south of Lower Lobby. "Formerly Classroom 0060, the computer lab is one of the homes of the Game Studies and Design program, home of the Illini E-Sport competitors, headquarters of the Computer Music Project, and office hour location of Game Development."
The printed name of computer lab is "Game Studies and Computer Music Lab".

Project Storage is northeast of End of Ramp. "The large sign that says 'Project Storage' directs you to a closed window. Man..."

Bottom of Southeast Stairway is east of lower hallway and down from top of Southeast stairway. "The bottom of the southeast stairway. Your eyes are caught by the surrounding area."

SCDShop is southeast of Checkout window and east of Bottom of Southeast stairway. "[if unvisited]As you open the doors, you are greeted by rows of tables covered with various devices: 3D printers, laser cutters, scanners, wood and metalworking tools, equipment lockers, and more. A few students are working on personal projects here and there, and a 3D printer whirs away in the corner on a complicated-looking project.[else if SCDHammer is in SCDShop]Glancing around, you can see an open 3D printer, an empty laser cutter, a wall of tools barren except for a single hammer, and a free shop table covered in loose bolts of fabric and textiles. Students mill about, working on their own projects.[else]Glancing around, you can see an open 3D printer, an empty laser cutter, and a free shop table covered in loose bolts of fabric and textiles. Students mill about, working on their own projects." The printed name of SCDShop is "The Shop".

Study hallway is west of Checkout window and north of Lower Lobby. "Rows of white tables sit under equally white walls, which upon closer inspection, are whiteboards. The area is blindingly bright."

Space Room is a room. "The room hardly looks like a room at all; there don't appear to be visible walls or ceilings, though you can feel intuitively that they exist from the way the light bends. You feel like you're standing in some sort of void, but it's filled with basketball-sized planets, stars, asteroids, and other little heavenly bodies slowly bouncing around the room. A particularly frozen ball of matter hovers motionless at the far end."

Instead of going nowhere from Space Room:
	say "You step back into the elevator and cling to the wall as it plummets back to earth. When the doors finally open again, you find yourself back in the Siebel Center for Design.";
	now the player is in Front of elevator.
	
Earth Room is a room. "The room is dimly lit, and the walls and ceiling are just packed dirt. Roots snake through the walls and hang from above, shaking loose clumps of dirt down into the room. The whole place vibrates and rumbles as if a herd of elephants were running over the top."

Instead of going nowhere from Earth Room:
	say "You step back into the elevator and endure the uncomfortable feeling of your stomach dropping as the elevator shoots up. When the doors finally open again, you find yourself back in the Siebel Center for Design.";
	now the player is in Front of elevator.


[---------- Objects/Items/Container/Scenery/backdrops —-------]
Bathroom items is a backdrop.
Bathroom items is in Main floor restrooms and Lower Restrooms.
The description of Bathroom items is "Just regular stuff that you would find in a restroom. Even looking closely at it, you find nothing special other than seeing how clean it looks."

Understand "stalls" and "bathroom stalls" and "sinks" and "sink" and "paper towel dispenser" as Bathroom items.

Students studying is a backdrop.
Students studying is in Main Lobby and Gallery and Lower Lobby.
The description of Students studying is "A couple of students are sitting down and look to be doing homework, group projects, or are in zoom meetings. They don’t disturb you but fill the area with a bit of life and bustle."

Understand "busy students" and "working students" as Students studying.

SCDFurniture is a backdrop.
SCDFurniture is in Classroom 1000 and Classroom 1002 and Gallery and Multimedia and Main Lobby and Starlight Cafe and East Terrace and Amphitheater and Lower Lobby and Classroom 60 and Study hallway.

The description of SCDfurniture is "Just normal furniture meant to fill in the room and provide a space for students to learn and study in. Nothing really special about them."
The printed name of SCDFurniture is "furniture".
Understand "tables" and "chairs" and "furniture" as SCDFurniture.

Front Desk is a scenery container in Front entrance.
The description of Front Desk is "A support desk that is currently being unmanned. Looking behind it, you see that it’s empty except for a lunch box tucked inside one of the drawers."

Lunch Box is a closed container inside Front Desk.
The description of Lunch Box is "A plain looking lunch box with a sticky note saying ‘Do not eat!’"

Lift is a closed scenery container in Front of elevator.
The description of Lift is "Despite being out of order, its buttons are still glowing. Maybe that means you can still open and close the doors?"

Lonely Backpack is a scenery container in Classroom 1000.
The description of Lonely Backpack is "A grey backpack with different buttons pinned on the sides of it. Judging by those pins, the person who owned this backpack looks to be a football fan."
Understand "backpack" as Lonely Backpack.
Instead of taking Lonely Backpack:
	Say "It is rude to take something that doesn’t belong to you."

SCDTrashCan is a scenery container in Lower Restrooms.
The description of SCDTrashCan is "It looks like that the trash can is almost full, as you can see trashed paper towels starting to peak out from the container."
The printed name of SCDTrashCan is "trash can".
Understand "trash can" as SCDTrashCan.

SCDGarbage is a thing in SCDTrashCan. "As you expected the trashcan is stuffed full of used paper towels."
The description of Garbage is "Used paper towels. Holds no use."
The printed name of SCDGarbage is "garbage".
Understand "garbage" and "paper towels" and "used paper towels" and "trash" as garbage.

SCDHammer is an undescribed thing in SCDShop.
The description of SCDHammer is "It's a hammer with a bright blue rubbery handle. It's fairly lightweight and good for smaller crafts."
The printed name of SCDHammer is "hammer". Understand "hammer" as SCDHammer.

SCDToolWall is scenery in SCDShop.
The description of SCDToolWall is "Hooks line the board, designed to hold a multitude of hand tools for students to use. Right now, most of them are gone, but you can see a single blue hammer hanging near the bottom."
Understand "tools" and "tool wall" as SCDToolWall.

SCD3DPrinter is an undescribed device in SCDShop. SCD3DPrinter is fixed in place.
The description of SCD3DPrinter is "[if switched off]The printer is currently motionless, but sparkly blue filament sits on the rack in the back and feeds into the nozzle, waiting to be used.[else]The printer whirs as the nozzle moves back and forth, calibrating and waiting for instructions."
The printed name of SCD3DPrinter is "3D Printer". Understand "printer" and "3D printer" as SCD3DPrinter.

Instead of switching on SCD3DPrinter:
	if player has Elevator Key Blueprint:
		say "The 3D printer whirs to life, and you insert the mysterious flashdrive into a nearby computer to send it to the printer. Almost instantaneously, as if by magic, the printer produces a sparkly blue key that would have normally taken an hour to make.";
		now player has Elevator Up Key;
	else:
		say "The printer whirs to life and awaits direction.";
	now SCD3DPrinter is switched on.

SCDLaserCutter is an undescribed device in SCDShop. SCDLaserCutter is fixed in place.
The description of SCDLaserCutter is "[if switched off]The laser cutter's glass lid is open, and the laser sits in the corner.[else]The screen blinks at you, waiting for you to input a file and some material so the laser cutter can get to work."
The printed name of SCDLaserCutter is "Laser Cutter". Understand "laser cutter" and "laser" and "lazer" and "cutter" as SCDLaserCutter.

Instead of switching on SCDLaserCutter:
	if player has Elevator Key Blueprint:
		say "The laser cutter jumps to attention. You select an acrylic sheet to place in the space, close the lid, and load the mysterious flashdrive's file, then watch as the laser moves at superhuman speed to cut the sheet into the shape of a pressable button.";
		now player has Elevator Down Key;
	else:
		say "The laser cutter whirs to life and awaits direction.";
	now SCDLaserCutter is switched on.
	
Elevator Up Key is an undescribed thing.
The description of Elevator Up Key is "This small plastic key is made of a sparkly blue material. You're sure it's meant for something in this building."
The printed name of Elevator Up Key is "Mystery Key". Understand "blue key" and "sparkly blue key" and "plastic key" and "mystery key" as Elevator Up Key.

Elevator Down Key is an undescribed thing.
The description of Elevator Down Key is "This acrylic button panel couldn't conceivably be for anything useful. Nonetheless, you feel like you could affix it to something broken in this building."
The printed name of Elevator Down Key is "Mystery Panel". Understand "acrylic" and "button" and "acrylic button panel" and "mystery button" as Elevator Down Key.
	
SCDElevatorPanel is a thing in Front of elevator. "There's a small panel next to the elevator doors, but the button part is smoothed over. A keyhole sits underneath. This is weird, considering there's another normal down button on the other side."
The printed name of SCDElevatorPanel is "Elevator Panel". Understand "panel" and "elevator panel" as SCDElevatorPanel.

Pressing is an action applying to two things.

Understand "press [something] with [something]" and "hammer [something] with [something]" as pressing.

Check pressing:
	if noun is SCDElevatorPanel:
		if second noun is Elevator Up Key:
			say "You stick the key in the keyhole and turn. All of a sudden, the elevator doors open, and you hear a ding as the up arrow light turns on. Hesitantly, you step inside, and the doors close behind you.[paragraph break]The elevator shoots up suddenly, flattening you to the floor. It gradually slows to a stop, and when the doors open and you stumble out, you find yourself in a strange room.";
			now player is in Space Room;
		else if second noun is Elevator Down Key:
			say "You press the button panel to the broken one, accidentally putting pressure on the lower end. All of a sudden, the elevator doors open, and you hear a ding as the down arrow light turns on. Hesitantly, you step inside, and the doors close behind you.[paragraph break]The elevator drops suddenly, sending your stomach into your throat as you cling to the wall. It gradually slows to a stop, and when the doors open and you stumble out, you find yourself in a strange room.";
			now player is in Earth Room;
		else:
			say "The elevator has no reaction. This doesn't seem to be able to activate it.";
	else if noun is SCDBentNail:
		if second noun is SCDHammer:
			say "You tap gently on the nail with the hammer to ease it back into the wall. As you land the final blow, a cartoonish-looking crack snakes up the wall from the nail, and a section of the wall caves in. Inside the dark cavity behind the wall is a small pink flashdrive.";
			remove SCDBentNail from play;
			now Elevator Key Blueprint is in Twilight Studio;
		else:
			say "This doesn't seem to have any effect on the nail.";
	else:
		say "That's not really something you can press."

SCDTextiles is an undescribed thing in SCDShop.
The description of SCDTextiles is "Shimmery fabrics and soft felt in all colors."
The printed name of SCDTextiles is "textiles and fabrics". Understand "textiles" and "fabric" and "fabrics" and "cloth" and "felt" and "bolt" and "bolts" and "bolt of fabric" and "bolts of fabric" as SCDTextiles.

Instead of taking SCDTextiles:
	if player has SCDTextiles:
		say "Taking more would probably get you in trouble.";
	else:
		say "You snag a few scraps from the table. Taking any more would probably get you in trouble.";
		now the player has SCDTextiles.

SCDBentNail is an undescribed thing in Twilight Studio. SCDBentNail is fixed in place.
The description of SCDBentNail is "It's old and crooked."
Understand "nail" and "bent nail" as SCDBentNail.
Instead of taking SCDBentNail:
	say "It's stuck tight in the wall."
	
Elevator Key Blueprint is an undescribed thing.
The description of Elevator Key Blueprint is "This small flashdrive seems to contain an important file. 'Key' is written on the plastic casing in black marker. Maybe you can figure out how to make whatever is on it."
The printed name of Elevator Key Blueprint is "Mysterious Pink Flashdrive". Understand "flashdrive" and "flash drive" and "drive" and "pink flashdrive" and "pink flash drive" and "pink drive" as Elevator Key Blueprint.

Frozen Ball is an undescribed thing in Space Room.
The description of Frozen Ball is "A basketball-sized ball of ice hovers in the air in front of you. You can vaguely make out something in the middle, but you have no way to get to it if you don't melt the ice somehow. Maybe you can wrap it in something warm."

Instead of putting something on Frozen Ball:
	if noun is SCDTextiles:
		say "You wrap the ball in the several sheets of cloth you got from the shop. Within a minute or so, the ball melts completely, leaving you with a little pointy object. The textiles are completely soaked now, so you leave them.";
		now the player has Space Crown;
		remove SCDTextiles from play;
	else:
		say "You try to apply it, but the ball remains unchanged."

Space Crown is an undescribed thing.
The description of Space Crown is "It's a tiny gold crown with little gemstones of all different colors embedded in it. Rings are drawn around them to make them look like little planets. Inscribed on the inside is the title 'Space Explorer Extroardinaire'."
Understand "pointy object" as Space Crown.

Earth Crown is an undescribed thing.
The description of Earth Crown is "The crown is old and worn down, but the metal still shines like new despite the dented and dilapidated appearance. Inscribed on the inside is the title 'Earth Envoy Extroardinaire'."
Understand "metal crown" as Earth Crown.

Seibel Scavenger Hunt List is a thing.
The description of Seibel Scavenger Hunt is "Scattered across the Seibel Design Center is a bunch of cute plushies waiting to be found![paragraph break]Ghost Plushie[paragraph break]Squirrel Plushie[paragraph break]Athletic Plushie[paragraph break]Dog Plushie[paragraph break]Cat Plushie[paragraph break]Bird Plushie[paragraph break]Bunny Plushie[paragraph break]Studious Plushie[paragraph break]Teacher plushie[paragraph break]Artistic Plushie[paragraph break]Innovative Plushie[paragraph break]Relaxed Plushie.[paragraph break]Once you found all twelve, talk to the Riddler again in the Main Lobby for a hint to find the 13th Plushie!"



[---------- NPCs —-------]
Talked to Riddler is a truth state variable. Talked to Riddler is false.

Golden Squirrel is a truth state variable. Golden Squirrel is false.

Riddler is a person in Main Lobby. "A dapper man sits in one of the chairs of the Main Lobby. Draped around his neck is a sign."
The description of Riddler is "He definitely looks out of place compared to the other visitors in this place. Looking closely, the sign on him says ‘Come one, come all! Participate in the Seibel Design Center Scavenger Hunt!’. [paragraph break] It looks like you can [bold type]'ask Riddler about the Scavenger Hunt'[roman type]."

Understand "sign" and "dapper man" and "man" and "ridder" as Riddler.

Instead of asking Riddler about "the Scavenger Hunt":
	If Talked to Riddler is false:		
		Say "Do you want to participate in the Seibel Scavenger Hunt? If so then start looking around the building to find 12 special plushies! They are hidden well so make sure to EXAMINE everything in each areas. You might be surprised at where you will find them. But even if you find all 12, that doesn’t mean that it is over, come to me and I will tell you of a special, hidden plushie.[paragraph break]Here is a little hint, even a little bit of outside can be considered a part of the Seibel building. Here is the [bold type]Seibel Scavenger Hunt List [roman type].";
		now Talked to Riddler is true;	
		now player has the Seibel Scavenger Hunt List;	
	else If ItemCount is less than 12:
		say "You have less than 12 items. Look around and see if you can find some more. I’ll be here when you find all 12.";
	else:
		say "Look at you, with all 12 items. Now riddle me this: 'insert Riddle in here'. When you have found the 13th item ask me about '[bold type] Scavenger Reward[roman type]'.";
		now Golden Squirrel is in Classroom 60.	

Instead of asking the Riddler about "Scavenger Reward":
	If Golden Squirrel is false:
		Say "You do not have the final scavenger hunt item, I promise it's here. Try searchin places you have visited already before maybe you didn't see it before *wink wink*";
	else if Golden Squirrel is true:
		say "THERE IT IS!!! The greatest plushie ever made, the students worked very hard to make it and it shows. As promised you will recieve your reward but I will be taking the [bold type] Golden Squirrel Plushie [roman type] as it needs to be put on display.";
		now player has the Prize hat;
		now Golden Squirrel Plushie is nowhere.
		
SCDStudents are a person in Gallery. "The only strange oddity that catches your eye is a crowd of students congregating on one spot of the immediate area. If you feel bold enough, you could move them to disperse since they don’t seem to be doing anything, just taking up room for other people to use."
The printed name of SCDStudents is "crowd of students".
Understand "crowd of students" and "students" as SCDStudents.

Instead of pushing SCDStudents: 
	Say "You disperse the crowd of students, freeing up the space that they were occupying. Much to your surprise, you find the Dog Plushie right in the middle of where the crowd used to be. You take the plushie into your inventory.";
	now SCDStudents are nowhere; 
	Now player has the Dog Plushie;
	Increase ItemCount by 1.

Understand "moving" as pushing.

Mr Mole is a person in Earth Room. "A little mole creature mutters unintelligibly to itself on the other end of the room." Mr Mole is proper-named. Understand "mole" and "creature" and "mole creature" as Mr Mole.

Instead of talking to Mr Mole:
	choose a random row in the Table of Mr Mole Responses;
	say "[response entry]".
	
Instead of giving something to Mr Mole:
	if noun is SCDTextiles:
		say "The mole perks up excitedly and snatches the textiles from your hands. 'Finally,' it hisses in perfect English, wrapping the cloth around itself. 'I shall be free.'[paragraph break]All of a sudden, the mole disappears in a flash of blinding light. A little metal crown drops into your hands.";
		now player has Earth Crown;
		remove SCDTextiles from play;
		remove Mr Mole from play;
	else:
		choose a random row in the Table of Mr Mole Responses;
		say "[response entry]".

Table of Mr Mole Responses
response
"The creature gives you a blank stare."
"The mole chitters at you inquisitively, but doesn't respond."
"The mole creature appears confused."
"The mole scratches at the ground beneath it absentmindedly."

[---------- Scavenger Items —-------]
ItemCount is a number variable. ItemCount is 0.

Scavenger Item is a kind of thing.

Ghost Plushie is a Scavenger Item.
The description of Ghost Plushie is "A cute plush shaped to be a ghost with a devious grin."
Ghost Plushie is inside Lunch Box.
Instead of taking Ghost Plushie:
	Say "you take the devious looking ghost plush into your inventory.";
	Increase ItemCount by 1;
	Now player has the Ghost Plushie.

Squirrel Plushie is an undescribed Scavenger Item.
The description of Squirrel Plushie is "A cute plush of a squirrel hugging an acorn with a letter I carved into it."
Squirrel Plushie is inside Elevator.
Instead of taking Squirrel Plushie:
	Say "you take the hungry squirrel plush into your inventory.";
	Increase ItemCount by 1;
	Now player has the Squirrel Plushie.

Athletic Plushie is a Scavenger Item.
The description of Athletic Plushie is "A cute plush of a student jogging with a simple t-shirt and shorts."
Athletic Plushie is in Lonely Backpack.
Instead of taking Athletic Plushie:
	Say "you take the athletic student plush into your inventory.";
	Increase ItemCount by 1;
	Now player has the Athletic Plushie.

Dog Plushie is a Scavenger Item.
The description of Dog Plushie is "A cute plush of a golden retriever. It is wearing an Illini bandana."
[Will be "hidden" in crowd of students]

Cat Plushie is a Scavenger Item.
The description of Cat Plushie is "A cute plush of a black cat wearing an orange collar."
Cat Plushie is in South Terrace.
Instead of taking Cat Plushie:
	Say "you take the adorable cat plush into your inventory.";
	Increase ItemCount by 1;
	Now player has the Cat Plushie.

BirdPlushie is a Scavenger Item.
Understand "bird" and "bird plushie" as BirdPlushie.
The printed name of BirdPlushie is "bird plushie."

The description of Bird Plushie is "A cute plush of an American Robin."
Bird Plushie is in East Terrace.
Instead of taking Bird Plushie:
	Say "you take the adorable bird plush into your inventory.";
	Increase ItemCount by 1;
	Now player has the Bird Plushie.

Bunny Plushie is a Scavenger Item.
The description of Bunny Plushie is "A cute plush of a brown rabbit chewing on a carrot. The letter I is carved into the vegetable."
Bunny Plushie is in Sunrise Studio.
Instead of taking Bunny Plushie:
	Say "you take the adorable Bunny Plushie "

Studious Plushie is a Scavenger Item.
The description of Studious Plushie is "A cute plush of a student reading a thick book. Why this was placed inside a trash can is beyond you and seems cruel for such a cute and hard working plushie."
Studious Plushie is in Trash can.
Instead of taking Bird Plushie:
	Say "you take the hard working student brush off any trash clinging onto it before putting it into your inventory.";
	Increase ItemCount by 1;
	Now player has the Studious Plushie.

Teacher Plushie is a Scavenger Item.
The description of Teacher Plushie is "A cute plush of a teacher holding a laptop."
Teacher Plushie is in SCDMainOffice.
Instead of taking Teacher Plushie:
	Say "you take the cute plush of  teacher’s into your inventory";
	Instead of taking Teacher Plushie:
		say "you take the Teacher Plushie _____.";
		increase ItemCount by 1;
		now player has the Teacher Plushie.

Artistic Plushie is a Scavenger Item.
The description of Artistic Plushie is "A cute plush of a student carrying a bag of art supplies."

Innovative Plushie is a Scavenger Item.
The description of Innovative Plushie is "A cute plush of a student wearing a business suit."

Relaxed Plushie is a Scavenger Item.
The description of Relaxed Plushie is "A cute plush of a student wearing casual clothing and holding a cup of tea."

Victorious Plushie is a Scavenger Item.
The description of Victorious Plushie is "A cute plush of yourself holding out their fingers to form a V for victory."

Golden Squirrel Plushie is a Scavenger Item.
The description of Golden Squirrel is " A fancy plush made out of the finest golden silk, can the reward be any better than this? Maybe I can keep this instead."
Golden Squirrel Plushie is nowhere.
Instead of taking Golden Squirrel Plushie:
	Say "You now hold the greatest squirrel plushie that has even been made, take good care of it.";
	now Golden Squirrel is true;
	now player has the Golden Squirrel Plushie.

[---------- Prize Item—-------]
Prize hat is a wearable.

PART 9 - SDRP
[ik there are two entrances but let's go with the one in front of the quad]

SDRPInterior is inside of SDRP. "You are standing at the south entrance of the Student Dining & Residential Programs Building, or the SDRP, also called Ikenberry Commons. There is a stairwell to your east, the dining hall to your west, a study hall to your south, and 57-N to your northeast." [i need help configuring the interiorlocation thing]
The printed name of SDRPInterior is "Student Dining & Residential Programs Building Lobby".
Understand "SDRP" and "Dining" and "Ikenberry" as SDRPInterior.

SDRPStairs are east of SDRPInterior. "A tall, winding stairwell. There are some chairs and plants underneath."
The printed name of SDRPStairs is "SDRP Stairs."

Stairfurniture is scenery in SDRPStairs.
The description of Stairfurniture is "The plasticy chairs and plants add to the geometric essense of the SDRP."
Understand "furniture" and "chairs" and "plants" as Stairfurniture.

IkeDiningHall is west of SDRPInterior. "The Ikenberry dining hall. Second largest on campus. Even if you're hungry, it's not work swiping in for a meal here. You'll be less ripped off eating anywhere else."
Understand "dining hall" and "dining" as IkeDiningHall.
The printed name of IkeDiningHall is "Ikenberry Dining Hall."

Mailing room is north of SDRPStairs. "The mail pick-up room. The grates are shut. You see an ATM and McKinley Vending machine to your left."

SDRPVending is scenery in Mailing Room.
Understand "Vending machine" and "Mckinley" and "Mckinley vending" as SDRPVending.
The description of SDRPVending is "The blinding screen shows basic health needs a college student may need, including a large variety of... You know what. Nevermind. Not that you need any of this anyways."

SDRPStudy is south of SDRPInterior. "A large, almost liminal, study room. People are working away at some computers, though one is empty."
The printed name of SDRPStudy is "SDRP Study."
	
SDRPComputer is scenery in SDRPStudy. "A game is open. Looks like an escape room."
Understand "Computer" as SDRP computer.
	
[game]	

gamebeat is a truth state variable. Gamebeat is false.
	
Understand "play escape room" and "play game" as escaperoomplaying.
escaperoomplaying is an action applying to nothing.

Check escaperoomplaying:
	if player is not in SDRPStudy:
		say "There are no rooms to escape here.";
		stop the action;
	if gamebeat is true:
		say "You already beat it.";
		stop the action.

Carry out escaperoomplaying:
	say "You sit down in front of the computer and look at the screen.";
	now player is in EscRoom.

EscRoom is a room. "This looks to be a very bare bones escape room. You see nine switches, a riddle, and a hint sheet. The switches are of all of the planets."
The printed name of EscRoom is "Baby's First Escape Room Game".
Instead of going nowhere when player is in TennisZone:
	say "you step back from the game, so you can finish it later.";
	now player is in SDRPStudy.

Riddle is readable thing in EscRoom. Riddle is scenery.
Instead of reading Riddle:
	say "To escape this prison, you must find the gods to bring peace and harmony. Choose wisely, for only three will reveal the path."

Hint sheet is readable thing in EscRoom. hint sheet is scenery.
Instead of reading hint:
	say "Hint: communication, love, and hospitality are your ingredients."
	
A gameswitch is a kind of device. A gameswitch is usually switched off.
The Mercury switch is a gameswitch in EscRoom. The mercury switch is scenery.
The Venus switch is a gameswitch in EscRoom. The venus switch is scenery.
The Earth switch is a gameswitch in EscRoom. The earth switch is scenery.
The Mars switch is a gameswitch in EscRoom. The mars switch is scenery.
The Jupiter switch is a gameswitch in EscRoom. The jupiter switch is scenery.
The Saturn switch is a gameswitch in EscRoom. The saturn switch is scenery.
The Uranus switch is a gameswitch in EscRoom. The uranus switch is scenery.
The Neptune switch is a gameswitch in EscRoom. The neptune switch is scenery.
The Pluto switch is a gameswitch in EscRoom. The pluto switch is scenery.

Instead of switching on a gameswitch:
    now the noun is switched on;
    say "You turn on [the noun].";
    check puzzle solution.

Instead of switching off a gameswitch:
	now the noun is switched off;
 	say "You turn off [the noun].";
 	check puzzle solution.

To check puzzle solution:
	if the mercury switch is switched on and the venus switch is switched on and the jupiter switch is switched on and the earth switch is switched off and the mars switch is switched off the saturn switch is switched off and the uranus switch is switched off and the neptune switch is switched off and the pluto switch is switched off:
		say "You hear a click, and you get a congratulations!";
		now gamebeat is true;
		now player is in SDRPStudy.
[uhh what now]
			
[end of game]
	
57N is northeast of SDRPInterior. "It's closed... you see someone mopping inside. Wonder what happened."
The printed name of 57N is "57 North".

SDRPInteriorUP is up from SDRPStairs. "The upper floor of the SDRP. To your south is the Ikenberry library and the north Caffinator. You can always go back down, too."
The printed name of SDRPInteriorUp is "Student Dining & Residential Programs Building Lobby upper floor".
	
Caffinator is north of SDRPInteriorUP. "The caffinator is one of the many UIUC dining locations, meaning it accepts dining dollars and Illini-Bucks. Other than that, it's like most other middling coffee places."
		
The Caffmenu is in Caffinator. "[bold type]Drinks[roman type][line break]Drip Coffee - $2.75[line break]Espresso -$2.25[line break]Chai Latte - $5.00[line break]Hot Tea - $2.70[line break]Hot Cocoa - $3.90."

The CaffinatorDrip is a drinkable, edible coffee-beverage ware in the Caffinator. The CaffinatorDrip is scenery. The price of the CaffinatorDrip is $2.75. The description is "A hot cup of drip coffee." 
Understand "coffee" and "drip coffee" as CaffinatorDrip. The printed name of CaffinatorDrip is "Drip Coffee".

The CaffinatorEspresso is a drinkable, edible coffee-beverage ware in the Caffinator. The CaffinatorEspresso is scenery. The price of the CaffinatorEspresso is $2.25. The description is "A strong brew for the soul. No complementary sparkling water." 
Understand "coffee" and "drip coffee" as CaffinatorEspresso. The printed name of CaffinatorEspresso is "Espresso".

The CaffinatorChai is a drinkable, edible noncoffee-beverage ware in the Caffinator. The CaffinatorChai is scenery. The price of the CaffinatorChai is $5.00. The description is "Warm milk on hot water and chai syrup. You know several people who would be very dissapointed if they learned you have this." 
Understand "chai" and "latte" and "chai latte" as CaffinatorChai. 
The printed name of CaffinatorChai is "Chai Latte".

The CaffinatorHotTea is a drinkable, edible noncoffee-beverage ware in the Caffinator.  The CaffinatorHotTea is scenery. The price of the CaffinatorHotTea is $2.70. The description is "A very hot, unsweetened cup of black tea from a teabag." Understand "tea" and "hot tea" as CaffinatorHotTea. The printed name of CaffinatorHotTea is "Hot Tea".

The CaffinatorCocoa is a drinkable, edible noncoffee-beverage ware in the Caffinator. The CaffinatorCocoa is scenery. The price of the CaffinatorCocoa is $3.90. The description is "Swiss Miss, Instant-." Understand "Hot Chocolate" and "Hot Cocoa" and "cocoa" as CaffinatorCocoa. The printed name of CaffinatorCocoa is "Hot Cocoa".

VOLUME 6 - WEST CAMPUS

BOOK 1 - REGIONS

WestCampusOutdoor is a region.

ChalmersNeighborhood is an OutdoorRegion in WestCampusOutdoor.

SixthAndChalmers and NorthNewmanCenter and Psychology Building and Speech Building and International Studies Building and YMCA and Episcopal Garden are in ChalmersNeighborhood.

ArmoryNeighborhood is an OutdoorRegion in WestCampusOutdoor.
Ice Arena and Newman Center and Various Buildings and SixthAndArmory and Armory Northeast, Armory North, Armory Northwest and Armory Southwest and Armory South and Armory Southeast are in ArmoryNeighborhood.

WestCampusIndoor is a region.

PsychMap is an IndoorRegion in WestCampusIndoor.
PsychBuildingInterior and Psychology Basement and Psychology Atrium and PsychologyInterior and Psychology Elevator are in PsychMap.

SpeechMap is an IndoorRegion in WestCampusIndoor.
SpeechHearingInterior and SpeechAndHearingInterior is in SpeechMap.
[?]

iSchoolMap is an IndoorRegion in WestCampusIndoor.
iSchoolLectureHall is in iSchoolMap.

InternationalMap is an IndoorRegion in WestCampusIndoor.
InternationalInterior is in InternationalMap.

ChampaignEspressoMap is an IndoorRegion in WestCampusIndoor.
ChampaignEspressoInterior and EspressoBasement are in ChampaignEspressoMap.

ISchoolInteriorMap is an IndoorRegion in WestCampusIndoor.
iSchoolInterior and iSchoolFirstFloor and iShcoolLectureHall and iSchool Lecture Hall and ischool Basement and iSchoolBathroom and iSchoolATtic and Locked 1032 and iSchoolBasement are in iSchoolInteriorMap.

BookstoreMap is an IndoorRegion in WestCampusIndoor.
BookstoreInterior, Union Second Floor, BookstoreBasement, Ruins of Starbucks, and Amazon@Illinois are in BookstoreMap.

NewmanMap is an IndoorRegion in WestCampusIndoor.
NewmanNorthInterior and NewmanInterior are in NewmanMap.

IceMap is an IndoorRegion in WestCampusIndoor.
IceRink and IceArenaInterior are in IceMap.

ArmoryMap is an IndoorRegion in WestCampusIndoor.
Armory track and Armory Rooms and Puzzling Room and ArmoryNEInterior and  ArmoryNInterior, ArmoryNWInterior, Armory Classrooms, ArmoryTrack, ArmoryTrackEntrance and VR Lab are in ArmoryMap.

HardingMap is an IndoorRegion in WestCampusOutdoor.
BandBuildingInterior is in HardingMap.

TheoMaze is an IndoorRegion in WestCampusIndoor.
EpiscopalInterior is in TheoMaze.


BOOK 2 - OUT of DOORS

PART 1 - ROOMS

Section 1 - Library and Armory Neighborhood

The YMCA is west of Lincoln Hall. "The YMCA is the source for hot, greasy Thai food. Yummy. Radical events occur here with frequency. You can go [bold type]enter YMCA[roman type] from here, or go [bold type]east[roman type] to Lincoln Hall, [bold type]south[roman type] to the Episcopal Chapel's smoker's garden, or [bold type]north[roman type] towards the University bookstore." 
The printed name of YMCA is "University YMCA".

Episcopal Garden is west of Gregory Hall and south of YMCA. "Courtesy of the Episcopal Chapel of St. John the Divine, this small bit of land is one of the only places on campus where smokers are welcome. You may breathe deeply or hold your breath as you prefer when you walk by. From here you can go [bold type]west[roman type] towards the Newman Center, [bold type]east[roman type] to Gregory Hall [bold type]north[roman type] to the YMCA or [bold type]south[roman type] to the Main Library."

Instead of breathing in Episcopal Garden:
	say "You take a deep breath and smoke fills your lungs. You cough loudly, and several nearby smokers give you some odd looks.";
Instead of holding breath in Episcopal Garden:
	say "You hold your breath to avoid breathing any of the smoke. Someone told you that second-hand smoke kills, and you aren't gonna risk it."

LibParkingLot is west of LibBusStop and south of Newman Center and east of Armory Northeast. "The parking lot is filled with cars of every shape and color and is packed to the gills. You imagine for a moment trying to find a spot here while being almost late for class and thank your lucky stars you're leisurely exploring and not trying to be anywhere on time. [bold type]North[roman type] of the lot is the Newman Center, while [bold type]south[roman type] is the intersection of Sixth and Gregory St, further [bold type]west[roman type] is the northeastern part of the Armory, and to the [bold type]east[roman type] is the Main Library Bookdrop."

The printed name of LibParkingLot is "Library Parking Lot"

LibBusStop is west of Bicycle Highway and south of Episcopal Garden and southwest of Gregory Hall. "[LibBusStopDescription]".
The printed name of LibBusStop is "Main Library North".

Newman Center is west of Episcopal Garden. "You are standing outside the St. John's Newman Center Complex, which is rumored to have some of the best food on campus, and you don't have to be Catholic to eat it. You can [bold type]enter[roman type] Newman or go any other way you like."

Various Buildings are north of Armory North and east of Ice Arena and west of SixthAndArmory. "You are wandering past a couple of non-descript buildings, on Armory street which runs [bold type]east[roman type]-[bold type]west[roman type] between the Ice Arena and the Newman Center. The Armory Building looms to the [bold type]south[roman type]."

SixthAndArmory is west of Newman Center and north of Armory Northeast. "You are standing on a busy intersection. You can go all the directions one can go in  an intersection."
The printed name of SixthAndArmory is "The Intersection at Sixth and Armory".

Armory Northeast is north of Armory Southeast and east of Armory North.
The description of Armory Northeast is "You are standing outside the northeast corner of the Armory. You can go around the massive building to the [bold type]west[roman type] or [bold type]south[roman type] or go[bold type] in [roman type]to the Armory itself. You can also go [bold type]east[roman type] or [bold type]north[roman type] from here."

Armory Southeast is a room. "You are standing outside the southeast corner of the Armory. Tucked beside the Armory is the Harding Band Building. You can [bold type]enter Harding[roman type] or the [bold type]Armory[roman type] from here. The Main Library parking lot is to the [bold type]east[roman type] and the sidewalk alongside the south end of the armory continues to the [bold type]west[roman type]."

Armory South is west of Armory Southeast. "You are walking outside along the south side of the Armory building. Who knew a building could be long? You can [bold type]enter [roman type] the Armory from here, or continue [bold type]east[roman type] or [bold type]west[roman type]. "

Armory Southwest is west of Armory South. "You care standing outside the southwest corner of the Armory. You can go[bold type] in [roman type]to the Armory from here, or go north or east around the building, or else explore the design corridor on the south part of campus."

Armory North is a room. "You can go[bold type] in [roman type]to the Armory from here, or continue alongside the Armory to the [bold type]east[roman type] and [bold type]west[roman type]." 

Armory Northwest is west of Armory North and north of Armory Southwest. "You can go[bold type] in [roman type]to the Armory from here, go [bold type]east[roman type] or [bold type]south[roman type] around the building, or cross the street to the [bold type]north [roman type]to get to the Ice Arena."

Ice Arena is north of Armory Northwest. "You are standing on Armory Street in front of the Ice Arena. Across the street a line of buses is parked in front of the Armory waiting to load students to take them wherever athletes go on those busses. You can go[bold type] in [roman type]to the Ice Arena from here or cross the street by going [bold type]south[roman type] to the Armory."

SixthAndChalmers is north of SixthAndArmory and west of NorthNewmanCenter. "You are standing at the intersection on Sixth and Chalmers. You can continue [bold type]south[roman type] on Sixth Street, or [bold type]north[roman type] towards the Speech and Hearing Building."
The printed name of SixthAndChalmers is "The Intersection at Sixth and Chalmers".

SouthWrightAndDaniel is north of YMCA and south of Illini Union Bookstore and west of English Building and east of Psychology Building. "You are standing at the intersection of Wright and Daniel. You can go [bold type]north[roman type] to the bookstore, [bold type]east[roman type] to the English Building, [bold type]west[roman type] to the psychology building and [bold type]south[roman type] to the YMCA."

The printed name of SouthWrightAndDaniel is "The intersection of Wright and Daniel Streets".

Psychology Building is south of DanielStreet2023 and west of SouthWrightAndDaniel. "You are standing on the south sidewalk of Daniels street. The huge gray cube of the Psychology Building looms above you. You can [bold type]enter[roman type] the building from here, or go any other direction you like." 

Speech Building is west of Psychology Building and north of SixthAndChalmers and southwest of DanielStreet2023. "You are standing in front of the sturdy, red brick structure that is the Speech and Hearing Sciences Building. The Psychology building is to the [bold type]east[roman type], and the School of Information Science is to the [bold type]west[roman type]."

Section 2 - Daniel Neighborhood 

Community United Church of Christ is north of Speech Building and east of Daniel Street Parking.  "There is small church on this corner. You can go [bold type]east[roman type] along Daniel Street towards the quad, [bold type]south[roman type] to Speech and Hearing, and go criss-cross across the street to Pyschology. Try not to get hit by a car when you're doing that."

International Studies Building is west of SixthAndChalmers and south of the iSchool and north of Various Buildings. "You are standing outside the International Studies Building which houses all the campuses Area Centers and the Study Abroad Program. You can [bold type]enter[roman type] from here, or go on [bold type]north[roman type] to the iSchool, or head [bold type]south[roman type] towards the Armory."

The OldiSchool is west of Speech Building and south of Daniel Street Parking. "[if unvisited]You are standing outside of the College of Information Science, commonly known as the iSchool. This half of the college, housed in the Library and Information Science building, has a grand style resembling an old manor house or college of wizards. The iSchool is a training ground for all sorts of characters come here to improve their craft. What skill will you master if you dare venture inside?[else]In front of the iSchool is a small grassy knoll with a large oak tree. A small pathway leads to a large ornate wooden door. [end if]You can go[bold type] in [roman type]the iSchool from here, go [bold type]north[roman type] to the Parking Garage, go [bold type]northwest[roman type] to Presby Hall, go [bold type]east[roman type] to Speech and Hearing, or go [bold type]south[roman type] to the International Studies Building."
The printed name of OldiSchool is "the School of Information Sciences". 

Illini Hillel is west of John Street Parking and north of Daniel Street Parking. "You are standing outside Illini Hillel, the heart of the Jewish community on campus. The McKinley Foundation is to the [bold type]west [roman type], and you are surrounded by parking garages in other directions."

McKinley Foundation is west of Illini Hillel. "You are standing outside the complex of buildings owned by the Presbyterian McKinley Foundation. Presby Hall is to the [bold type]south[roman type]. The Illini Hillel building is to the [bold type]east[roman type]."

Presby Hall is south of McKinley Foundation and northwest of ischool. "You are outside Presby residence hall. You can go [bold type]north[roman type] to the McKinley Foundation, go [bold type]east[roman type] to a parking space in Daniel Street, [bold type]southeast[roman type] to iSchool, [bold type]south[roman type] to Presby Parking, or [bold type]inside[roman type] the building."

Presby Parking is a room.
Presby Parking is south of Presby Hall and west of the iSchool. "You're walking past another big parking lot. Presby Hall is to the [bold type]north[roman type], and various student residences can be found the [bold type]south.[roman type]"

Fifth & Chalmers is a room.
Fifth & Chalmers is south of Presby Parking and north of Ice Arena and west of International Studies Building. "From here you can enter one of the many student residential housing buildings on the west side of campus, which stretch from here many blocks to the west. You guess that 40,000 or so students have to sleep somewhere. You can go [bold type]north [roman type] towards Presby Hall, or [bold type]south [roman type]towards the Ice Arena."

Section 3 - Daniel Street

DanielStreet2023 is west of Illini Union Bookstore and east of Community United Church of Christ.  "You are standing outside the building complex at 6th and Daniel street. There is a strange shimmering in the air which makes the building come in and out of focus. The catch a whiff of body spray and stale alcohol. You remember someone telling you that Kam's used to be located here, right in the center of campus. Could the smell really last that long? [if TimeTravelDevice is true]You can travel in time from here. Just change the year setting on your watch.[end if]The bookstore is to the [bold type]east[roman type], and the psychology building is across the street to the [bold type]south[roman type]." 
The printed name of DanielStreet2023 is "Daniel Street".

DanielStreet2020 is a room. "There is a big hole in the ground where the Daniel Street restaurants used to be. There was Silver Mine Sub's and the Espresso Royale and that old stinky Kam's, all just memory. Your vision is a little foggy and you feel disoriented. Your watch makes an insistent chirping sound."
The printed name of DanielStreet2020 is "Daniel Street".

DanielStreet2016 is a room. "You are standing on Daniel Street just outside the Espresso Royale which you can [bold type]enter[roman type] from here. Daniel Street offers you a variety of refreshments. Nearby lies Kam's, provides evening entertainment on central campus. You can [bold type]enter[roman type] KAMS and if that that does not entice you, you can enter Silver Mine Subs right next door. Delivery drivers hurry past you, and a few patrons peer at you through the glass storefront. Your vision is a little foggy and you feel disoriented. Your watch makes an insistent chirping sound."
The printed name of DanielStreet2016 is "Daniel Street".

Daniel Street Parking is southwest of John Street Parking and east of Presby Hall and south of Illini Hillel. "You are standing outside a parking garage. You can go [bold type]up[roman type] from here,  [bold type]south[roman type] to the iSchool, or [bold type]east[roman type] to the Community United Church of Christ or [bold type]west[roman type] to Presby Hall."



PART 2 - CURIOSITIES

BOOK 3 - INDOOR MAPS

PART 1 - BOOKSTORE

Creepily Quiet Guy is a person in BookstoreInterior. "Wandering between the shelves and racks is a random middle-aged man. His movements are strangely stiff, and his face is kinda blank. [Creepy Hints]You could probably approach him anyway."
The description of Random Guy is "Wearing a plain, dark blue polo, khaki pants, and white sneakers, this person seems relatively unthreatening."
Understand "Stranger" and "Guy" and "Man" and "Middle-Aged Man" as Creepily Quiet Guy.

Creepily Quiet Guy is wearing a polo shirt.
The description of a polo is "It's dark blue and mostly blank."
Understand "polo" as polo shirt.

Creepily Quiet Guy is wearing moccasins.
The description of moccasins is "Somewhat worn, but otherwise decent quality. Those shoes have been places."

To say Creepy Hints:
	if preserved pastry box is closed:
		say "He seems to be miming something: one flat palm facing upward, he looks as if he's pulling a lid open with the other hand. He's facing east.";
		stop the action;
	if TakenHelmet is false:
		say "His hands are placed protectively around the top of his head, sorta mimicking a helmet. He faces east.";
		stop the action;
	if giant pile of unchecked packages is stable:
		say "He looks rather nervous now, fixated on something towering above him to the west. He trembles and holds his hands up as though to protect himself from falling debris.";
		stop the action;
	else:
		say "He's breathing pretty heavily, but nothing looks wrong.'"

Little Old Lady is a person in BookstoreInterior.
The description of Little Old Lady is "There's a short, older woman rummaging through some of the available merchandise. She looks pretty focused."
Understand "woman" and "girl" and "old lady" and "lady" and "granny" and "grandma" as Little Old Lady.
Little Old Lady is scenery.

some ants are scenery animals.
some ants are in the Ruins of Starbucks.
The description of some ants is "A long line of ants trek from one side of the old stand to the other, carrying various crumbs and other bits."
Understand "bugs" and "ant" as ants.
The printed name of some arts is "Caffeinated ants."

Instead of talking to Creepily Quiet Guy:
	say "The tall, plain man is almost like a statue. He doesn't say anything back to you, and it barely looks like he's even breathing. Maybe ask him about something specific?"

Instead of talking to little old lady:
	say "She's much too focused on finding something to listen to you. Better leave her alone for now."


Instead of interrogating Creepily Quiet Guy about an item listed in the Table of Creepy Responses:
	   say "[reply entry][paragraph break]".

Table of Creepy Responses
Item	reply
helmet	"He grits his teeth, then points to his head as he brings the back of his other hand to his brow. He flexes and spreads his fingers, as though he's telling you that something should be flaring outward from his head. It almost looks like a gesture for some kind of light."
toolbox	"The plain guy simply shrugs. He doesn't have a clue what that was there for, either."
giant pile of unchecked packages	"He recoils as if he was afraid of them. Odd."
slice of coffee cake	"He rubs his belly with a satisfied smile."
Creepily Quiet Guy	"He goes cross-eyed for a second, then shakes his head and returns to his normal robotic self."

Instead of interrogating Creepily Quiet Guy about something:
	say "No real response. Oh, well."

Instead of asking Creepily Quiet Guy about something:
	say "No real response. Oh, well."

Instead of examining Creepily Quiet Guy:
	say "He is wearing [a list of things worn by Creepily Quiet Guy]."

Instead of asking Little Old Lady about something:
	say "Looks like she doesn't really have time for questions."

Instead of asking some ants about something:
	say "They probably couldn't tell you anything useful."

Instead of giving a slice of coffee cake to Creepily Quiet Guy:
	say "The man shakes his head and waves you off, apparently uninterested. He instead points to you and nods with a creepy smile. You suppose it was meant for you, then.";
	stop the action.

Instead of giving something to Creepily Quiet Guy:
		say "The man doesn't move as you offer the item. Insisting he have it, you simply place the gift at his feet. Suddenly, a loud clap behind you draws your attention, and you turn around to investigate. When you turn back, not having seen the source of the sound, you realize the item has vanished.";
		now Creepily Quiet Guy has the noun;
		stop the action.

Instead of giving something to Little Old Lady:
		say "She shakes her head and goes back to her search.";
		now Creepily Quiet Guy has the noun;
		stop the action.

Instead of giving something to some ants:
		say "You don't think they'd be too appreciative of anything you could hand over.";
		now Creepily Quiet Guy has the noun;
		stop the action.

Instead of attacking some ants:
	say "You raise your foot, ready to squish some ants, but you realize you'd rather not get your shoes dirty. This is probably someone else's job anyway.";
	stop the action.

Instead of attacking Creepily Quiet Guy:
	say "What did he ever do to you?";
	stop the action;

Instead of attacking Little Old Lady:
	say "The little old lady briefly glances toward you. You couldn't possibly hurt an old-timer.";
	stop the action;


Every turn when player is in Ruins of Starbucks:
	if a random chance of 1 in 10 succeeds:
		say "You imagine holding a cup of cold brew in your hands and die a little inside.";

Every turn when player is in BookstoreBasement:
	if a random chance of 1 in 20 succeeds:
		say "A brief, sharp shriek nearly bursts your eardrums. That couldn't have been from a person.";


Doberman is a scenery animal.
Doberman is in BookstoreBasement.
The description of Doberman is "The dog is shaking, probably because it's either cold or hungry down in this dark place. Its eyes seem to glow with a disturbing, unnatural crimson color. You figure it probably would have moved by now if it wanted to: it doesn't look hurt or scared. Maybe you could give it something to draw it out."
Understand "dog" and "doge" and "doggo" and "puppy" and "mutt" as Doberman.

Instead of giving construction helmet to Doberman:
	say "As cute as it might look on him, you probably shouldn't give the dog your only source of light.";
	stop the action.

Instead of giving old sandwich to Doberman:
	say "The dog walks up and curiously sniffs the sandwich in your hand. It looks up to you with its blood red eyes as if to ask permission, then back down to scan the sandwich some more. You nod and urge him to eat by bringing it closer to his face. The dog suddenly swipes it up with his tongue and noms it all in one bite.
Suddenly, you're blown back by an inexplicable gust of chilling wind. Your helmet light is knocked out upon landing, and while you struggle to turn it back on, you can hear the dog whimper and howl in seemingly unbearable pain. As you manage to flick the light back on, though, you find that the mangy Doberman has disappeared, leaving behind a terrifying amount of shed fur where it once was in the corner. Though the cramped patch is surrounded on all sides by trashed shelves, you look around to see if he might have fled somewhere. [paragraph break]You turn back toward the stairs. To your horror, you're greeted by a rhino-sized, wolf-like behemoth of a beast that looks especially hungry as it snarls at you with enormous fangs. Before you have time to react, though, it lunges at you with its gaping maw the split second before your flashlight gives out.";
	now NoGoodDeed is completed;
	now CurrentEnding is NoGoodDeed;
	now Doberman is nowhere;
	End the Journey;
	stop the action.

Instead of giving slice of coffee cake to Doberman:
	say "The dog walks up and curiously sniffs the coffee cake in your hand. It looks up to you with its blood red eyes as if to ask permission, then back down to scan the slice some more. You nod and urge him to eat by bringing it closer to his face. The dog suddenly swipes it up with his tongue and noms it all in one bite. [paragraph break]Suddenly, you're blown back by an inexplicable gust of hot steam. Your helmet light is knocked out upon landing, and while you struggle to turn it back on, you can hear the dog whimper and howl in seemingly unbearable pain. As you manage to flick the light back on, though, you find that the mangy Doberman has disappeared, leaving behind a terrifying amount of shed fur where it once was in the corner. Though the cramped path is surrounded on all sides by trashed shelves, you look around to see if he might have fled somewhere. [paragraph break]You turn back toward the stairs. To your horror, you're greeted by a rhino-sized, wolf-like behemoth of a beast that looks especially hungry as it snarls at you with enormous fangs. Before you have time to react, though, it lunges at you with its gaping maw the split second before your flashlight gives out.";
	now NoGoodDeed is completed;
	now Currentending is NoGoodDeed;
	now Doberman is nowhere;
	End the Journey;
	stop the action.

Instead of giving sparkling crystal to Doberman:
	say "The dog walks up and curiously sniffs the sparkling crystal in your hand. It looks up to you with its blood red eyes as if to ask permission, then back down to scan the slice some more. You nod and urge him to take it by bringing it closer to his face. The dog suddenly bites down on it. [paragraph break]
Suddenly, you're blown back by an inexplicable whirlwind of sparkling dust. Your helmet light is knocked out upon landing, and while you struggle to turn it back on, you can hear the dog bark and howl. As you manage to flick the light back on, though, you find that the mangy Doberman has disappeared, leaving behind a blue rubber ball where it once was in the corner. Though the cramped path is surrounded on all sides by trashed shelves, you look around to see if he might have fled somewhere.
 [paragraph break]You turn back toward the stairs. To your surprise, the Doberman is standing at the foot of the steps with his tongue hanging from his mouth, his tail happily wagging behind him. You follow his lead back up to the main floor and watch as he scampers out the front doors. [paragraph break]That's enough weirdness for one day.";
	increase score by 50.



PART 2 - YMCA

YMCABuilding is a RoomProxy in YMCA.
The description of YMCABuilding is "This is the Y - Your Main Cooling Area."
The printed name of YMCABuilding is "The YMCA".
Understand "YMCA" and "the Y" as YMCABuilding.

YMCAInterior is an Interior Location. "You are standing inside the university YMCA. You hear party noises rising up from the basement. You can go [bold type]down[roman type] to see what's going on, or you can [bold type]exit[roman type] back to the street."
The printed name of YMCAInterior is "YMCA Entrance".
YMCA is outside from YMCAInterior.

YMCABasement is down from YMCAInterior. "[if BadTrip is true]The ghosts have pushed all the furniture to one corner of the room and are on the floor having a rap session. That gives you some idea of the era in which they were last on campus.[else]This room is empty. It must have been a party for ghosts. You notice mounds of fabric scattered around the room upon all the surfaces, including the floors."
The printed name of YMCABasement is "Basement of the Y".

Some Ghosts are a person. Some Ghosts are in the YMCABasement.
Understand "spirit" and "spirits" and "phantom" and "phantoms" as Ghosts.
The Ghosts are scenery.
The description of the Ghosts is "[if BadTrip is false]The ghosts are more of a sensation than a presence.  Sometimes you wonder if ghosts are real and you are a ghost to them.[else]The ghosts are friendly or frightening depending on which side of their faces you are looking at. Some have more than two faces, and the longer you look the more frightening they are, so you decide to stop looking."

Does the player mean examining some ghosts when player is in ymcaBasement:
	it is very likely.
	
Does the player mean talking to some ghosts when player is in ymcaBasement:
	it is very likely.

Fabric is scenery in YMCABasement.

The description of Fabric is "A heavy brown sheet. 500 thread-count Egyptian cotton.  The fabric is covering catering trays."

Catering Trays are a scenery supporter in YMCABasement.

The description of the Catering Trays is "The catering trays are all empty except for one that that holds a single glass full of a strange blue liquid."

Every turn when BadTrip is true and HasPuked is false:
	say "[one of]Tomorrow, you think. The answer is tomorrow. Or is it yesterday?[or]You can't think straight and your vision is changing, becoming warped at the edges.[or]Your eyes are showing you things that aren't there.[or]Your stomach is not doing well under the circumstances.[or]You'd better head over to Gregory Hall bathroom because you don't want to have to throw up in public.[or]Your head is swimming. You're definitely in danger of public humiliation.[or]You're about to become reacquainted with breakfast.[or]What was in that drink anyway?[or]The world is getting darker. Looks like it could be the Zombie Apocalypse![or]Oh-oh, you're not going to make it.[or]Too late![stopping]".


At the time when Your Stomach Empties:
	if HasPuked is false:
		try puking.

StrangeBlueLiquid is a drinkable thing on the Catering Trays.
StrangeBlueLiquid is undescribed.
Understand "liquid" and "glass" and "glasses" and "glass full" and "glass of strange liquid" and "glass of blue liquid" and "glass of strange blue liquid"  and "glass of blue liquid" and "blue liquid" as StrangeBlueLiquid.
The printed name of StrangeBlueLiquid is "a glass of strange blue liquid".

EmptyGlasses are scenery in YMCABasement.
The description of EmptyGlasses is "A faint blue stain at the bottom of each glass tells you what they were drinking."
Understand "empty glass" as EmptyGlasses.

The description of StrangeBlueLiquid is "The blue liquid bubbles and pops, its fizz a soft hiss.  It looks good, but it smells horrible. I'm afraid you're going to have to chug it."

Instead of drinking StrangeBlueLiquid:
	say "No, seriously, you're going to have to chug this stuff.";
	stop the action.

Instead of eating StrangeBlueLiquid:
	try drinking StrangeBlueLiquid.


BadTrip is a truth state variable.
PFLTurnedOn is a truth state variable.

Instead of chugging StrangeBlueLiquid:
	say "That didn't go down very smoothly. You feel disoriented as you stagger around the room. You're going to have to let this wear off.  What if it never wears off?[paragraph break]The ghosts gather around you, murmuring sympathetically or gleefully as suits their memories. One of them, who used to be a poet says, 'You're going to have to figure out a new direction. Setting settling night, that age of sudden, age of yet, now of memory and forget.  What is always coming but never arrives?'";
	now player is carrying StrangeBlueLiquid;
	now BadTrip is true;
	Your Stomach Empties in 10 turns from now;
	now Sad-Eyed Beagle of the Lowlands is in GregoryHallInterior;
	now professional Chainsaw is in HoleInTheGround;
	stop the action.

Instead of going up from YMCABasement when BadTrip is true:
	say "As you climb the stairs your head is spinning, and you feel like you are going to vomit. Your favorite bathroom stall is in Gregory Hall basement. You always do your puking there.";
	continue the action.


Instead of attacking Ghosts:
	say "You can't attack ghosts, they're not in the same realm as you.";
	stop the action;

PART 3 - GREGORY HALL

GregoryHallInterior is an interior location. "[if unvisited]Gregory Hall is a venerable academic space housing the College of Media, as well as the History and Philosophy Departments. [end if]You are standing in the middle of a busy corridor, lined with offices and classrooms. You can go [bold type]east[roman type] to check out some classrooms, [bold type]exit[roman type] the building or go [bold type]down[roman type] to the restroom in the basement. [if BadTrip is true][paragraph break]The Sad-eyed Beagle of the Lowlands is sitting in a corner. You've read about them, you think, but you've never actually seen one before."

The printed name of GregoryHallInterior is "Gregory Hall First Floor Corridor".
 GregoryHallInterior is inside from Gregory Hall.


OutsideGregory100 is east of GregoryHallInterior. "You can go[bold type] in [roman type]to Gregory 100, or [bold type]west[roman type] down the hall."

The printed name of OutsideGregory100 is "Outside Gregory 100".

Gregory 100 is inside from OutsideGregory100. "Gregory 100 is a large lecture hall that looks to comfortably seat several hundred people."

EntranceGreg213 is up from OutsideGregory100. "You are standing at the entrance to Gregory 213, a lecture hall not quite as large as Gregory 100, but still substantial. You can go[bold type] in [roman type]to the classroom, [bold type]down[roman type] to the first floor corridor or [bold type]west[roman type] down the hall to Gregory 223."
The printed name of EntranceGreg213 is "Entrance to Gregory 213".


Gregory 213 is inside from EntranceGreg213. "This classroom is empty at the moment. You can only go [bold type]out[roman type] from here."

EntranceGreg223 is west of EntranceGreg213. "You are standing at the entrance to Gregory 223. You peek in, but the room is dark and there's no one there at the moment. You can go [bold type]in [roman type] to the classroom or go [bold type]east[roman type] back towards Gregory 213, or [bold type]down[roman type] to the first floor corridor."
The printed name of EntranceGreg223 is "Entrance to Gregory 223".

Gregory 223 is inside from EntranceGreg223. "This classroom is empty at the moment. You can only go [bold type]out[roman type] from here."

GregoryHallInterior is down from EntranceGreg223.



GregoryHall is a RoomProxy in Gregory Hall.
The description of GregoryHall is "Gregory Hall houses the History and Philosophy departments, as well as the College of Media. It's not located on the Quad per se, but is just south of Lincoln Hall."
Understand "Gregory Hall" and "Gregory" as GregoryHall.
The printed name of GregoryHall is "Gregory Hall"

[
Gregory Hall Garbage Can is a container in Gregory Hall. Gregory Hall Garbage Can is scenery.
]


The Sad-Eyed Beagle of the Lowlands is a photogenic scavengerhuntable scenery animal in GregoryHallInterior.
Understand "dog" and "puppy" as Sad-Eyed Beagle of the Lowlands.
The description of the Sad-Eyed Beagle of the Lowlands is "[if unexamined]You can see how the Sad-Eyed Beagle of the Lowlands got its name.  Still, despite its long ears and droopy eyes there's a subtle joviality about it.[else]You don't see the beagle anywhere. Oh, no, there it is, digging through the garbage can. Nope, now it's gone again. Sad-Eyed Beagles of the Lowlands are strangely unpredictable."

GregoryHallBasement is down from GregoryHallInterior.
The printed name of GregoryHallBasement is "Gregory Hall Basement".
The description of GregoryHallBasement is "The bathroom is to the [bold type]west[roman type]. There is stairway going [bold type]up[roman type]."

GregoryHallInterior is up from GregoryHallBasement.

GregoryHallBathroom is west of GregoryHallBasement. "You are in your favorite stall in your favorite campus bathroom. The exit is to the [bold type]east[roman type].[if haspuked is true] The Sad-Eyed Beagle of the Lowlands points out a hole in the floor you never noticed before. You wish he hadn't followed you into here, but the hole is interesting. You might be able to fit through it."
GregoryHallBathroom is inside from GregoryHallBasement.
The printed name of GregoryHallBathroom is "Your Favorite Bathroom Stall".

Before going west from GregoryHallBasement:
    now ubiquitousstudents is nowhere;
    continue the action. 
    
Before going inside from GregoryHallBasement:
    now ubiquitousstudents is nowhere;
    continue the action. 
    
After going east from GregoryHallBathroom:
    now ubiquitousstudents is everywhere;
    continue the action.

After going outside from GregoryHallBathroom:
    now ubiquitousstudents is everywhere;
    continue the action.

StickyFloor is scenery in GregoryHallBathroom.
The printed name of StickyFloor  is "sticky floor".
The description of StickyFloor is "The less you examine this, the happier you will be."

Puking is an action applying to nothing.
Understand "puke" and "vomit" and "spew" and "throw up" as puking.
Carry out puking:
	say "gblaaaargggggggguuughhhhhhh-uh-ugh. laaaargggggggguuughhh. rggggggggu.";
	stop the action.

BadTripTunnel is a room that varies.

After puking when BadTrip is true and HasPuked is false:
	now HasPuked is true;
	now BadTripTunnel is the location of the player;
	now Foul Tunnel is mapped southeast of HoleInTheGround;
	now HoleInTheGround is mapped northwest of Foul Tunnel;
	say "[line break]As you were puking, you noticed something strange. There's a hole in the ground here there never was before. Doesn't smell too good down there, but it's got to smell better than it does up here.";
	now player is in Language Tunnel;
	now puke is in the location.

a pile of puke is an edible thing.
Understand "vomit" as puke.
The description of puke is "The ex-contents of your stomach is chunky, viscous, multi-colored slop.  Remnants of spaghetti can perhaps be seen. It will probably taste better when it's fresh!"

HasPuked is a truth state variable.

Instead of taking Puke:
	say "You pick up the puke, think briefly about eating it, but put the puke in your pocket instead. You might get hungry later, after all.";
	now player has puke;

Instead of eating the Puke:
	say "You put the gelatinous slop in your mouth.  It tastes pretty good, so you eat it all except the tiny bits that fall down the front of your shirt.";
	now the Puke is nowhere.




Language Tunnel is a room. The printed name of Language Tunnel is "Beneath Gregory Hall".
The description of Language Tunnel is "[if unvisited]You fall down the length of several flights of stairs to the hard ground below. Strangely enough you are unhurt.[paragraph break][end if]You can feel warm air gently blowing from the [bold type]east[roman type]. It makes the candles that light this tunnel flicker and dim. [if strange wall is in the location]The tunnel would continue to the [bold type]north[roman type] except that it is obstructed by a wall of some kind. It almost looks like it's made of bones. The hole you fell through is no longer visible.[else]You can go [bold type]east[roman type] or [bold type]north[roman type] back to the Zombie's Lair."

Candles are scenery in language tunnel.
The description of Candles is "You can't take them, so don't bother trying."

[
Instead of going west from FLB Basement when BadTrip is false:
	say "It looks like there used to be a tunnel that way, but it seems to have been closed off turning a remodel of the building. Nowhere to go but [bold type]up[roman type]!";
	stop the action.

Instead of going down from FLB Basement when BadTrip is false:
	say "The floor creaks a bit when you walk over it, which is funny because it's covered in floor tile. But there's nowhere to go from here but [bold type]up[roman type]."
]

strange wall is scenery in language tunnel.
The description of strange wall is "Closer inspection reveals that the wall is made of the bones of graduate students. You can tell because of their non-trendy clothing style. Some seem to be fresh, with decaying meat attached. They are blocking the path to the [bold type]north[roman type], which isn't necessarily a bad thing. They seem fragile and could probably be smashed."

Understand "wall of bones" and "bones" and "wall" as strange wall.

Instead of attacking strange wall:
	say "You'll need an appropriate tool."

Pulverized is a truth state variable.

Instead of weaponattacking strange wall:
	if second noun is sledgehammer:
		say "You go after the bones with a vengeance. Now that they've been properly pulverized, a path opens to the [bold type]north[roman type].";
		now Pulverized is true;
		now strange wall is nowhere;
		stop the action;
	else:
		say "That's not an appropriate tool for the job."

Zombie's Lair is north of language tunnel. "You are in the Zombie's home space. It defies all description."


Instead of going up from language tunnel:
	if pulverized is false:
		say "You climb up the wall of bones and emerge in a toilet stall in the basement of Gregory Hall.";
		continue the action;
	else:
		say "Good job pulverizing those bones, but you can no longer escape to Gregory Hall. Your only paths are now [bold type]north[roman type] and [bold type]east[roman type].";
		stop the action.

Instead of going north from language tunnel:
	if pulverized is false:
		say "That way is blocked by a wall of bones.";
		stop the action;
	else:
		continue the action.

Instead of taking strange wall:
	say "I mean, you could try to pick it apart bone by bone. They certainly won't move themselves. But something more violent is probably called for.";
	stop the action.


FLBBasement is down from FLBInterior. "[if BadTrip is true]You are standing at the bottom of a staircase, with a hole in the ground beside you. Do you want to return to the living or take your chances with the Zombies? Up or down?[else]You are in the basement of the Foreign Language Building. Just computer labs and classrooms down here. Nowhere to go but [bold type]up[roman type]."
The printed name of FLBBasement is "Basement of the Foreign Language Building".

Before going up from HoleInTheGround:
	now pile of puke is in Foul Tunnel;
	now professional Chainsaw is in Foul Tunnel;
	now sledgehammer is in Foul Tunnel;
	now StrangeBlueLiquid is in foul tunnel.
	
HoleInTheGround is down from FLBBasement. "[if BadTrip is false]In a shadowy corner you found a couple of steps going down. You're at the bottom of those steps, with nowhere to go but back [bold type]up[roman type]. There's nothing to see here. It leads nowhere. At least not when you're in your right mind.[else]The steps are shifting under your feet like wavy gravy. You can surf them [bold type]up[roman type] to the FLB Basement, or flow [bold type]southeast[roman type] towards a foul-smelling tunnel."

The printed name of HoleInTheGround is "Shadowy Steps".

Foul Tunnel is east of Language Tunnel. "This tunnel has a stench of decay. You see what looks like spatters of blood littered all over the floor to the [bold type]west[roman type] and a less foul-smelling tunnel goes to the [bold type]northeast[roman type]. There are steps to the [bold type]northwest[roman type] that will take you back to the FLB basement."

Long Tunnel is northeast of Foul Tunnel. "The tunnel is strangely empty.  You notice outlines of where shelves, pots, swords, and other things use to lay. Something looted this place, leaving nothing behind. [bold type]Southwest[roman type] leads back to the basement while [bold type]northeast[roman type] goes further underground."

a sledgehammer is in Artifact Tunnel. "A sledge hammer is leaning against the tunnel wall.  It must have been left by whoever built the tunnel."

The description of sledgehammer is "It's very heavy. Could do some serious damage to something."
Understand "hammer" and "sledge hammer" as sledgehammer.


Artifact Tunnel is northeast of Long Tunnel. "Along the walls of the tunnel are shelves and shelves of artifacts from around the world.  There is a ledge with a magnificent machine atop it.  The entire tunnel is well lit from above by LED lights and travels northeast so great a distance that you cannot see its end. You think you might sit in this tunnel and perform historical reenactments with the artifacts until you die. If you change your mind you can go [bold type]northeast[roman type]to Spurlock or [bold type]southwest[roman type] to climb up to the Foreign Language Building."

UnderSpurlockMuseum is northeast of Artifact Tunnel. "You are at the dead end of the tunnel. An elevator leads upwards to untold mysteries. It looks very old, and probably dangerous. You can risk this death trap and go [bold type]up[roman type] or retreat back the way you came to the [bold type]southwest[roman type]."

The printed name of UnderSpurlockMuseum is "Spurlock Basement".

SpurlockElevator is up from UnderSpurlockMuseum. "The elevator is stalled halfway between floors. You can see a sign that says, 'Rare Book Exhibit' and you should be able to climb out of the elevator to the [bold type]east[roman type] to have a look. The elevator has no working buttons except for the one that will take you back [bold type]down[roman type]."
The printed name of SpurlockElevator is "Spurlock Elevator".

Ancient Books Exhibit is east of SpurlockElevator.  "In the Ancient Books Exhibit, a fragile wooden box is displayed upon a high table. Upon every wall room there are shelves holding thousands of ancient looking books.  Some are bound in skins, some in wood or stone. One book in particular stands out to you. You hear a voice in your head speak words that you almost understand: Nora zoaz? Liburua hemen dago. Zure liburua."
A high table is a scenery supporter in the Ancient Books Exhibit. "A fragile wooden box is displayed upon a high table."

high ledge is a scenery supporter in Artifact Tunnel.  "Positioned beautifully on the ledge is a genuine Plastic Fantastic Lover. You've heard about these, but never seen one."
Understand "shelf" and "shelves" and "artifacts" as  high ledge.

Instead of examining Table:
	say "There's nothing interesting about the table except that it displays the wooden box."

SpurlockWoodenBox is a closed, openable container on top of the high table.
SpurlockWoodenBox is scenery.
The printed name of SpurlockWoodenBox  is "a wooden box".
Understand "wooden box" and "box" as SpurlockWoodenBox.

The description of SpurlockWoodenBox is "Although the box has become fragile after thousands of years, the luster of its wood has lost none of its brilliance.  There are impossibly intricate carvings on its surface."


SpurlockMagicAmulet is a thing in SpurlockWoodenBox.

The description of SpurlockMagicAmulet is "The amulet looks heavy and jagged like its surface is shards of broken glass. Writing appears on the amulet on one side, which is smooth shiny, perhaps from being rubbed many times over the millennia. You recognize each word although you do not know what they mean."

understand "strange amulet" and "amulet" and "magic amulet" as SpurlockMagicAmulet.

the printed name of SpurlockMagicAmulet is "strange amulet".

Instead of opening SpurlockWoodenBox:
	say "Your hands glow with blue light as you open the box. A strange amulet is resting inside. Carefully, you remove the amulet from the box.";
	now player has SpurlockMagicAmulet.

AmuletRubbed is a truth state variable.

Instead of rubbing the SpurlockMagicAmulet:
	if AmuletRubbed is false:
		say "You rub the amulet as you repeat the inscribed words: Dena Zara. A book glows upon the shelf so brightly that you can read its title: An Infinity Within.";
		now AmuletRubbed is true;
	else:
		say "Nothing happens."


Exhibit Shelf is a scenery supporter in the Ancient Books Exhibit.
Understand "Shelves" as shelf.
The description of exhibit shelf is "The shelves line the room from floor to ceiling."

An Infinity Within is an undescribed, thing on Exhibit Shelf.
Understand "book" and "books" as An Infinity Within.
An infinity within is readable.

Instead of examining an Infinity Within:
	if AmuletRubbed is false:
		say "There are too many books. You can't possibly examine them all. You feel completely overwhelmed.";
		stop the action;
	if an Infinity Within is unexamined:
		say "The cover appears to be made of some kind of stone, but none that you recognize.  Upon the stone is carved the title - An Infinity Within.  When you look at it everything else seems to be absorbed into it.";
		now an Infinity Within is examined;
	else:
		say "On the cover of the book it is written: 'All magic is invocation. All magic is intonation.'"

Transcending is an action applying to one visible thing.
  Understand "Read An Infinity Within" and "read Infinity within" as transcending.

Carry out transcending: say "Now there is no-thing, but One-thing."

Instead of opening An Infinity Within:
	if OpeningInfinity is Incompleted:
		say "You repeat the words inscribed on the amulet - Dena zara.  You are everything, everything is you.[paragraph break]The three lights universally illumine, permeating the three forces. In all this world of Jambudvipa you may not come upon it. Only those with great virtue and great goodness will attain it. Those lacking virtue and goodness just won't understand it. A thousand petaled red lotus supports one's body. As one sits firmly mounted on a black unicorn. Seeing this, the hordes of monsters go far away to hide. Dharma Master Ji, the Venerable, mastered these wonderful sounds. Unendingly miraculous and mysterious, it's extremely hard to fathom. This vajra secret language wells forth from your own nature. Inside the Shurangama Mantra is marvelous magic and the Way opens up.";
		now OpeningInfinity is Completed;
		now CurrentEnding is OpeningInfinity;
		End the Journey;
		stop the action;
	else:
		say "The book is now blank. The words are inside you.";
		stop the action.

Instead of going nowhere:
	if player is in the SpurlockElevator:
		say "The elevator looks pretty beaten up, but it looks like it still works. You might want to push the button again.";
		stop the action;
	if player is in Tunnel to Spurlock:
		say "You can only go back [bold type]up[roman type] to G32 in the basement of FLB or [bold type]northeast[roman type] to the Spurlock Museum.";
		stop the action;
	else:
		continue the action.

The Prophet is a person in the Ancient Books Exhibit.
Understand "Oracle" as the Prophet.


Instead of talking to Zombie:
	say "The zombie doesn't seem to understand what you're saying, and it's still mad about the sawing incident.  Maybe you could try giving it something."
Instead of talking to Ghosts:
	say "The ghosts are obviously drunk on that Strange Liquid and can't respond with any clarity."
Instead of talking to Martin Shkreli:
	say "There's nothing to talk to this guy about.  Try attacking him with the chainsaw."
Instead of talking to The Prophet:
	say "The Prophet does not talk, it speaks; it answers."
Instead of talking to The Plastic Fantastic Lover:
	say "The Plastic Fantastic Lover does not communicate through words.  Try turning it on."
The description of the Prophet is "The Prophet is in the Ancient Books Exhibit.  Some say the Prophet is a sham, others say an oracle.  You could try ASKING it about something, TALKING to it, ATTACKING it, or GIVING it something."

Instead of giving something to the Prophet:
	if the noun is hammer:
		say "The Prophet says There is no reason for violence here, destruction nor construction. Perhaps there's something else you have?";
		stop the action;
	if the noun is An Infinity Within:
		say "The Prophet says, 'Have you read its words? Perhaps you should give this to someone who knows its language.'";
		stop the action;
	if the noun is Chainsaw:
		say "The Prophet says There is no reason for violence here, nor destruction or construction. Perhaps there's something else you have for me?";
		stop the action;
	if the noun is Puke:
		say "The Prophet holds the vomit in its hands, smells it, tastes it, and places it in the empty jar.";
		now puke is in Empty Jar;
		stop the action;
	else:
		say "The Prophet puts your gift in its pocket.";
		now The Prophet has the noun;
		stop the action.

Instead of giving something to Zombie:
	if the noun is sledgehammer:
		say "The zombie already has a hammer.";
		stop the action;
	if the noun is Puke:
		say "The zombie pukes in his hands and holds it out to you. You think maybe it wants to trade, so you exchange puke."; 
		stop the action;
	if the noun is Chainsaw:
		say "The zombie thinks you are going to saw it.  Put that thing away!";
		stop the action;
	else:
		say "The zombie eats your gift.";
		now Zombie has the noun;
		stop the action.


Instead of asking Zombie about "Prophet":
	say "The zombie croaks and a foul bile oozes from its mouth.  'The One,' it says, 'that will save us all."
Instead of asking Zombie about "itself":
	say "The zombie looks puzzled at first, but thoughtfully and elegantly pulls a small mirror from a large flesh wound and examines its own face."

Instead of asking Martin Shkreli about something:
	say "You could do that, but you could also cut him in half with a chainsaw."

Instead of interrogating Prophet about puke:
	say "The Prophet says, 'Some things are best kept in your pocket.'"
Instead of interrogating Prophet about SpurlockMagicAmulet:
	say "The amulet is older than I.  Some say it was made in with the universe.  I say, duh, everything was made with the universe!"
Instead of asking Prophet about "Zombies":
	say "The Prophet says, 'Zombies are the undead, which does not make them evil.'"
Instead of asking Prophet about "An Infinity Within":
	say "The Prophet says, 'What is written and what is said are two different things. One is becoming while the other is absence.'"
Instead of asking Prophet about "Plastic Fantastic Lover":
	say "The Prophet says, 'Such a fun machine, is it not?'"
Instead of asking Prophet about "Strange Liquid":
	say "The Prophet says, 'I drink it myself, on occasion.'"
Instead of asking Prophet about "Liquid":
	say "The Prophet says, 'I drink it myself, on occasion.'"
Instead of asking Prophet about "Fountain Pen":
	say "The Prophet says, 'This pen was carved from the same piece of wood from which came both the scroll and the key."
Instead of asking Prophet about "Empty Jar":
	say "The Prophet says, 'I'm not sure why I carry this around, but perhaps someday I'll put something in it.'"
Instead of asking Prophet about "a story":
	say "With long eyes the aged men, seated in tendon-bound stays, looked through a transparent mirror upon the congregation dancing through their own blood as the crowd lapped at the red coagulating droplets from their crowns of ground beef sirloin, the fat ringed cuffs of their flesh pants dragging on the crushed charcoal floor.  With winks and wild gesticulations, their pork fat hands pointing grease glistening fingers, the viscous words were passed among the meat parade.  Some skeletal frames weighed down by pork fat and diaphragm necklaces, tiered multiple chins of dangling tissue kissing their lamb leg chests and stuffed haggis stomachs, stumbled through the intoxicated crowd of heavies in concealed mockery, their skin a tingling membrane of veins and sinew, their strained joints creaking under slick salty sheaths of meat. There was a murmur humming in the gallery.  Straws were drawn, bids were placed, orange cat teeth and unbleached poultry bones were thrown from the bowl of a bovine hip socket."
Instead of asking Prophet about "information":
	say "The Prophet says, 'Is there something more specific you would like to know?'  The Prophet is calling, so to speak, to answer you."

Instead of interrogating the The Prophet about the Ghosts:
	say "Perhaps it was you as a multitude in the mirrors of the YMCA."
Instead of interrogating the The Prophet about The Prophet:
	say "The Prophet sighs, bewildered, for no one has ever asked about the Prophet before."
Instead of interrogating the prophet about something:
	say "The Prophet is thinking deeply, or perhaps he's fallen asleep."

Instead of throwing [something] at [something]:
	if second noun is Zombie:
		say "The zombie catches the [noun] and eats it.";
		stop the action;
	if second noun is The Prophet:
		say "The Prophet waves its hand before the [noun] and it disappears.";
		remove the noun from play;
		stop the action;
	else:
		continue the action.


Martin Shkreli is a person. "Martin Shkreli is on his phone trolling."
The description of Martin Shkreli is "Every time Shkreli smiles you fantasize about the evil inside him consuming his body from within slowly and painfully."

Every turn when the player is ZombieAttacked:
	move the zombie to the location of the player.

Zombie is a neuter animal in Zombie's Lair.
The printed name of Zombie is "a disgusting, rotting Zombie"

The description of Zombie is "The zombie looks friendly enough. It doesn't have much of an expression. Maybe it's evil but maybe it's just mindless.[if player is carrying chainsaw] What the hell, you've got a chainsaw."

Instead of examining The Prophet:
	say "The Prophet looks nothing like a bearded ancient prophet but is a smartly-dressed middle-aged person. ";
	if The Prophet carries something:
		say "The Prophet is carrying [a list of things carried by the Prophet]. ";
	if The Prophet is wearing something:
		say "The Prophet is wearing [a list of things worn by The Prophet]."

Empty Scroll is a locked, lockable container.
Scroll key unlocks Empty Scroll.
Empty Jar is a closed, openable container.
Fountain Pen is a closed, openable container.
Tuna Sandwiches are edible things.
The Prophet carries an empty scroll, an empty jar, a scroll key, a fountain pen, and tuna sandwiches.
The description of Empty Scroll is "The scroll looks ancient, but seems to have an internal, self-sustaining energy source."
The description of Empty Jar is "The empty jar is a regular looking jar.  You wonder what he might keep in it."
The description of Scroll Key is "The scroll key looks like an oak leaf."
The description of Fountain Pen is "The fountain pen looks to be made of a solid piece of oak, but when The Prophet holds takes it from its pocket there is faint smell of sandalwood."
The description of Tuna Sandwiches is "Whatever those things are, they do NOT look like tuna sandwiches."
Every turn when The Prophet is in the location:
	if a random chance of 1 in 20 succeeds:
		if player is not ZombieAttacked:
			say "The Prophet [one of]is reciting a verse in another language [or] is eating a tuna sandwich [or] is reading what appears to be an empty scroll [or] is picking its nose [or] is locking and unlocking the empty scroll with an oak leaf [or] is pulling the fountain pen from its pocket and smelling it [or] is considering if there's any truth to An Infinity Within [at random]."


Instead of weaponattacking Martin Shkreli:
	try attacking Martin Shkreli;
	stop the action.

Instead of attacking Martin Shkreli:
	if player is ZombieAttacked:
		say "You whack away at the evil capitalist until he looks kind of like zombie puke and despite your general pacifism, and strong moral code, you feel mostly ok about it. While he is subdued, the Zombie eats what remains of him, and forgets all about you.";
		now player is ZombieLiberated;
		now ZombieDanger is 0;
		remove Martin Shkreli from play;
		stop the action;
	else:
		let R be a random thing carried by the player;
		say "You whack away at Shkreli with the [R]. Now that was satisfying.";
		now Martin Shkreli is nowhere.

Instead of weaponattacking Zombie:
	if second noun is chainsaw:
		say "You run the chainsaw into the Zombie's flesh but only succeed in making it uglier. And angrier.";
		stop the action.


Instead of attacking zombie:
	if player is ZombieLiberated:
		say "The Zombie laughs at your little joke and keeps on chewing off what's left of his [one of]epidermis[or]left knee cap[or]pinky finger[or]right kidney[or]big toe[in random order].";
		stop the action;
	else if player is ZombieFriendly:
		say "Whoa! Zombies are people, too. Why don't you try attacking someone who deserves it like Martin Shkreli? Oh well, too late. You've made it mad. Better run away.";
		now Martin Shkreli is in Foul Tunnel;
		now player is ZombieAttacked;
		stop the action;
	else:
		say "The Zombie shakes off your attack as if it were nothing at all. Better run!";
		stop the action.


ZombieDanger is a number variable. ZombieDanger is  8.


Every turn when the player is ZombieAttacked:
	if the current action is not attacking Martin Shkreli:
		choose row ZombieDanger in the Table of Zombie Attacks;
		if ZombieDanger is 1:
			say "[attack entry]";
			decrease ZombieDanger by 1;
			stop the action;
		if ZombieDanger is 0:
			if player is not liberated:
				say "The Zombie grotesquely stretches its jaws unnaturally wide and devours your head. ";
				now BadTrip is false;
				now player is ZombieLiberated;
				now ZombieDanger is 10;
				now Martin Shkreli is nowhere;
				now Zombie is in Zombie's Lair;
				now ZombieDevours is completed;
				now CurrentEnding is ZombieDevours;
				End the Journey;
			else:
				say "Whew! That was close! Ugh, what a smell!";
		else:
			say "[attack entry] You have [ZombieDanger] turns to appease the Zombie.[paragraph break]";
			decrease ZombieDanger by 1.

Table of Zombie Attacks
attack
"You've got one turn left before becoming a Zombie's lunch."
"The Zombie streams dead body puke all over your face."
"The Zombie licks you with its rotting tongue."
"The Zombie releases some kind of poisonous gas from its orifices."
"The Zombie's ear falls off and touches your hand."
"The Zombie hugs you, violently? You should ask the Prophet about this Zombie."
"The Zombie combs your hair with its long yellow nails."
"The Zombie burps in your general direction."


Every turn when the player is ZombieAttacked:
	if ZombieDanger is 2:
		say "The Zombie just gouged your eyes out with his yellowed nails!";
	if ZombieDanger is 3:
		say "The Zombie just ate your lips off!";
	if ZombieDanger is 4:
		say "The Zombie just put its fist in your mouth!";
	if ZombieDanger is 5:
		say "The Zombie kicked you!";
	if ZombieDanger is 6:
		say "The Zombie sneezed in your face!";
	if ZombieDanger is 7:
		say "The Zombie's breath just melted your eyebrows off!";
	if ZombieDanger is 8:
		say "The Zombie is petting your head. You might want to consider running away."


professional Chainsaw is a device. "Leaning against the wall is a professional chainsaw. It's a 2015 Husqvarna 395XPG 5.7 cubic inch dual cylinder engine with an anti-vibration carburetor.  Big enough and powerful enough to saw through a zombie torso in one fell swoop."
Instead of taking professional chainsaw:
	say "You pick up the saw and swing its strap over your shoulder.  Now you look like a super bad ass. You are ready to saw you some Zombies!";
	now player has chainsaw.

Instead of switching on professional Chainsaw:
	say "The chainsaw sounds like a 1971 Ford Pinto on its dying voyage!  You thought this was a top of the line chainsaw!"
Instead of switching off professional Chainsaw:
	say "The chainsaw coughs a few times and then backfires.  A stream of black smoke pours from the engine."

[Understand "saw" as professional Chainsaw.
The description of professional Chainsaw is "You've never used one of these before, but it will come in handy."

Sawing is an action applying to one visible thing. Understand "saw [something]" and "cut [someone]" and "cut [something]" as Sawing.

Check Sawing:
	if professional Chainsaw is not visible:
		say "You need a Chainsaw if you want to saw.";
		stop the action.

Carry out sawing:
	say "You saw the [noun]."

Instead of sawing Zombie:
	say "You run the Chainsaw into the Zombie's flesh, but feel terribly horrible about it and stop.  The Zombie is still 'alive', of course, but uglier now.";
	if player is ZombieFriendly;
		say "[paragraph break]Now that you think about it, Zombies are people, too. Why don't you try attacking someone who deserves it like Martin Shkreli? Oh well, too late. You've made it mad. Better run away.";
		now Martin Shkreli is in Artifact tunnel;
		now player is ZombieAttacked;
		stop the action.
]


Instead of attacking The Prophet:
	say "The Prophet is impervious to your silly attacks.";
	stop the action.

Instead of WeaponAttacking Prophet:
	say "The Prophet vaporizes [the second noun] with its mind.";
	remove second noun from play;
	stop the action.

A Plastic Fantastic Lover is a scenery person on ledge.
A PlasticFantasticLover is a scenery photogenic device on ledge.
The printed name of PlasticFantasticLover is "Plastic Fantastic Lover".

The description of Plastic Fantastic Lover is  "[if unexamined] What interested Balabanoba was building complicated French machines designed to better enjoy the duchess, and she him.[else] I told you the duchess has dibs! Wait your turn!"
Understand "lover" as Plastic Fantastic Lover.
Turning On is an action applying to one visible thing.
Understand "turn on" as Turning On.
Turning It On is an action applying to one visible thing.
Understand "turn [something] on" as Turning It On.
Instead of switching on the Plastic Fantastic Lover:
	say "Just as you switch on the Plastic Fantastic Lover, the duchess appears and tells you that she and Balabanoba have reserved the Plastic Fantastic Lover for the evening, but you are welcome to join them if you would like. You express your regrets, given that you smell like puke.  You'll just have to return.  The Spurlock Museum is to the [bold type]northeast[roman type], but you can go back up to G32 if you want."

PART 4 - NEWMAN CENTER

NewmanInterior is an Interior Location. "You are inside the south end of the Newman Center. You can go [bold type]north[roman type] to the north end, or [bold type]exit[roman type] to Armory Street."
The printed name of NewmanInterior is "Newman South End Entrance".
NewmanInterior is inside from Newman Center.
NewmanNorthInterior is an Interior Location. "You are in the north end of the Newman Center. You can go [bold type]south[roman type] to the south end of the Newman Center or [bold type]exit[roman type] to the street."

The printed name of NewmanrNorthInterior is "Newman North End Entrance".

NewmanNorthInterior is inside from NorthNewmanCenter and north of NewmanInterior.
NorthNewmanCenter is west of YMCA and south of Psychology Building and north of Newman Center. "You are outside the north side of the Newman Center. You can go[bold type] in [roman type]from here or go [bold type]south[roman type] along the outside of the building, down Sixth Street."
The printed name of NorthNewmanCenter is "Newman Center"

NewmanCenter is a RoomProxy. NewmanCenter is in Newman Center.
The printed name of NewmanCenter is "Newman Center".
The description of NewmanCenter is "Saint John's Catholic Newman Center is a student dorm and community."

After deciding the scope of the player when player is in NorthNewmanCenter:
	place NewmanCenter in scope.

PART 5 - ICE ARENA

IceArena is a RoomProxy. IceArena is in Ice Arena. The description of IceArena is "This is the official ice skating facility for the U of I. It is used by hockey players and speed skaters and figure skaters, as well as community children learning to skate."
The printed name of IceArena is "Ice Arena".
IceArenaInterior is an Interior Location. "The main room of the ice arena is full of benches where skaters can sit while they put on and take off their skates. The place is empty at the moment because all the skaters are out on the ice. You can join them by going [bold type]east[roman type]. You can exit the Ice Arena by going [bold type]out[roman type].".
Ice Arena is outside from IceArenaInterior.

The printed name of IceArenaInterior is "Ice Arena Entrance".

The IceRink is east of IceArenaInterior. "[IceRinkDesc]".
The printed name of IceRink is "Ice Rink".


GotSkates is a truth state variable.
After looking when player is in IceArena:
	if GotSkates is false:
		say "You trade your shoes for a pair of skates and carefully lace them up, making sure you have plenty of ankle support.";
		now player is wearing skates;
		now GotSkates is true.
Instead of examining yourself when GotSkates is true:
	say "You are wearing a tightly laced pair of rental ice skates."
FightSongPlayed is a truth state variable.
To say IceRinkDesc:
	if IceSkating is false:
		if room is unvisited:
			say "You hesitate at the edge of the rink, watching the other skaters and considering whether or not you're actually going to venture on to the ice. ";
		else:
			say "You can get back on the ice and skate again or you can leave the ice rink to the [bold type]southwest[roman type]. ";
	else:
		say "You skate around the ice rink [one of]clock-wise[or]counter-clockwise [at random] with the other skaters. ";
		if FightSongPlayed is false:
			say "'Fight Song' is playing over the loudspeaker. ";
			now FightSongPlayed is true;
		else:
			say "'Fight Song' is playing over the loudspeaker [one of]again. [or]once again [or]yet again. [cycling]".
ShoeCubby is a container in IceArena. ShoeCubby is scenery.
various skaters are a people in IceRink. various skaters are scenery.
understand "other skaters" and "figure skaters" and "older couple" and "regulars" and "beginners" as various skaters.

skating students are people in IceRink. skating students are scenery.

The description of skating students is "You are astonished at how well they can talk and skate at the same time. One of them is wearing shorts, and another one is wearing a tie."

the pair of skates are a wearable thing in ShoeCubby. pair of skates are undescribed.
The description of pair of skates is "The brown rental skates have seen better days."
Instead of wearing skates:
	now player has skates;
	now player is wearing skates;
	try going east.

The description of various skaters is "A lovely older couple is skate dancing together, while figure skaters practice their spins at the center of the rink.  First time skaters hang on to the wall, while one of the regulars, skating backwards in his hockey skates, gives them some tips about how to begin."

the skating Professor is a person in IceRink. "[if IceSkating is false]There is a a woman wearing a tweedy jacket and a jaunty purple scarf skating around the rink, with a small group of students skating all around her. Presumably she's a professor.[else]The professor and her students glide past you."

Understand "woman" and "woman in tweed" and "woman wearing a tweed jacket" and "tweedy jacket" and "purple scarf" as the skating professor.

Instead of examining the skating professor:
	if IceSkating is false:
		say "She's not doing any jumps or spins, but she's still pretty graceful for a middle-aged professor. What's your excuse? Might as well SKATE.";
	else:
		say "[one of]She is deep in conversation with her students. A skater wearing a black beret and pom-poms explains that the professor is holding on-ice office hours right now.[or]You skate close enough to the professor to overhear the conversation she is having with the small group of undergraduate students who skate with her. 'Have you signed up for Design and Programming of Interactive Fiction Writing class yet?[or]The professor does a decent frontwards cross-over.[or]The professor is skating with her students.[stopping]".

the choppy ice is a supporter in IceRink. choppy Ice is scenery.
Instead of entering ice:
	try skating.
Skating is an action applying to nothing. Understand "Skate" and "Skate Around" and "go onto ice" and "get on ice" and "enter ice" and "enter rink" and "skate faster" as Skating.
IceSkating is a truth state variable.

Before going east from IceArenaInterior:
	say "You pull open the heavy doors separating the main room from the ice. The air at rink-side is pleasantly cool."
 Carry out skating:
	if IceSkating is false:
		say "Taking small tentative steps, you venture out on to the ice. You are unsteady for a few moments, but then you get your bearings.";
		now IceSkating is true;
		now player is on ice;
	else:
		say "You skate a little faster as you get the hang of it."
Instead of asking the professor about something:
	try talking to skating professor.
Instead of talking to students:
	say "They are too busy skating and talking to the professor to notice you."

Instead of talking to skaters:
	say "The skaters are whizzing by too quickly for you to speak with them."
Instead of talking to Skating Professor:
	if IceSkating is true:
		say "[one of]The professor gives you a thumbs up as you try to skate backwards and fall on your butt.[or] You skate near enough to talk to the professor. 'Have you signed up for my Interactive Fiction Class yet?' she asks you.[or]Did you know that there are zombies underneath Gregory Hall?' the professor remarks as you skate by her.[or]'So Tito and Trotsky walk into a bar...' you hear the Professor say to one of her students as they zoom past you.[or]The Professor is laughing with her students. 'And then I said to the guy -- You Shall Not Pass'. The students totally crack up.[or]The Professor notices you skating near her. 'Is it just me, or does it feel like 1969 out there on the Quad today?'[or]You ask the Professor where she teaches. 'In the Armory,' she answers, 'but don't venture in there without a map.'[or]'Did you know that a strong infusion of elder berries mixed with honey makes a delicious and effective cough syrup?' the Professor informs you as she glides by.[or]'Here's a tip,' the professor calls out to you across the ice, 'Don't walk alone in the parking garage after dark.'[or]'Also, avoid creepy mirrors,' the professor adds.[or]'Hey, have you taken a selfie at the Alma Mater?' the Professor asks.[or]The Professor announces in a loud voice, 'Does everyone know that the orchestra is performing a selection of Dvorak pieces in Foellinger Great Hall today?'[or]'North Campus is a creepy place,' the Professor whispers.[or]'Hey, wouldn't it be cool if they made ice skates for a Roomba?' the Professor asks the students around her. 'They could call it a Roomboni.'[or]'You don't have a Magical Campus Guide on you, do you?' the Professor asks, 'I have to get to my next class.'[or]The professor seems to be meditating in preparation for her next class. Best not to disturb her.[stopping]";
	else:
		say "You can't talk to her unless you get on the ice."

Understand "exiting ice" as getting off.
Instead of getting off the ice:
	say "You aren't sure how to stop, so you bang into the wall near the rink entrance, and then carefully step off the ice.";
	now IceSkating is false;
	now player is in IceRink;
	stop the action.

Instead of going nowhere when player is in IceRink:
	say "You can go out of the rink to the [bold type]west[roman type]. If you feel like skating, just SKATE or GET ON ICE."
Instead of going nowhere when player is on ice:
	say "You crash into the wall of the ice rink. Man, that hurt."
Instead of taking off skates:
	if player is in IceRink or player is on ice:
		try going west;
	if player is in IceArena:
		try going south.
Instead of going southwest from the IceRink:
	say "You leave the ice rink, wobbling a bit on your way out.";
	now IceSkating is false;
	now player is in IceArena.

Instead of going south from the IceArenaInterior:
	LeaveTheArena.

To LeaveTheArena:
	say "You sit down on a bench and unlace your skates. Then you trade them back for your own shoes. It feels funny to walk without gliding, but you get your land legs back pretty quick. You leave the Ice Arena and head towards the Armory.";
	now skates are in ShoeCubby;
	now GotSkates is false;
	now player is in Ice Arena.



PART 6 - PSYCHOLOGY BUILDING

PsychologyBuilding is a RoomProxy in Psychology Building.
The printed name of PsychologyBuilding is "Psychology Building".
Understand "Psych" and "Psych Building" as PsychologyBuilding.

PsychologyInterior is an Interior Location.
PsychologyInterior is down from PsychStairwell. "[if unvisited]There is not much to see at the entrance. A board with official notices stands next to a pillar. To the [bold type]west[roman type] is a restroom. To the [bold type]east[roman type] through a glass door is the Atrium. To the [bold type]south[roman type] is a door to the stairwell. An elevator lies to your left, which you may go IN. [else]A security camera watches from the ceiling. It seems to be staring at you. Perhaps it's wondering why you are wandering around so haphazardly. Again, there is a restroom to the [bold type]west[roman type], the Atrium to the [bold type]east[roman type], a stairwell to the [bold type]south[roman type], and an elevator you may go IN."
PsychologyInterior is inside from Psychology Building.
The printed name of PsychologyInterior is "Psychology Building Interior".

psychBuildingElevatorIsUp is a truth state that varies. psychBuildingElevatorIsUp is false.
psychBuildingDoorJammed is a truth state that varies. psychBuildingDoorJammed is true.

Instead of going up from PsychologyInterior:
	say "You'll need to use the elevator!";
	stop the action.

Instead of going south when the player is in PsychologyInterior:
	if psychBuildingDoorJammed is true:
		say "You push the door to the stairwell, but nothing happens. It must be jammed.";
	otherwise:
		move player to PsychStairwell;

Instead of going nowhere from PsychologyInterior:
	say "There's not much to see in that direction."

PsychRestroom is west of PsychologyInterior. "[if unvisited]It's a typical restroom. There's a sink, toilet, towel dispenser, etc. I'm not sure what you expected to find in here. [else]You think you missed something important the first time? The exit is to the [bold type]east[roman type]."
The printed name of PsychRestroom is "Restroom".

Instead of going nowhere from PsychRestroom:
	say "Where do you think you're going? You have to go out the same way you came in, and that would be to the [bold type]east[roman type]."

PsychAtrium is east of PsychologyInterior. "[if unvisited]A large display of plants dominates the space. There are tables and chairs bordering the room. Pyramid-like structures protrude from the walls a number of feet up. There is a glass door to the [bold type]west[roman type] that you see leads back to the entrance. Another glass door lies to the [bold type]east[roman type].[else] You look up this time and see the vastness of the structure. Windows covered by blinds occupy the walls on all sides but one. To the [bold type]west[roman type] is the main entrance."
The printed name of PsychAtrium is "Atrium".

Instead of going east when the player is in PsychAtrium:
	say "You try to push open the door leading east of the Atrium, but it is locked. You see no other option but to go [bold type]west[roman type] toward the elevators."

Instead of going north when the player is in PsychAtrium:
	say "A wall blocks your path. There are no secret passages here."

Instead of going south when the player is in PsychAtrium:
	say "There is a wall of glass windows that you could potentially break, but why would you? Try the door to the [bold type]west[roman type] if you are so desperate for an escape."

Instead of going up when the player is in PsychAtrium:
	say "You can't scale the wall if that's what you're thinking."

Instead of going down when the player is in PsychAtrium:
	say "Do you have a shovel? Maybe try a more convenient direction."

PsychElevator is inside of PsychologyInterior. PsychElevator is inside of PsychTopFloor. "[if unvisited]You call the elevator and wait patiently. You watch the red digital numbers drop slowly until finally there is a ring and the doors slide open. You step into the small, cramped box. Blue covers protect the walls. There are normal elevator buttons to your side. [end if][if psychBuildingElevatorIsUp is false]From here you may go [bold type]up[roman type] to the top floor. [else]You are back in the elevator. From here you may go [bold type]down[roman type] to the first floor."
The printed name of PsychElevator is "Elevator".

PsychElevatorButtons are a scenery thing in PsychElevator.
Understand "buttons", "button" as PsychElevatorButtons.
The description of PsychElevatorButtons is "Like most elevators, there's a panel of circular buttons by the door. These ones look especially worn out."

TopFloorShell is up from PsychElevator.
PsychologyInteriorShell is down from PsychElevator.
Instead of going up from PsychElevator:
	if psychBuildingElevatorIsUp is true:
		say "You are already on the top floor.";
	else:
		say "You decide to click 8 which takes you to the top floor. That's where the best view is, right? The doors close shut and you see your reflection in the metal. You feel yourself being lifted for a few moments...";
		now psychBuildingElevatorIsUp is true;
		now the player is in PsychTopFloor.

Instead going down from PsychElevator:
	if psychBuildingElevatorIsUp is false:
		say "You are already on the bottom floor.";
	else:
		now psychBuildingElevatorIsUp is false;
		now the player is in PsychologyInterior.

Instead of going from PsychElevator to PsychologyInterior:
	if psychBuildingElevatorIsUp is true:
		now the player is in PsychTopFloor;
	else:
		continue the action.

Instead of going nowhere from PsychElevator:
	say "It's an elevator. There's only one way in or out."

PsychTopFloor is a room. "[if unvisited]The top floor looks like all the other floors. Tables and chairs lie directly in front of you. You face two large windows that let you see across to offices on the other side of the building. If you look down, you can see the Atrium. To the [bold type]west[roman type] are rooms 887-875, also known as the research area. To the [bold type]east[roman type] is a hallway. Going back[bold type] in [roman type]the elevator is also an option. [else]You are on the top floor where it's nice and cool. You can go back [bold type]east[roman type] to the stairwell or [bold type]west[roman type] to the research area. You may also go back[bold type] in [roman type]the elevator."
The printed name of PsychTopFloor is "Top Floor".

Instead of going down from PsychTopFloor:
	say "You'll need to use the elevator!";
	stop the action.

Instead of going nowhere from PsychTopFloor:
	say "Going that way looks counterproductive."

PsychStairwell is east of PsychTopFloor. PsychStairwell is south of PsychologyInterior. "[if unvisited]You enter a hot, humid stairwell. You can go [bold type]up[roman type] to the roof or [bold type]down[roman type] to the first floor from here. Going down is probably easier on the knees. [else]You are back in the stairwell and it is as hot as before. You can go [bold type]up[roman type] or [bold type]down[roman type]."
The printed name of PsychStairwell is "Stairwell".

Instead of going up when the player is in PsychStairwell:
	say "An official-looking note on the door says 'This door must be closed and locked at all times. Do not open'. You think to yourself for a few seconds before concluding it is unwise to disobey such an authoratative note as this one."

After going down from PsychStairwell:
	say "You reach the ground floor and find what was jamming the door to the stairwell. You pry it loose and the door swings open.";
	now psychBuildingElevatorIsUp is false;
	now psychBuildingDoorJammed is false;
	continue the action;

Instead of going west from PsychStairwell:
	say "The door locked behind you!"

Instead of going north from PsychStairwell:
	say "Not that way!"

Instead of going nowhere from PsychStairwell:
	say "That doesn't look like a valid option. Try going [bold type]up[roman type] or [bold type]down[roman type]."

PsychRoof is up from PsychStairwell. [cannot be accessed]

PsychResearchArea is west of PsychTopFloor. "[if unvisited]You look around at the many offices. People are walking around in and out looking busy. At the end of the hall is an intimidating door that says 'STOP'. It will sound an alarm if you try to open it. It's probably best to go another way. Going [bold type]east[roman type] will take you back the way you came. [else]I'm not sure why you've come back to this place.  Try going [bold type]east[roman type]."
The printed name of PsychResearchArea is "Research Area".

Instead of going nowhere from PsychResearchArea:
	say "People look at you curiously. You have no business here."

Instead of taking antique icard in the PsychElevator:
		say "You brazenly pocket the iCard, but you may have been seen. Perhaps you should have been more careful, and stolen it when no one was looking?";
		now the player has the antique icard;
		University Security Arrives in two turns from now;
		stop the action.

At the time when University Security Arrives:
	say "A burly member of university security mandhandles you and pats down your pockets. ";
	if the player has the antique icard:
		say "The brute fishes out the iCard. 'What do we have here? I'll be taking this as evidence,' he sneers. You've lost the iCard. Rats!";
		now the antique icard is nowhere;
		stop the action;
	else:
		if gotID is false:
			now gotID is true;
			say "'Huh, a witness said someone matching your description swiped someone's iCard. I guess you're free for now.' He turns sharply on his heel and stomps off.";
			stop the action.

antique icard is a valuable rare item in the PsychElevator. "Someone must have dropped their University ID card. I wonder where you could get into with this?"
Understand "card" and "i-card" and "icard" as antique icard.

PsychCamera is a scenery thing in PsychologyInterior.
The description of PsychCamera is "A red light flashes from the camera. It seems to be watching you.".
Understand "camera", "video" and "security camera" and "video camera" as PsychCamera.
The printed name of PsychCamera is "security camera".

PART 7 - SPEECH & HEARING


The printed name of Speech Building is "Speech and Hearing Building".
Understand "Speech and Hearing" and "Speech and hearing building" as Speech Building.

SpeechHearingInterior is an Interior Location. "Speech and Hearing Building under construction."
The printed name of SpeechHearingInterior is "Speech and Hearing Entrance".
SpeechHearingInterior is inside from Speech Building.

SpeechBuilding is a RoomProxy in Speech Building.
Understand "Speach and Hearing Building" as SpeechBuilding.
The printed name of SpeechBuilding is "Speech and Hearing Building"

Instead of going southwest when the player is in DanielStreet2016:
	say "You briefly consider making a mad dash diagonally through traffic but think better of it.";
	stop the action.
Instead of going northeast when the player is in Speech Building:
	say "You briefly consider making a mad dash diagonally through traffic but think better of it.";
	stop the action.

PART 8 - EPISCOPAL GARDENS

[Varibles]
ECBreath is a number variable.
ECBreath is 0.
ECCheck is a number variable.
ECCheck is 0.

[Room Proxy]
EpiscopalInterior is an Interior Location. "[if unvisited]You swing open the doors revealing a thick wall of smoke. While you understand walking into a smoke filled room might not be the healthiest idea, your curiosity gets the better of you. You walk in the door slamming shut behind you.[else] The thick smoke prevents you from seeing no more than 6 ft in front of you. What is going on in here??".

The printed name of EpiscopalInterior is " Smoky Room".

Episcopal Garden is outside from EpiscopalInterior.

EpiscopalChapel is a RoomProxy in Episcopal Garden.

The description of EpiscopalChapel is "The old stone chapel looms infront of you. You realize that you can't remember a time you saw someone come in or out of this building. Maybe you should take a look [bold type]inside[roman type]?".

The printed name of EpiscopalChapel is "The Chapel".

Understand "chapel" and "church" and "episcopal chapel of st john" as EpiscopalChapel.

Note is a thing in EpiscopalInterior.
The description of note is "The keys to the maze are just below your finger tips: aatlbbtl".

[Maze Layout]
Every turn when the player is in EpiscopalInterior:
	if ECBreath is greater than 10:
		say "The smoke is starting to make you cough. Maybe you should leave before you get sick?";
	 increase ECBreath by 1.



Instead of going west when player is in EpiscopalInterior:
	if ECCheck is 0:
		say "Well, you aren't back at the start, so thats progress";
		increase ECCheck by 1;
	else if ECCheck is 1:
		say "Looks like you might be on to something here.";
		increase ECCheck by 1;
	else if ECCheck is 2:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 3:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 4:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 5:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 6:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 7:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0.

Instead of going east when player is in EpiscopalInterior:
	if ECCheck is 0:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 1:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 2:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 3:
		say "Or how all this smoke hasn't just doesn't suffocate me...";
		increase ECCheck by 1;
	else if ECCheck is 4:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 5:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 6:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 7:
		say "";
		now the player is in teleportRoom

Instead of going north when player is in EpiscopalInterior:
	if ECCheck is 0:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 1:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 2:
		say "I wonder how all this smoke has gotten in here...";
		increase ECCheck by 1;
	else if ECCheck is 3:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 4:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 5:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 6:
		say "Ligma";
		increase ECCheck by 1;
	else if ECCheck is 7:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0.

Instead of going south when player is in EpiscopalInterior:
	if ECCheck is 0:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 1:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 2:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 3:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 4:
		say "I think I might just be getting there...";
		increase ECCheck by 1;
	else if ECCheck is 5:
		say "This maze better be worth all this bullshit";
		increase ECCheck by 1;
	else if ECCheck is 6:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0;
	else if ECCheck is 7:
		say "You wander through the fog but end up right back at the front door.";
		now ECCheck is 0.

[Teleport room]


teleportRoom is a room.
The printed name of teleportRoom is "Stone Room".
The description of teleportRoom is "[if unvisited]After stumbling through the endless fog, it suddenly begins to fade in front of you.[end if] You find yourself in an ancient stone room that looks like it has been untouched for centuaries.".

ECStatue is a thing in teleportRoom.
Understand "angel" and "statue" and "angel statue" as ECStatue.
The printed name of ECStatue is "an Angel Statue".
The description of ECStatue is "An old stone statue of a angel lies before you. Its arms are outreach with a sword as if it were trying to give it to you for success. A dusty plaque is just below it reads 'Grasp the blade of champions to recieve your blessing.'".

ECSword is a scenery thing in teleportRoom.
Understand "blade" and "sword" as ECSword.

Instead of taking ECSword:
	Let ranRoom be a random room;
	now the player is in ranRoom.



VOLUME 7 - NORTHWEST CAMPUS

BOOK 1 - REGIONS

NorthwestCampusIndoor is a region.

GreenStreetMap is an IndoorRegion.
GreenStreetMap is in NorthWestCampusIndoor.
SpoonHouseInterior and PaneraInterior and McDonaldsInterior and MurphyInterior is in GreenStreetMap.

DanielEateriesMap is an IndoorRegion in NorthWestCampusIndoor.
SilverMineInterior and KamsInterior and SilverMinebathroom and SilverMine Bathrooms are in DanielEateriesMap.

IlliniHallMap is an IndoorRegion in NorthWestCampusIndoor.
IlliniHallInterior is in IlliniHallMap.

TurnerStudentMap is an IndoorRegion in NorthWestCampusIndoor.
TurnerInterior is in TurnerStudentMap.


NorthwestCampusOutdoor is a region.

GreenStreetNeighborhood is an OutdoorRegion in NorthwestCampusOutdoor.
Natural History Building and Circle Drive and Union Courtyard and GreenMatthewsStreet and Altgeld Hall and Alma Mater and Spoon House and NorthWrightAndGreen and TownePlace Suites and SouthWrightAndGreen and NorthGreenStreet and SouthGreenStreet and 6thAndGreenSouth and 6thAndGreenNorth and 6thStreetBusinesses are in GreenStreetNeighborhood.

StudentServicesNeighborhood is an OutdoorRegion in NorthWestCampusOutdoor.
Illini Hall and Illini Hillel and McKinley Foundation and Presby Hall and Presby Parking and Fifth & Chalmers and Turner Student Services and Swanlund Hall and Mysterious Hall and Daniel Street Parking and John Street Parking and Parking Garage and Your Car are in StudentServicesNeighborhood. 

DanielStreetNeighborhood is an OutdoorRegion in NorthWestCampusOutdoor.
Illini Union Bookstore and OldiSchool and SouthWrightAndDaniel and DanielStreet2023 and DanielStreet2020 and DanielStreet2016 and Community United Church of Christ are in DanielStreetNeighborhood.

BOOK 2 - OUT of DOORS

PART 1 - ROOMS


Turner Student Services is north of Swanlund Hall and outside from TurnerInterior and west of Illini Hall. "You are standing at the intersection of 6th and John streets. You can enter both Turner Student Services and Swanlund, the Administrative Heart of the Campus, from here. The main parking structure for this part of campus is to the [bold type]west[roman type]. You can head back towards the Union to the [bold type]east[roman type]. "

John Street Parking is southwest of Turner Student Services. "[if unvisited]You look up at the large concrete structure and realize you still need to pay your parking pass. You should head [bold type]up[roman type] to visit your car.[else]You are in front of the abandoned parking garage where your car got broken into.[end if][if ThingsAtHand is incompleted]There's some crazy angry man up there! Why are you standing here. Run [bold type]south[roman type] to run away![else]The Graduate School of LIS is to the [bold type]south[roman type] and Daniel Street runs to the [bold type]east[roman type].".

Swanlund Hall is west of Mysterious Hall and east of John Street Parking. "You are standing outside Swanlund Hall where the highest campus administrators have their offices. This is where people who are protesting things come to protest. It is not for the likes of you."

6thStreetBusinesses are west of Turner Student Services and north of John Street Parking. "You are standing on 6th street between Green Street and John. A variety of businesses are here, offering a variety of things you don't need at the moment."
The printed name of 6thStreetBusinesses is "Businesses on 6th Street".

6thAndGreenSouth is north of 6thStreetBusinesses and west of SouthGreenStreet.  "You are on the north side of busy Green Street, near 6th, with many restaurants and businesses on all sides. Campus is towards the east from here."

The printed name of 6thAndGreenSouth is "South Side of 6th and Green Street".

Kung Fu Tea is a Roomproxy in 6thAndGreenSouth.
KungFuTeaInterior is an interior location. The printed name of KungFuTeaInterior is "Kung Fu Tea".
Instead of entering Kung Fu Tea:
	if Kung Fu Tea is unvisited:
		say "You smell something sweet. Oh, should you get a cup of boba tea?";
	now player is in KungFuTeaInterior.
Instead of exiting when player is in KungFuTeaInterior:
	now player is in 6thAndGreenSouth.
The description of Kung Fu Tea is "At Kung Fu Tea, every beverage is made-to-order with real Kung Fu :D".
The description of KungFuTeaInterior is "There is a long line in front of you. Strangely, these students don't seem like they are ordering anything. They are all standing without moving an inch, which gives you a creep."
KFT students are people in Kung Fu Tea.
The printed name of KFT students is "students".
Instead of talking to KFT students:
	say "They are just staring the floor. You don't want to talk to them."
A thing can be examined or unexamined. A thing is usually unexamined.
Carry out examining something:
	now the noun is examined.
KFT students are scenery. "[if unexamined] You find something odd about them. They are not talking at all. Just staring the floor. All of them. What is going on?[else]You don't want to do anything to do with them. Let's leave them be."
Instead of going nowhere when player is in KungFuTeaInterior:
	say "You hear strange noise from... hmm... is it coming from the west?"
Garbage can is a closed and openable scenery container in the KungFuTeaInterior.
The description of garbage can is "The garbage can is at the corner of the Kung Fu Tea.[line break]The garbage can is currenlty [if open]open[else]closed."
Instead of taking garbage can:
	say "It's too big for you to carry around."
Boba tea and tissues and dust bunny are in garbage can.
The description of a boba tea is "You can still see some boba pearls left inside."
The description of tissues is "They are wet and gross."
The description of dust bunny is "A lonely dust bunny sits alone at the bottom of the garbage can."
Instead of eating boba tea:
	say "Why are you doing to yourself? I thought you were better than this!"
Instead of eating tissues:
	say "Why are you doing to yourself? I thought you were better than this!"
Instead of eating dust bunny:
	say "Don't eat that poor fella."
KungFuTeaStorage is west of KungFuTeaInterior. The printed name of KungFuTeaStorage is "Sketchy storage".
The description of KungFuTeaStorage is "Boxes are everywhere. You feel claustrophobic. As you move, you make everything in a storage tumble down. Uh oh. You clearly have woken up an entity...[paragraph break]You notice something flashing at the shadowed corner of the sketchy storage... something as big as a quarter,  but double, like twin stars... Are these eyes of a monster?"
Toto is proper-named.
Toto is an undescribed animal in KungFuTeaStorage.
Understand "monster" as Toto.
Instead of examining Toto:
	if Toto is unexamined:
		say "The monster is making a strange engine noise... almost like purring...? Oh wait, she is wearing a collar that says Toto.";
	if Toto carries something:
		say "Oh wait, Toto is carrying [a list of things carried by Toto].";
		now Toto is examined;
		stop the action;
	else:
		say "Toto wants something from you."
Toto is carrying a magic wand.
Toto is carrying a collar.
Instead of taking a collar:
	say "You absolutely do not want to do this, my friend."
The description of the magic wand is "It is a cool-looking magic wand. Don't you just want to take it and swing it?!"
Instead of taking a magic wand:
	if Toto is holding a magic wand:
		say "To your surprise, she gives you the magic wand with no resistance. It almost seems like she wants you to take it.";
		now the player has a magic wand.
Instead of swinging a magic wand:
	say "You feel something powerful... Oh no, Toto is smirking. What is going on?";
	repeat with X running through things carried by the player:
		now X is nowhere;
	say "[paragraph break][italic type]POOF.[paragraph break][roman type]Suddenly you lost everything that you were carrying."
Instead of throwing [something] at [something]:
	if second noun is Toto:
		say "You are a monster. Stop throwing [noun] at [second noun].";
	if second noun is KFT students:
		say "Nothing seemed to perturb them. You feel a strange embarrassment, instead of fear. You slowly try retrieving the [second noun] from the floor.";
		stop the action.
Instead of talking to Toto:
	say "You hear no answers. It only purr... purr.. purrs... Perhaps talking is a wrong appraoch? Let's try giving her something."
Instead of giving dust bunny to Toto:
	say "The twin stars sparkle so intensely! Toto wants little dust friend. The monster was not hungry for blood or flesh after all. She just wanted a company.";
	now Toto is carrying the dust bunny.
Instead of taking a dust bunny:
	if Toto is carrying a dust bunny:
		say "Toto hisses at you. You feel scared, and stopped trying to take the dust bunny from her."
Instead of giving boba tea to Toto:
	say "Toto is not interested in human food, even if it is the most delicious cup of boba tea, let alone a half-eaten one from a garbage can."
	


TownePlace Suites is north of 6thAndGreenSouth and west of NorthGreenStreet.
The printed name of TownePlace Suites is "Outside TownePlace Suites".
The description of TownePlace Suites is "You are on the south side of busy east-west Green Street, with many restaurants and businesses on all sides. Campus is back towards the east. You can [bold type]enter [roman type]the TownePlace Suites by Marriott here. "
	
TownePlaceSuitesInterior is an Interior Location. "You are standing in the lobby of the TownePlace Suites by Marriott. It is too early to check in so there is nothing to do here. You can [bold type]exit[roman type] from here."
The printed name of TownePlaceSuitesInterior is "TownePlace Suites".

TownePlaceSuites is a roomproxy in TownePlace Suites.
Understand "TownePlace Suites" and "towneplace suites" and "towneplace" as TownePlaceSuites.

Instead of entering TownePlace Suites:
	now player is in TownePlaceSuitesInterior.
	
Instead of exiting when player is in TownePlaceSuitesInterior:
	now player is in TownePlace Suites.

Community United Church of Christ is south of John Street Parking.

Alma Mater is north of Altgeld Hall and south of Everitt Lab and west of Circle Drive. "You are standing near a tall bronze statue of three figures. If people must meet somewhere, this would be a good place. The parasitic coating of blue oxidation has been recently cleaned away leaving the iconic sculpture good as new.[paragraph break]Ahead and to the [bold type]north[roman type], you can see cars from Green Street pass by. Altgeld Hall is behind you to the [bold type]south[roman type], the Circle Drive of the Union is to the [bold type]east[roman type], and you can cross Green Street to arrive at Everitt Laboratory to the [bold type]north[roman type].[if unvisited][paragraph break]You are VERY hungry. You have some meals left on your iCard, so you can find the nearest dining hall instead of eating on Green Street, which would use up all your money. Your friend lives at Illinois Street Residence Halls and he told you their dining hall is pretty good.  You seem to remember that ISR is somewhere to the [bold type]east[roman type]."



[previously named Campus Town and needs to be changed elsewhere, also needs a neat printed name and a better description to indicate where you are with more accuracy]

NorthWrightAndGreen is west of Everitt Lab. "To the [bold type]west[roman type] lies a row of pubs, restaurants, and shops known as Campus Town. Further down the street is a bar apparently loved by all students, legal and underage. According to what you've heard, that part of the street becomes quite lively at night. From here you can go [bold type]east[roman type] back towards Everitt Laboratory."

the printed name of NorthWrightAndGreen is "Northwest Corner of Wright & Green".

[previous named WrightAndGreen and needs to be changed elsewhere]

SouthWrightAndGreen is south of NorthWrightAndGreen and west of Alma Mater and southwest of Everitt Lab. "You are on the south side of Green Street on the east end of Campus town."

The printed name of SouthWrightAndGreen is "Southwest Corner of Wright & Green".		

NorthGreenStreet is west of NorthWrightAndGreen. "North Green Street is home to many eateries, such as Panera Bread, McDonalds and Spoon House. The beloved Murphy's Pub is open and welcoming patrons. Students fill the sidewalk either walking to campus or trying to get a McPick 2."

The printed name of NorthGreenStreet is "North Green Street".


[TODO:: Move brothers?]
SouthGreenStreet is west of SouthWrightAndGreen and south of NorthGreenStreet. "South Green Street is infamous for Brothers Bar and Mia Za's. Illini Students cannot get enough of the Dunkin Donuts at the end of the street and many students are coming and going from the Target on the corner. The Dean is an imposing skyscraper around the corner."

The printed name of SouthGreenStreet is "South Side of Green Street".

Illini Hall is outside from IlliniHallInterior and west of Altgeld Hall and north of Mysterious Hall and south of SouthWrightAndGreen.."You are standing on John Street outside Illini Hall, which houses the Department of Statistics. Altgeld Hall is to the [bold type]east[roman type], while a mysterious hall sits to the [bold type]south[roman type]. Directly to the [bold type]west[roman type] is the intersection of 6th and John where you can enter Turner Student Services building, and Swanlund, the Administrative Heart of the Campus.".

PART 2 - CURIOSITIES

DryFountain is scenery in Union Courtyard. The description of DryFountain is "No water falls from its cistern, perhaps from negligence or the lack of a festive mood. The paint is withering on the lovely dancing woman enshrined there. How lovely, you think, how lonely."
Understand "fountain" and "dry fountain" as DryFountain.
The printed name of DryFountain is "Dry Fountain".

Artemis is a photogenic scavengerhuntable scenery woman in Union Courtyard. 
The description of Artemis is "She reminds you of the ancient Greek goddess, Artemis. Perhaps you can pray to her for good luck."

Understand "lovely dancing woman" and "lovely woman" and "woman" and "dancing woman" and "sculpture" and "Diana" as Artemis.

HasPrayed is a truth state variable.

Instead of GodPraying Artemis:
	say "A warm feeling flutters in your chest, and you could swear the stone woman smiled.";
	now HasPrayed is true.

AlmaMaterStatue is photogenic and scavengerhuntable scenery in Alma Mater. "The iconic sculpture representing the University of Illinois stands here tall and glorious. How many tens of thousands of graduates have taken pictures here at her feet, you wonder?"
Understand "alma mater" and "alma" and "alma mater statue" and "statue" and "bronze statue" and "tall bronze statue" as AlmaMaterStatue.
The printed name of AlmaMaterStatue is "Alma Mater Statue".

BOOK 3 - INDOOR MAPS

Instead of going nowhere when player is in DanielEateriesMap:
	say "You meander around inside this establishment for a while, but don't find anything every interesting in here.";
	stop the action.

PART 1 - 2023

NewiSchool is a roomproxy in DanielStreet2023. The printed name of NewiSchool is "The iSchool Offices". 
The description of NewiSchool is "Through the glass entryway you can see elevators that will take you up to the offices for the iSchool, Informatics, and the Game Studies programs. Just enter iSchool to begin your journey."
Understand "iSchool" and "informatics" and "GSD" and "game studies" and "game studies and design" and "game design" as NewiSchool.

NewiSchoolInterior is an Interior Location. 
The printed name of NewiSchoolInterior is "iSchool Offices". 
DanielStreet2023 is outside from NewiSchoolInterior. 

The description of NewiSchoolInterior is "You are standing in a maze of offices. At the moment there is nowhere to go but out."

PART 2 - ILLINI UNION BOOKSTORE

IlliniUnionBookstore is a roomproxy. The printed name of IlliniUnionBookstore is "The Bookstore".

BookstoreInterior is an Interior Location.
The printed name of BookstoreInterior is "Illini Union Bookstore".
BookstoreInterior is inside from Illini Union Bookstore.

The description of BookstoreInterior is "[if unvisited]You open the door and slip inside from the cramped foyer. The faint yet sharp fragrance of espresso, presumably from the Starbucks on the east wall, is immediately evident. However, when you swing your wandering eyes to the right in order to trace the source of the scent, you see that the stand has been almost completely demolished. Bizarre claw marks stretch across the surfaces of table tops flung from their legs while the front counter and signage sit in pieces on the floor, torn apart by the same... creature. You quickly notice that this isn't the only thing out of the ordinary about the bookstore today.[end if]
This place is usually filled with students, but it is entirely empty save for an older woman combing through the merchandise toward the west wall. She doesn't look too threatening.
Whatever remains of the Starbucks lies to the [bold type]east[roman type]. Amazon@Illinois can be found at the wall to the [bold type]west[roman type]. You can head either [bold type]up[roman type] or [bold type]down[roman type] the open stairwell to the Second Floor and Basement respectively. You could also go back [bold type]out[roman type] to the Entrance to the Illini Union Bookstore."

Instead of going nowhere when player is in BookstoreInterior:
	say "You find your movement blocked by the impassable line of students that winds its way through the store. The main entrance lies to the [bold type]southeast[roman type].";
	stop the action.

Union Second Floor is up from BookstoreInterior. "Sure enough, this part of the building is devoid of life, too. Many of the larger, hardcover books, normally found neatly lined along the shelves, are strewn about the floor. A few are missing pages if the haphazard tears and scrap paper are any indication.
There's not much else to see here, though. You can go back [bold type]down[roman type] to the main floor."

BookstoreBasement is down from BookstoreInterior. "[if player is wearing construction helmet]Thanks to the light on your helmet, you're able to see farther than a foot in front of you. Most of the shelves have been toppled, stacked in such a way that you're left with only one narrow path leading to the nearest back corner. Blood and claw marks continue on the floor along the way and lead up to... a dog? A small Doberman, slightly trembling and staring right back at you.

You could approach the dog or head back [bold type]up[roman type] the stairs.

[else]Small spatters of what look like blood, as well as even more claw marks, adorn the staircase winding down into the basement. It might not necessarily be dangerous to explore further, but it seems the basement lights have all been shut off, and the darkness is unnaturally intense despite the light of the first floor reaching the stairs.
Without a light, you can only head back [bold type]up[roman type] for now."
Printed name of BookstoreBasement is "Basement".

Ruins of Starbucks is east from the BookstoreInterior. "[if unvisited]You take a moment to remember the many cups of coffee and tea enjoyed here. What a waste.[end if]
Judging by the scale of the destruction, someone or something was clearly very angry with their messed-up order. Most of the tables and chairs as well as much of the counter are destroyed, but maybe there's something worth checking out here. You can also spot some ants crawling through the place.
You can only turn back [bold type]west[roman type] to the main floor."

Amazon@Illinois is west from the BookstoreInterior. "The wall is covered almost entirely by lockers for people to retrieve their packages. It looks straightforward enough.
You can go [bold type]east[roman type] to the main floor."

Instead of going nowhere when the player is in BookstoreInterior:
say "It seems impossible to get lost in such an open space, but you wouldn't put it past yourself. Best to look at the signs and stick to places you know are in here."

Instead of going nowhere when the player is in Union Second Floor:
say "All these ruined randomly ruined books are seriously giving you the creeps. Nobody appears to be up here with you, and none of the other sections look to be worth checking out. Maybe you should head back [bold type]down[roman type]."

Instead of going nowhere when the player is in BookstoreBasement:
say "For some strange reason, it's just too dark to see anything past the foot of the stairs. You should walk back [bold type]up[roman type] and find something to light the way."

Instead of going nowhere when the player is in Amazon@Illinois:
say "Nothing interesting is around here, and there's nowhere to go but back [bold type]east[roman type] to the main floor."

Instead of going nowhere when the player is in Ruins of Starbucks:
say "What if whoever or whatever tore this place apart is still lurking around here? Wouldn't wanna be caught. Going back [bold type]west[roman type] is a better idea."

TakenHelmet is a truth state variable.
TakenHelmet is false.

TakenRadar is a truth state variable.
TakenRadar is false.

Before taking construction helmet:
	if TakenHelmet is false:
		increase score by 100;
		now TakenHelmet is true.

Before taking small radar:
	if TakenRadar is false:
		increase score by 100;
		now TakenRadar is true.

PulseState is a truth state variable.
PulseState is false.

TakenCake is a truth state variable.
TakenCake is false.

Every turn when the time of day is 12:00 PM:
	say "You glance at your phone and notice it's already noon. Maybe it's time for lunch."

[Every turn when the turn count is 5:
	say "You think you hear a notification from your phone, but there's nothing new when you pull it out to check."
]
ScreamingGuyCounter is a number variable. ScreamingGuyCounter is 0.
Every turn when player is in BookstoreInterior:
	increment ScreamingGuyCounter.
Before examining something when player is in Ruins of Starbucks:
	increase ScreamingGuyCounter by 1.
Before switching on something when player is in Ruins of Starbucks:
	increase ScreamingGuyCounter by 1.

Every turn when ScreamingGuyCounter is greater than 15
and PulseState is true:
	say "You hear a loud shriek from somewhere between the shelves and racks.";
	now Creepily Quiet Guy is nowhere.

CrumbsCounter is a number variable. CrumbsCounter is 4.

Every turn when player is in the Ruins of Starbucks:
	choose row CrumbsCounter in the Table of Crumbs;
	if CrumbsCounter is greater than 0:
		say "[description entry]";
		decrease CrumbsCounter by 1;
		stop the action.

Table of Crumbs
description
"You can't see any crumbs."
"There are still a few crumbs around."
"Some of the crumbs are gone."
"There are crumbs all around."

Every turn when turn count is 10
and TakenCake is true:
	say "You barely hear the busy old lady's wispy voice from the other side of the store. 'Hope my coffee cake is still there.'";

Instead of Scanning:
	If Small Radar is switched on:
		Repeat with X running through caches in the location:
			say "You wave the device around the [X] and see [if the number of things in X is not 0][a list of things in X] hidden inside one. [else]nothing of interest on the screen.";
	If Small Radar is switched off:
		say "You should probably have some kind of scanning device turned on.";
		stop the action.

Check examining lockers:
	say "Nothing really out of the ordinary here.";
	stop the action.

A starbuckstable is a supporter in the Ruins of Starbucks. "A single tall table somehow remains mostly untouched amidst the wreckage. Looks like there's some stuff still on it."
The description of the starbuckstable is "You look more closely at the table, expecting something equally as strange as whatever tore through here, but there's only a few used napkins, a wet straw, a nasty-looking sandwich, and a strange little pastry box.[if slice of coffee cake is in the preserved pastry box] The box gives off a sweet scent.[else] Unfortunately, you can't smell the coffee cake anymore."
Understand "stand" and "table" and "tall table" as starbuckstable.
Printed name of starbuckstable is "table".

A preserved pastry box is a closed openable container on the starbuckstable.
The preserved pastry box is scenery.
The description of the preserved pastry box is "It's pink like bubblegum and appears almost untouched save for a dollop of white icing on one corner of the lid. You could open or close it with little effort."
Understand "box" and "pastry box" as preserved pastry box.

A slice of coffee cake is an edible thing in the preserved pastry box.
The description of coffee cake is "A perfectly even slice of rich coffee cake. It still looks pretty good, actually. You wonder how old it is."
Understand "cake" and "coffee cake" as slice of coffee cake.
Instead of taking slice of coffee cake:
	   say "Careful to preserve its perfection, you slide the coffee cake inside a little plastic bag from the table and take it with you.";
	now player has slice of coffee cake;
	now TakenCake is true.
Instead of eating slice of coffee cake:
	   say "Unable to resist, you scarf the coffee cake down, leaving crumbs and icing over your face. Worth it. You wipe your mouth and continue on.";
	now coffee cake is nowhere.

A old sandwich is an edible thing in Ruins of Starbucks. "An old, nasty-looking sandwich sticks out like a sore thumb in the food display at the front."
The description of old sandwich is "Mold is beginning to grow over the side. You wonder where the other food from the display case went."
Understand "sandwich" and "old-looking sandwich" as old sandwich.
Instead of eating the old sandwich:
	   say "You wouldn't eat this even if it was the last bit of food on Earth. Yuck.";
	   stop the action.

A wheeled toolbox is a supporter in the Ruins of Starbucks. "A stray, unmarked toolbox on wheels is parked not far from the scraps of the old cafe. A few trinkets dangle from the sides while a column of silver handles running down the center mark the various drawers."
The description of the wheeled toolbox is "The potentially helpful tools on the sides are secured under heavy duty locks. All but one lower drawer are also locked inward, visibly immovable."
Understand "toolbox" and "tools" as wheeled toolbox.

A lower drawer is a closed openable container on the wheeled toolbox.
The lower drawer is scenery.
The description of the lower drawer is "The one unlocked drawer on the whole piece. It's apparently fairly deep, maybe able to fit a few sizable boxes and some spare clothing."
Understand "drawer" and "bottom drawer" as lower drawer.

A blue rubber ball is a kickable thing in the Ruins of Starbucks.
The description of blue rubber ball is "A simple, unmarked blue rubber ball. You probably shouldn't kick it. Then again, what's the harm?"
Blue rubber ball is fixed in place.
Understand "ball" and "rubber ball" as blue rubber ball.
Instead of kicking blue rubber ball:
	say "You take a step back, then skip forward before delivering a swift blow with your dominant foot. The ball sails for a while until it crashes into a far-off bookcase. Didn't seem to do much.";
	now blue rubber ball is nowhere.

A construction helmet is a wearable thing in the lower drawer.
The description of construction helmet is "A sturdy, white construction helmet. Useful for keeping your noggin safe from the occasional bump. It also happens to have a nifty flashlight on top for seeing in the dark."
Understand "helmet" and "hat" and "construction hat" as construction helmet.
Instead of taking construction helmet:
	   say "This could be useful, either for you or someone else.";
	   now player has construction helmet.

A mysterious blinking gadget is a switched off device in the lower drawer.
The mysterious blinking gadget is fixed in place.
The description of mysterious blinking gadget is "Some sort of hi-tech construction instrument, almost like a smartphone but large and mounted on the side of the drawer. While there are a bunch of different gauges, meters, and even a small touchscreen[if switched on] spewing all sorts of data at you[end if], it's difficult to ascertain its intended purpose. There is a large, red power switch on the side. Or at least you believe it's a power switch."
Understand "blinking gadget" and "gadget" and "instrument" as mysterious blinking gadget.
Instead of switching on mysterious blinking gadget:
	say "You flip the big red switch on the side and stand back just in case something goes awry. Fortunately for you, nothing out of the ordinary happens. The displays flicker, then stabilize while several other lights blink on.";
	now the mysterious blinking gadget is switched on;
	now PulseState is true.
Instead of switching off mysterious blinking gadget:
	say "You flip the big red switch on the side and stand back just in case something goes amiss. Fortunately again, nothing out of the ordinary happens. The displays flicker, then go dark, and the lights suddenly stop.";
	now the mysterious blinking gadget is switched off;
	now PulseState is false.

A small radar is a switched off device in the lower drawer.
The description of small radar is "Some kind of bizarre radar device with just one button on its face and a dim screen to show you... something. You're not sure what its purpose is, but you could try scanning places with it."
Understand "radar" and "scanner" as small radar.
Instead of taking small radar:
	say "It looks useful pretty useful, even if you aren't sure what it exactly detects. You might be able to scan for notable things hidden around you, though.";
	now player has small radar.
Instead of switching on small radar:
	say "You poke the button and examine the screen for changes.";
	now the small radar is switched on;
Instead of switching off small radar:
	say "You poke the button and put the radar away.";
	now the small radar is switched off;

A giant pile of unchecked packages is a stable thing in Amazon@Illinois. "A giant pile of unchecked packages is next to you[if fallen], scattered from the tumble they took.[end if]. It looks like these have been here for a while."
A giant pile of unchecked packages is fixed in place.
Understand "pile of packages" and "huge pile" and "giant pile" and "pile" and "packages" and "boxes" and "cargo" as giant pile of unchecked packages.

Instead of examining giant pile of unchecked packages:
	if giant pile of unchecked packages is stable:
		choose a random row in the Table of PackageDescriptions;
		say "[description entry] The packages look like they'll stand. For now.";
		The Pile Falls in three turns from now;
		now the giant pile of unchecked packages is unstable;
		stop the action;
	if giant pile of unchecked packages is unstable:
		choose a random row in the Table of PackageDescriptions;
		say "[description entry] Now the pile is swaying slightly. Not good.";
		now the giant pile of unchecked packages is falling;
		stop the action;
	if giant pile of unchecked packages is falling:
		choose a random row in the Table of PackageDescriptions;
		say "Run!";
		stop the action.

At the time when The Pile Falls:
	say "The pile of packages is collapsing!";
	now giant pile of unchecked packages is fallen;
	if player is in Amazon@Illinois:
		say "You've discovered your doom beneath the countless online orders of a large university population.";
		now KilledByAmazon is completed;
		now Currentending is KilledByAmazon;
		now the giant pile of unchecked packages is stable;
		End the Journey;
		stop the action;
	if player is in BookstoreInterior or player is in Ruins of Starbucks or player is in Union Second Floor or player is in BookstoreBasement:
		say "You hear the pile of boxes near the lockers finally collapse. Good thing you weren't anywhere near 'em!"

lockers are a cache in Amazon@Illinois.
lockers are scenery.
Instead of examining lockers:
	say "You peer into the open lockers and notice a sparkling gem in one of them.";
	now sparkling crystal is in lockers.

A sparkling crystal is a thing.
The description of sparkling crystal is "A shiny gem that was hidden in the back of one of the lockers at the Illinois@Amazon site. You wonder why you couldn't spot it before."
Understand "crystal" and "gem" as sparkling crystal.

Table of PackageDescriptions
description
"You think you can spot a friend's name on a label."
"Is that one for your professor? It looks absurdly long."
"Looks like someone got some new shoes."
"Lots and lots of textbooks. Ugh."
"Some of these look beaten and crumpled beyond recognition."

PART 3 - CHAMPAIGN ESPRESSO

gotID is a truth state variable. gotID is false.
gotSub is a truth state variable. gotSub is false.
gotCrystal is a truth state variable. gotCrystal is false.
HadCoffee is a  truth state variable. HadCoffee is false.

ChampaignEspresso is a RoomProxy in DanielStreet2016.
The printed name of ChampaignEspresso is "Espresso Royale".

ChampaignEspressoInterior is an Interior Location. "You pass through the doors and find a place to sit within Espresso Royale. The heavy aroma of coffee fills the air, while signs list the coffee and espresso drinks for sale. Beside you is a display counter full of pastries and sandwiches, and a chalkboard nearby lists the daily specials in a multitude of colors.[paragraph break]Stairs lead [bold type]down[roman type], or you can [bold type]exit[roman type] to Daniel Street from here.".
The printed name of ChampaignEspressoInterior is "Inside Espresso".

ChampaignEspressoInterior is inside from DanielStreet2016.
DanielStreet2016 is outside from ChampaignEspressoInterior.

EspressoBasement is down from ChampaignEspressoInterior. "You are in the basement of Espresso Royale. Couches and chairs fill the basement, and a few paintings adorn the walls. Students sit, studying or in conversation. A staircase in the middle of the room leads up.".
The printed name of EspressoBasement is "Espresso Basement".

The ER counter is scenery in ChampaignEspressoInterior. "The counter is full of tempting treats."
Understand "counter" and "display counter" as ER counter.
The printed name of ER counter is "counter".
The ER chalkboard is scenery in ChampaignEspressoInterior. "The counter proudly proclaims that any size lattes are $2 on Wednesdays."
Understand "chalk board" and "chalkboard" as ER chalkboard.
CupOfCoffee is a drinkable thing. "A steaming hot cup of coffee sits here.".
CupOfCoffee is on the ER counter.
The printed name of CupOfCoffee is "cup of coffee".
Understand "cup of coffee" and  "espresso" and "hot cup of coffee" and "coffee" as CupOfCoffee.

The description of CupOfCoffee is "The coffee is served black and smells delightful. It doesn't seem to belong to anybody. It's just sitting here, all lonely.".
Understand "espresso" as CupOfCoffee.
Instead of eating CupOfCoffee:
	say "You try to take a bite out of the coffee, but it just runs through your teeth and makes a mess.";
	stop the action.
Instead of drinking CupOfCoffee:
	say "The coffee is richly flavored and invigorating. Your caffeine headache melts away.";
	if HadCoffee is false:
		now HadCoffee is true.

blueberry scone is an edible thing. "A large scone sits here.".
blueberry scone is on the ER counter.
The description of the blueberry scone is "The scone is hard and dry and flecked with blueberries.".
Understand "blueberry" and "scone" and "large scone" as blueberry scone.
Instead of eating blueberry scone:
	say "The scone is flakes apart even as you eat it. It's so dry it does leave you feeling bit thirsty.";
	stop the action;

a banged up guitar is in EspressoBasement.
The description of the banged up guitar is "An old, fairly standard guitar. It looks out of tune."
Instead of playing the banged up guitar:
	say "You try playing a few notes, but the guitar is terribly out of tune. The notes are screechy, and you are forced to give up.";
	stop the action.

oil paintings are a cheap rare item in EspressoBasement. "There is often art for sale on the walls of Espresso Royale. The inventory changes quickly, but this week's paintings look like the works of a madman, all abstract shapes and garish colors."
Understand "paintings" and "art" as oil paintings.
oil paintings are scenery.

Instead of taking oil paintings:
	say "You begin to lift up one of the paintings, but the thought of decorating your kitchen with these turns your stomach. You put it back.";
	stop the action.

The barista is a woman in ChampaignEspresso.
the barista is scenery. Understand "employee" and "Espresso Royale employee" and "Espresso Royale barista" as barista.
The description of the barista is "A woman with dark hair and an Espresso Royale apron regards you coolly from behind the counter.".
the caffeinating students are some people in EspressoBasement.
the caffeinating students are scenery. Understand "students" and "Espresso Royale students" and "patrons" as caffeinating students.
The description of the students is "Working hard, or hardly working? It is difficult to tell if the students hunched over their laptops are studying or just checking Facebook."
Instead of talking to Nate:
	say "He exchanges pleasantries with you, but it looks like he needs to get back to work."
Instead of talking to Faith:
	say "The woman behind the counter says, 'Welcome to Silver Mine, would you like to order a sandwich?'".
Instead of talking to the GraySquirrel:
	say "The squirrel watches you with large, dark eyes."
Instead of talking to the barista:
	say "'Hello! Can I get you a coffee?'"
Instead of talking to caffeinating students:
	say "You try making small talk with a couple of students, but they seem eager to rejoin their friends."
Instead of giving something to Nate:
	if the noun is a SilverMine sub:
		say "'Sorry, I can't take sandwiches back once they've been touched by a customer. Unhygienic.' He shrugs.";
		stop the action;
	else:
		say "'Huh? What's this? Um, alright.' The man pockets it.";
		now Nate has the noun;
		stop the action.
Instead of giving something to Faith:
	if the noun is a sandwich receipt:
		say "'Yeah, the key code to the bathroom is written at the top of the receipt. What, you want a refund or something? No way.'";
		stop the action;
	if the noun is a SilverMine sub:
		say "'Is there something wrong with your sandwich?' she asks. Then after a pause: 'It's food. You eat it,' she rolls her eyes and gets back to work.";
		stop the action;
	else:
		say "The woman just looks at you for a moment. 'No thanks.' She turns back to her work.";
		stop the action.

Instead of giving something to the caffeinating students:
	say "One of the students shouts, 'yoink!' and slips it into his backpack.";
	stop the action.

Instead of giving something to the barista:
	say "'That's really not necessary. Would you like to order something?'";
	stop the action.

PART 4 - KAM'S

KamsInterior is an interior location. "[if unvisited]You boldly stride into Kam's, but are unprepared for what awaits you. The stench of sweat and vomit makes your head spin. [end if]A rowdy bunch of liberal arts students are here listening to deafening music and drinking overpriced beer. You don't want to touch anything for fear you'll pick up some horrible disease. The only thing to do when you find yourself inside of Kam's is to ESCAPE."

[Need to create the rowdy bunch of liberal arts tudents and the overpriced beer. Maybe also the horrible diseases]

The printed name of KamsInterior is "Kam's".
Kams is a RoomProxy in DanielStreet2016.  Understand "Kam's" as Kams.
DanielStreet2016 is outside from KamsInterior.

Instead of exiting when player is in Kams:
	say "You stagger back out onto the street.";
	Now Player is in DanielStreet2016;
	stop the action.


PART 5 - SILVER MINE SUBS

[Notes:

Strange figure has no initial description in the Bathroom
Wall has no initial description in Bathroom
"Colorful menu" in Silver Mine Subs
No counter in silver mine subs
No uniformed workers
No sandwiches
No customers
No booths
No food
No hurried delivery man
No woman in the bathroom door

  ]

SilverMineSubs is a RoomProxy in DanielStreet2016.

Understand "Silver Mine" and "Silver Mine Subs" and "Sub shop" as SilverMineSubs.
The printed name of SilverMineSubs is "Silver MIne Subs."
The description of SilverMineSubs is "The restaurant looks fairly clean and friendly. You can go[bold type] in [roman type]from here."

SilverMineInterior is an interior location. "[if unvisited]As you enter, you are greeted with the smell of freshly baked bread.[paragraph break][end if]You are in Silver Mine Subs now. You see a colorful menu above the counter before you, where an assembly line of uniformed workers builds sandwiches. Customers sit at booths, waiting or enjoying their food. You notice a bathroom to the [bold type]north[roman type]. You can go [bold type]out[roman type] of the restaurant back to Daniel Street."
The printed name of SilverMineInterior is "Silver Mine Subs".

DanielStreet2016 is outside from SilverMineInterior

SilverMineBathroom is a room. "You are in a small bathroom. There is a light switch on the wall. You can exit here by going [bold type]south[roman type]."


Instead of going north from SilverMineInterior:
	say "A sturdy pair of doors with keypads lead to the bathrooms. 'The bathrooms are for customers only,' the woman behind the counter hollers."

SilverMineCounter is a supporter in SilverMineInterior.
The printed name of SilverMineCounter is "restaurant counter".
SilverMineCounter is scenery.

The description of the SilverMine Counter is "A long counter dominates the room. Workers periodically place sandwiches on the counter."
["You stare at the sandwich counter and begin to feel hungry."]
Understand "sandwich counter" as SilverMine Counter.
A sandwichwrapper is on the SilverMine counter.
The printed name of sandwich wrapper is "a sandwich wrapper".
SilverMine bathroom door is an openable, closed, lockable, locked scenery door.
SilverMine bathroom door is north of SilverMineInterior and south of SilverMine Bathrooms.
The printed name of SilverMine bathroom door is "restroom door".
Understand "keypad" as SilverMine bathroom door.
The sandwich receipt unlocks the SilverMine bathroom door.
A sandwich receipt is on the SilverMine counter.
The description of the sandwich receipt is "A bill of sale for a sandwich. It has the code to the bathroom printed at the top. You could probably use it to unlock the doors."
[The sandwich receipt is scenery on the Silver Mine counter. ]
Understand "sub receipt" and "receipt" and "code" as sandwich receipt.
Instead of unlocking the SilverMine bathroom door with the sandwich receipt:
	say "You punch in the code, and the door unlocks.";
	now the SilverMine bathroom door is unlocked.

Instead of going north from SilverMineInterior:
	if the player has the sandwich receipt:
		say "'The bathrooms are for customers only!' hollers a woman behind the counter.' You flash your receipt at the Silver Mine employee, and she grunts her permission. You open the door, and step inside.";
		now player is in SilverMine Bathrooms;
	else:
		say "'The bathrooms are for customers only!' hollers a woman behind the counter.'"
SilverMinelightswitch is a lightswitch.
SilverMinelightswitch is in SilverMine bathrooms.
SilverMinelightswitch is scenery.
The description of SilverMinelightswitch is "It is a lightswitch."
Understand "light switch" and "lightswitch" and "wall switch" as SilverMinelightswitch.
Instead of switching off SilverMinelightswitch:
	say "You consider turning off the light and leaving yourself in absolute darkness, all alone, in the bathroom, but think better of it."
A SilverMine sub is an edible thing on the SilverMine counter.
The description of SilverMine sub is "A sandwich made of some unidentifiable deli meat, wilty veggies and a cheese food product draped on top."
Understand "sub" and "sandwich" as SilverMine sub.
The printed name of SilverMine sub is "Silver Mine Sub".

Instead of eating the SilverMine sub:
	say "You wolf down the sandwich, and feel full, but a little gassy.";
	now the SilverMine sub is nowhere.

[
The sandwich - it's there?
The sub - It's there?
The counter - It's there?
Scone needs "Large scone"
		Infinite Scones when you eat on counter
Coffee needs "hot cup of coffee"
		Infinite coffee when you drink on counter
]

Nate is a person in SilverMineInterior. "A harried looking delivery man in a Silver Mine Subs uniform is hurrying past."
Understand "driver" and "delivery  man" and "man" and "delivery driver" and "Silver Mine delivery" as Nate.
The description of Nate is "The delivery man is about thirty, carrying a large bag of sandwiches. His nametag reads, 'Nate.'"
Nate can be out on delivery or heading back. Nate is heading back.
Faith is a female person in SilverMineInterior.
Faith is scenery. Understand "employee" and "worker" and "Silver Mine worker" and "Silver Mine Subs worker" and "in-shop worker" as Faith.
The description of Faith is "A woman in a Silver Mine Subs uniform is standing behind the counter. She warily meets your gaze.".


Instead of examining Nate:
	say "A harried looking delivery man in a Silver Mine Subs uniform is hurrying past. ";
	if Nate carries something:
		[say "He is carrying [a list of things carried by Nate]. ";]
		say "He is carrying: ";
		repeat with C running through the things carried by Nate:
			say "a [C] ";
	if Nate is wearing something:
		say "He is wearing [a list of things worn by Nate].".


[Asking about:]
Instead of asking Nate about "deliveries":
	say "'He nods. 'I'm on a delivery right now.'"
Instead of asking Nate about "delivery":
	say "'He nods. 'I'm on a delivery right now.'"
Instead of asking Nate about something:
	say "'Sorry, but I really need to get going. I'm already late for my next delivery."
Instead of asking Faith about "sandwich":
	say "'Here you go,' she says as she hands you a sandwich. 'And here's your receipt.'";
	now the player has the SilverMine sub;
	now the player has the sandwich receipt.
Instead of asking Faith about "sub":
	say "'Here you go,' she says as she hands you a sandwich. 'And here's your receipt.'";
	now the player has the SilverMine sub;
	now the player has the sandwich receipt.
Instead of asking Faith about "Silver Mine sub":
	say "'Here you go,' she says as she hands you a sandwich. 'And here's your receipt.'";
	now the player has the SilverMine sub;
	now the player has the sandwich receipt.
Instead of asking Faith about "Silver Mine sandwich":
	say "'Here you go,' she says as she hands you a sandwich. 'And here's your receipt.'";
	now the player has the SilverMine sub;
	now the player has the sandwich receipt.
Instead of asking Faith about "order":
	say "''The Cripple Creek is one of our most popular subs.'"
Instead of asking Faith about "bathroom":
	say "'The bathrooms are for paying customers only.'"
Instead of asking Faith about "bathrooms":
	say "'The bathrooms are for paying customers only.'"
Instead of asking Faith about something:
	say "'We're really busy right now. I'm sure you can find someone else to help you with that.'"
Instead of asking the GraySquirrel about something:
	say "The squirrel seems to listen closely but says nothing in return."
Instead of asking the barista about "Espresso Royale":
	say "Welcome to Espresso Royale. We have several locations throughout CU."
Instead of asking the barista about "basement":
	say "Feel free to use to grab a seat in the basement to study or relax."
Instead of asking the barista about "coffee":
	say "'Coming right up!' The barista hands you a cup of coffee in a cardboard sleeve.";
	now the player has coffee.
Instead of asking the barista about "scone":
	say "Here you go,' the barista hands you a dry, hard scone.";
	now the player has the blueberry scone.
Instead of asking the barista about "blueberry scone":
	say "Here you go,' the barista hands you a dry, hard scone.";
	now the player has the blueberry scone.
Instead of asking the barista about something:
	say "'We're really busy now. Can this wait?'"
Instead of interrogating the caffeinating students about something:
	say "One of the students gives a noncommittal shrug, then puts her headphones back in."
[Interrogating:]
Instead of interrogating Nate about Faith:
	say "Faith? Yeah, she's pretty cool.'"
Instead of interrogating Nate about SilverMineSubs:
	say "'I work there as a delivery driver.' He pauses. 'Good sandwiches.'";
Instead of interrogating Nate about something:
	say "'Sorry, but I really need to get going. I'm already late for my next delivery.'"
Instead of interrogating Faith about Nate:
	say "Nate? Yeah, he's pretty cool.'"
Instead of interrogating Faith about SilverMineSubs:
	say "'Welcome to Silver Mine Subs. What can I get you?'";
Instead of interrogating Faith about the SilverMine sub:
	if the player has the SilverMine sub:
		say "'That sub? You can have it.'";
	else:
		say "'Here you go,' she says as she hands you a sandwich. 'And here's your receipt.'";
		now the player has the SilverMine sub;
		now the player has the sandwich receipt.
Instead of interrogating Faith about something:
	say "'Sorry, I'm really busy right now. Would you like to order a sandwich or something?'"
Instead of interrogating the GraySquirrel about something:
	say "The squirrel cocks its head and flicks its tail, but gives you no other response."
Instead of interrogating the barista about ER:
	say "Welcome to Espresso Royale. We have several locations throughout CU."
Instead of interrogating the barista about EspressoBasement:
	say "Feel free to use to grab a seat in the basement to study or relax."
Instead of interrogating the barista about the coffee:
	say "'Coming right up!' The barista hands you a cup of coffee in a  cardboard sleeve.";
	now the player has coffee.
Instead of interrogating the barista about coffee:
	say "Here you go,' the barista hands you a dry, hard scone.";
	now the player has the blueberry scone.
Instead of interrogating the barista about something:
	say "'We're really busy now. Can this wait?'"
Instead of interrogating the caffeinating students about something:
	say "One of the students gives a noncommittal shrug, then puts her headphones back in."
[Attacking:]

Instead of drinking coffee:
	say "Not a great roast, but does the trick.";
	now HadCoffee is true. 

PART 6 - INTERNATIONAL STUDIES BUILDING

InternationalInterior is an Interior Location. "You are in the foyer of the International Studies Building. A row of clocks are mounted above a set of doorways to the [bold type]north[roman type]. You can exit to the street from here."
The printed name of InternationalInterior is "International Studies Foyer".
International Studies Building is outside from InternationalInterior.
InternationalStudies is a RoomProxy in International Studies Building.
The printed name of InternationalStudies is "International Studies Building".
Understand "International Studies" and "International Studies building" as InternationalStudies.

PART 7 - McKINLEY & PRESBY HALL 

PresbyInterior is an Interior Location. "You are in the entrance to Presby Hall. You can [bold type]exit[roman type] the residence hall from here." 
The printed name of PresbyInterior is "Inside Presby Hall". 
Presby Hall is outside from PresbyInterior. 
PresbyHall is a RoomProxy in Presby Hall. 
The printed name of PresbyHall is "Presby Hall".
Understand "Presby Hall" and "Presby" as PresbyHall. 

McKinleyFoundInterior is an Interior Location. "You are in the entrance to McKinley Foundation. Nothing happening in this hotbed of social justice activities at the moment. You can [bold type]exit[roman type] the residence hall from here." 
The printed name of McKinleyFoundInterior is "Inside McKinley Foundation". 
McKinley Foundation is outside from McKinleyFoundInterior. 
McKinleyFoundation is a RoomProxy in McKinley Foundation. 
The printed name of McKinleyFoundation is "McKinley Foundation ".
Understand "McKinley Foundation " and "McKinley" as McKinleyFoundation. 

PART 8 - THE iSCHOOL

TheISchool is a roomproxy in The iSchool. The printed name of TheiSchool is "The iSchool".
The description of TheiSchool is "
A large sign reads,iSchool 501 E.Daniels written in the standard University branded font. Legend has it that an ancient fraternal order once used this as their lair."

iSchoolInterior is an Interior Location. "You are inside the iSchool. It's a peculiar place, doors and stairs leading to places that could only come from an M.C. Escher illustration. It's not quite the first floor but it's not in the basement, it is literally middle ground. Posters containing magical formulas and drawings line the walls. This is the work of student apprentices training for the academy. You see a small book cases peering at you through glass windows. A staircase invites you to leave the saftey of middle ground and ascend to the first floor."
The printed name of iSchoolInterior is "Ground Floor".

A vintage printing press is in iSchoolInterior. "An old printing press is on display here."

The vintage printing press is a supporter. The vintage printing press is fixed in place.
The description of the printing press is "It is an antique printing press with various knobs and mechanical parts."

iSchoolInterior is inside from The iSchool.

iSchoolFirstFloor is up from iSchoolInterior. "[if unvisited]A receptionist greets you at the entrance to the iSchool offices. You ask the receptionist where the bathroom is. She tells you it is to the [bold type]west[roman type].[else]The receptionist ignores you as you walk past her. Probably for the better. The Lecture Hall is to the [bold type]west[roman type] and the bathroom is to the [bold type]northwest[roman type]. You may go [bold type]up[roman type] and [bold type]down[roman type] from here."
The printed name of iSchoolFirstFloor is "First Floor".

iSChoolAttic is up from ISchoolFirstFloor. "You are in a small musty room. "

August the Archivist is a person in ischoolAttic. "A computer sits in the corner of the beeping. August, the archivist, is watching the screen."
The Archivist is carrying a black book. The description of black book is "The book is black with silver engravings."
The Archivist is wearing a black iSchool t-shirt. The description of a iSchool t-shirt is "It says Most archivists don't like surprises. That's why we work in the past - Author: Brad Meltzer on it."

Instead of examining August the archivist:
	say "August runs archive. He looks busy. Very very busy. ";
	if archivist carries something:
		say "He is carrying [a list of things carried by Archivist]. ";
	if archivist is wearing something:
		say "He is wearing [a list of things worn by Archivist]."

Instead of talking to August the archivist:
	say "He is too busy to talk to you.";
	stop the action.

Instead of asking August about something:
	say "He seems to be ignoring you.";
	stop the action.

Instead of interrogating August about something:
	say "August has absolutely no interest in you.";
	stop the action.

Instead of taking black book:
	if archivist is holding black book:
		say "You attempt to grab the black book out of August's hand. He gives you a weird look. 'Clearly you need this more than me, be careful what your wish for.,' he says, as he shoves it into your hand.";
		now player has black book;
	else:
		continue the action.

Every turn when archivist is in the location:
	if a random chance of 1 in 5 succeeds:
		if player is not attacked:
			say "August[one of]is saying, 'So many books so little time'[or] is doing archival stuff [or] is looking for money to get archival supplies[or] is thinking about conferences he can go to [or] is helping dig things out of the archive [or] informs you that there might be a something special in the attic [or] is looking for new jobs [or] is day dreaming about being a rockstar [at random]."

Every turn when player is in iSchoolInteriorMap:
	if a random chance of 1 in 30 succeeds:
		choose a random row in the Table of iSchoolRandom Events;
		say "The completely random event librarian appears in the room like Geico and [event entry][line break]"

Table of iSchoolRandom Events
event
"gives you funding for that new project you wanted."
"thinks about giving you a better facility."
"drops a box of old GSLIS tshirts at your feet and makes you fold them."
"makes you stand in line at Espresso Royale but there is no more coffee left."
"tells you to get 5 balls of yarn for library students to play with."


iSchoolLectureHall is west of iSchoolFirstFloor. "[if unvisited]You swing open the doors rather violently, expecting to find yourself in a bathroom. Instead, the room is flooded with students gathering for a club meeting. Whoops, sometimes it's more fun to embarrass you than to give you the right directions, but now you can head [bold type]northeast[roman type] from here to find the nearest bathroom.[else]A professor and her students stare at you as you interrupt their class. You can go back [bold type]east[roman type] and then [bold type]northeast[roman type] to the bathroom or [bold type]down[roman type] to the foyer.".
The printed name of iSchoolLectureHall is "iSchool Lecture Hall".

ischoolBathroom is northwest of iSchoolFirstFloor and northeast of iSchool Lecture Hall. "[if unvisited]The memory of the practical joke fades as you wash your hands of the matter, quite literally. Once done, you enter a stall and immediately notice the messages written on the walls.[paragraph break]Usually you see inspirational quotes or angry messages about past relationships, but the most striking of all this graffiti is that which reads, 'Ghosts are coming for you,' and that's because it repeats to fill every inch of this stall, and the next, and the next. You don't think any human could accomplish a task such as this. You should probably go [bold type]up[roman type]stairs to hide from these messages.[else]Why are you back here? You were told to hide! You better keep going moving, [bold type]up[roman type] or [bold type]down[roman type], or [bold type]southeast[roman type]. [end if]".
the printed name of iSchoolBathroom is "iSchool Bathroom".

Locked 1032 is above ischoolBathroom. "[if unvisited]You walk around the building and decide you want to sit down and rest for a bit. There's only one classroom in the hallway you're in, and there's a white glow coming from the crack underneath the door. Curious, you try and open the door, but the handle doesn't move when you jiggle it. You put your ear against the door and hear a faint sound, like the thumping of your heart after you've run a mile or five. You bang on the door with your fists, your feet, all quite ineffectively. You try everything you can think of until you're exhausted. Just when you're about to give up, the door clicks and unlocks of its own accord.[else]Opening the door, 70s music blares from speakers while men with afros dance around. They still have no clue you exist as you walk around. You should go see if there's a party in the basement too.[end if][paragraph break]The bathroom is [bold type]down[roman type]stairs from here.".

iSchool Basement is below ischoolBathroom. "[if unvisited]You start walking around the building, taking the stairs down to the lowest floor as you see men and women dressed in rollerskates heading down there. A lot of the men are dressed in fraternity letters. You remember that this building belonged to a fraternity decades ago until the university bought it. Decked out with a roller rink in the basement for parties, you just peek into the too-crowded basement. Did you just travel through time? Does it even matter anymore?[else]You will never get used to time travel, you decide, distracted by rollerblading frat guys from the '70s.[end if]You can go [bold type]up[roman type] to return to the bathroom from here.".


A person can be chased or unchased. Person is usually unchased.
Instead of going down from Your Car for the first time:
	Now the player is chased;
	Continue the action.

Instead of going up from the Daniel Street Parking when the player is chased:
	Say "A psychopath is in the Parking Garage looking for you! You don't want to run towards him! Run south!";
	now angryman is in the location;
	Stop the action.

Instead of taking black cat:
	say "It looks very happy in your car. You think you'll leave it there, and if it's still there when you go home, maybe you can keep it.";
	Now the description of the black cat is "It meows happily every time you look at it.";
	stop the action.


Before going south from Daniel Street Parking when player is chased:
	Now player is unchased;
	continue the action.


Table of Things Carried
2name	things
the Info minors	"their notebooks"
Professor Gasser	"his laptop"
the angryman	"his knife"
the dog	"its treats"

 Every turn when player is in Lecture Hall:
	if a random chance of 1 in 2 succeeds:
		choose a random row in the Table of Things Carried;
		say "You think you can hear [2name entry] messing with [things entry]."

Instead of going nowhere when player is in iSchool Basement:
	say "You don't have roller skates, so you can't head that way. You're so 2000 and late, not 1970s enough.";
	stop the action;
Instead of going nowhere when player is in Locked 1032:
	say "Just because you're surrounded by ghosts doesn't mean you suddenly have the ability to walk through walls and ceilings. Use the door to exit and the stairs to go down.";
	stop the action;
Instead of going nowhere when player is in Lecture Hall:
	say "You don't want to do that, all those students will see your pants and start posting pictures of you on the campus Yik Yak.";
	stop the action;

Instead of going nowhere when player is in Your Car:
	say "Why would you run anywhere but down in a parking garage?";
	stop the action;
Instead of going nowhere when player is in Illini Hall:
	say "Find a door on the west side of the building and then exit.";
	stop the action.

some Info minors are people in the Lecture Hall.
Understand "students" and "people" as info minors.
The info minors are scenery.
The description of the info minors is "They're listening to Professor Gasser teach them the lesson for the day."
Professor Gasser is a person in the lecture hall.
Understand "teacher" and "instructor" and "Professor Gasser" as professor.
The professor is scenery.
The description of the professor is "Professor Gasser teaches the Info Minors in his INFO 202 class."
Instead of examining info minors:
	say "Don't interrupt them! They're trying to do well in school unlike you."
Instead of talking to info minors:
	say "Seriously, that's so rude to interrupt the Professor - no wonder why your Statistics teach gave you a D."
Instead of asking info minors about [something]:
	say "Seriously, that's so rude to interrupt the Professor - no wonder why your Statistics professor gave you a D."
Instead of giving [something] to info minors:
		say "You probably should take that back... You probably need that."
Instead of attacking info minors:
	say "Save your energy for the real enemy."

angryman is a person.  "A angry man stands here threatening you with a hammer! Run away! Or fight...."
Understand "man" and "attacker" and "psycho" as angryman.
The description of the angryman is "A crazed man lurks around the parking garage, inflicting damage and enforcing fear. The only way to win this game is to avoid him... Or kill him."

MadManFollowing is a truth state variable.

Every turn when MadManFollowing is true and angryman is not in the location of the player:
	say "The angry man is stalking you.";
	now angryman is in the location of the player.


instead of examining the angryman:
	if MadManFollowing is false:
		now MadManFollowing is true;
		say "I would have thought you would know better than to mess with an actual psychopath.";
		stop the action;
	else:
		say "[one of] How dumb are you? If you think examining the angry man will help you, you need to play another game.[or] The only way to beat the angry man is with a weapon.[or]Get out some weapon and attack the guy.[stopping]";

Instead of talking to angryman:
	say "Really? Why would you do that? Now he's noticed you, and is going to follow you wherever you go.";
	now MadManFollowing is true.

Instead of giving [something] to angryman:
	say "You should try giving gifts to your friends instead of strangers. The angry man wastes no time in throwing your gift back at you. He's never going to stop stalking you now.";
	Now player is nowhere.

Instead of asking angryman about [something]:
	try talking to angryman.

Instead of attacking the angryman:
	say "You've had enough of being followed. You turn around and attack the weird psychopath with your bare hands. Unfortunately, it doesn't faze him at all, and he's got a hammer.[paragraph break]
	Next time, try attacking him with a [list of things carried by the player]."

Instead of Attacking angryman:
		say "You attack the angry man with the [noun]! He falls unconscious to the ground, and campus police arrive within minutes to take him away. You're a hero!";
		now MadManFollowing is false;
 		now ThingsAtHand is completed;
		now CurrentEnding is ThingsAtHand;
		End the Journey.

Frat Brothers are people in the Basement. The Frat Brothers are scenery.
Understand "guys" and "frat boys" and "frat guys" and "boys" and "men" as Frat Brothers.
[
The description of the Frat Brothers is "Flashback to the 70s! These guys are wearing rollerskates and clothes that you never thought could have even been invented!" ]
Instead of examining Frat Brothers:
	say "The Frat Brothers are clearly from the 70s but look a little ghostly. They have a translucent glow to them, and you wonder how you were so lucky to stumble upon the other world."
Instead of talking to Frat Brothers:
	say "Stinks for you, but ghosts can't hear or talk back!"
Instead of giving [something] to Frat Brothers:
	say "What's are ghosts supposed to do with that?"
Instead of asking Frat Brothers about [something]:
	say "Stinks for you, but ghosts can't hear or talk back - looks like you'll have to take your questions elsewhere!"
Instead of attacking the Frat Brothers:
	say "They're just ghosts - what do you expect to happen, dummy?"


classmate is a person in the Turner Student Services. "You see a friend from class here! You should go say hi."
Understand "person" and "guy" and "friend" as classmate.

The description of classmate is "This is the smartest guy in class and the one that tried to help you with your statistics class, but even he couldn't help you get a good grade."

Instead of examining classmate:
	say "Don't stare! Go talk to your friend!"

Instead of talking to classmate:
	say "You make small talk, catching up with your old friend from class, and he tells you about how he heard there's a angry man somewhere on campus terrorizing students. You hadn't heard that, but you tell him that's really good he warned you - this campus gets scary at night!"

Instead of giving [something] to classmate:
	say "You don't have anything of value; if you want to keep your friends close, I suggest you just keep talking instead."
Instead of asking classmate about [something]:
	say "After all the questions you asked him about statistics earlier in the year, do you really think he wants to hear another question from you? Your friend gets out of there quickly."
Instead of attacking the classmate :
	say "Woah, man! I don't know what kind of people you're friends with, but it's not normal at all to attack your friends. Way to scare your friend away."

[every turn when player is asking classmate friend about [something]:
	move classmate friend to Turner Student Services.]
[
The old door is a locked, lockable, closed container in Locked 1032. "You try to go into Locked 1032, but a locked door prevents you from entering."
The old door is fixed in place.
The description of the old door is "It's a wooden door that's seen it years, filled with scratch marks and paint splatters. It's just a door."
]

A weekly assignment is scenery in IlliniHallInterior.  "You've already turned it in. The professor won't give it back to you now."
Statistics professor is scenery in IlliniHallInterior.
The description of statistics professor is "He might be an okay guy, if he wasn't your statistics professor."

CompleteAssignment is a truth state variable. CompleteAssignment is false.
Instead of turning in weekly assignment:
	if player does not have weekly assignment:
		if CompleteAssignment is false:
			say "You forgot to bring your homework again. No wonder why your GPA's horrible - are you even trying to do anything with your life after college?";
			remove weekly assignment from play;
			now CompleteAssignment is true;
			now Weekly Assignment is in Illini Hall;
			stop the action;
		if CompleteAssignment is true:
			say "You overachiever, you! You already turned in the assignment.";
			stop the action.


An oval desk is a supporter in Turner Student Services.
The description of the oval desk is "It sits empty at the front entrance of the building. You ignore this and look for your friend's calculator."

A calculator is a device on the oval desk.  "You see your classmate's calculator sitting on the desk. He must have forgotten it."
The description of the calculator is "It's black with pencil marks all over it. You open up the calculator and see your friend's initials on the screen. Better take it with you."

[
The vending machine is a locked, closed container in Turner Student Services."There is a vending machine here. Get out your dollar bills, it's snack time!"
The vending machine is fixed in place.
The description of the vending machine is "Expensive but delicious looking food stares at you. You decide that you can't live without buying something from that machine. The only question is which snack packs should you buy."
After deciding the scope of the player when player is in Turner Student Services:
	place the snack pack in scope.
]
[Understand "Doritos" and "Chips" as snack pack.
a snack pack is an edible thing inside the vending machine."Yummy chips, which one to eat?"  ]

Snack Pack is an edible thing.

shattered glass is scenery in Your Car.
The description of shattered glass is "You step around the glass so as to not cut your feet."
After examining shattered glass:
	say "Suddenly a angry man jumps out from behind the car where he was hiding, and threatens you with a hammer! Run [bold type]down[roman type] to run away!";
	now angryman is in the location.

A welcome desk is a scenery supporter in iSchoolFirstFloor.
The welcome desk is fixed in place.
The description of the welcome desk is "A place of welcome."

[A jug of water is an edible thing on the welcome desk."Mmmm... yellow water."
The jug of water is fixed in place.
The description of the jug of water is "It's a mild yellow color, but you are so thirsty from the humidity outdoors you don't take a second thought when gulping it down from a nearby cup. It's so refreshing you consider asking the receptionist where they get their water from."
Understand "jug of water" as water.
]

The empty toilet dispenser is a closed, openable container in the iSchoolBathroom. "A silver box hangs from the wall and usually holds toilet paper. It appears to be empty."
The empty toilet dispenser is fixed in place.
The description of the empty toiler dispenser is "You'll have to open it to see if there's anything inside."
Understand "toilet dispenser" as toilet paper.

a black cat is a male animal in your car. "A cat is curled on the back seat of your car."
The description of the black cat is "A black cat alerts its presence, meowing while stretched out in the leather seats. You examine the cat and want to bring it home but you know your apartment doesn't allow pets."

A toilet paper roll is an open container in the empty toilet dispenser.

A fraternity badge is in the empty toilet dispenser.
The description of the fraternity badge is "A silver pin with Greek Letters is at the bottom of the empty toiler dispenser. You take it out and hold it."

Instead of taking toilet paper roll:
	say "You think about changing the empty toilet paper with a full roll, but realize you don't work there."

Instead of examining calculator:
	say "You scroll through your friend's calculator to see if he saved any of his answers on his calculator for the homework, so you can get better than a D in Statistics. Once you find all the answers, you switch it off and put it in your backpack.";
	Now player has calculator.

A pink candle is in the iSchoolBasement. "A candle could be a pretty useful thing to take with you."
The description of the the pink candle is "This candle could probably burn for 8 hours."

Instead of burning something:
	if noun is not pink candle:
		say "Are you trying to start a fire? What a stupid way to almost kill yourself.";
		stop the action;
	else:
		if candle is unlit:
			say "A light to guide you. Use the flame wisely.You light the [noun] on fire. Remember to conserve the candle and don't let it burn out.";
			The Candle is warned in Five Turns from now;
			The Candle Goes out in Ten Turns from now;
			now the candle is lit;
		else:
			say "The candle is already lit. Better hurry, it is melting fast!"

At the Time when the Candle is Warned:
	say "You'd better hurry! The candle is half way burned down!".

At the Time when The Candle Goes Out:
	say "The candle burns down to nothing and disappears.";
	now pink candle is nowhere.
Blowing is an action applying to nothing.
Blowing it is an action applying to one visible thing. Understand "blow [something]" as blowing it.
Check blowing it:
	if noun is not a candle:
		say "Conserve your energy for something else.";
		stop the action;
	else:
		say "You blow the candle out to save the light for another time.";
		continue the action;
Carry out blowing:
	say "You still have a little candle left now."



Instead of examining the candle:
	say "You put the candle in your backpack. Better safe than sorry.";
	Now player has the candle.
Instead of examining the cat:
		say "You pick the cat up and bring it with you. You know you shouldn't do it, but it's just too cute to leave abandoned.";
		Now player has cat.


Instead of taking the fraternity badge:
	say "You wear the pin. Everytime you touch it, you can hear 70s music and men yelling faintly in the distance. It seems to transport you to another time";
	Now player has fraternity badge;
	now FratPin is completed;
	now CurrentEnding is FratPin;
	End the Journey.

A rain coat is a kind of coat. A rain coat can be hooded or unhooded. A rain coat is usually hooded.
A winter coat is a kind of coat. A winter coat can be puffy or furry. A winter coat is usually puffy.
A windbreaker is a kind of coat. A windbreaker can be thin or thick. A windbreaker is usually thin.
A Northface is a windbreaker.

Instead of putting on coat:
	if noun is unhooded:
		say "You really need to find a coat with a hood for the rain!";
	if noun is furry:
		say "Looks like you're a big fan of wearing animals.";
	if noun is thin:
		say "You could still get wind burnt with that thing - you need something thicker!"

[This could be a puzzle about which coat to wear ibased on weather?]

After examining fraternity badge for the first time:
	say "You hear a loud beeping, alerting you that you have not been alone this whole time. Before you can see who it is, you hear them running away."

Instead of taking fraternity badge for the first time:
	say "You're a member now. Wear it proudly.";
	continue the action.


PART 9 - GREEN STREET

SECTION 1 - PANERA

PaneraInterior is an Interior Location

Understand "Panera" and "Panera Bread" as PaneraInterior.

Panera is a RoomProxy in NorthGreenStreet.

The printed name of Panera is "Panera Bread".

The printed name of PaneraInterior is "Panera Bread".

The description of Panera is "Before you is Campustown's Panera Bread. You can smell the bread from the sidewalk, making your mouth water."

Understand "Panera Bread" and "Panara" and "Panara Bread" as Panera.

bread bowl is an edible thing.

The description of Bread Bowl is "A big bowl made out of bread containing delicious soup."

Understand "breadbowl" and "soup" as bread bowl.

Panera cashier is a man in PaneraInterior. "A young man in a Panera uniform is behind the counter. He's looking at you like he's waiting to take your order."

understand "cashier" as panera cashier.

Panera employee uniform is a wearable thing. "The uniform of a Panera employee. You can't get one if you don't work here."

Panera cashier is wearing Panera employee uniform.

Understand "Panera uniform" as Panera employee uniform.

Panera pager is a scenery thing. "A small black box that buzzes and lights up when your Panera order is ready."

Panera pager is on Panera counter.

Panera counter is a scenery supporter in PaneraInterior. "This counter seperates the employees of Panera from the customers. Best not to go behind it unless you want kicked out."

Understand "pager" and "Panera Bread pager" and "buzzer" as Panera pager.

Panera counter is fixed in place.

Panera cash register is a locked scenery container on Panera counter. "This is the cash register belonging to Panera. There's money inside but it's locked and doesn't belong to you."

Panera cash register is fixed in place.

PlayerHasBuzzer is a truth state variable.
PlayerHasBuzzer is false.

PlayerGrabbedBuzzer is a truth state variable.
PlayerGrabbedBuzzer is false.

BuzzerIsBuzzing is a truth state variable.
BuzzerIsBuzzing is false.

PaneraBuzzerCountdown is a number variable.
PaneraBuzzerCountdown is 0.

Instead of talking to Panera cashier for the first time:
	say "The cashier looks at you and smiles. 'Hello! We're currently giving out our new and improved Bread Bowls to interested customers. If you'd like to try one, just grab a pager from the counter and we'll notify you once yours is ready!'"
	
Instead of taking Panera pager:
	say "[if PlayerGrabbedBuzzer is false]You took the pager off of the counter. Now you just have to wait for it to buzz.[else]You pick the pager back up.";
	now player has Panera pager;
	now PlayerGrabbedBuzzer is true;
	now PlayerHasBuzzer is true.
	
Every turn when PlayerHasBuzzer is true:
	increase PaneraBuzzerCountdown by 1.

Before dropping Panera pager:
	say "[if BuzzerIsBuzzing is true]Annoyed by the constant buzzing, you drop the pager. Clearly you value your sanity more than a bread bowl.[else]Rather than waiting for your bread bowl to be ready, you decide to leave the buzzer here for now.";
	now PlayerHasBuzzer is false.
	
Every turn when PaneraBuzzerCountdown is 5:
	now BuzzerIsBuzzing is true.
	
Every turn when PlayerHasBuzzer is true and BuzzerIsBuzzing is true:
	say "The pager you got from Panera is buzzing, meaning your bread bowl is ready."
	
Instead of talking to Panera cashier:
	say "[if PlayerGrabbedBuzzer is false]'Like I said, the pager is right here on the counter. You're welcome to take one if you're interested in a Bread Bowl.'[else if PlayerGrabbedBuzzer is true and PlayerHasBuzzer is false]The cashier looks at you confused. 'I already gave you a pager, and unfortunately the deal only allows one per customer.'[else if PlayerHasBuzzer is true and BuzzerIsBuzzing is false]'You already have a pager. Once it starts buzzing, come to me to get your bread bowl!'[else if PlayerHasBuzzer is true and BuzzerIsBuzzing is true]'Looks like your bread bowl is ready! Go ahead and hand me the pager so you can get your bowl!'"
	
Instead of giving Panera pager to Panera cashier:
	if PlayerGrabbedBuzzer is false:
		say "You haven't even taken a pager yet, how do you expect to give it to the cashier?";
	else if PlayerGrabbedBuzzer is true and PlayerHasBuzzer is false:
		say "You don't have the pager on you, so you can't give it to the cashier.";
	else if PlayerHasBuzzer is true and BuzzerIsBuzzing is false:
		say "'You should hold onto that until your food is ready!'";
	else if PlayerHasBuzzer is true and BuzzerIsBuzzing is true:
		say "'Thanks for bringing the pager back. Here's your bread bowl!'";
		now BuzzerIsBuzzing is false;
		now PlayerHasBuzzer is false;
		now Panera pager is nowhere;
		now the player has bread bowl.
		
Instead of eating bread bowl:
	say "You slurp down all of the soup and scarf down the bread itself. Mmmm...free food...";
	now the bread bowl is nowhere.

The description of PaneraInterior is "The scent of freshly baked bread fills your nostrils. You see a few customers, each enjoying a nice bread bowl."

Panera customers are scenery people in PaneraInterior. "Just some other people in Panera that also took advantage of the deal on bread bowls."

Understand "customers" as Panera customers.

Instead of talking to Panera customers:
	say "They are currently eating and seem uninterested in you, completely ignoring your attempts at small talk."

SECTION 2 - McDONALDS

McDonaldsInterior is an Interior Location.

McDonalds is a RoomProxy in NorthGreenStreet. The printed name of McDonalds is "McDonald's".
The description of McDonalds is "A fairly standard looking McDonald's location[if McDonaldsBurned is true] that just so happens to have burned to the ground. Luckily, no one knows that it's all your fault.[line break]Right?[else]. You could always go[bold type] in [roman type]it."
Understand "mcdonald's" as McDonalds.

The description of McDonaldsInterior is "You are standing in the Green Street McDonald's, and it's extremely crowded. At the front of the line, a single McDonald's employee is taking orders[if McDonaldsInterior is unvisited]. Oddly enough, she's the only employee you can see in the whole restaurant[end if]. There's a large menu mounted onto the wall above her. To your right is a large soda machine. If you want to order, it looks like you'll have to WAIT in line. Of course, you could always just LEAVE back to Green Street as well."

Instead of looking when player is in McDonaldsInterior and McDonaldsOnFire is true:
	if McDonaldsFireCountdown is greater than 15:
		say "Apparently, your messing around with the soda machine has started a small mechanical fire. In and of itself, not the worst thing you've ever done. The only problem is that no one seems to have noticed, and the fire is getting worse. If only there was someone who could put it out who, preferably, wasn't you. You're allergic to responsibility.";
	else if McDonaldsFireCountdown is greater than 10:
		say "That small mechanical fire is not so small anymore. At the moment, people still don't seem to care, even though some of the booths are getting a little singed.";
	else if McDonaldsFireCountdown is greater than 5:
		say "On the plus side, people have started to notice the quite significant fire in McDonald's. Unfortunately, there is now a quite significant fire in McDonald's.";
	else:
		say "There aren't many people in the McDonald's right now. Most have fled from the fire that you inadvertently started. The employee is still here, although you doubt she'll take your order right now. The place is filling up with smoke, and you're not sure you're going to last much longer standing around here."

Instead of looking when player is in McDonaldsInterior for the first time:
	say "You walk into the McDonald's, and straight into a throng of people. Why is it so crowded in here? There's a long line waiting to order, and every table in the place is packed. At the front of the line, a single McDonald's employee is taking orders[if McDonaldsInterior is unvisited]. Oddly enough, she's the only employee you can see in the whole restaurant[end if]. There's a large menu mounted onto the wall above her. To your right is a large soda machine. If you want to order, it looks like you'll have to WAIT in line. Of course, you could always just LEAVE back to Green Street as well."
	
McDonaldsMenu is a scenery thing in McDonaldsInterior.
The description of McDonaldsMenu is "The massive McDonald's menu is glossy and new. So glossy that you can't actually read any of it. But it's very colorful!"
Understand "menu" and "wall menu" and "large menu" and "McDonald's menu" as McDonaldsMenu.

McDonaldsSodaMachine is a switched off scenery device in McDonaldsInterior.
The printed name of McDonaldsSodaMachine is "The soda machine".
The description of McDonaldsSodaMachine is "The McDonald's soda machine is of some newfangled design you haven't seen at any other locations.[if McDonaldsOnFire is true] It is also more than a little bit on fire.[else] It's a massive wall of gleaming stainless steel, but you can only find one button on it. The button is unlabled, and you have no idea what kind of drinks this thing is going to dispense. Still, you could always turn on the machine and find out. Fortune favors the bold, right?"
Understand "machine" and "soda machine" and "soda fountain" as McDonaldsSodaMachine.

Instead of switching off the McDonaldsSodaMachine:
	say "The soda machine appears to already be turned off."

Instead of switching on the McDonaldsSodaMachine when McDonaldsOnFire is true:
	say "You don't want to put your finger anywhere near that thing."
	
Instead of switching on the McDonaldsSodaMachine:
	if McDonaldsSodaMachineUses is 6:
		say "No way are you touching that deathtrap again.";
	else if McDonaldsSodaMachineUses is 5:
		say "You put a paper cup beneath the nozzle and the soda machine and switch it on. The machines rumbles and shakes and spits out two droplets of Mountain Dew. It then catches fire. Oh dear.";
		increase McDonaldsSodaMachineUses by 1;
		now McDonaldsOnFire is true;
	else:
		say "You put a paper cup beneath the nozzle and the soda machine and switch it on. The machine rumbles and proceeds to spit liquid into your cup. After it's finished, you grab the cup and take a hesitant sip. ";
		say "[one of]It's a deliciously generic soda that you can't put your finger on.[or]It's...beer? Weird.[or]It's a magical combination of every soda ever known to mankind that is, without a doubt, the worst thing you've ever tasted.[or]It's...it's motor oil. What kind of sick machine is this?[or]It's Pepsi. You prefer Coke. Don't you?[or]It's Coke. You prefer Pepsi. You thought you did, anyway.[at random]";
		increase McDonaldsSodaMachineUses by 1;
		now McDonaldsSodaMachine is switched off.
	
McDonaldsSodaMachineUses is a number variable.
McDonaldsSodaMachineUses is 0.
	
Instead of examining something when the player is in McDonaldsInterior and McDonaldsFireCountdown is less than 11 and McDonaldsOnFire is true:
	say "This is no time to be examining anything! The fire is only growing larger!"

McDonaldsEmployee is a scenery woman in McDonaldsInterior.
The description of McDonaldsEmployee is "This McDonald's employee (seemingly the only McDonald's employee) is working very quickly to try to get everyone's order. She looks quite tired."
Understand "employee" and "woman" and "McDonald's employee" as McDonaldsEmployee.

McDonaldsLine is a scenery thing in McDonaldsInterior.
The description of McDonaldsLine is "There are too many people in this line to count."
Understand "people" and "crowd" and "line" as McDonaldsLine.

Instead of talking to McDonaldsEmployee:
	say "You try to talk to the employee, but she just tells you to get back in line[if McDonaldsFireCountdown is less than 6]. You're pretty sure she's in shock right now, what with the blazing inferno and all.[else]."
	
Instead of waiting when player is in McDonaldsInterior:
	if McDonaldsOnFire is true:
		say "You're not about to wait around in line while this building is on fire!";
	else:
		say "You find a place in the line and wait. And wait. And wait. ";
		increase time of day by 1 hour;
		say "Eventually, you make it to the front counter, where the employee promptly throws a wrapped burger at your face. You barely manage to catch it, and just as you start to explain your order, the employee cuts you off. 'Don't care, get out!' she yells before motioning up the person behind you.[line break]Well, that was rude. But hey! Free burger.";
		now player is carrying Hamburger.

Hamburger is an edible thing. The printed name of Hamburger is "a greasy hamburger".
The description is "This hamburger is a overly processed piece of fast food that can barely be described as meat, but it sure does smell good."
Understand "burger" as hamburger.

Instead of eating Hamburger:
	say "You devour the hamburger. It's pretty good!";
	now Hamburger is nowhere.

McDonaldsBurned is a truth state variable.
McDonaldsBurned is false.

McDonaldsOnFire is a truth state variable.
McDonaldsBurned is false.

Every turn when McDonaldsBurned is true and FFFollowing is true:
	say "'I failed,' the firefighter says suddenly. 'We failed.' He vanishes in a puff of smoke.";
	now FFFollowing is false;
	if player is in Jamba Juice:
		now player is in Illini Union South;
	now Jamba Juice is nowhere;
	now Firefighter is nowhere.

Instead of entering McDonalds when FFFollowing is true and McDonaldsOnFire is true:
	say "You and the firefighter rush into the burning McDonald's, where he proceeds to wildly swing his axe at the flames. You are starting to get the sense that he is not a real firefighter, but just when all seems lost, the McDonald's employee tosses him a fire extinguisher, which he proceeds to...smash into the ground repeatedly. The extinguisher explodes in a great burst of white smoke, and when you can see again, the McDonald's looks like it was never on fire in the first place.[paragraph break]";
	now McDonaldsOnFire is false;
	say "The firefighter turns to you with a massive grin on his face. 'You did well, kid. You did well.' He pulls out the burnt picture of his family and passes it to you. 'This is your tragic backstory now.'[line break][bold type][unicode 8212]You have gained a Tragic Backstory[unicode 8212][roman type][line break]'But, this isn't my family,' you say.[line break]'It's not mine either.' The firefighter (?) lifts up his axe and walks out of the McDonald's. You run back into Green Street to look for him, but he's nowhere to be found. You have only this photo of his[unicode 8212]wait a minute, is this a stock photo?";
	now player is carrying TragicKeepsake;
	now FFFollowing is false;
	now Jamba Juice is nowhere;
	now FireFighter is nowhere.

Every turn when McDonaldsOnFire is true:
	decrease McDonaldsFireCountdown by 1;
	if McDonaldsFireCountdown is 0:
		if player is in McDonaldsInterior:
			say "The flames are too much! You flee from McDonald's as the inferno rages on.";
			now player is in NorthGreenStreet;
		now McDonaldsOnFire is false;
		now McDonaldsBurned is true.

McDonaldsFireCountdown is a number variable.
McDonaldsFireCountdown is 30.

Instead of entering McDonalds:
	if McDonaldsBurned is true:
		say "You can't go into the McDonald's now. It's just a charred husk.";
	else:
		now player is in McDonaldsInterior.
	
Instead of exiting when player is in McDonaldsInterior:
	now player is in NorthGreenStreet.
	
Instead of going nowhere when player is in McDonaldsInterior:
	say "You bump around the crowded McDonald's for a bit and, while you manage to avoid getting soda spilled on you, don't find anywhere to go. Looks like the only place to go from here is [bold type]out[roman type] of the restaurant."

SECTION 3 - SPOON HOUSE

SpoonHouseInterior is an Interior Location.

Instead of looking when player is in SpoonHouseInterior:
	if SpoonHouseInterior is unvisited:
		say "You step inside the restaurant. Clean tables, bright lights, and a welcoming design. A rectangular table sits in the center of the room, no doubt made for a party or exclusive seating for favorite guests. A range of food items have been placed on the table.";
	if DiceGame is false:
		say "[line break]A little kid is sitting by himself in a back corner of the restaurant. He is playing with Legos, and what looks like a board game with dice and cards.";
		stop the action;
	if DiceGame is true and SpoonGameOver is false:
		say "The kid is smiling at you, anticipating the next game.";
		stop the action;
	else:
		say "You are inside the Spoon House restaurant. A rectangular table sits in the center of the room, covered with bowls of food. You can go [bold type]out[roman type] from here."

The printed name of SpoonHouseInterior is "Spoon House Restaurant Entrance".
SpoonHouseInterior is inside from the Spoon House.

Instead of entering SpoonHouse:
	now player is in SpoonHouseInterior.
	
Instead of exiting when player is in SpoonHouseInterior:
	now player is in NorthGreenStreet.

SpoonHouse is a roomproxy in NorthGreenStreet. The printed name of SpoonHouse is "The Spoon House Restaurant".
The description of SpoonHouse is "You are outside the Spoon House restaurant, a local favorite. You've heard that the food that is delicious, if a bit pricey. You can go[bold type] in [roman type]to the restaurant."
Understand "the spoon house" and "spoon house" and "spoon house restaurant" and "restaurant" as SpoonHouse.

A Long Table is a scenery supporter in the SpoonHouseInterior.

The description of the Long Table is "The table is occupied by a rather talkative group of people in suits. You'd rather not disturb them."

KoreanFood is an edible thing on the Long Table. KoreanFood is undescribed.
Understand "food items" and "items" and "Korean Food items" and "Korean Food" as KoreanFood.


The description of KoreanFood is "A dozen stone bowls sit alongside with small side dishes of spiced radish, cabbage, and rice. The smell is savory."

Understand "bowls" and "spiced radish" and "cabbage" and "rice" as KoreanFood.

instead of eating some KoreanFood for the first time:
	say "You reach over and grab a piece of cabbage from a businessman's bowl. Everyone at the table turns to look at you in stunned silence.";
	stop the action.

Instead of eating some KoreanFood:
	say "You decide not to do that again.";
	stop the action.

Instead of ordering some KoreanFood:
	say "You discover that you don't have enough money to eat in this restaurant, and sadly, your iCard doesn't work here.";
	stop the action.

little kid is scenery in SpoonHouseInterior.
Understand "little boy" and "child" and "boy" as little kid.

SpoonHouseGame is scenery in SpoonHouseInterior.
Understand "legos" and "board game" and "game" and "dice" and "cards" and "dice and cards" as SpoonHousegame.

The description of SpoonHouseGame is "There are a variety of toys. The little boy notices you watching him and brightens. 'Hello,' he says. 'Do you want to PLAY A GAME?"

The description of little kid is "He might look innocent, but unless you know how to out swindle a swindler, you might want to keep your distance."

Instead of talking to little kid:
	if DiceGame is true:
		say "The kid is waiting for you to play another game.";
	else:
		say "The little boy looks up at you with round eyes. 'Would you like to PLAY A GAME with me?"



[	instead of going inside from Spoon House:
		say "The Spoon House Restaurant has been shut down for safety violations.";
		stop the action.
]

SpoonGameOver is a truth state variable.
DiceGame is a truth state variable.
GameCount is a number variable.

Instead of playing SpoonHouseGame when player is in SpoonHouseInterior:
	if GameCount is 0:
		say "The little boy grins. 'Yay! 'This will be fun. You have five chances to win. Let's roll the dice to start. Highest number wins.' The little boy tosses the dice in front of you. You get snake eyes. He gets 11.  His win. 'You have four more chances!";
		now DiceGame is true;
		increment GameCount;
		stop the action;
	if GameCount is 1:
		say "This time, the little boy shuffles his cards and spreads them out on the table face down.  Simple rule: pick a card.  Highest card wins.  You think carefully.  Is this a trick?  Is it really a game of luck.  Did he mark these cards?  Going with gut feeling, you take a stab on a card in the center.  An Ace of Hearts.  But your spirits fall.  He holds up the Ace of Spades. 'Oh too bad,' says the little boy. Three chances left.";
		increment GameCount;
		stop the action;
	if GameCount is 2:
		say "The kid admires your persistence.  He kid puts three bowls on the table and places a stone under one of them.  Find the stone.  Should be simple enough.  But look at those hands move!  After ten seconds of graceful showing off, he waits for your answer.  You choose the center bowl.  Nothing.  The stone was on the left.  Two chances left.";
		increment GameCount;
		stop the action;
	if GameCount is 3:
		say "Rock, Paper, Scissors.  Another game of luck  But how does the kid do it?  You choose paper.  He's got scissors.  For fun, you change to rock at the last minute. He has already formed paper.  Two out of three. His win. 'You've got a tell,' he says.  One chance left.";
		increment GameCount;
		stop the action;
	if GameCount is 4:
		say "Last game.  Last time.  Win or lose.  This is it.  You expect some more dice, cards, or a riddle.  But instead, he puts his elbow on the table and gestures for your hand.  Arm-wrestling. You chuckle, but sit down, grab his small hand and wait for him to begin. The game starts. What's going on? You pull with all your strength, but the kid does not budge.  You pull harder and harder, but nothing.  The kid gives you a pitiful look before sending your arm slamming down on the table." ;
		increment GameCount;
		now SpoonGameOver is true;
		Spoon Game Over in 1 turn from now;
		stop the action;
	else:
		say "There is nothing here to play.";
		stop the action.

Instead of going outside when little kid is in the location and SpoonGameOver is true:
	do nothing.

At the time when Spoon Game over:
	say "The kid snaps his fingers and a giant of a man emerges from the restaurant kitchen, punching one hand into his fist. Before you can run, he picks you up and stuffs you in a potato sack.  It's hard to breathe, but as you slip into unconsciousness, you hear three apologetic words.  'He owes me.'  It's over.  You're in debt now.  To the kid.";
	say "[paragraph break][line break]*** Your journey ends here. ***[paragraph break]";
	now little kid is nowhere;
	now FoolBorn is completed;
	now CurrentEnding is FoolBorn;
	End the Journey.


Instead of attacking the little kid for the first time:
	say "The little guy looks at you with a hurt expression. 'Hey,' he sniffles. 'What did I ever do to you? Play with me again and I'll forget about it.'";
	stop the action.

Instead of attacking the little kid:
	say "A big burly man steps out of the kitchen and glares at you. Better not try it again.";
	stop the action.

Instead of going outside from SpoonHouseInterior when DiceGame is true and SpoonGameOver is false:
	say "A big burly man steps out of the kitchen and blocks your way. 'You don't want to disappoint the kid.' he says, and ushers you to the back of the restaurant."

Instead of going nowhere when player is in SpoonHouseInterior:
	say "There is nowhere to go but [bold type]out[roman type] from Spoon House restaurant. Actually, that's not completely true."

SECTION 4 - MURPHY'S PUB

MurphyInterior is an interior location. "Walking into Murphy's Pub you see the bar and the bartender in the center of the room. Barstools surround the bar and sticky tables fill the room. Stairs going [bold type]down[roman type] into the basement lead to the gameroom. A jukebox in the corner is playing Tame Impala and some of the patrons are singing karaoke."

MurphyBartender is a person in MurphyInterior. "The bartender is polishing glasses by the register."

Understand "bartender" and "the bartender" and "murphy's bartender" as MurphyBartender.

The description of MurphyBartender is "A handsome young man stands behind the bar waiting for someone to order a drink."

pabst blue ribbon is a drinkable thing. "PBR is the champaign-urbana of beers!"

tap water is a drinkable thing. "Who doesn't love some good ol' tap water?"

Understand "pbr" and "PBR" and "pabst blue ribbon" and "Pabst" and "Pabst blue ribbon" as pabst blue ribbon.

Understand "tap water" and "tap" and "water" and "Tap water" and "Tap" and "Water" as tap water.

Instead of talking to MurphyBartender:
	say "Hiya! I've got pabst blue ribbon or tap water. Ask me about either and you can have a taste."
	
Instead of interrogating MurphyBartender about tap water:
	say "Here's a shot of tap water!";
	now Player has tap water.

Instead of interrogating MurphyBartender about pabst blue ribbon:
	say "Here's a shot of PBR!";
	now Player has pabst blue ribbon.
	
Instead of drinking tap water:
	say "You put back the shot of tap water like it was nothing! You must be a pro.";
	now tap water is nowhere.
	
Instead of drinking pabst blue ribbon:
	say "As soon as the shot of PBR hits your lips, an overwhelming warmth envelopes your body. Wow, PBR is amazing, you think. Everyone should try this!";
	now pabst blue ribbon is nowhere.

The printed name of MurphyInterior is "Murphy's Pub Main Floor".

MurphyInterior is inside from NorthGreenStreet.

MurphyPub is a RoomProxy in NorthGreenStreet. 

The description of MurphyPub is "A glowing shamrock is perched on the windows of the white building. 'Murphy's Pub' is brandished on the green leaf. You can hear the sound of happy patrons emanating from the windows that are always open on a warm day. The front door to [bold type]enter[roman type] Murphy's Pub is right in front of you."

The printed name of MurphyPub is "Murphy's Pub". 

Understand "Murphy's" and "Murphy's Pub" and "murphy's" and "murphy's pub" as MurphyPub.

MurphyBasement is down from MurphyInterior. "Two pool tables sit in the center of the gameroom. Vintage signs line the wooden walls. The bathrooms are on the other side of the room opposite the stairs. A blackjack dealer sits at a table in the corner. He calls out to you, 'Would you like to PLAY BLACKJACK? Casual of course, a loss is merely that, but a win gets you bragging rights.'"

The printed name of MurphyBasement is "Murphy's Pub Basement".

Every turn when Player is in MurphyBasement:
	now DealerPresent is true.

PlayerHand is a number variable. PlayerHand is 0.
 
DealerHand is a number variable. DealerHand is 0.
 
PlayingBlackjack is a truth state variable. PlayingBlackjack is false.

DealerPresent is a truth state variable. DealerPresent is false.
 
DealerStay is a truth state variable. DealerStay is false.
 
Understand "hit me" as BlackjackHitting.

BlackjackHitting is an action applying to nothing.
 
Carry out BlackjackHitting:
	say "The dealer deals you a card.";
	 
Blackjacking is an action applying to nothing.
 
Understand "play blackjack" as Blackjacking.
 
Carry out blackjacking:
	say "The dealer deals your starting hand.";
	 
Staying is an action applying to nothing.
 
Understand "stay" as staying.
 
Table of 52 Cards
card	value
"Ace of Hearts" 	1
"2 of Hearts"   	2
"3 of Hearts"   	3
"4 of Hearts"   	4
"5 of Hearts"   	5
"6 of Hearts"   	6
"7 of Hearts"   	7
"8 of Hearts"   	8
"9 of Hearts"   	9
"10 of Hearts"  	10
"Jack of Hearts"    	10
"Queen of Hearts"   	10
"King of Hearts"    	10
"Ace of Clubs"  	1
"2 of Clubs"    	2
"3 of Clubs"    	3
"4 of Clubs"    	4
"5 of Clubs"    	5
"6 of Clubs"    	6
"7 of Clubs"    	7
"8 of Clubs"    	8
"9 of Clubs"    	9
"10 of Clubs"   	10
"Jack of Clubs" 	10
"Queen of Clubs"    	10
"King of Clubs" 	10
"Ace of Spades" 	1
"2 of Spades"   	2
"3 of Spades"   	3
"4 of Spades"   	4
"5 of Spades"   	5
"6 of Spades"   	6
"7 of Spades"   	7
"8 of Spades"   	8
"9 of Spades"   	9
"10 of Spades"  	10
"Jack of Spades"    	10
"Queen of Spades"   	10
"King of Spades"    	10
"Ace of Diamonds"   	1
"2 of Diamonds" 	2
"3 of Diamonds" 	3
"4 of Diamonds" 	4
"5 of Diamonds" 	5
"6 of Diamonds" 	6
"7 of Diamonds" 	7
"8 of Diamonds" 	8
"9 of Diamonds" 	9
"10 of Diamonds"    	10
"Jack of Diamonds"  	10
"Queen of Diamonds" 	10
"King of Diamonds"  	10
 
Instead of BlackjackHitting:
	if PlayingBlackjack is true:
		choose a random row in the Table of 52 Cards;
		say "The dealer deals you a [card entry].";
		increase PlayerHand by the value entry;
	else:
		say "You should play blackjack before you hit."
		 
Instead of blackjacking:
	if DealerPresent is true:
		say "The rules are simple. You need a total of 21 to win or at least have a score higher than the dealer. If you or the dealer go over 21, then it's a bust and the buster loses. Say 'hit me' for another card or 'stay' when you're satisfied with your score.";
		say "[line break]";
		choose a random row in the Table of 52 Cards;
		say "The dealer deals you a [card entry] facedown.";
		increase PlayerHand by the value entry;
		choose a random row in the Table of 52 Cards;
		say "The dealer deals you a [card entry] faceup.";
		increase PlayerHand by the value entry;
		say "[line break]";
		choose a random row in the Table of 52 Cards;
		say "The dealer deals himself one card facedown.";
		increase DealerHand by the value entry;
		choose a random row in the Table of 52 Cards;
		say "The dealer deals himself a [card entry] faceup.";
		increase DealerHand by the value entry;
		now PlayingBlackjack is true.
 
Instead of staying:
	if PlayingBlackjack is true:
		while DealerStay is false:
			choose a random row in the Table of 52 Cards;
			say "The dealer deals himself a [card entry] faceup.";
			increase DealerHand by the value entry;
			if DealerHand is greater than 17:
				now DealerStay is true;
		say "The Dealer flips over his last card to reveal a score of [DealerHand].";
		say "You flip over your last card to reveal a score of [PlayerHand].";
		if PlayerHand is greater than DealerHand:
			say "You win!";
			now PlayingBlackjack is false;
			now PlayerHand is 0;
			now DealerHand is 0;
		else if DealerHand is greater than 21:
			say "The dealer busted! You won!";
			now PlayingBlackjack is false;
			now PlayerHand is 0;
			now DealerHand is 0;
		else if DealerHand is greater than PlayerHand:
			say "You lost!";
			now PlayingBlackjack is false;
			now PlayerHand is 0;
			now DealerHand is 0;
		else:
			say "You tied!";
			now PlayingBlackjack is false;
			now PlayerHand is 0;
			now DealerHand is 0;
 
Every turn when PlayingBlackjack is true:
	say "You're current hand is at [PlayerHand].";
	 
Every turn when PlayerHand is greater than 21:
	say "Bust! You lost!";
	now PlayingBlackjack is false;
	now PlayerHand is 0;
	now DealerHand is 0;
	 
Every turn when PlayerHand is 21:
	say "Blackjack! You won!";
	now PlayingBlackjack is false;
	now PlayerHand is 0;
	now DealerHand is 0;
	
SECTION 5 - BROTHER'S BAR
	
BrosBar is a RoomProxy in SouthGreenStreet.

The printed name of BrosBar is "Brothers Bar & Grill".

Understand "brothers" and "brother's" and "bros" and "bro's" as BrosBar.

BrothersInterior is inside from SouthGreenStreet.

The printed name of BrothersInterior is "Brothers Bar & Grill".

BrothersInterior is an interior location. "[if unvisited] You ascend the steep staircase and enter the main floor of the bar. The tunes are blasting and the drinks are flowing. Wow, it sure is crowded for [time of day]. Stairs lead up to the second level. [else] You're back on the main floor of Brothers. Stairs lead up to the second level."

BrothersUpstairs is up from BrothersInterior. "[if unvisited] You make your way up the stairs to the upper landing. This area of the bar is much less crowded. [else] You're back on the upper level."

The printed name of BrothersUpstairs is "Brothers Upstairs".

BrosDJ is a person in BrothersUpstairs. "The DJ is up here spinning fresh beats. Maybe they take requests.".
Understand "DJ" and "dj" as BrosDJ.
The description of BrosDJ is "A sweaty guy frantically manipulating his DJ equipment."

Instead of talking to BrosDJ when DJThirsty is true:
	if player does not have BrosVoucher:
		say "You approach the DJ to make a request, but before you can open your mouth he blurts out, 'Hey, can you grab me a White Claw from the bar downstairs. Spinning all of these hot, hot beats really makes me thirsty and my thirst can only be quenched by an ice cold White Claw. Here, take this voucher. The bartender will hook it up big time.'";
		now player has BrosVoucher;
	else:
		say "The bartender just stares at you, mouths the words 'White Claw', and resumes spinning those fresh, fresh beats."
		
Instead of talking to BrosDJ when DJThirsty is true and player has WhiteClaw:
	say "You give the DJ the White Claw. He chugs it down immediately.";
	now WhiteClaw is nowhere;
	now DJThirsty is false.
	
Instead of giving WhiteClaw to BrosDJ:
	say "You give the DJ the White Claw. He chugs it down immediately and looks very satisfied.";
	now WhiteClaw is nowhere;
	now DJThirsty is false.
	
Instead of talking to BrosDJ when DJThirsty is false and SongPlayed is false:
	say "'Hey, you really helped me out right now. I feel revitalized. Do you have a request?'";
	if player consents:
		say "You lean over the DJ booth and whisper your request to the DJ. He smiles and turns on Baby Shark. The crowd goes wild. This is truly your finest moment.";
		now SongPlayed is true;
	else:
		say "'Alright, well maybe next time. Thanks again for the help.'".
		
Instead of talking to BrosDJ:
	say "The DJ is busy spinning those crunchy, crunchy beats."
		
SongPlayed is a truth state variable.
SongPlayed is false.
		
BrosVoucher is a thing.
The description of BrosVoucher is "A voucher given to the DJ by management granting them one (1) free drink.".
The printed name of BrosVoucher is "Drink Voucher".
Understand "drink voucher" and "voucher" and "drink ticket" and "ticket" as BrosVoucher.
	
DJThirsty is a truth state variable.
DJThirsty is true.

The description of BrosBar is "A maroon awning with yellow lettering spelling out 'It's Brothers' lets you know that this is, in fact, Brothers Bar & Grill.".

BrosBartender is a person in BrothersInterior. "You can see a bartender slinging drinks at the main bar."

The description of BrosBartender is "A scruffy looking bartender wearing an orange Illini hat."

Understand "bartender" as BrosBartender.

Instead of talking to BrosBartender:
	if player has BrosVoucher:
		say "You flash the voucher the DJ gave you and the bartender immediately runs over. He hands you a White Claw then resumes pouring out an unnecesary amount of shots for someone.";
		now player has WhiteClaw;
		now BrosVoucher is nowhere;
	else:
		choose a random row in the Table of BrosBartenderBusy;
		say "[event entry]".
		
WhiteClaw is a thing.
The description of WhiteClaw is "A refreshing alcoholic beverage. Ain't no laws when you're drinking claws.".
The printed name of WhiteClaw is "White Claw".
Understand "white claw" and "claw" as WhiteClaw.

BrosBarCrowd is a backdrop in BrothersInterior. "A gaggle of people in various states of inebriation."

Understand "crowd" and "people" and "drunks" as BrosBarCrowd.

Instead of talking to BrosBarCrowd:
	say "You try to stop one of the bar patrons to talk to them, but they ignore you.";
	stop the action.

Every turn when player is in BrothersInterior:
	if a random chance of 1 in 10 succeeds:
		choose a random row in the Table of BrosInteractions;
		say "[event entry]".
		
Table of BrosBartenderBusy
event
"You try to grab the bartender's attention, but they're busy serving someone else."
"You try to talk to the bartender but they ignore you."
"You try to order a drink but someone swoops in front of you and orders first."
"It's too crowded to talk to the bartender."
"The bartender is too busy to talk to you right now."

Table of BrosInteractions
event
"A drunk sorority girl bumps into you, mutters something about White Claws, and walks away."
"Someone spills part of their drink on you. Gross."
"Two guys start shoving each other in front of you."
"The DJ puts on Sicko Mode. People seem to really be getting into it."
"A person near you sings a few words to the song that's playing."
"A large group of people walk in and start vying for space near the bar."

SECTION 6 - TARGET

[State variables]
PlayerIsTargetEmployee is a truth state variable. PlayerIsTargetEmployee is false.
InTargetInterview is a truth state variable. InTargetInterview is false.
InterviewQuestionNumber is a number that varies. InterviewQuestionNumber is 1.
NextQuestion is a truth state variable. NextQuestion is false.
PlayerInterviewAnswer is a text that varies.
PlayerTotalCorrect is a number that varies. PlayerTotalCorrect is 0.

[Domain setup]
TargetInterior is an Interior Location. The printed name of TargetInterior is "Target".

Target is a RoomProxy in SouthGreenStreet. 

Instead of entering Target:
	if the time of day is before 7:00 am or time of day is after 10:00 pm:
		say "Target is closed for the day. They open back up at 7:00 AM.";
	else:
		now player is in TargetInterior.
	
Instead of exiting when player is in TargetInterior:
	now player is in SouthGreenStreet.

The description of Target is "The popular shopping store chain has made it to our campus. Beware, however, for constant long lines and out-of-stock items. You can always go[bold type] in [roman type]it."
Understand "target" as Target.

The description of TargetInterior is "[if unvisited]You have arrived at the Target on Green Street, where hordes of students go to buy groceries, clothes, and other apartment/dorm necessities. [end if]On this floor, you'll find all the groceries, drinks, and snacks you need to keep your fridge full. There's a few employees walking around helping students. You can also go [bold type]UP[roman type] to the second floor."

Instead of going nowhere when player is in TargetInterior:
	say "All there is are shelves on shelves. You should look for another way."	

TargetSecondFloor is up of TargetInterior. The printed name of TargetSecondFloor is "Target (Second Floor)".
The description of TargetSecondFloor is "You are now in the second floor of Target, which holds aisles of household supplies, makeup, medicine, clothes, and electronics. [if player does not have TargetEmployeeCard]There's also an intriguing set of double doors in the back leading somewhere.[end if][if player has TargetEmployeeCard] There are a set of double doors [bold type]WEST[roman type] leading to the storage rooms.[end if] You can also go back [bold type]DOWN[roman type] to the first floor." 

Instead of going nowhere when player is in TargetSecondFloor:
	say "All there is are shelves on shelves. You should look for another way."	

	
TargetStorageDoor is a closed, locked, openable scenery door.
Understand "double doors" and "storage doors" and "double door" as TargetStorageDoor.
TargetStorageDoor is west of TargetSecondFloor.

TargetStorageRoom is west of TargetStorageDoor. The printed name of TargetStorageRoom is "Target Storage Room".
Understand "storage room" as TargetStorageRoom.
The description of TargetStorageRoom is "The Target storage room contains all of the excess inventory that can't be placed on the shelves, or that holds online orders. Target employees must know this place like the back of their hand since they spend many hours in here. You can go to Target's second floor by going [bold type]EAST[roman type]."

[Items]
TargetGroceries is an open scenery container in TargetInterior. The printed name of TargetGroceries is "groceries".
Understand "groceries" and "snacks" and "drinks" and "shelf" as TargetGroceries.

Instead of examining TargetGroceries:
	if nothing is in TargetGroceries:
		say "The shelves are completely barren right now.";
	else:
		say "There's not too many groceries or snacks left after the waves of students emptied the place. To be fair, there's almost never groceries here.";
		say "[line break]All that's left are [bold type][a list of things in TargetGroceries][roman type]."

A TargetItem is a kind of thing.
A TargetItem can be purchasable or purchased.

Instead of eating a TargetItem:
	if noun is purchased:
		say "MMM, [noun] tastes better when you use your hard-earned money for it.";
		now noun is nowhere;
	else:
		say "You have to buy [noun] before you can eat it!"

brownie bites is an edible, purchasable TargetItem. 
Understand "brownie" and "brownies" as brownie bites.
The description of brownie bites is "A pack of Target branded brownie bites, which are sure to satisfy any sweet tooth.".
brownie bites are in TargetGroceries.
The initial appearance of brownie bites is "A pack of some delicious brownie bites are tucked away in the back of the shelf."

[Random events]
Every turn when the player is in TargetInterior:
	if a random chance of 1 in 20 succeeds:
		choose a random row in Table of TargetEventsFirstFloor;
		say "[event entry]"
		
Every turn when the player is in TargetSecondFloor:
	if a random chance of 1 in 20 succeeds:
		choose a random row in Table of TargetEventsSecondFloor;
		say "[event entry]"

[Target Interview Minigame]
TargetManager is a person in TargetInterior. "A Target manager is walking around helping customers find items while getting online orders ready at the same time."
The printed name of TargetManager is "Target Manager".
Understand "target manager" and "Target Manager" and "Target manager" and "manager" as TargetManager.
The description of TargetManager is "Graduate student by day, and Target manager by...also day? the manager makes sure everything runs smoothly in Target, especially with so many students shopping here throughout the day. They're here to asnwer any questions you may have about Target. [if PlayerIsTargetEmployee is false]You could [bold type]ask[roman type] them about the new employee position."

TargetJob is a thing. Understand "new employee position" and "new position" and "job" and "position" as TargetJob.

TargetEmployeeCard unlocks the TargetStorageDoor.
Understand "target employee card" and "employee card" and "target card" as TargetEmployeeCard.
The description of TargetEmployeeCard is "A swipe card only given to Target employees with their ID on it. It allows an employee to enter restricted areas in Target."

Instead of opening the TargetStorageDoor:
	if TargetStorageDoor is locked and player has TargetEmployeeCard: 
		say "'BZZT' You swipe your employee card to gain access into the the Target storage room. You can finally see what's behind those double doors!";
		now TargetStorageDoor is unlocked;
		continue the action;
	else:
		say "You need a Target employee card to unlock these doors.";
		stop the action.		
	
Instead of interrogating TargetManager about TargetJob:
	if PlayerIsTargetEmployee is false:
		say "'Hey there! Are you interested in becoming a part-time employee here at Target? We offer decent pay and benefits, and the hours are manageable too! The interview process will consist of 3 questions to see if you're qualified.'[paragraph break][bold type]YES [roman type]or [bold type]NO[roman type][paragraph break]";
		if player consents:
			say "[line break]'Awesome! Let's get started then.'";
			now InTargetInterview is true;
			InterviewPlayer;
		else:
			say "[line break]'Ah, no worries. If you change your mind, I'll be walking around!'";
	else:
		say "Hope you're having a good time with your new job!".

To InterviewPlayer:
	if player is in TargetInterior and InterviewQuestionNumber < 4:
		choose row InterviewQuestionNumber in the Table of TargetInterviewQuestions;
		say "[bold type]Target Employee Interview[roman type][line break]";
		say "Question #[InterviewQuestionNumber]:[line break]";
		say "[interviewQuestion entry]";
		now NextQuestion is true;
		continue the action;
	else if InterviewQuestionNumber >= 4:
		say "The interview is complete. You got [PlayerTotalCorrect] out of 3 correct.[paragraph break]";
		if PlayerTotalCorrect is 3:
			say "Congratulations! I am pleased to announce that you have passed the interview and are now a part-time Target employee! Here is your [bold type]Target employee card[roman type] that shows that you are an employee here.";
			now player has TargetEmployeeCard;
			now PlayerIsTargetEmployee is true;
			reject the player's command;
			continue the action;
		else:
			say "Unfortunately, you did not score high enough on the the interview. However, come back and talk to me to try again!";
			reject the player's command;
			stop the action; 
	else:
		say "You must be inside of Target to continue the interview.";


After reading a command when InTargetInterview is true and player is in TargetInterior:
	if InterviewQuestionNumber < 4:
		now PlayerInterviewAnswer is the player's command;
		choose row InterviewQuestionNumber in the Table of TargetInterviewQuestions;
		if PlayerInterviewAnswer in upper case matches the text "[interviewAnswer entry]":
			say "Correct!";
			increase PlayerTotalCorrect by 1;
		else:
			say "Wrong.";
		increase InterviewQuestionNumber by 1;
		InterviewPlayer;
		now NextQuestion is false;
		reject the player's command;
	else:
		now InTargetInterview is false;
		now NextQuestion is false;
		now InterviewQuestionNumber is 1;
		now PlayerTotalCorrect is 0;

[Tables]
Table of TargetEventsFirstFloor
event
"The line for checkout has gotten so long, its reached the chips aisle."
"You notice a very tall person walk right past you, but you were too shy to get a look at their face. As you turn around to see the back of them, you realize it was Coleman Hawkins!"
"You see a group of friends trying to decide on which snacks to get."

Table of TargetEventsSecondFloor
event
"You notice a pair of shoes underneath a rack of clothes. Looks like someone's playing hide-and-seek."
"A group of guys are questioning the reason for washing dishes, as they head into the plastic aisle to pick up their weekly supply of plastic plates and silverware."

Table of TargetInterviewQuestions
interviewQuestion				interviewAnswer
"Where is our toilet paper located?[line break]
A) First floor, in the back corner[line break]
B) Second floor, near the stairs.[line break]
C) Second floor, near the back corner.[line break]
D) By the checkout lines.[line break]"					"C"
"What would the total price be for a $10 item with 10% sales tax after checkout?[line break]
A) Why am I doing math right now??[line break]
B) $9[line break]
C) $10.10[line break]
D) $11[line break]"					"D"
"If a customer is disagreeing with you, but you know you are right, who is truly right?[line break]
A) Customer[line break]
B) You[line break]"					"A"

SECTION 7 - GREEN ST WINTER

GreenStSnowman is a person in SouthGreenStreet. "[if GreenWinter is false]Someone built a friendly looking snowman on the sidewalk, which seems weird this time of year... [else]The friendly winter-bringing snowman is here."

Understand "snowman" as GreenStSnowman.

The description of GreenStSnowman is "A crudely built, but friendly looking snowman."
The printed name of GreenStSnowman is "snowman".

Instead of talking to GreenStSnowman:
	if GreenWinter is false:
		say "You approach the snowman and say 'Hi!', but dont receive any response. You're not sure what you were expecting to happen.[paragraph break]But wait! As you're about to turn around the snowman winks at you and it begins to snow.";
		now GreenWinter is true;
	else:
		say "You approach the snowman and kindly ask it to turn the weather back to normal. It winks at you in response.";
		now GreenWinter is false.
		
GreenWinter is a truth state variable.
GreenWinter is false.

Every turn when GreenWinter is true:
	if player is in NorthGreenStreet:
		choose a random row from the Table of GreenStWinter Events;
		say "[event entry]".
		
Every turn when GreenWinter is true:
	if player is in SouthGreenStreet:
		choose a random row from the Table of GreenStWinter Events;
		say "[event entry]".
		
Table of GreenStWinter Events
event
"A snowflake gently cascades from the sky and lands on the tip of your nose."
"You slip a little on the slick surface of the snow covered sidewalk."
"A passing student throws a snowball at their friend."
"A cold breeze passes through you."
"You take a second to appreciate the crisp, unseasonal snowfall."
"A shopkeeper emerges from one of the shops and starts shoveling snow."
"A squirrel attempts to bury a nut in a small tuft of snow."

Dean is a RoomProxy in SouthGreenStreet.
The printed name of Dean is "The Dean".
Understand "deen" and "thedean" as Dean.
The description of Dean is "An imposing skyscraper in the middle of the hubub of Green Street. It houses many students in two-story apartments, and notably has a pool on the roof. What kind of shenanigans are going on up there right now?"

Instead of entering DeanInterior:
	now player is in DeanInterior.
	
Instead of exiting when player is in DeanInterior:
	now player is in SouthGreenStreet.

The printed name of DeanInterior is "Inside The Dean".
DeanInterior is an interior location. "[if unvisited]You don't have access to the building, but upon waiting 30 seconds, someone lets you in. That was easy.[line break]Welcome to the Dean! You see students inside. Some of them live here, and some students are waiting for the elevator to get them up to the rooftop pool.[else]You are in the Dean lobby. Not much in here except the elevator, which you may have to wait a long time to catch."

Instead of going nowhere when player is in DeanInterior:
	say "There's not much to do here but wait for the elevator..."

IsWaitingDean is a truth state variable.
IsWaitingDean is false.

Every turn when player is in DeanInterior:
	if a random chance of 1 in 6 succeeds:
		if IsWaitingDean is true:
			now IsWaitingDean is false;
			say "Ding! The elevator opens, and it takes you all the way up to the rooftop.";
			now player is in DeanRooftop;
		else:
			now IsWaitingDean is true;
			choose a random row in the Table of DeanElevatorRoomEvents;
			say "[event entry]";
	else:
		now IsWaitingDean is true;
		choose a random row in the Table of DeanElevatorRoomEvents;
		say "[event entry]".
		
Table of DeanElevatorRoomEvents
event
"Some students walk in and wait with you for the elevator."
"Someone walks into the Dean, forgets why, and walks out."
"Someone sneezes loudly nearby."
"You twiddle your thumbs waiting for the elevator."
"You notice a fly... flying around."

DeanRooftop is a room. "[if unvisited]You have made it to the Rooftop at the Dean, well-known for its pool and... wait a second, is that world famous stuntman Evel Knievel peering over the edge of the roof?[else]You're on top of the Dean. Evel Knievel is still here. What an interesting situation."
The printed name of DeanRooftop is "Rooftop at The Dean".

Instead of going down when player is in DeanRooftop:
	now player is in SouthGreenStreet.

Instead of going nowhere when player is in DeanRooftop:
	say "There's nowhere to go but back down... unless you have any tricks up your sleeve?"

Evel Knievel is a person in DeanRooftop.
Understand "Evel" and "Evil" and "Knievel" and "evel" and "evil" and "knievel" and "EVEL" and "EVIL" and "KNIEVEL" and "evelknievel" and "EVELKNIEVEL" and "EvelKnievel" and "evilknievel" and "EVILKNIEVEL" and "EvilKnievel" as Evel Knievel.
The description of Evel Knievel is "Evel Knievel stands atop the Dean, a daring silhouette against the Champaign skyline, embodying the fearless spirit of his legendary stunts. You notice he is missing his signature stunt motorcycle. Don't be shy. [italic type]Talk to the legend!"

Instead of talking to Evel Knievel:
	if FoundMotorcycle is true:
		say "Evel Knievel looks at you with a twinkle of pride in his eye, exclaiming, 'Well, I'll be! You've got the guts and the glory, finding my bike with such pizzazz! Now, how about you channel that fearless spirit? I dare you to take the leap – let's see you jump off this building with the bike! It's your turn to make history, daredevil style!'[line break]'Well, off you go!' Evel shouts as he hits the thruster on the motorcycle with you on it. You don't have time to get your bearings straight; you don't even know which direction you're facing. But with this trajectory, you are going far!";
		if EvelPoints is false:
			increase score by 50;
			now EvelPoints is true;
		if a random chance of 1 in 4 succeeds:
			say "You soar through the air for a solid minute, and you somehow stick the landing. You look back and can tell Evel is proud of you. Now, where are you?";
			now player is in Morrow Plots;
		if a random chance of 1 in 3 succeeds:
			say "You soar through the air for a solid minute, and you somehow stick the landing. You look back and can tell Evel is proud of you. Now, where are you?";
			now player is in Round Barn Farm;
		if a random chance of 1 in 2 succeeds:
			say "You soar through the air for a solid minute, and you somehow stick the landing. You look back and can tell Evel is proud of you. Now, where are you?";
			now player is in Empty Lot;
		else:
			say "You soar through the air for a solid minute, and you somehow stick the landing. You look back and can tell Evel is proud of you. Now, where are you?";
			now player is in YMCA;
	else:
		choose a random row in the Table of EvelKnievelResponses;
		say "[event entry]".
		
Table of EvelKnievelResponses
event
"Evel looks you dead in the eyes and says, 'You know, I've always enjoyed making a splash. Think about that.' What could that mean?"
"Evel shares, 'I've taken my rides to great heights, but sometimes, it's about depth.'"
"'A good rider knows when to dive into new adventures.' Is that a pun?"
"'Where's my bike? Well, it's not up in the sky this time.'"
"'A true daredevil sometimes parks where you'd least expect.'"
"'If you're fishing for clues, listen more closely to what I'm saying.' Is he being cryptic about something?"

RooftopPool is in DeanRooftop. RooftopPool is scenery.
Understand "pool" as RooftopPool.
The printed name of RooftopPool is "Rooftop Pool".

Instead of examining RooftopPool:
	say "You notice the student-favorite rooftop pool. Some students are lounging in there, but you can see a part of the pool no one is occupying. It's a perfect size for a daredevil's flop. The jump you have in mind stings the belly as much as it splashes everyone. [italic type]What's it called again?"

Bellyflopping is an action applying to nothing.
Understand "bellyflop" as bellyflopping.

Instead of bellyflopping:
	if RooftopPool is visible:
		say "As you execute a daring bellyflop into the pool, BANG! You unexpectedly collide with Evel Knievel's submerged motorcycle. Despite the stinging impact of the bellyflop, you emerge with both a sense of accomplishment as the stuntman's legendary motorcycle has been found. You are bold. You are unflinching. [italic type]Go talk to Evel.";
		now FoundMotorcycle is true;
	else:
		say "You can't just bellyflop wherever you want, goofball!";
		stop the action.

FoundMotorcycle is a truth state variable.
FoundMotorcycle is false.

EvelPoints is a truth state variable.
EvelPoints is false.

SECTION 8 - JURASSIC GRILL

JurassicGrill is a roomproxy in NorthGreenStreet. The printed name of JurassicGrill is "Jurassic Grill".
The description of JurassicGrill is "Here is the entrance to Jurassic Grill, a beloved burger joint known for its Jurassic-era ambience and compy burgers."
Understand "Jurassic Grill" as JurassicGrill.

JurassicGrillInterior is an Interior Location.
Instead of looking when player is in JurassicGrillInterior:
	if JurassicGrillInterior is unvisited:
		say "You open the door to Jurassic Grill. There's no one here except for a very tired man behind the register counter.";
	else:
		say "The restaurant smells of burgers and bacon. The music is a bit loud but the employee behind the register doesn't seem to care."
		
The printed name of JurassicGrillInterior is "Jurassic Grill".
JurassicGrillInterior is inside from Jurassic Grill.
Instead of entering JurassicGrill:
	now player is in JurassicGrillInterior.
Instead of exiting when player is in JurassicGrillInterior:
	now player is in NorthGreenStreet.

RegisterCounter is a a scenery supporter in JurassicGrillInterior.
Understand "table" and "counter" and "register counter" as RegisterCounter.
The description of RegisterCounter is "The counter looks pretty clean for a dive like Jurassic Grill. The tray of dining utensils is mostly stocked but the napkin dispenser looks empty. There's an NFC payment machine in front of what looks to be a very sad employee."

UtensilTray is scenery on RegisterCounter.
The description of UtensilTray is "It's a pretty standard utensil tray."
Understand "tray" and "utensils" and "utensil tray" as UtensilTray.

CompyBurger is scenery in JurassicGrillInterior.
The description of CompyBurger is "These burgers are what put this place on the map!"
Understand "compy burger" and "burger" and "food" as CompyBurger.

JGTrashCan is scenery in JurassicGrillInterior.
The description of JGTrashCan is "There's a trash can next to the stools. It looks pretty empty."
Understand "trash" and "garbage" and "can" as JGTrashCan.

NapkinDispenser is an open scenery container on RegisterCounter.
The description of NapkinDispenser is "There's only one napkin left."
Understand "dispenser" and "napkin dispenser" as NapkinDispenser.
JurassicGrillNapkin is in the NapkinDispenser.
The description of JurassicGrillNapkin is "This is the last one. You should only take it if you really need it."

Jurassic Grill Employee is a man in JurassicGrillInterior. "There's a tired-looking man behind the counter."
Jurassic Grill Employee is proper-named.
Understand "employee" and "guy" and "cashier" as Jurassic Grill Employee.
The description of Jurassic Grill Employee is "The employee behind the counter seems to be the only one working today."

Instead of talking to Jurassic Grill Employee:
	say "He's in no mood to talk. Try ORDERING something, like a Compy Burger."
	
JGOrderTicket is scenery in JurassicGrillInterior. "This is order ticket number 100. Nice!"
	
Instead of ordering CompyBurger:
	say "The employee lets out a brief sigh and gives you your order ticket before heading back into the kitchen. You decide to take a seat next to a trash can. Now all you need to do is WAIT.";
	now the player has JGOrderTicket;
	The Jurassic Grill Incident Occurs in one turn from now.
	
Instead of waiting when player is in JurassicGrillInterior:
	say "You take a seat and wait for your food to be ready. You notice that you're sitting next to an open trash can... Since you're the only one in the restaurant, you feel you don't really need an order ticket. Throw away receipt?";
	If the player consents:
		say "You throw away the receipt.";
		now JGOrderTicket is nowhere;
	otherwise:
		say "You hold onto the ticket.";
	stop the action.
	
At the time when The Jurassic Grill Incident Occurs:
	if player has JGOrderTicket:
		say "The bummed-out employee calls your number. You walk to the front and trade your order ticket for a brown paper bag with a Compy Burger in it. Nice!";
		now the player has CompyBurger;
	else:
		say "The bummed-out employee calls your number. You walk to the front to pick up your food, be he refuses to hand the bag over since you don't have your order ticket. You try explaining that you're the only person in the restaurant and you just placed the order a couple of minutes ago, but he isn't having it. He kicks you out of the restaurant.";
		end the story finally saying "You've been banned from Jurassic Grill."
		
Instead of eating CompyBurger:
	say "You finally understand why everyone says that JurassicGrill has the best burgers in Champaign. You think the price is a bit steep, but they make a fine sandwich!";
	now CompyBurger is nowhere.

PART 10 - ILLINI HALL

IlliniHall is a RoomProxy in Illini Hall.
The printed name of IlliniHall is "Illini Hall".
Understand "Illini Hall" as IlliniHall.

IlliniHallInterior is an Interior Location. "[if unvisited]You enter Illini Hall and see your Statistics professor standing there ten feet away from you. He gave you a D on the last exam. You check over your answers on your homework assignment. They look okay to you. Nothing you can do about it now anyway. You hand in the assignment and turn away without a word.[else]You already dropped off your assignment. No need to hang around."

The printed name of IlliniHallInterior is "Inside Illini Hall".


PART 11 - TURNER SOCIAL SERVICES 

TurnerServices is a RoomProxy in Turner Student Services.
The printed name of TurnerServices is "Turner Student Services Building".
Understand "Turner" and "Turner Services" and "Turner Student Services" and "Turner Student Services Building" as TurnerServices.

TurnerServicesInterior is an Interior Location. "[if unvisited] You've never entered this building before, but it seems to be empty right now. You wonder if this is normal and decide to go [bold type]out[roman type] as there's nothing interesting in sight."

The printed name of TurnerServicesInterior is "Inside Turner Student Services Building".



[
Inconsistent Diagonals
		-Illini Hall/Altgeld/Henry Admin/Bookstore
		-Bookstore/Henry/English/Wright&Daniels
		-Daniels Eateries/Bookstore/Wright&Daniels/Psych

		-You can cut across diagonally one way and not the other, it should be consistent but either way works, my suggestion is cutting the diagonals, cleaner room descriptions
]



VOLUME 8 - NORTH CAMPUS

BOOK 1 - REGIONS

NorthCampusOutdoor is a region.

NorthQuadNeighborhood is an OutdoorRegion.  Bardeen Quad and Grainger Library and Talbot Laboratory and Everitt Lab and Mechanical Engineering Building and Engineering Hall and Materials Science and Mechanical Engineering Lab, ECE Building, Nanotechnology Building, Shady Path, Public Safety Building, Grainger Computer Lab, Beckman Walkway, Beckman Quad, Beckman Institute,  Beckman Parking Lot, University Parking Garage, Digital Computer Lab and Civil Engineering Building, CivilEngineeringInterior, Kenney Gym, Engineering Sciences Building, GraingerCourtyard and Siebel Center Building and Science Buildings and NCSA and Empty Lot and NorthwestParking and Transportation building, and University high school are in NorthQuadNeighborhood.

NorthCampusIndoor is a region.

GraingerMap is  an IndoorRegion in NorthCampusIndoor.
GraingerLibraryInterior and Grainger Basement and GraingerFirstFloor and GraingerSecondFloor are in GraingerMap.

EngineeringMap is an IndoorRegion in NorthCampusIndoor.
File Room and Dead End and Study Area and MELInterior and 110A Engineering Hall, T&M Networking Room, MELabInterior, and Mechanical Engineering Classroom and Mechanical Engineering Help Desk, Mechanical Engineering Printer Lab Room, EverittLabInterior, Room 126, EngineeringHallInterior, MATSEBInterior, MEBuildingInterior, DCLInterior, Black Room, Sam Montgomery's House and Engineering Hall East Hallway are in EngineeringMap.

ECEBuildingMap is an IndoorRegion in NorthCampusIndoor.
ECEBuildingInterior and Room 1002 are in ECEBuildingMap.

TalbotLabMap is an IndoorRegion in NorthCampusIndoor.
TalbotLabInterior, TalbotLabNorthHall1, TalbotLabNorthHall2, TalbotLabNorthHall3, TalbotLab1MensRoom, TalbotLabEastHall1, TalbotLabEastFoyer, TalbotLabSouthHall1, TalbotLabComputerLab, TalbotLab1LadiesRoom, TalbotLabTurbulenceLab, TalbotLab2WestStairwell, TalbotLab2EastStairwell, TalbotLab2EastHall1, TalbotLabLounge, TalbotLabKitchen, TalbotLab2NorthHall1, TalbotLab2NorthHall2, TalbotLab2NorthHall3, TalbotLab2LadiesRoom, TalbotLab2SouthHall1, TalbotLab2SouthHall2, TalbotLab2SouthHall3, TalbotLab2MensRoom, TalbotLab3WestStairwell, TalbotLabStarbucks, and TalbotLabWestEntrance are in TalbotLabMap.

ComputerScienceMap is an IndoorRegion in  NorthCampusIndoor.
SiebelCenterInterior, Siebel Lab and Einstein Bros Bagels and Siebel Lecture Hall are in ComputerScienceMap.

NCSAMAP is an IndoorRegion in NorthCampusIndoor.
NCSAInterior is in NCSAMAP.

BOOK 2 - OUT of DOORS

PART 1 - ROOMS

Union Courtyard is north of Anniversary Plaza and east of Altgeld Hall and southeast of Alma Mater. "You are standing in a courtyard outside the student union.  A dry fountain is here, with a lovely statue of Artemis at the center." 

Circle Drive is north of Union Courtyard and west of GreenMatthewsStreet. "[CircleDriveDescription]". 

Instead of going north from Circle Drive:
	say "You can't cross Green Street in the middle of the block! Go [bold type]west[roman type] or [bold type]east[roman type], so you can cross at the light.";
	stop the action.

Instead of going south from Engineering Hall:
	say "You can't cross Green Street in the middle of the block! Go [bold type]west[roman type] or [bold type]east[roman type], so you can cross at the light.";
	stop the action.

GraingerCourtyard is east of Grainger Library. "The Courtyard at the east end of Grainger Library is a pleasant place to sit and study. The library lies to the [bold type]west[roman type], and a parking lot to the [bold type]east[roman type]. To the [bold type]south[roman type] is the Mechanical Engineering Lab and to the [bold type]north[roman type] is the intersection of Springfield and Matthews."

The printed name of GraingerCourtyard is "Grainger Courtyard".

University High School is east of Digital Computer Lab and north of NorthwestParking. "You are by University high school, a place created by the engineering department of the University of Illinois to remind the faculty how old they are and how little they have achieved. Siebel Center is to the [bold type]north[roman type], Civil Engineering to the [bold type]northwest[roman type] and parking lots in almost every other direction."

Grainger Library is north of Bardeen Quad. "You are standing outside Grainger Library. You see a man in a blue jacket and khaki pants sitting on a bench. He appears to be reading. Bardeen Quad is to the [bold type]south[roman type]. You can see Beckman looming far to the [bold type]north[roman type]. Digital Computer Lab is to the [bold type]northeast[roman type]. To the [bold type]southwest[roman type] is Talbot Laboratory and to the [bold type]southeast[roman type] is the Mechanical Engineering Lab."

Bardeen Quad is south of Grainger Library. "You step into the center of the quad and see an odd sculpture made up of various metal shapes. The pathways aren't your typical straight lines, instead curving and intersecting at any angles except for the right ones. To the [bold type]north[roman type], you see Grainger Library, and to the [bold type]east[roman type], you see the Mechanical Engineering Laboratory. Everitt Lab is to the [bold type]southwest[roman type] and Engineering Hall is to the [bold type]south[roman type]. MATSEB is to the [bold type]southeast[roman type] and to the [bold type]west[roman type], you see Talbot Laboratory."

Mananaan is a photogenic and scavengerhuntable scenery thing in Bardeen Quad.
The description of Mananaan is "The imposing sculpture is made from five scraps of discarded rusty steel shaped into a giant oculus, a tall cylinder, two curving triangles, and a disc. The plaque on it reads 'Mananaan.' You think you remember reading somewhere that Mananaan was the ancient Irish God of the Sea."
Understand "sculpture" and "odd sculpture" and "odd statue" and "statue" and "Mananan" and "Maananan" and "Manaanan" as Mananaan.

Instead of  photographing Mananaan:
	if Mananaan is unsnapped:
		say "You take a picture of Mananaan, and almost drop your camera as a giant wave of salt water crashes on top of your head. Strangely enough, your clothes are dry, but you leave wet footprints as you quickly walk away, crossing that one off of the Scavenger list.";
		now Mananaan is snapped;
	else:
		say "You don't want to risk another picture. You're not sure that your phone is water proof."

The printed name of Bardeen Quad is "John Bardeen Quad".

Everitt Lab is northwest of circle drive and southwest of Bardeen Quad and west of Engineering Hall. "You are standing on the Green Street entrance to Everitt Laboratory. From here you can go [bold type]west[roman type] to the Northwest Corner of Wright & Green, [bold type]south[roman type] towards the Union or [bold type]east[roman type] to Engineering Hall. Talbot Laboratory is to the [bold type]north[roman type] and Bardeen Quad is to the [bold type]northeast[roman type]."

The printed name of Everitt Lab is "Everitt Laboratory"

Mechanical Engineering Building is east of Materials Science and south of Transportation Building and north of Etc Coffeehouse. "You are standing outside the Mechanical Engineering Building, not to be confused with the Mechanical Engineering Lab or the Material Science and Engineering Building which lies to the [bold type]west[roman type]. You can go [bold type]east[roman type] to the Nuclear Radiations Lab, cross Green Street to the [bold type]south[roman type], or [bold type]enter[roman type] the Mechanical Engineering Building."

Mechanical Engineering Lab is east of Bardeen Quad and southeast of Grainger Library and south of GraingerCourtyard and west of Transportation Building. "You are standing outside of the Mechanical Engineering Lab, otherwise known as MEL. The Materials Science and Engineering building is to the [bold type]south[roman type] and the Engineering Hall is to the [bold type]southwest[roman type]. To the [bold type]west[roman type] is Bardeen Quad, while Grainger Library sits proudly to the [bold type]northwest[roman type]. You can [bold type]enter[roman type] MEL from here."

Beckman Walkway is north of Shady Path and southeast of ECE Building. "You are walking on a narrow north-south corridor between the micro and nano-technology building to the west and the Civil Engineering building to the east. To the [bold type]north[roman type] is Beckman Quad, beyond which looms the tower of Beckman institute."

Nano-technology building is west of Beckman Walkway and south of ECE Building.
"The Micro and Nano-technology building is much larger than you imagined it would be. From here the ECE Building is to the north, Beckman walkway is to the east, and Kenney Gym is to the south."
	
Shady Path is north of Grainger Library and east of Kenney Gym and south of Beckman Walkway. "The north-south path you are on is shadowed by lush trees, their leaves filtering the light.  Kenney Gym is to the [bold type]west[roman type] and the Digital Computer Lab to the [bold type]east[roman type]."


Beckman Quad is north of Beckman Walkway. "A peaceful, but lonely place. There's a running fountain in the center: it's beautiful against the bright blue sky and grassy green quad.  To the [bold type]west[roman type] is the ECE Building. To the [bold type]south[roman type] is the Beckman Walkway. A peaceful, but lonely place. It seems that the fountain has been turned off.
To the [bold type]west[roman type] is the ECE Building. To the [bold type]south[roman type] is the Beckman Walkway, and to the [bold type]north[roman type] Beckman itself, the mighty fortress looms."
Instead of going nowhere from Beckman Quad:
	say "You hit an invisible barrier. A voice from above tells you off."

Beckman Institute is north of Beckman Quad. "Gandalf the White stands before you. 'You Shall Not Pass,' he says. You didn't know anyone was larping today, but you decide to play along, and back away. You can retreat to the [bold type]south[roman type] and [bold type]east[roman type]."
Instead of going nowhere from Beckman Institute:
	say "Gandalf won't let you go that way either. Better not mettle in the affairs of wizards and just go [bold type]south[roman type]."



serious larper is a photogenic and scavengerhuntable scenery person in Beckman Institute.
Understand "Gandalf" and "gandalf the white" as serious larper.


Civil Engineering Building is east of Beckman Walkway. "You are standing in beside the Civil Engineering Building. The Beckman Walkway is to the [bold type]north[roman type], and other engineering buildings surround you on every side."

Science Buildings is north of Civil Engineering Building and west of NCSA and east of Beckman Quad. "There are several science buildings here. Beckman is to the [bold type]west[roman type] and NCSA to the [bold type]east[roman type]."

NCSA is north of Siebel Center Building and west of Campbell Hall. "This is the National Center for Supercomputing Applications, home of the petascale supercomputer, Blue Waters. You can go [bold type]inside[roman type] the building from here. The Siebel Center is to the [bold type]south[roman type]."

Beckman Parking Lot is east of Beckman Institute and north of Science Buildings.  "Beckman has its own parking lot. Not surprising, given the research projects happening inside."

University Parking Garage is east of Beckman Parking Lot and north of NCSA and northwest of Campbell Hall. "Anybody and anything can park in here. That's the beauty, and the peril."

Empty Lot is south of Campbell Hall and east of Siebel Center Building. "This parking lot is full of gravel and stunted weeds."

ParkingGravel is a scenery thing in Empty Lot.
The printed name of ParkingGravel is "Gravel".
instead of examining ParkingGravel:
    say "From your local unknown quarry, stream, or gravel pit. These little combinations of gray minerals are the backbone of every campground ever, your neighbor’s unkempt backyard, and the very lot your eyes were blessed to look upon.".
    
ParkingStuntedWeeds is a scenery thing in Empty Lot.
The printed name of ParkingStuntedWeeds is "stunted weeds".
understand "weeds" as ParkingStuntedWeeds.

instead of examining ParkingStuntedWeeds:
    say "Well, well, well, you seem to stumble on everyone’s favorite eye sore in the plant family. These little guys can be good, bad, or maybe just annoying, that’s up for you to decide."

Public Safety Building is south of Empty Lot and east of University High School and north of Engineering Sciences Building. "This building is closed for safety violations. Just kidding. You've never been in here. You can go [bold type]north, west, or south[roman type] from here."

ECE Building is west of Beckman Quad.  "You are standing outside the Electrical and Computer Engineering Building, otherwise known as ECE. The building's many windows gleam in the sunlight. You can't help but admire its modern and high-tech design. You can go [bold type]inside[roman type] or [bold type]east[roman type] to Beckman Quad."

Digital Computer Lab is north of GraingerCourtyard and south of Civil Engineering Building and northeast of Grainger Library. "This building seems almost eerie...students glance uneasily at it as they walk past. The door is locked. It gives you a chill as you pass. You can go [bold type]northeast[roman type] to Siebel."

Siebel Center Building is northeast of Digital Computer Lab and east of Civil Engineering Building and north of University High School. "You approach the Siebel Center. There is a large sign out front that makes it clear that you are the right place. The steps are simple, the modern design is catching.
   You can go [bold type]inside[roman type] to explore or [bold type]southwest[roman type] back to Digital Computer Laboratory. "

Instead of going nowhere from Siebel Center Building:
	say "There's not really much in that direction, except some moist grass. You should either go into the building or go back to the [bold type]southwest[roman type] to figure out where you want to go."

Talbot Laboratory is west of Bardeen Quad and southwest of Grainger Library and north of Everitt Lab and northwest of Engineering Hall. "[if unvisited]You walk to the doors and the first thing you notice is how old the building is, but it's in surprisingly good condition.[end if] There is card access panel on the big wooden door. You can go [bold type]inside[roman type] to enter the building. Grainger Library is to the [bold type]northeast[roman type]. The Bardeen Quad is to the [bold type]east[roman type], and Engineering Hall is to the [bold type]southeast[roman type]. Everitt Laboratory is to the [bold type]south[roman type].".

Materials Science is southeast of Bardeen Quad and south of Mechanical Engineering Lab. "As you look [bold type]north[roman type], you notice the Mechanical Engineering Laboratory, and to the [bold type]west[roman type], you see Engineering Hall. When you look [bold type]northwest[roman type], you admire the beautiful grassy landscape called Bardeen Quad. The intersection of Green Street and Matthews is to the [bold type]south[roman type]. You can[bold type] go [roman type][bold type] in [roman type]to the Materials Science Building, MATSEB for short, from here."
The printed name of Materials Science is "Materials Science and Engineering Building".

PART 2 - CURIOSITIES

GraingerBob is a photogenic scenery thing in Grainger Library.
Instead of examining GraingerBob for the first time:
	say "As you approach the figure, you realize it is not a man at all, but a statue! The statue is holding a book, positioned as though it's reading."
Instead of examining GraingerBob:
	say "The statue is holding a book, positioned as though its reading."
Understand "man", "figure", "reader", "bench", "jacket", "khaki pants", "khakis" as GraingerBob.

GraingerBobBook is a scenery thing in Grainger Library.
The printed name of GraingerBobBook is "some computer book".
The description of GraingerBobBook is "You lean in for a closer look. You make out the title to be [italic type]Computing the Future: A Broader Agenda for Computer Science and Engineering[roman type]. It looks like a good read."
Understand "book" and "Computing the Future" as GraingerBobBook.

Instead of reading GraingerBobBook:
	say "Your curiousity gets the best of you. You sit beside the statue and flip through a couple of pages in the book its holding. As you turn each page, the words become brighter on the paper. One by one the letters start to float off the page, breaking apart and coming together to form new words. The pages grow warm on your fingertips before they disconnect from the binding and float into the air along with the letters. In a matter of seconds the book is gone. Your eyes ache a bit and your head feels somewhat heavier. [line break][line break]The statue turns to you and says 'I was reading that, you know.' The statue then gets up from the bench and walks away.";
	now GraingerBobBook is nowhere;
	now GraingerBob is nowhere;
	now the right hand status line is "Bob".



BOOK 3 - INDOOR MAPS

PART 1 - GRAINGER

GraingerLibrary is a roomproxy in Grainger Library. Understand "Grainger" and "Grainger Library" as Grainger Library.
The printed name of GraingerLibrary is "Grainger Library".

GraingerLibraryInterior is an Interior Location. "Many rooms on the north side are filled with tarp-covered furniture, but there are computers and a help desk near the entrance of the main room. The occupants are absolutely silent and the only thing that can be heard is the air conditioning. You see an administration sign to the east, but it doesn't interest you much.[paragraph break]A room filled with desks sits to the [bold type]west[roman type]. There is also a staircase leading [bold type]down[roman type]wards and [bold type]up[roman type]wards in the northwest corner. To the [bold type]south[roman type] you can see the Bardeen Quad, and to the [bold type]north[roman type]."
GraingerLibraryInterior is inside from Grainger Library and above Grainger Basement.

The printed name of GraingerLibraryInterior is "Grainger Library Main Floor".

Grainger Basement is a room. "The center of the basement of Grainger Library is half-filled with desks and a few vending machines. Despite the students working, all that can be heard is the air conditioning.[paragraph break]There is a small study area to the [bold type]west[roman type]. To the [bold type]east[roman type], there is a computer lab and some doors. There is a staircase leading [bold type]up[roman type]wards on the north side.".
The printed name of Grainger Basement is "Grainger Library - Basement".

Grainger Computer Lab is east of Grainger Basement. "You enter the computer lab and see that all of the computers and chairs are arranged in an oval shape. You don't see any way out of this room other than the way you came in, to the [bold type]west[roman type].".
The printed name of Grainger Computer Lab is "Computer Lab".

GraingerSecondFloor is above GraingerLibraryInterior. "As you finish climbing up the stairs, you notice the sheer size of the room. The second floor is mostly filled up with tables and chairs. The hallway to the [bold type]east[roman type] is a dead end and there's a file room to the [bold type]west[roman type]."
The printed name of GraingerSecondFloor is "Grainger Library Second Floor".

Dead End is east of GraingerSecondFloor. "Three walls. This really a dead end.".

File Room is west of GraingerSecondFloor. "The first thing you notice as you walk in is that almost everything in the room is covered is a layer of dust. The only exit to this room is the way you came in, back to the [bold type]east[roman type].".

Study Area is west of GraingerLibraryInterior. "The study room is packed with various desks and chairs. Just outside the windows are bushes and trees that really make the room less boring. There doesn't seem to be any way out of this area other than how you came in, to the [bold type]east[roman type]."

Chainsaw needed is a truth state variable. Chainsaw needed is false.

BQ countdown is a number variable. [This is the number of turns player has before killer comes after them]
BQ countdown is 200.

Chainsaw needed is a truth state variable.
Chainsaw needed is false.

Bookcase moved is a truth state variable.
Bookcase moved is false.

GraingerHelpDeskClerk  asleep is a truth state variable.
GraingerHelpDeskClerk  asleep is true.
GraingerHelpDeskClerk  dead is a truth state variable.
GraingerHelpDeskClerk  dead is false.
GraingerHelpDeskClerk  agitated is a truth state variable.
GraingerHelpDeskClerk  agitated is false.

Velma Suns rested is a truth state variable.
Velma Suns rested is true.
Velma Suns read files is a truth state variable.
Velma Suns read files is false.

Dynamite lit is a truth state variable.
Dynamite lit is false.

Path cleared is a truth state variable.
Path cleared is false.

Finale is a truth state variable.
Finale is false.

Killer following is a truth state variable.
Killer following is false.

A person has a number called current hit points.
The current hit points of player is 40.
The current hit points of serial killer is 40. [Might want to increase this if fight is too easy]

Black Room is a room. "You wake up with your hands and ankles strapped to a metal chair. The chair is bolted to the ground and as you look up you see a cloaked figure. He slowly walks behind you while holding an axe. You feel a quick, sharp pain in your neck and then nothing. Your head falls off and makes a sickening SMACK with the ground."

Sam Montgomery's House is a room. "[if unvisited]As you walk up the door of Sam Montgomery's house, you realize it's open so you silently walk in. As soon as you get all the way into the house, the door slams shut and locks behind you. You look around and see all the other hallways are blocked except the one in front of you. A cloaked figure emerges out the hallway in front of you. The cloaked figure says, 'Welcome, by the looks of it, you're the one who has been tracking me down. Now let's see if you'll become my next victim or a hero!' The killer dashes right at you![else].You are standing outside the house of Sam Montgomery. Police Tape is all around."

Beckman institute is south of Sam Montgomery's house.


Graingercomputers are scenery in Grainger Computer Lab.
The description of GraingerCcomputers is "The computers and monitors have been smashed beyond repair with the likes to be a hammer, and there are no keyboards to be found. Many of the chairs are either tipped over or smashed into pieces."
Understand "computers" and "monitors" and "keyboards" and "lab" and "desktops" and "chairs" as Graingercomputers.
The printed name of GraingerComputers is "computer lab computers".

crime scene is fixed in place.
crime scene is an open container in Grainger Computer Lab. "One corner of the computer lab has been cordoned off with yellow tape. You can see a pool of blood, mixed with broken furniture and dry wall. It must have been quite a fight. Rumor has it a body was removed earlier that morning."
Understand "blood" and "pool of blood" as crime scene.

hammer is a blunt weapon in crime scene. "A hammer is lying near the pool of blood, not far from the each of the crime scene tape, so you can probably get close enough to take a look."

The description of hammer is "Bits of skull and brain can be seen all over the head of the hammer. Since the killer didn't clean the weapon, the handle of the hammer might have enough DNA on it to identify a suspect. Now that you are standing close to the blood, you can see that a piece of paper is swimming in it. It looks to you like it was placed there deliberately."

DNA is scenery in crime scene.

Instead of taking DNA:
	say "You make sure nobody is looking when you use your ACME forensic kit to collect some DNA from the handle."

floating note is scenery.
floating note is in crime scene.
The description of floating note is "The note says, 'One murder for every day I'm not stopped.'"

vending machines are scenery in Grainger Basement.
The description of vending machines is "You look at the vending machines and notice that they are all empty. Seeing this made you sad."

office furniture is scenery.
office furniture is in GraingerLibraryInterior.
The description of office furniture is "The pile of office furniture blocking the stairs seems to have been put there to either keep something in or keep people out."
Understand "furniture" and "office stuff" and "office supplies" and "pile" and "pile of office furniture" as office furniture.

clerk's head is a thing. "The head of the former help desk clerk is lying on the ground."
The description of clerk's head is "Well, you see two eyes, a mouth, a nose, two ears, and other things that would be on a head. Cool!"

GraingerHelpDesk is scenery in GraingerLibraryInterior.
The description of GraingerHelpDesk is "The help desk doesn't really have anything particularly helpful. HOW IRONIC!!!!"
Understand "desk" as GraingerHelpDesk.
The printed name of GraingerHelpDesk  is "help desk".

GraingerLibraryInteriorcomps is scenery.
GraingerLibraryInteriorcomps is in GraingerLibraryInterior.
The printed name of GraingerLibraryInteriorcomps is "computers."
The description of GraingerLibraryInteriorcomps is "Many of the computers have been torn to pieces for what seems like parts. Weird huh?"
Understand "computers" and "monitors" and "keyboards" and "desktops" as GraingerLibraryInteriorcomps.

Understand "wooden box" and "wood box" and "small box" and "box" as weak box.
weak box is a locked, closed container in Study Area. "In the middle of the room, you spot a wooden box. The word 'Hello' is stamped on the front side."

plaques is scenery.
plaques is in EH.
The description of plaques is "There are numerous plaques on the walls all from different years and each subjects. One plaque, Honorary Faculty - 2002, is badly damaged with scratches and slashes all over it."
Understand "plaque" as plaques.

Honorary Faculty plaque is scenery.
Honorary Faculty plaque is in EH.
The description of Honorary Faculty plaque is "On a closer inspection, you notice that particular names are scratched off. You can't make out any of the names except for one, Velma Suns."
Understand "honorary faculty" and "hf plaque" and "hf" and "honorary faculty - 2002 plaque" and "honorary faculty - 2002" and "2002 plaque" and "honorary faculty-2002 plaque" and "honorary faculty-2002" and "special plaque" as Honorary Faculty plaque.

MELkey unlocks MELchest.
The description of MELkey is "A small key with the letters 'MEL' etched into the side."
Understand "key" and "Mel key" as MELkey.
The printed name of MELkey is "MEL key".

MELlock is scenery.
MELlock is on round table.
The printed name of MELlock is "MEL lock".

Meltable is scenery in Mechanical Engineering Lab.
Understand "table" as Meltable.
 The printed name of MELtable is "round table".

MELchest is a locked, closed container on round table. "In a group of round tables to the left you see a chest on top of a table and it has a deep crimson color to it[if chest is unlocked] with a black, heavy lock[end if]."
MELchest is fixed in place.
The description of MELchest is "The chest has a deep crimson color to it."
Understand "chest" as MELchest.
The printed name of MELchest is "MEL chest".

bloody note is in MELchest.
The description of bloody note is " The note seems to be written in blood and says, 'The child in the basement of Grainger isn't the first victim in my series of murders and definitely won't be the last. The police have been trying to catch me for years, but the they have over looked the key details. I've been looking for someone to finally better me.' The letters 'W-N-2F' are written on the back."
Understand "note" as bloody note.

mysterious vial is an edible thing in MELchest.
The description of mysterious vial is "You look inside the vial and see a pitch-black liquid swishing around inside. The substance looks like it can be swallowed, but your stomach cringes at the idea."
Understand "vial" as mysterious vial.

glass case is fixed in place.
glass case is a closed, locked container in MATSEBInterior. "On one of the walls, you spot a glass case displaying an old dagger and talking about the beginnings of metallurgy."
The description of glass case is "The info inside reads something like this 'Metallurgy blah blah blah metal blah blah beginnings of material sciences blah blah dagger is old blah.'"

an old dagger is a small weapon in glass case.
The description of old dagger is "It's old and it's a dagger. Who would have guessed?"

metallurgy info is scenery.
The description of metallurgy info is "It reads something like this 'Metallurgy blah blah blah metal blah blah beginnings of material sciences blah blah dagger is old blah.'"

the killer's chainsaw is a device in Room 126.
The description of killer's chainsaw is "The chainsaw being covered in blood really matches it's red gas tank. From the swishing gasoline inside, you believe the gas tank is almost full."

odd bookcase is a thing.
The description of odd bookcase is "It looks like a normal wooden bookcase at first, but you look a little closer and realize that there is a thick steel plate bolted to the back. It looks too thick to cut, even with a chainsaw!"

rubble is scenery in GraingerSecondFloor.
The description of rubble is "There's not much to see here, but you do see spots of some old, dried blood. The floors must've collapsed while people were still inside."

Graingertables are scenery in GraingerSecondFloor.
Understand "chairs" and "tables and chairs" as Graingertables.
The description of Graingertables is "The tables and chairs here were used by many students throughout the years. There would be students here everyday of the week, but now, it's just a sad and somewhat chilling sight."

a rusty key unlocks dusty box.
a rusty key is in Dead End. "A small rusty key lies in the corner."
The description of a rusty key is "It looks like a really old key based on how much rust has built up on it. It probably opens a box or chest just as old."

dusty box is a locked, closed container.
The description of dusty box is "The box has a keyhole right in the front and looks like it's straight out of the 1950's. From the way the box was hidden, you have a feeling that it contains something important or really useful."

old revolver is a revolver gun.
Old revolver is in dusty box. "An old revolver is lying on the ground."
The description of old revolver is "The revolver looks like it hasn't been out of the box for quite some time now. You're not sure if it still works or not."

files is a thing in File Room. "A couple of records from the university are on the floor."
The description of files is "It's an assortment of old records from the university. The files look like they're only from the year 2002."
Understand "records" and "papers" as files.

dynamite is a thing. "A stick of dynamite is lying on the floor."
The description of dynamite is "It's a stick of dynamite. It would destroy anything that gets in its way, but it needs a light sadly."

a zippo lighter is a device. "A zippo lighter lies on the floor."
The description of zippo lighter is "It's a zippo lighter, so after you use it, you'll have to light it again. It's also nice and shiny, Ooooooooooooooh Pretty."

a file cabinet is a openable, closed container in File Room. "The file cabinets to the left of the room seem to have been used recently."
The description of file cabinets is "[if bookcase moved is false]To your surprise, you see the file cabinets are completely empty. Everything must've been taken out of them recently or hidden.[end if][if bookcase moved is true]You see that everything was hidden by a sliding door in one of the shelves.[end if]"

Rule for choosing notable locale objects for File Room:
set the locale priority of bookcase 1 to 0;
set the locale priority of bookcase 2 to 0;
set the locale priority of bookcase 3 to 0;
set the locale priority of bookcase 5 to 0;
set the locale priority of bookcase 4 to 1;
set the locale priority of file cabinet to 1;

bookcase 1 is a thing in File Room.
The description of bookcase 1 is "This bookcase has one of its selves broken, but there were no books on it though. The rest of the selves hold non-fiction books that are different biographies about people."

bookcase 2 is a thing in File Room.
The description of bookcase 2 is "This bookcase is completely empty and is pretty boring."

bookcase 3 is a thing in File Room.
The description of bookcase 3 is "This bookcase holds many dramas and plays like the ones by Shakespeare."

bookcase 4 is a thing in File Room. "You see five bookcases lined up one after another near the right wall of the room. Each bookcase is numbered, starting at 1 ending at 5."
The description of bookcase 4 is "The bookcase is filled with science-fiction books like 'Hitchhikers Guide to the Galaxy' and 'Brave New World.' You notice that the floor underneath the bookcase is scratched up."

bookcase 5 is a thing in File Room.
The description of bookcase 5 is "This bookcase contains many textbooks spanning all kinds of various subjects."

Instead of examining floor in file room:
	say "There's nothing really special about the floor except the floor under bookcase 4. It looks pretty scratched up."

collapsed doorway is scenery.
The description of collapsed doorway is "This collapsed doorway almost killed you on your way out of the file room. Luckily, you made it out in time."


a dead body is a woman.
The description of dead body is "You took too long to give the woman the mysterious vial, so she died. How sad."
Understand "dead woman" and "body" and "woman" as dead body.

Instead of taking dead body:
	say "You can't just take dead bodies with you wherever you go!";
	stop the action.

Instead of pulling or pushing dead body:
	say "You can't just move dead bodies to your liking because that's plain wrong.";
	stop the action.
Instead of attacking dead body:
	say "She already died from your actions, just let her rest in peace now.";
	stop the action.

Instead giving noun to dead body:
	try attacking dead body.

Instead of waking dead body:
	try attacking dead body.
Instead of showing noun to dead body:
	try attacking dead body.
Instead of throwing noun at dead body:
	try attacking dead body.
Instead of kissing dead body:
	try attacking dead body.

Instead of asking dead body for noun:
	try attacking dead body.
Instead of petting dead body:
	try attacking dead body.

Instead of WeaponAttacking dead body:
	try attacking dead body.

hurt woman is a person in Room 126. "The woman who was attacked by the killer looks like she really needs your help."

The description of hurt woman is "You can see the woman is nearly cut in half. You're surprised that she hasn't died already."

Instead of giving something to hurt woman:
	if noun is mysterious vial:
		say "She pops open the vial and just downs the whole thing as soon as she got her hands on it. You can see her wounds heal instantly. After her wounds recovered, she say, 'Thanks for the help. My name is Velma Suns and I'm a professor at this university. I need to get a little rest after this endeavor. Could you please guide me to my office in Talbot?";
		now Velma Suns rested is false;
		now mysterious vial is nowhere;
		now hurt woman is nowhere;
		now Velma Suns is in Room 126;
		stop the action;
	else:
		say "The hurt woman shakes her head as if she doesn't want what you're trying to give to her.";
		stop the action;
Instead of taking or pushing or pulling hurt woman:
	say "You don't think it's appropriate to move the hurt woman. You might make it worse for her.";
	stop the action;
Instead of attacking hurt woman:
	say "As you raise your weapon, the woman begs you to let her live, but her pleas fall on deaf ears.";
	now dead body is in Room 126;
	now hurt woman is nowhere;
	stop the action;
Instead of showing noun to hurt woman:
	say "The hurt woman looks at the [noun] in your hand and just looks at you like 'What are you doing?'";
	stop the action;
Instead of waking hurt woman:
	say "The hurt woman is already awake. There's no need to wake her up.";
	stop the action;
Instead of throwing noun at hurt woman:
	say "The woman is in no condition to play catch with you.";
	stop the action;
Instead of kissing hurt woman:
	say "You go in to kiss the hurt woman, but she backs away awkwardly, trying her hardest not to kiss you. You notice how hard she's trying so you stop and you feel somewhat hurt.";
	stop the action;

Instead of asking hurt woman for noun:
	say "The woman is in no condition to give you the [noun].";
	stop the action;

Instead of WeaponAttacking hurt woman:
	try attacking hurt woman;

Velma Suns is a woman. "[if Velma Suns rested is false]Velma Suns is still recovering from what happened to her. She looks like she needs some rest.[else]You can see Velma Suns wandering around in her office and working hard to stop her attacker."
The description of Velma Suns is "Velma Suns is the woman who was attacked by the serial killer in Room 126. She's a faculty member at the university."
Every turn when Velma Suns rested is false:
	move Velma Suns to the location of the player.
Instead of taking Velma Suns:
	say "You can't just carry Velma around.";
	stop the action.
	
Instead of pushing or pulling Velma Suns:
	say "You can't just move people around to your liking.";
	stop the action.
	
Instead of giving something to Velma Suns:
	if noun is lighter:
		try showing lighter to Velma Suns;
	else if noun is files:
		try showing files to Velma Suns;
	else:
		say "I don't really have a use for a [noun]. I think you should hold onto it.";
		stop the action.
Instead of showing noun to Velma Suns:
	if noun is lighter:
		say "Velma says, 'Thanks I could use this.' She then takes out a massive blunt and straight blazes it like an OG.";
		stop the action;
	else if noun is files:
		say "[if Velma Suns read files is false]These files could be useful for my search. Velma thoroughly reads the files and yells excitedly 'Now this makes sense! I had a rather odd student in 2002 who declared his love for me. I rejected him, and he took it hard.  His name is Sam Montgomery. He may still live in town.' You consider ther words and decide to go to the house of Sam MOntgomery.[else]I've already read these files. You should try going to Sam Montgomery's house to investigate. You decide to head over there right away. [paragraph break]";
		now Finale is true;
		now Velma Suns read files is true;
		now player is in Sam Montgomery's house;
	else:
		say "Velma takes a close look at the [noun] you're showing her. She says, 'I don't see anything about the [noun] that interests me.'";
		stop the action.


Instead of waking Velma Suns:
	say "You don't need to wake up Velma; she's already up.";
	stop the action;
Instead of throwing noun at Velma Suns:
	say "You throw the [noun]. Velma catches it and throws it back. She says, 'I am not in the mood to play catch with you.'";
	stop the action.
Instead of attacking Velma Suns:
	say "Velma Suns dodges your attacks and yells 'We're on the same side. Remember!?'";
	stop the action.
Instead of kissing Velma Suns:
	say "You consider kissing Velma, but she backs away from you awkwardly, as if she guessed your intent. Can't help it, it hurts your feelings.";
	stop the action.

Instead of asking Velma Suns for noun:
	say "I don't have a [noun] that I can give to you.";
	stop the action.
Instead of slapping Velma Suns:
	say "Velma dodges your slap and slaps your right back. It hurt.";
	stop the action.
Instead of pushing or pulling Velma Suns:
	try taking Velma Suns.

Instead of WeaponAttacking Velma Suns:
	try attacking Velma Suns.

GraingerHelpDeskClerk is an animal in GraingerLibraryInterior. "[if GraingerHelpDeskClerk  dead is true]You see the body of the former help desk clerk.[else if GraingerHelpDeskClerk  agitated is true]You see a really, really pissed help desk clerk and he's holding a pistol in his hand.[else if GraingerHelpDeskClerk  asleep is true]You see the help desk clerk is sleeping peacefully.[else]You see the help desk clerk is wide awake and he looks a little pissed."

The description of GraingerHelpDeskClerk  is "The clerk is a pretty chill dude, but when he gets mad, he gets MAD. Other than that, he likes to reading, slow walks on the beach, and is currently [if GraingerHelpDeskClerk  dead is false]looking for love.[else]dead."
Instead of giving something to GraingerHelpDeskClerk :
	if GraingerHelpDeskClerk  dead is true:
		say "You can't give or show a dead man anything!";
		stop the action;
	else if GraingerHelpDeskClerk  asleep is true:
		say "You see that the help desk clerk is asleep at the moment. You can leave him be or wake him up.";
		stop the action;
	else:
		say "You try to give the [noun] to the clerk, but he just looks at it as if he doesn't know what a [noun] is.";
		stop the action;
Instead of showing noun to GraingerHelpDeskClerk :
	try giving noun to GraingerHelpDeskClerk ;
Instead of waking GraingerHelpDeskClerk :
	if GraingerHelpDeskClerk  dead is true:
		say "The help desk clerk is off in an eternal sleep that you can't wake him from.";
		stop the action;
	else if GraingerHelpDeskClerk  asleep is true:
		say "You keep nudging the help desk clerk until he wakes up. He looks really groggy.";
		now GraingerHelpDeskClerk  asleep is false;
		stop the action;
	else:
		say "The help desk clerk is already awake. You don't have to wake him up again.";
		stop the action;
Instead of throwing noun at GraingerHelpDeskClerk :
	if GraingerHelpDeskClerk  dead is true:
		say "You throw the [noun] right at the help desk clerk, and nothing happens because YOU FUCKING KILLED HIM!!![paragraph break]Now [noun] is on the floor.";
		now noun is in GraingerLibraryInterior;
		stop the action;
	else if GraingerHelpDeskClerk  asleep is true:
		if noun is weapon:
			say "You aim the [noun] right at the help desk clerk. As you're about to throw it, you realize that you shouldn't hurt him.";
			stop the action;
		else:
			say "You throw the [noun] at the help desk clerk. You nail him right in the head and he wakes up. He says angrily 'Why did you do that for?'[paragraph break]Now the [noun] is on the ground.";
			now noun is in GraingerLibraryInterior;
			now GraingerHelpDeskClerk  asleep is false;
			stop the action;
	else:
		say "You throw the [noun] at the clerk. He catches it, gives you a dirty look, and throws it back. He mutters 'I am in no mood to play games.'";
		stop the action;
Instead of cutting GraingerHelpDeskClerk :
	try attacking GraingerHelpDeskClerk ;

Instead of attacking GraingerHelpDeskClerk :
	if GraingerHelpDeskClerk  dead is true:
		say "You already killed the man, give him a break!";
		stop the action;
	else if GraingerHelpDeskClerk  agitated is true:
		say "You consider attacking the desk clerk but considering that he's pointing a gun at your head, this is a lame move even for someone trying to find all the possible endings in a game. You think better of it.";
	else if GraingerHelpDeskClerk  asleep is true:
		if player has chainsaw:
			say "You take out your trusty chainsaw and just go to town on the poor, sleeping clerk.[paragraph break]Now clerks head is on the floor.";
			now clerk's head is in GraingerLibraryInterior;
			now GraingerHelpDeskClerk  dead is true;
			stop the action;
		else if player has old dagger:
			say "You pull out the old dagger and give it a taste of some fresh blood from this clerk. After stabbing him like 17.5 times in the back, you think he's had enough.";
			now GraingerHelpDeskClerk  dead is true;
			stop the action;
		else if player has hammer:
			say "You swing the hammer as hard as you can. You nail the sleeping clerk right in the head so hard that it caved in. I don't think he'll be waking up from that anytime soon.";
			now GraingerHelpDeskClerk  dead is true;
			stop the action;
		else:
			say "You punch the sleeping clerk right in the face. He obviously wakes up from that nonsense and hits you back.";
			now GraingerHelpDeskClerk  asleep is false;
			stop the action;
	else:
		say "As you go up to hit the clerk, he pulls out a pistol and yells 'Do not even try it.'";
		now GraingerHelpDeskClerk  agitated is true;
		stop the action.

Instead of kissing GraingerHelpDeskClerk :
	if GraingerHelpDeskClerk  dead is true:
		say "You consider kissing the clerk, but stop yourself because mom always said 'Don't get intimate with dead people because that is just plain wrong.'";
		stop the action;
	else if GraingerHelpDeskClerk  asleep is true:
		say "You consider kissing the clerk on the lips while he's sleeping, because he looks kind of like an angel, but you realize that since he is unconscious he cannot give consent, and thus it would technically be sexual assault, so you think better of it.";
		stop the action;
	else:
		say "You get close enough to kiss the clerk, and just at that moment he wakes up and punches you in the face. He then shouts 'After disturbing my nap, you think I am going to let you kiss me!?'";
		stop the action.

Instead of asking GraingerHelpDeskClerk  for noun:
	if GraingerHelpDeskClerk  dead is true:
		say "After you finish chatting away to the clerk, you realize that dead people can't hear. What a drag.";
		stop the action;
	else if GraingerHelpDeskClerk  asleep is true:
		say "Whatever you said to the clerk wasn't heard because he's vast asleep.";
		stop the action;
	else:
		say "The clerk hears what you're saying, and instead of replying, he slowly extends his middle finger right at you.";
		stop the action;

Instead of slapping GraingerHelpDeskClerk :
	if GraingerHelpDeskClerk  dead is true:
		try attacking GraingerHelpDeskClerk ;
	else if GraingerHelpDeskClerk  agitated is true:
		try attacking GraingerHelpDeskClerk ;
	else if GraingerHelpDeskClerk  asleep is true:
		say "You slap the clerk right in the face. Obviously he's not too happy about being woken up this way, so he headbutts you.";
		now GraingerHelpDeskClerk  asleep is false;
		stop the action;
	else:
		try attacking GraingerHelpDeskClerk ;
Instead of petting GraingerHelpDeskClerk :
	now GraingerHelpDeskClerk  agitated is false;
	continue the action;
Instead of taking GraingerHelpDeskClerk :
	say "You can't just take the help desk clerk; he just wouldn't fit in your fanny sack.";
	stop the action;
Instead of pushing or pulling GraingerHelpDeskClerk :
	say "You can't just move people around like that.";
	stop the action;
Instead of WeaponAttacking GraingerHelpDeskClerk :
	try attacking GraingerHelpDeskClerk ;


Instead of attacking someone when player is in Bardeen Quad:
	say "You consider using violence as a means to solve your problem, or perhaps solve your boredom, but you realize that you're a better person than that and do a sudoku puzzle instead. You feel much better after."


serial killer is a man in Sam Montgomery's House. "A cloaked figure of a big build is glaring at you."
The description of serial killer is "You notice the serial killer is wielding an axe in his hand. Be careful!"
Understand "Sam" and "Montgomery" and "Sam Montgomery" and "cloaked figure" as serial killer.
Instead of giving something to serial killer:
	say "The serial killer knocks the [noun] out of your hand.";
	now noun is in the location of player;
	stop the action;
Instead of showing noun to serial killer:
	say "The serial killer knocks the [noun] out of your hand.";
	now noun is in location of player;
	stop the action;
Instead of waking serial killer:
	say "The serial killer is already awake, and you'll regret trying to do that!";
	stop the action;
Instead of throwing noun at serial killer:
	say "You throw the [noun] at the serial killer, but he just dodges it and laughs at your pity attempt to hit him.[line break]Now the [noun] is on the ground.";
	now noun is in the location of player;
	stop the action;
Instead of kissing serial killer:
	say "As you go up to give the serial killer a big smooch, he pushes you back and readies his axe!";
	stop the action;

Instead of asking serial killer for noun:
	say "The serial killer is in no mood to talk to you, so he grips his axe tightly and swings!";
	stop the action;

Instead of petting serial killer:
	say "You go up to the serial killer to pet him, but he just slaps your hand away and swings his axe right at you!";
	stop the action;
Instead of taking or pulling or pushing serial killer:
	say "The serial killer doesn't let you come close to him, so he swings his axe right at you!";
	stop the action;

a donkey is an animal in Bardeen Quad. "A donkey is wandering around eating grass and just being a donkey. It looks happy here."
The description of a donkey is "You don't really know why a donkey is doing here, and you're too lazy to do anything about it."
Instead of WeaponAttacking donkey:
	try attacking donkey;
Instead of slapping donkey:
	say "You have successfully slapped dat ass.";
Instead of attacking donkey:
	say "You go up to hurt the donkey, and as you look at it, it gives you 'donkey eyes.' You just can't bring yourself to hurt such a majestic animal and break down crying.";
Instead of sacrificing donkey:
	try attacking donkey;
Instead of pulling or pushing donkey:
	try taking donkey;
Instead of giving something to donkey:
	say "The donkey gives you a perplexed look as it just eyes the [noun] in your out stretched hand.";
	stop the action;
Instead of showing noun to donkey:
	say "The donkey gives you a perplexed look as it just eyes the [noun] in your out stretched hand.";
	stop the action;
Instead of waking donkey:
	say "The donkey is already up. There is no need to wake up the donkey.";
	stop the action;
Instead of throwing noun at donkey:
	say "You throw the [noun] at the donkey, but you completely miss.[paragraph break]Now [noun] is on the ground.";
	now noun is in Bardeen Quad;
	stop the action;
Instead of kissing donkey:
	say "You give the donkey a big, fat kiss, but the donkey is uninterested in you that way. You know, although it likes you, it doesn't like like you.";
	stop the action;

Instead of entering donkey:
	say "The donkey keeps dodging your attempts to get on its back."; 
	stop the action;

Sacrificing is an action applying to two visible things.
Understand "sacrifice [something] with [something preferably held]" as sacrificing.
Check Sacrificing:
	if player does not have a weapon:
		say "You need something sharp and small to sacrifice something.";
		stop the action;
	else:
		if second noun is small:
			if second noun is sharp:
				if noun is not an animal:
					say "You can't just sacrifice anything or anybody!";
					stop the action;
			else:
				say "You need a weapon that is sharper and the same size to sacrifice something.";
				stop the action;
		else:
			say "You need a weapon that is small and sharp to sacrifice something.";
			stop the action;
Report sacrificing:
	 say "You pull out your small, sharp weapon and dig it right into the neck of [noun]. You start chanting loudly while blood is pouring. The soul of [noun] enters you and you now feel stronger.";

[
Instead of taking hammer for the first time:
	increase score by 10;
	continue the action;
Instead of taking old dagger for the first time:
	increase score by 10;
	continue the action;
Instead of taking chainsaw for the first time:
	increase score by 10;
	continue the action;
Instead of taking old revolver for the first time:
	increase score by 10;
	continue the action;
Instead of showing files to Velma Suns for the first time:
	increase score by 20;
	continue the action;
]

Instead of exiting:
	if player is in Grainger Computer Lab:
		try going west;
	else if player is in File Room:
		try going east;
	else if player is in Study Area:
		try going east;
	else:
		continue the action;

Instead of attacking yourself:
	if SelfDefeat is incompleted:
		say "[line break]Attacking yourself is a self-defeating act, but it does save monsters, zombies, serial killers and vampires the trouble....";
		now SelfDefeat is completed;
		now CurrentEnding is SelfDefeat;
		End the Journey;
	else:
		say "You already tried that. If you're done with the game, you can SAVE and then QUIT for now, or just plain QUIT if you're really feeling self-destructive.";
		stop the action.

Instead of taking note:
	say "The police wouldn't like it if you took the note."

Instead of taking office furniture:
	say "All of the office furniture is too heavy for you to carry. Try getting it out some other way.";
Instead of attacking or cutting office furniture:
	if player is carrying chainsaw:
		if chainsaw is switched off:
			say "A running chainsaw would make it easier to cut through the furniture.";
			stop the action;
		if chainsaw is switched on:
			say "You slice through the office furniture as if it were made of butter. The scraps of what's left lie to one side of the stairs. Now you can go to the second floor.";
			now office furniture is nowhere;
		else if player is carrying hammer:
			say "A hammer isn't enough to take down all of this furniture. Try looking for something more capable of destroying office furniture.";
			stop the action;
		else:
			say "You can't break down the furniture with your bare hands. Try getting something with a little more kick.";
			stop the action;

Instead of unlocking keylessly or unlocking or attacking or opening weak box:
	if player has hammer:
		say "You swing the hammer with all of your might and the box shatters into pieces, and all you see in the wreckage is a key with 'MEL' etched into the side.[paragraph break]MEL key taken.";
		now weak box is nowhere;
		now player has MELkey;
	else:
		say "The box is too strong to break with only your fists. Try getting something with a little more oomph.";
		stop the action;

Instead of attacking or opening glass case:
	if player has hammer:
		say "You shatter the glass case with the hammer and the dagger with some useless information on metallurgy fall onto the floor.";
		now glass case is nowhere;
		now old dagger is in MATSEBInterior;
		now metallurgy info is in MATSEBInterior;
	else:
		say "You don't have the time to look for a key for the case and you don't want to cut yourself by breaking the case with your bare hands.";
		stop the action;

Instead of opening file cabinet:
	if bookcase moved is false:
		say "After you open the file cabinet, you see nothing inside. Everything must've been taken out or it
		may be hidden.";
		stop the action;
	else:
		continue the action;
Instead of taking file cabinet:
	say "The file cabinet is too heavy for you to carry.";
	stop the action;

Instead of unlocking keylessly dusty box:
	say "As you turn the rusty key in the box, it snaps in half! Luckily, the lid on the dusty box pops open when the key broke.";
	now rusty key is nowhere;
	now dusty box is unlocked;
	now dusty box is open;

Instead of examining round table:
	say "There's nothing really special about the table. It's just round and a table.";
	stop the action;

Instead of examining MELlock:
	say "It says, 'See you soon' on the back.";
	stop the action;
Instead of taking MELlock:
	say "You don't see a need to carry around the lock.";
	stop the action;

Instead of unlocking keylessly MELchest:
	if player has MELkey:
		try unlocking MELchest with MELkey;
	else:
		say "You see that there is a lock on the chest. Try getting a key to open it first!";
		stop the action;
Instead of unlocking MELchest with MELkey:
	say "The key slides into the lock and makes a loud clunk. The chest is now open!";
	now MELchest is unlocked;
	now MELchest is open;
	stop the action;

Instead of eating or drinking mysterious vial:
	if current hit points of player is less than 10:
		say "You pound the vial and you feel the approach of death stop. You feel much, much better like you're completely alive again!";
		now current hit points of player is 40;
		now mysterious vial is nowhere;
		stop the action;
	else:
		say "As the last drop leaves the vial, you feel as if you're burning on the inside. The burning continues until your legs feel weak and you collapse. You feel darkness creping in all around and it becomes too much to bear. You close your eyes and fall unconscious.[paragraph break]You've become the serial killer's next victim!";
		now player is in black room;
		now mysterious vial is nowhere;
		now DrinkingProblem is completed;
		now CurrentEnding is DrinkingProblem;
		End the Journey.

Instead of dropping mysterious vial:
	say "You think 'The vial could be useful in the future', so you decide against dropping it.";
	stop the action.
Instead of taking mysterious vial:
	now chainsaw needed is true;
	continue the action;

Instead of examining old dagger:
	if player is in MATSEBInterior:
		say "It's old and it's a dagger. Who would have guessed?";
		stop the action;
	else:
		continue the action;

Instead of going nowhere:
	if player is in Grainger Basement:
		say "There is nothing particularly interesting in that direction. Try going up the stairs or into the computer lab.";
		stop the action;
	if player is in Grainger Computer Lab:
		say "There are no exits in that direction; try leaving the way you came in.";
		stop the action;
	if player is in GraingerLibraryInterior:
		say "Try checking out the study room to the West or Bardeen Quad to the South.";
		stop the action;
	if player is in Study Area:
		say "There are no exits in that direction; try leaving the way you came in.";
		stop the action;
	if player is in Bardeen Quad:
		say "There is nothing close by in that direction. Try going to Grainger Library, Engineering Hall, Mechanical Engineering Lab, Material Science and Engineering Building, or Everitt Laboratory.";
		stop the action;
	else:
		continue the action.

[  XXX -- make sure this still works in the new Talbot Lab

Instead of going direction in Talbot Laboratory:
	if Velma Suns rested is false:
		say "Velma Suns goes to her office, rests up a bit, and then goes to work on finding more about her attacker.";
		now Velma Suns rested is true;
		continue the action;
	else:
		continue the action;
]

Instead of going up in GraingerLibraryInterior:
	if Velma Suns rested is false:
		say "Velma asks 'Could you please take me to my office in Talbot first? I really need some rest.";
		continue the action;
	else if office furniture is in GraingerLibraryInterior:
		say "The stairs going up are blocked by piled up office furniture. Try to find a way through the furniture or around it.";
		stop the action;
	else:
		now player is in GraingerSecondFloor;

Instead of going south in GraingerSecondFloor:
	say "You look at the windows to the South and admire Bardeen Quad for a moment. After admiring, you come back to reality and continue on your journey.";
Instead of going up in GraingerSecondFloor:
	say "You approach the stairs to go up and see they are blocked by rubble from the upper floors collapsing. There's no way you can get through that.";
Instead of going north in GraingerSecondFloor:
	say "You see the stairs to the North, but you can only go up or down stairs.";

Instead of going northwest when player is in Everitt Lab :
	if chainsaw needed is false:
		say "You see a room with 126 on the door, but the door is locked at the moment. Maybe you should explore elsewhere.";
		stop the action;
	else:
		now player is in Room 126;
		Woman Dies in 2 turns from now;

Instead of going southeast when player is in Room 126:
	if player is not carrying chainsaw:
		say "You walk towards the door to leave. As you put your hand on the handle, you think to yourself 'That chainsaw could be useful.'";
		stop the action;
	else:
		now player is in Everitt Lab.

Instead of taking chainsaw:
	now chainsaw needed is false;
	continue the action;

[
Instead of kissing clerk's head:
	say "Wait, what!? WHY? Ok, I ... I can't just let you do that. I'm bringing your spree of tyranny to an end. GAME OVER, SICK FUCK!";
	End the Journey.
]

Instead of going east in File room:
	if odd bookcase is in File Room:
		say "The odd bookcase is blocking the only exit out of the file room. You need to look for another way out or a way to destroy the bookcase.";
		stop the action;
	else:
		say "The doorway to the file room was damaged badly after your dynamite stunt. It collapses right after you leave the file room.";
		continue the action.

Instead of taking or pushing bookcase 1:
	try taking odd bookcase;
Instead of taking or pushing bookcase 2:
	try taking odd bookcase;
Instead of taking or pushing bookcase 3:
	try taking odd bookcase;
Instead of taking bookcase 4:
	say "The bookcase is too heavy for you to carry.";
Instead of taking or pushing bookcase 5:
	try taking odd bookcase;
Instead of attacking or cutting bookcase 1:
	try attacking bookcase 5;
Instead of attacking or cutting bookcase 2:
	try attacking bookcase 5;
Instead of attacking or cutting bookcase 3:
	try attacking bookcase 5;
Instead of attacking or cutting bookcase 4:
	try attacking bookcase 5;
Instead of attacking or cutting bookcase 5:
	say "You don't want to destroy the only remaining books in the Grainger Library.";

Instead of throwing dynamite at odd bookcase:
	if dynamite lit is false:
		say "You throw the stick of dynamite at the odd bookcase, but it really didn't do much because you didn't light it.[paragraph break]Now a stick of dynamite is on the floor.";
		now dynamite is in File Room;
		stop the action;
	else:
		say "You throw the lit dynamite at the bookcase and it explodes into an amazing glory sending shards of the bookcase everywhere. Now you can escape the file room!";
		now odd bookcase is nowhere;
		now dynamite is nowhere;
		now path cleared is true;
		stop the action.

Instead of taking or pushing odd bookcase:
	say "The bookcase is too heavy for you to carry or move.";
Instead of attacking or cutting odd bookcase:
	if player is carrying chainsaw:
		say "You start cutting through the bookcase, but the steel plate bolted on the back prevents you from cutting any further. Try getting out another way.";
	else if player is carrying hammer:
		say "A hammer isn't enough to break the bookcase. Try looking for another way out.";
		stop the action;
	else:
		say "You can't break down the bookcase with your bare hands. Try looking a different way out.";
		stop the action.

Instead of pushing or pulling bookcase 4:
	if bookcase moved is false:
		say "As you move the bookcase, you hear a loud click and some noises inside the file cabinet. You also notice a lighter lying where the bookcase used to be.";
		now bookcase moved is true;
		now dusty box is in file cabinet;
		now files is in file cabinet;
		now dynamite is in file cabinet;
		now zippo lighter is in File Room;
	else:
		say "You don't see a reason to move the bookcase back into place.";
		stop the action.

Instead of going nowhere in Sam Montgomery's House:
	if direction is south:
		say "The door behind you locked, so you can't escape that way.";
		stop the action;
	else:
		say "The serial killer gets in front of you and prevents you from escaping.";
		stop the action.

Instead of going nowhere when player is in GraingerLibraryInterior:
	say "Better LOOK around again before setting off."

Instead of going nowhere when player is in MATSEBInterior:
	say "Better LOOK around again before setting off."

Instead of going nowhere when player is in MATSEB:
	say "Better LOOK around again before setting off."

Instead of going nowhere when player is in EH:
	say "Better LOOK around again before setting off."

Instead of going nowhere when player is in Everitt Lab :
	say "Better LOOK around again before setting off."

Instead of going nowhere when player is in Mechanical Engineering Lab:
	say "Better LOOK around again before setting off."

Instead of going east when player is in Mechanical Engineering Lab:
	say "Better LOOK around again before setting off."


Every turn when player is in NorthQuadNeighborhood:
	if BQ countdown is not 0:
		decrease BQ countdown by 1;
	else:
		if killer following is false:
			Killer Comes in 0 turns from now;
			say "You feel the air around you get colder, and as you look behind your shoulder, you see the a cloaked figure behind you. He says, 'I've waited long enough for you to find me. Looks like I expected too much from you. Time to end this charade!' He pulls out an axe and comes right at you!".

At the time when Killer Comes:
	now serial killer is in location of player;
	now Killer following is true.

Instead of going west in GraingerSecondFloor:
	if collapsed doorway is in GraingerSecondFloor:
		say "The collapsed doorway to the file room is preventing you from going back there.";
		stop the action;
	else:
		Killer arrives in 10 turns from now; [Might want to change how long it takes for serial killer to show]
		Killer arrives6 in 4 turns from now;
		Killer arrives2 in 8 turns from now;
		Entrapment in 0 turns from now;
		now collapsed doorway is in GraingerSecondFloor;
		continue the action;

At the time when Entrapment:
	now odd bookcase is in File Room;
	say "You hear a loud 'THUD' and notice an odd bookcase behind you. It appears to have been knocked over to trap you inside the file room.";

At the time when killer arrives6:
	say "You hear movement in the vents above; you might want to get out of here soon."
At the time when killer arrives2:
	say "The sound in the vents is really loud right now."

At the time when killer arrives:
	if path cleared is false:
		now serial killer is in File room;
		say "The serial killer drops down from a ventilation shaft in the ceiling. After he lands, he pulls out a pump shotgun and points it directly at you.";
		now BadSurprise is completed;
		now CurrentEnding is BadSurprise;
		End the Journey;
		stop the action;
	if path cleared is true:
		now serial killer is nowhere;

At the time when Woman Dies:
	if player is carrying mysterious vial:
		say "The hurt woman died because she didn't get the mysterious vial in time.";
		now hurt woman is nowhere;
		now dead body is in Room 126.

[At the time when Information:
	say "Velma calls you up and exclaims 'After thinking about students that went to the university during the 2002, I remember I had a rather odd student who proposed his love for me. I rejected him and he look really hurt and furious. The attacker did have a similar build as him. His name is Sam Montgomery. You should go to his house to investigate.'[line break](Try Going To Sam Montgomery's House)";
	now Finale is true;
]
Instead of burning dynamite:
	if player is not carrying lighter:
		say "You need something to light the stick of dynamite with.";
		stop the action;
	else:
		say "You have lit the stick of dynamite. Be careful with it!";
		now dynamite lit is true;
		Dynamite explodes in 2 turns from now ;

At the time when Dynamite explodes:
	if player has dynamite or player is in the location of Dynamite:
		say "You explode into millions of tiny pieces. Should have gotten away from that stick of dynamite.";
		now BigBoom is completed;
		now CurrentEnding is BigBoom;
		End the Journey;
		stop the action;
	else:
		say "You hear the stick of dynamite explodes into millions of tiny pieces. Good thing you put a wall between you and the explosion. You are unharmed.";
		now dynamite is nowhere;



PART 2 - EVERITT LAB

EverittLab is a roomproxy in Everitt Lab. Understand "Everitt Lab" and "Everitt Laboratory" as EverittLab.
The printed name of EverittLab is "Everitt Lab".

EverittLabInterior is an Interior Location. "You are standing in the Lobby of Everitt Lab. It feels rather empty because electrical and computer engineering labs and classes have been moved to the new building. You see plenty of rooms, but most of them look empty or uninteresting.[if chainsaw needed is true][paragraph break]The one exception is that you hear screams coming from Room 126 to the [bold type]northwest[roman type].[end if][paragraph break]You can go [bold type]out[roman type] from here back to Green Street."

 EverittLabInterior is inside from Everitt Lab.
The printed name of EverittLabInterior is "Everitt Lab Entrance".

a seriously hurt woman is in Room 126.
a seriously hurt woman is a woman.

Room 126 is northwest of EverittLabInterior. "[if unvisited]You run into the room to see a cloaked figure starting to run a chainsaw through a woman's abdomen. As he spots you, he drops the chainsaw and jumps out the nearest window. To your surprise, the woman who was practically cut in half is still clutching on to life.[end if][if player has the vial]The woman in this room is seriously wounded. She asks you for the vial you are carrying.[paragraph break]You think to yourself, 'I could keep the vial for myself or I could give it to her.'[else]There's blood everywhere from the aftermath of the attack. The room is entirely painted red from all of it.[end if][paragraph break]The lobby is to the [bold type]southeast[roman type]."

Vial is a thing.


PART 3 - ENGINEERING HALL

EngineeringHall is a roomproxy in Engineering Hall. The printed name of EngineeringHall is "Engineering Hall". Understand "Engineering" and "Engineering Hall" as EngineeringHall.


EngineeringHallInterior is an Interior Location. "You always know that you're in the Engineering Hall because of the numerous plaques on almost every wall. Many have names etched on them were awarded across many years and decades. You marvel over them."
The printed name of EngineeringHallInterior is "Engineering Hall Interior."
EngineeringHallInterior is inside from Engineering Hall.


Engineering Hall is north of circle drive and south of Bardeen Quad and west of Materials Science. "You look around to see Bardeen Quad to the [bold type]north[roman type] and the Mechanical Engineering Lab to the [bold type]northeast[roman type]. MATSEB sits to the [bold type]east[roman type], Illini Union to the [bold type]south[roman type], and el to the [bold type]west[roman type]. To the [bold type]northwest[roman type], you see Talbot Laboratory."

110A Engineering Hall is north of Engineering Hall East Hallway. "[if unvisited]You notice that the room you just entered is divided into four sub-sections. As you inspect the room further, you notice that each section of the room belongs to a different Engineering RSO. [end if]The NOBE office must be behind the wall to your left. You can see the EWB office toward the back of the room, and the AOE office at the back-left corner. You are peering directly into the SWE Office. To the [bold type]south[roman type] is the East Hallway of Engineering Hall."

Instead of going nowhere when player is in 110A Engineering Hall:
	say "While wandering around 110A Engineering Hall, it suddenly dawned on you that this space certainly belongs to specific groups on campus. Perhaps you should run back to the [bold type]south[roman type] before someone catches you in here!"

SWOffice table is a scenery supporter in 110A Engineering Hall.

The description of SWOffice table is "The table appears to be well worn, and among the disarray atop the surface, you identify a tshirt, a half-open bag of chips, and some papers."

A National Member shirt is a wearable thing on SWOffice table. "There is a grey tshirt on the center table of the SWE Office."

The description of a National Member shirt is "The shirt depicts two white gears made up of mathematical symbols, along with the words 'Society of Women Engineers' also written in white."

Understand "tshirt" and "SWE shirt" and "SWE tshirt" and "Member shirt" as a National Member shirt.

A bag of chips is an edible thing on SWOffice table. "There appears to be a crumpled bag of chips in the middle of the table as well."

The description of bag of chips is "The bag of chips is half-eaten. The chips inside look stale."

Some papers are a thing on SWOffice table. "You can also see flyers from what seem to be an information session with a corporate sponsor."

The description of some papers are "You pick up the stack of papers and scan through them. All identical, they direct you to a web link where you could submit your resume for consideration for both internship and full-time positions. You make a mental note of the link and place the stack back down."

Understand "flyers" and "flyer" as some papers.

T&M Networking Room is a room. "[if unvisited]You find yourself standing in what looks like a conference room with a massive rectangular table in the center. Two walls are covered in white boards.[end if]You look around at the conference-style setup in the room. To the [bold type]north[roman type] is the East Hallway of Engineering Hall."

Instead of going nowhere when player is in T&M Networking Room:
	say "While wandering around the T&M Networking Room, it suddenly dawned on you that this room must belong to a specific group on campus. Perhaps you should run back to the [bold type]north[roman type] before someone catches you in here!"

A floor cabinet is a closed openable fixed in place container in the T&M Networking Room. "A small floor cabinet sits along one of the far walls of the room."

The description of a floor cabinet is "[if closed]You observe two doors on the cabinet. Perhaps you could open it?[else] You see a Keurig, a box of kcups, and a few mugs."

Understand "small cabinet" and "small floor cabinet" as floor cabinet.

The kcup is a thing in the floor cabinet.
Understand "kcups" and "cups" as kcup.

The mug is a thing in the floor cabinet.
Understand "mugs" as mug.

TCoffee is scenery in the T&M Room.
Understand "coffee" as TCoffee. The printed name of TCoffee is "coffee".
TCoffee is drinkable.
The Keurig is a switched off device in the floor cabinet.

The description of the Keurig is "The Keurig machine appears to be empty but could perhaps be functional if switched on, loaded with a k-cup, and fitted with a mug."

Understand "coffee machine" and "coffee maker" and "Keurig machine" as Keurig.

Engineering Hall East Hallway is north of T&M Networking Room. "[if unvisited]You ente	r the hallway on the east side of Engineering Hall, where the display cabinets are decorated with information about various engineering RSOs. [end if]From the hallway, you may go [bold type]north[roman type] to 110A Engineering Hall or [bold type]south[roman type] to the T&M Networking Room. The Mechanical Engineering Lab is [bold type]northeast[roman type]."

Instead of going nowhere when player is in Engineering Hall East Hallway:
	say "As you wander around the East Hallway, you notice a door to the [bold type]north[roman type], and door to the [bold type]south[roman type]."

Display cabinets are scenery in Engineering Hall East Hallway.

The description of display cabinets are "The cabinets on the wall are vibrant collages of smiling faces and various awards given to various RSOs."

Understand "cabinet" and "displays" as display cabinets.

Instead of switching on Keurig:
	say "[if switched off]Surprisingly, a little green light appeared on the Keurig! You didn't notice it was plugged in. You wonder if you can do anything else with the Keurig.[else]A little green light at the top of the Keurig catches your eye-- how silly, it was already on!";
	now the Keurig is switched on.
Instead of switching off Keurig:
	say "[if switched off]As you look for the off switch on the Keurig, you realize a small LED light on the front. The light is off--how silly, it was already off![else]The green light on the machine fades noiselessly.";
	now the Keurig is switched off.

Instead of eating Keurig:
	say "You couldn't possibly eat this machine, but perhaps if you did something with it..."

Report taking National Member shirt:
	say "You check the tag, happy to discover that it's exactly your size!";
	stop the action. 

Report wearing National Member shirt:
	say "It's not too big, and not too small. Just right!"
	
Instead of taking chips:
	say "You hesitate for a moment...maybe you shouldn't be taking food from an office you just walked into.";
	now player has chips.
Instead of eating chips for the first time:
	say "The bag was already open, but you reach in and pop an old chip in your mouth anyway. As you chew on the stale old chip, you begin to question your choices...".
Instead of eating chips:
	say "You really don't know why you keep eating these chips.".

Instead of eating chips for the fourth time:
	say "Finally, you snap to your senses and decide to throw away the bag of chips. Food shouldn't be lying around, and you certainly shouldn't eat food that is.";
	now the chips are nowhere.

Instead of examining SWOffice table:
	if bag of chips is on table and shirt is on table:
		say "The table appears to be well worn, and among the disarray atop the surface, you identify a tshirt, a half-open bag of chips, and some papers.";
	else if bag of chips is on table and shirt is not on table:
		say "On the table, you see a half-open bag of chips and some papers.";
	else if bag of chips is not on table and shirt is on table:
		say "On the table, you see a tshirt and some papers.";
	else:
		say "You see some papers scattered around the table".


Check coffeeMaking:
	if Keurig is switched off or player does not have mug or player does not have kcup:
		say "You are missing a crucial step in the coffee-making process.";
		Stop the action.

Carry out coffeeMaking:
	say "You place the kcup and mug in the appropriate spots in the Keurig and hit the big center button. Mmmm you hear the coffee fall into the mug in a steady stream as you smell the distinct aroma filling the room.";
	now player has Tcoffee;
	now kcup is nowhere;
	now mug is nowhere;
	now HadCoffee is true.

Instead of eating Tcoffee:
	try drinking coffee.

Instead of drinking Tcoffee:
	if time of day is after 5:00 pm:
		if time of day is  before 2:00 am:
			say "While the coffee is delicious, you can't help thinking about how difficult it will be to fall asleep tonight. On the flip side, you feel the energy flowing back into your body!";
	else:
		say "As soon as you take the first caustic sip of the coffee, you feel the energy flowing back into your body.".

UpToNoGood is a number variable. UpToNoGood is 0.
AmbikaAppears is a truth state variable. AmbikaAppears is false.
SWOfficeLocked is a truth state variable. SWOfficeLocked is true.

Every turn when time of day is after 9:00 am:
	if time of day is before 5:00 pm:
		now SWOfficeLocked is false.

Every turn when player is in 110A Engineering Hall or player is in T&M Networking Room:
	increment UpToNoGood.

Before taking something when player is in 110A Engineering Hall or player is in T&M Networking Room:
	increase UpToNoGood by 2.

Every turn when UpToNoGood is greater than 10 and AmbikaAppears is false:
	say "A tall girl in a trench coat and red scarf pokes her head in, gives you a funny look, and leaves. Though she said nothing, something tells you that you should run along. Although her outfit was fabulous, you would probably go blind if you saw her bright red suede boots again.";
	now AmbikaAppears is true.



PART 4 - MATERIALS SCIENCE BUILDING

MATSEB is a RoomProxy in Materials Science. "MATSEB stands for Materials Science and Engineering Building. Named after Frederick Seitz. Who is Frederick Seitz?"

MATSEBInterior is an Interior Location. "[if unvisited]From the moment you walk in, you notice that it's very quiet inside, with the exception of distant murmurings from the distant lecture halls.[else]It's quiet here, in the Material Science and Engineering building.[end if] You can go [bold type]west[roman type] into a classroom with a weird number 1945 or [bold type]exit[roman type] the building from here."

The printed name of MATSEBInterior is "MATSEB Entrance".

MATSEBInterior is inside from Materials Science.

Room 1945 is west of MATSEBInterior. "It seems like a typical classroom: yellow desks, chairs, a blackboard... It's empty, but you notice a blue book on one of the desks. Did someone forget it here?"

yellow desk is a supporter in Room 1945.

yellow desk is a scenery.

Merchants of Doubt is a book on the yellow desk. "Merchants of Doubt: How a Handful of Scientists Obscured the Truth on Issues from Tobacco Smoke to Global Warming by Naomi Oreskes and Eric Conway. A blue cover features a stack with smoke coming out of it."

Merchants of Doubt is a scenery.

Understand "blue book", "oreskes", "naomi oreskes", "eric conway", "conway", "merchants", "oreskes and conway book", "oreskes and conway" as Merchants of Doubt.

Instead of reading Merchants of Doubt:
	say "You open the book on a random page and see a familiar name. Fred Seitz. As you continue reading, you learn that Fred Seitz was one of the scientists who played a major role in tobacco industry's campaign against the scientific findings about the harmful, including possible carcenogenic, effects of tobacco on human health."

The printed name of MaterialsScience is "Materials Science and Engineering Building".

Understand "Materials Science Building" and "Materials" and "Materials Science and Engineering" as MATSEB.

PART 5 - MECHANICAL ENGINEERING

[had to change max num of static strings]
[add ChocolateCloset  	     "North Campus" to table of endings]
[ChocolateCloset is an EndingsFound. The printed name of ChocolateCloset is "Ate Way Too Much Chocolate".]

MEBuilding is a roomproxy in Mechanical Engineering Building.  "Historical details are currently lacking."
The printed name of MEBuilding is "Sidney Lu Mechanical Engineering Building". Understand "Mechanical Engineering Building" and "ME" and "Engineering" and "Sidney Lu" and "Sidney" as MEBuilding.
MEBuildingInterior is inside from Mechanical Engineering Building. 

MEBuildingInterior is an Interior Location. "[If unvisited]You are inside the Sidney Lu Mechanical Engineering Building.[end if] There are students everywhere, going to class and sitting on the cafe tables and couches. A long line of students trail in front of the Starbucks. There are some plants scattered throughout the room. A long, futuristic-looking hallway opens up to the [bold type]WEST[roman type]."

The printed name of MEBuildingInterior is "Mechanical Engineering Hub".

Mechanical Engineering Main Hall East is west of MEBuildingInterior.

Mechanical Engineering Main Hall West is west of Mechanical Engineering Main Hall East.

MEbathroomentrance is north of Mechanical Engineering Main Hall East.
Mechanical Engineering Graduate Program Office is south of Mechanical Engineering Main Hall East.

Classroom 1043 is north of Mechanical Engineering Main Hall West.
MEgardenentrance is south of Mechanical Engineering Main Hall West.
Garden Terrace is south of MEgardenentrance.

Janitor's Closet is a room.

The Door to Janitor's Closet is a closed door.
The Door to Janitor's Closet is scenery.	
The Door to Janitor's Closet is west of Janitor's Closet and east of MEbathroomentrance.

janitor's closet key is an object.
The Door to Janitor's Closet is lockable and locked. The matching key of the Door to Janitor's Closet is the janitor's closet key.	

understand "key" and "closet key" as janitor's closet key.
understand "door" as Door to Janitor's Closet.
	
The printed name of MEbathroomentrance is "Bathroom Entrance."
The printed name of MEgardenentrance is "Garden Terrace Entrance."

The description of Mechanical Engineering Main Hall East is "[one of]The circular fluorescent lights give you a headache. The hallway is a pristine white color. It looks almost futuristic.[or]A group of students passes you on your left. They appear to be discussing the homework problems in ME 320. Just listening to them gives you a headache.[or]As you look around the hallway, you notice that you can see your reflection on the floor. you wave to yourself and see your reflection wave back. [stopping] There are bathrooms to the [bold type]north[roman type] and the Graduate Program Office to the [bold type]south[roman type]. You can go [bold type]east[roman type] to return to the Mechanical Engineering Hub or [bold type]west[roman type] to continue down the hallway."

The description of Mechanical Engineering Main Hall West is "Interestingly, the west hall is painted a bright teal color. Matching furniture lines the hallway. There is a large whiteboard and stairs at the end of the hall. You can go [bold type]east[roman type] to continue down the hallway. A large gray door is propped open that leads to an empty classroom to the [bold type]north[roman type]. To the [bold type]south[roman type] is the entrance to the garden terrace."

The description of MEbathroomentrance is "You are standing in front of the bathroom door. A window lets in some much needed natural light, and some plants sit on the ledge. There is a small water fountain on the wall. You can head [bold type]south[roman type] back to the main hallway. The Janitor's Closet is to the [bold type]east[roman type]."

The description of Mechanical Engineering Graduate Program Office  is "The office appears to be empty[If unvisited], but thankfully the door was unlocked and you open it with a click[end if]. The room is a bit dim, but the light filtering through the large windows make up for it. You can go back to the main hall by heading [bold type]north[roman type]."

The description of Classroom 1043 is "Clusters of teal chairs and long white desks are scattered throughout the room. It appears that there is no class in session right now. You can head [bold type]south[roman type] back to the main hall."
	
The description of MEgardenentrance is "You stand in a small hall. Grand wooden plaques line the upper parts of the wall, and a red carpet leads to the Garden Terrace to the [bold type]south[roman type]. Glass doors to the [bold type]north[roman type] lead back to the main hallway".

The description of Garden Terrace is "You feel a cool breeze hit you as you open the door. A metal fence and some plants separate you from the rest of Green Street. To go back inside, you can head [bold type]north[roman type]".

Chocolate Bars are scenery in Janitor's Closet.
understand "chocolate" and "chocolate bars" and "bar" and "bars" and "chocolate bar" as Chocolate Bars.

Instead of taking Chocolate Bars:
	if ChocolateCloset is not completed:
		say "You take a chocolate bar, unwrap it, and take a bite and a few more. It finally occurs to you that you've just downed 5 large chocolate bars in less than 10 minutes. [paragraph break]You still remember the legendary sugar high you had to this day where you sang two rounds of karaoke and ran four laps around campus. Although you had one of the best times of your life, the crash that followed was probably one of your worst."; [ChocolateCloset]
		now ChocolateCloset is completed;
		now CurrentEnding is ChocolateCloset; 
		End the Journey;
	else:
		say "You think about taking the chocolate bar, but memories of your sugar crash still haunt you."
	

Instead of eating Chocolate Bars:
	if ChocolateCloset is not completed:
		say "You take a chocolate bar, unwrap it, and take a bite and a few more. It finally occurs to you that you've just downed 5 large chocolate bars in less than 10 minutes. [paragraph break]You still remember the legendary sugar high you had to this day where you sang two rounds of karaoke and ran four laps around campus. Although you had one of the best times of your life, the crash that followed was probably one of your worst."; [ChocolateCloset]
		now ChocolateCloset is completed;
		now CurrentEnding is ChocolateCloset; 
		End the Journey;
	else:
		say "You think about eating the chocolate bar, but memories of your sugar crash still haunt you."

The description of Janitor's Closet is "You find yourself in the Janitor's closet. You see some mops, paper towels, and shelves of cleaning spray, paper towels, and wet floor signs. On a small table however, you see a box of king sized choclate bars."
	
Instead of going south in MEBuildingInterior:
	say "You ran into the large, crystal clear windows that face Green Street with a large thud. People stare at you. Well, that was embarrassing."

Instead of going up in MEBuildingInterior:
	say  "You think about going upstairs, but would rather explore the first floor for now."

Instead of going down in MEBuildingInterior:
	say "You think about going downstairs, but would rather explore the first floor for now."
	
instead of going nowhere in the MEBuildingInterior:
	say "Ouch! you ran into a wall of the Mechanical Engineering Hub."

Instead of going up in Mechanical Engineering Main Hall East:
	say  "It seems that the elevator is still under construction."

Instead of going down in Mechanical Engineering Main Hall East:
	say "It seems that the elevator is still under construction."
	
Instead of going nowhere in Mechanical Engineering Main Hall East:
	say "You peek into the classroom flanking the hallway. There is a class in session! Walking in would be rude."

Instead of going up in Mechanical Engineering Main Hall West:
	say "You're curious about what could be up those stairs, but you notice that there is a wet floor sign on the first steps. You do not feel like falling down the stairs today."

Instead of going down in Mechanical Engineering Main Hall West:
	say "You're curious about what could be down those stairs, but you notice that there is a wet floor sign on the first steps. You do not feel like falling down the stairs today."

Instead of going nowhere in Mechanical Engineering Main Hall West:
	say "You peek into the classroom flanking the hallway. There is a class in session! Walking in would be rude."

Instead of going north in MEbathroomentrance:
	say "You slam into the windowsill, almost knocking over the plants."

Instead of going nowhere in Garden Terrace:
	say "You don't think that you could jump over the railing without injuring yourself in the process."

Instead of going west in MEbathroomentrance:
	say "As you are about to enter the bathroom, you remember hearing people talking about the pipes bursting. On second thought, maybe its not a good idea to go in."


Janitor is a person.
Janitor is in MEBuildingInterior.
understand "man" as Janitor.
The initial appearance of Janitor is "A man wearing a blue jumpsuit sits on a chair in the corner of the room."
The description of the Janitor is "He appears to be exhausted.".
	
mechanical engineering students are people in Mechanical Engineering Main Hall East.
mechanical engineering students are scenery.
	
understand "students" and "engineering students" as mechanical engineering students.

The description of the mechanical engineering students is "The students continue to discuss various topics such as thermodynamics and energy conservation. It all goes over your head."

talkedToStudents is a truth state variable.
talkedToStudents is false.

talkedToStudentsConsecutive is a truth state variable.
talkedToStudentsConsecutive is false.

trackConsectiveConversation is a number variable.
trackConsectiveConversation is 0.

[first time talking is normal, after 3 consective talks, the studentss will be annoyed. Will reset if player does something else for one turn.]

talkToStudents is a text variable.

To say talkToStudents:
	if talkedToStudentsConsecutive is true:
		increase trackConsectiveConversation by 1;
		if trackConsectiveConversation is turn count:
			say "The students are annoyed that you keep approaching them...";
		else:
			say "While startled by your suddent introduction, the students appear to be friendly. They tell you to avoid the first floor bathrooms since one of the pipes burst.";
			now talkedToStudents is true;
			now talkedToStudentsConsecutive is false;
			now trackConsectiveConversation is turn count;
	else if talkedToStudents is true:
		increase trackConsectiveConversation by 1;
		if trackConsectiveConversation is turn count:
			now talkedToStudentsConsecutive is true;
			say "The students repeat that you should avoid the first floor bathrooms since one of the pipes burst...";
		else:
			say "While startled by your suddent introduction, the students appear to be friendly. They tell you to avoid the first floor bathrooms since one of the pipes burst.";
			now trackConsectiveConversation is turn count;
	else:
		say "While startled by your suddent introduction, the students appear to be friendly. They tell you to avoid the first floor bathrooms since one of the pipes burst.";			
		now talkedToStudents is true;
		now trackConsectiveConversation is turn count.

Instead of talking to mechanical engineering students:
	say "[talkToStudents]"
	
water container is a kind of thing.
water container can be filled or unfilled.
water container is usually unfilled.

watering can is a water container.
Janitor carries watering can.	
	
waterLeft is a number variable.
waterLeft is 0.
	
water source is a kind of thing.		
waterfountain is scenery in MEbathroomentrance.
waterfountain is fixed in place.
waterfountain is a water source.

The description of waterfountain is "It's a modern water fountain, with two levels to drink from, and a water bottle filler!"

The printed name of waterfountain is "water fountain".
understand "water fountain" and "fountain" as waterfountain.

playerhaswateringcontainer is a truth state variable.

hasAcceptedJanRequest is a truth state variable.
hasAskedJanBefore is a truth state variable.
NumPlantsWatered is a number variable.
NumPlantsWatered is 0.

Janitor carries janitor's closet key.

[to do, finish talk to jaintor]
janitortalkdes is a text variable.
To say janitortalkdes:
	if hasAcceptedJanRequest is false:
		if hasAskedJanBefore is false:
			say "The man tells you that he is the janitor of the building. Today he was supposed to water all of the plants on the first floor, but he slipped while coming downstairs and has hurt his ankle. [paragraph break]He looks at you curiously and says 'By any chance, could you help me out?'";
			now hasAskedJanBefore is true;
		else:
			say "'Think you could help me water those plants?'";
		if player consents:
			say "In response, the Janitor says 'Thanks, I really appreciate it! I’ll let you borrow my trusty watering can too, although you’ll need to fill it with water. You can fill it like so: [paragraph break]fill [bold type]watering can[roman type] with water from [bold type]a water source[roman type][paragraph break] and you’ll have a can full of water! I would use filtered water if you can.'";
			now hasAcceptedJanRequest is true;
			now player has watering can;
			now playerhaswateringcontainer is true;
		else:
			say "In response, the Janitor says 'That's a shame, but I can't blame you. You kids are always so busy these days.'";
	else if NumPlantsWatered is 12:
		if player has watering can:
			say "'You watered all 12 plants? I'm impressed! Thanks for helping me out again. Infact, I'll let you in on a little secret.' [paragraph break] He hands you a small silver key. [paragraph break] 'It's my spare key to the janitor's closet. I keep my stash of chocolate bars there. Take some whenever you want. I'm going to head home now and fix up my ankle.'[paragraph break] The janitor hobbles out of the builidng, waving to you as he leaves.";
			now player has janitor's closet key;
			now Janitor has watering can;
			now Janitor is nowhere;
			now playerhaswateringcontainer is false;
		else:
			say "'It seems that you misplaced your watering can. Go find it, then we'll talk.'";
	else:
		say "'Well, get to it! It seems that you have watered [NumPlantsWatered] out of 12 plants.'".
		

Instead of talking to Janitor:
	say "[janitortalkdes]".

[scenery objs]
StarbucksME is scenery in MEBuildingInterior.
The printed name of StarbucksME is "Starbucks".
understand "Starbucks" and "starbucks" as StarbucksME.
The description of StarbucksME is "You think about getting Starbucks, but the line looks scarily long."
	
[studentsME is scenery in MEBuildingInterior.
The printed name of studentsME is "Students in Hub".
understand "student" and "students" as studentsME.
The description of studentsME is "Many students are studying, haning out with friends, or working on group projects. The Hub seems like a nice place to study."]
	
fluorescentLights is scenery in Mechanical Engineering Main Hall East.
The printed name of fluorescentLights is "Fluorescent Lights".
understand "lights" and "lights" and "fluorescent lights" as fluorescentLights.
The description of fluorescentLights is "As you continue to look at the lights, your headache gets worse. You look away."

Wooden Plaques is scenery in MEgardenentrance.
understand "plaques" and "placks" and "plaque" as Wooden Plaques.
The description of Wooden Plaques is "They are a bit hard to read, but they look fancy."

whiteBoardME is scenery in Mechanical Engineering Main Hall West.
The printed name of whiteBoardME is "White Board".
understand "board" and "white board" and "whiteboard" as whiteBoardME.
The description of whiteBoardME is "There are equations written in blue dry erase marker all over the board. It looks like the remenants of someone's physics homework."

desksME is scenery in Classroom 1043.
The printed name of desksME is "White Desks".
understand "desk" and "desks" and "white desks" as desksME.
The description of desksME is "The desks are a reflective white. Nothing really stands out to you."

plantvegetation is a kind of thing.
plantvegetation can be hydrated or dehydrated.
plantvegetation is usually dehydrated.

small tree is plantvegetation in MEBuildingInterior.
rubber plant is plantvegetation in MEBuildingInterior.
white bird of paradise plant is plantvegetation in MEBuildingInterior.
snake plant is plantvegetation in MEbathroomentrance.
pothos plant is plantvegetation in MEbathroomentrance.
spider plant is plantvegetation in Mechanical Engineering Graduate Program Office.
orchid is plantvegetation in Mechanical Engineering Graduate Program Office.
heartleaf philodendron is plantvegetation in Mechanical Engineering Graduate Program Office.
golden pothos is plantvegetation in Mechanical Engineering Graduate Program Office.
dragon tree is plantvegetation in Classroom 1043.
aloe plant is plantvegetation in Classroom 1043.
tall grass is plantvegetation in Garden Terrace.

small tree is fixed in place.
rubber plant is fixed in place.
white bird of paradise plant is fixed in place.
snake plant is fixed in place.
pothos plant is fixed in place.
spider plant is fixed in place.
orchid is fixed in place.
heartleaf philodendron is fixed in place.
golden pothos is fixed in place.
dragon tree is fixed in place.
aloe plant is fixed in place.
tall grass is fixed in place.

small tree is undescribed.
rubber plant is undescribed.
white bird of paradise plant is undescribed.
snake plant is undescribed.
pothos plant is undescribed.

understand "tree" as small tree.
understand "rubber" and "ruber" as rubber plant.
understand "paradise plant" and "bird of paradise" and "white bird" and "paradise" and "parise plant" and "paridise plant" and "paraidse" as white bird of paradise plant.
understand "snek plant" and "snek" and "snak" and "snek" and "snake" as snake plant.
understand "pothos" and "pahtos" and "pothso" and "pahtos plant" and "pothso plant" as pothos plant.
understand "spider" and "spyder" as spider plant.
understand "orcid" and "flower" as orchid.
understand "heartleaf" and "philodendron" and "hertleaf" and "pilodren" and "phioldren" and "phliodenron" and "heartleaf phliodenron" and "heartleaf phliodenron" as heartleaf philodendron.
understand "golden" and "pothos" and "poths" and "potho" as golden pothos.
understand "dragon" and "tree" as dragon tree.
understand "alo" and "aleo" as aloe.
understand "grass" as tall grass.
understand "purple orchid" as orchid.

hubPlants is scenery in MEBuildingInterior.
bathroomPlants is scenery in MEbathroomentrance.

the printed name of hubPlants is "Plants".
the printed name of bathroomPlants is "Plants".

understand "plant" and "plants" as hubPlants.
understand "plant" and "plants" as bathroomPlants.

The description of hubPlants is "The Mechanical Engineering Hub is tastefully decorated with a variety of greenery. A small tree basks in the light. A rubber plant with a modern appearance sits near the window facing the physics building. Behind the couches, a white bird of paradise plant is nestled between the entrance and the windows."

The description of bathroomPlants is "Two plants sit next to each other on the windosill facing north. A small snake plant sits on the windowsill. The thin vines of the pothos plant drapes over the windowsill."

Instead of asking Janitor about "U of I":
	say "I love it here!"
Instead of asking Janitor about "cleaning":
	say "Well, Its what I do!"
Instead of asking Janitor about "chocolate":
	say "Who doesn't like chocolate?"
Instead of asking Janitor about "ankle":
	say "Thanks for asking. It will heal with time."

The initial appearance of spider plant is "The yellow-green leaves of the spider plant resemble, well, a spider."
The initial appearance of orchid is "A purple orchid with small flowers rests in a green pot."
The initial appearance of heartleaf philodendron is "The heartleaf philodendron plant towers over the others."
The initial appearance of golden pothos is "The vines of the golden pothos grow over the edge of its terracotta pot."
The initial appearance of dragon tree is "A tall dragon tree peeks out from behind the desks."
The initial appearance of aloe plant is "An aloe plant grows out of a large pot."
The initial appearance of tall grass is "Tall grass grows up against the metal fencing."

Table of plant descriptions
obj	before	after
small tree	"Upon looking at the tree a bit closer, you notice that some of its leaves have started to turn brown at the tips."	"The soil is a healthy shade of dark brown. The leaves of the tree are trimmed so that its foliage is in the shape of a sphere."
rubber plant	"The main stems of the rubber plant are drooping slightly. The soil looks pretty dry too."	"The rubber plant is fairly large, and the tips of its leaves fade from green to orange."
white bird of paradise plant	"The plant looks somewhat lethargic. Its large leaves flop to one side."	"The leaves are bright green, large, and fan-like. It was so big, in fact, that you could see it from outside the building."
snake plant	"The leaves of the snake plant look droopy."	"The plant’s green leaves stand tall. The leaves have a subtle pattern and a soft, yellow border."
pothos plant	"The plant’s vines are floppy, and some of the leaves have a yellow tinge."	"The vines bask in the light. Its dark green leaves stand out against the white wall."
spider plant	"The spider plant’s leaves look dry, and some even look brown at the tips."	"The plant’s light green leaves flair out of its pot. The leaves have a white stripe going down the middle."
orchid	"The part of the main stem of the orchid not supported by the supporting rod droops over in a large arc."	"The orchid is probably one of the smallest that you’ve ever seen. Lively small purple flowers line the main stem." 
heartleaf philodendron	"The plant’s heart-shaped leaves are starting to wilt."	"The plant’s heart-shaped leaves stick up in all directions."
golden pothos	"The plant’s vines slump over the edge of its pot."	"The plant’s shiny, light green marbled leaves fan out along its multiple long vines."
dragon tree	"Its thin leaves look dull, and the soil looks dry and powdery."	"The dragon tree has four stalks, its leaves stick out of each one like dark green pom poms."
aloe plant	"There are large yellow spots on the aloe’s leaves."	"The aloe’s green leaves have small spikes on the sides. They are speckled with small white dots."
tall grass	"You can see how dry the leaves are even from where you are."	"The grass is a bright shade of green. It sways with the wind."

Table of watering descriptions
obj	waterdes
small tree	"You pour water in the large pot that the tree grows from. You already see the cracked soil absorbing the water."
rubber plant	"You pour water into the plant’s white pot. You don’t know if it's just your imagination, but you think that you already start to see the plant standing taller."
white bird of paradise plant	"You water the bird of paradise plant. The soil drinks up the water."
snake plant	"You pour water in the snake plant’s small pot."
pothos plant	"After watering the plant, it seems to perk up a little."
spider plant	"You tip the watering can into the plant’s brown pot."
orchid	"You pour a bit of water on the plant’s roots."
heartleaf philodendron	"You water the heartleaf philodendron. It already looks a bit greener."
golden pothos	"As you water the plant, beads of water run down the plant’s waxy leaves."
dragon tree	"You crouch down to get a better aim, and water the dragon plant."
aloe plant	"The water flows from the plant's large leaves down to the soil."
tall grass	"You walk around the edges of the fencing, watering all of the grass."


instead of examining an obj listed in the Table of plant descriptions:
	if obj entry is hydrated:
		say "[after entry]";
	else:
		say "[before entry]".

watering is an action applying to one visible thing.
Understand "water [something]" as watering.
Check watering:
	now playerhaswateringcontainer is false;
	repeat with X running through things carried by the player:
		if X is water container:
			now playerhaswateringcontainer is true;
	if playerhaswateringcontainer is false:
		say "How can you water something without a watering can?";
		stop the action;
	else if noun is not plantvegetation:
		say "You think about watering the [noun], but think that getting the [noun] wet would not be the best idea.";
		stop the action.

Carry out watering:
	say "You tip your watering can into the pot. You can see the soil absorbing the water.";

Instead of watering obj listed in the Table of watering descriptions:
	if waterLeft is 0:
		say "You tip the watering can, but only a few small drops come out!";
	else if obj entry is not hydrated:
		say "[waterdes entry]";
		decrease waterLeft by 1;
		increase NumPlantsWatered by 1;
		now obj entry is hydrated;
		if waterLeft is 0:
			say "[paragraph break]Hmm... It seems that you are now out of water!";
	else:
		say "You've already watered the [obj entry] and do not wish to overwater it."	
		

filling it with water from is an action applying to two visible things.
Understand "fill [something] with water from [something]" as filling it with water from.
Check filling it with water from:
	if player does not have watering can:
		say "How can you water something without a watering can?";
		stop the action;
	else if noun is not water container:
		say "It seems that [noun] cannot transport water.";
		stop the action;
	else if second noun is not water source:
		say "You need a source of water";
		stop the action.
	
Carry out filling it with water from:
	say "You fill your watering can with water."

Instead of filling watering can with water from waterfountain:
	say "You align the hole in the watering can with the sensor of the water bottle filler attached to the water fountain. You fill the can to the brim.";
	now waterLeft is 4.

Table of Scenery Plants
obj	ans
hubPlants	"You can only water one plant at a time."
bathroomPlants	"You can only water one plant at a time."

Instead of watering obj listed in the Table of Scenery Plants:
	say "[ans entry]".	


PART 6 - CIVIL ENGINEERING

CivilEngineeringBuilding is a roomproxy in Civil Engineering Building.  The printed name of CivilEngineeringBuilding is "Civil Engineering Building". Understand "Civil Engineering" and "Civil Engineering Building" and "CEB" as CivilEngineeringBuilding.

 CivilEngineeringInterior is an Interior Location.
CivilEngineeringInterior is inside from Civil Engineering Building.
The printed name of CivilEngineeringInterior is "Civil Engineering Building Entrance".

The printed name of ECE Building is "Electrical and Computer Engineering Building"

Instead of going nowhere from ECE Building:
	say "A tour group surrounds you. There are only two ways out."


PART 7 ELECTRICAL ENGINEERING

ECEBuilding is a roomproxy in ECE Building.  The printed name of ECEBuilding is "Electrical and Computer Engineering Building". Understand "ECE" and "Electrical and Computer Engineering" as ECEBuilding.

ECEBuildingInterior is an Interior Location. "A dozen wooden tables are arranged in a neat grid across the lobby. They're packed with students. A big lecture hall is to the [bold type]south[roman type]. You can also go back [bold type]outside[roman type]."
The printed name of ECEBuildingInterior is "ECE Front Lobby".
ECEBuildingInterior is inside from ECE Building.

Instead of going nowhere from ECEBuildingInterior:
	say "A scary-looking professor glares at you from that direction. You shiver and look away."


Room 1002 is south of ECEBuildingInterior. "You enter the back of the lecture hall. A professor is teaching an algorithm to a large roomful of half-awake students. The lobby is to the [bold type]north[roman type]."

Instead of going nowhere from Room 1002:
	say "You crash into a wall, causing a small commotion and disrupting the lecture. Be more careful!";
	Increase ECE Lecture Disruption Level by 1.

Instead of going to Room 1002 when Banned From ECE Lecture is true:
	say "You attempt to enter, but the professor's glare screams bloody murder. You back away."

InductionShout is a truth state variable.

Every turn when player is in ECEBuildingInterior:
	if a random chance of 1 in 10 succeeds and InductionShout is false:
		say "You hear someone shout, 'No, that's weak induction!'";
		now InductionShout is true.

The ECE tables are scenery in the ECEBuildingInterior. "The dark wooden tables blend in surprisngly well with the building's industrial vibe. There's a backpack sitting on a nearby table."
Understand "wooden tables" and "tables" as ECE tables.

The Marietable is a supporter and scenery in the ECE Building.
Understand "nearby table" as Marietable.
The printed name of Marietable is "nearby table".
The description of the Marietable is "A dark wooden table, one of many in the room. [if backpack is on Marietable]A lonely backpack sits on the table, its owner nowhere to be found."
Instead of pushing the Marietable:
	say "You try to push the table, but it's far too heavy."
The red backpack is a locked, lockable, closed, zippered backpack on the Marietable.
Understand "bag" and "backpack" and "zipper" and "padlock" as red backpack.
The red backpack is undescribed.
The description of red backpack is "A pale red, well-worn backpack. [if closed]It's closed, and there's a small padlock on the zipper. [else]It's unzipped. [end if][if unlocked]The padlock is unlocked."
The padlock key unlocks the red backpack.
Instead of opening or unzipping the red backpack when the red backpack is locked:
	say "You can'tè‘‰he zipper has a padlock on it. [if the player has the padlock key]You may have something that can unlock it..."
Instead opening or unzipping the red backpack when the red backpack is unlocked:
	say "You unzip the backpack. Inside is a laptop and a piece of strange candy.";
	The Backpack's Owner Returns in 5 turns from now;
	now the red backpack is open.
Instead of unlocking the red backpack with the padlock key:
	say "You covertly unlock the zipper. Hopefully the backpack's owner isn't around...";
	now the red backpack is unlocked.
A mac laptop is a device in the red backpack.
Understand "MacBook" and "MacBook Pro" and "computer" as mac laptop.
The description of mac laptop is "This laptop has clearly seen better days, but beneath its scratched aluminum casing you sense a hint of its former glory."
Instead of switching on the mac laptop:
	say "The screen flickers to life and prompts you for a password. You have no idea what the password is, and you're probably never going to get it.";
	now the mac laptop is switched on.
A piece of candy is in the red backpack.
Understand "candy" and "coconut candy" and "yellow candy" and "strange candy" and "strange piece of candy" as a piece of candy.
The description of the piece of candy is "A piece of candy in a yellow wrapper. It smells faintly of coconut."
Instead of eating the piece of candy:
	say "Underneath the wrapper is a light yellow chew in a rice paper skin. You put the candy in your mouth. It's not your typically sugary candy: it has an exotic, nuanced flavor. You could see yourself getting addicted to the stuff.";
	now the piece of candy is nowhere.

The group of ECE students is a person in the ECEBuildingInterior. "There's a group close by who are frantically studying for an exam."
Understand "group" and "students" as the group of ECE students.
The description of the group of ECE students is "A group of students are taking a practice exam. They look pretty stressed."
Instead of giving [something] to the group of ECE students:
	if noun is the piece of candy:
		say "One of the students exclaims to you, 'Oh, durian coconut candy! I love this stuff. Thanks!'";
		now the piece of candy is nowhere;
	otherwise:
		say "They ignore you; they're cramming really hard for their exam."


Banned From ECE Lecture is a truth state variable. Banned From ECE Lecture is false.
ECE Lecture Disruption Level is a number variable. ECE Lecture Disruption Level is 0.
Every turn when player is in Room 1002 and Banned From ECE Lecture is false:
	if ECE Lecture Disruption Level > 2, now Banned From ECE Lecture is true.

Every turn when Banned From ECE Lecture is true and the player is in Room 1002:
	say "The professors had enough of your crap. A TA comes up to you and forcefully ejects you from the room. 'And don't come back!', the professor yells as you're unceremoniously booted out into the lobby.";
	now the player is in the ECEBuildingInterior.
The ECE student is a person in Room 1002. "Next to you, a student is taking a nap."
The ECE student is asleep.
Understand "napping student" and "student" as the ECE student.
The description of the ECE student is "They're sound asleep[if the ECE student carries something], and carrying [a list of things carried by the ECE student][end if].[if the player does not have the padlock key and the padlock key is in Room 1002]You notice something glinting from under their chair..."
Instead of waking the ECE student:
	say "They probably doesn't want to be woken right now.".
Instead of giving [something] to the ECE student: 
	say "They're asleep, so they can't take it.".
ECESG is a thing.
The printed name of ECESG is "study guide".
Understand "study guide" as ECESG.
The ECE student carries ECESG.
Understand "paper" and "sheet" as ECESG.
The description of the ECESG is "It has descriptions of several algorithms, labeled by name. You read the titles: 'Dijkstra's', 'Bellman-Ford', and 'DFS'."
Instead of taking the ECESG when the ECE student has the ECESG:
	say "Slowly, carefully, you pry the paper from their grasp.";
	now the player has the ECESG.
The ECE professor is a person and scenery in Room 1002.
Understand "lecturer" as the ECE professor.
The description of the ECE professor is "[if ECE Lecture Disruption Level > 1]The professor seems a little agitated.[else]Even the professor seems sleepy."
Instead of listening to the ECE professor: 
	say "'So Dijkstra's algorithm runs in big O of E plus V log V...'"
Instead of giving [something] to the ECE professor: 
	say "The professor is too busy lecturing to accept your offering."
A padlock key is in Room 1002.
Understand "under the chair" and "under chair" and "something" and "glinting" and "key" as padlock key.
The description of the padlock key is "It's a tiny key."
The padlock key is undescribed.
Instead of taking the padlock key:
	say "You take the key. It must unlock something...";
	now the player has the padlock key.

 Instead of asking the ECE student about something:
	say "You try talking to them, but they don't wake up."
Instead of interrogating the ECE student about something: 
	say "You try talking to them, but they don't wake up."
Instead of asking the group of ECE students about a topic listed in the Table of Group Responses: 
	say "[response entry]".
Instead of asking the group of ECE students about something:
	say "They're too busy with their exam to chat with you."

Table of Group Responses
topic	response
"exam"	"One of them says, 'It's the CS 374 exam.'"
"CS 374"	"'It's the algorithms course.'"
"algorithms"	"'You're not in CS, are you?'"
"CS"	"'We're kinda busy here.'"
"UIUC"	"'Good school, tough classes.'"

Instead of interrogating the group of ECE students about something: 
	say "They're too busy with their exam to chat with you."
Instead of asking the ECE professor about "Dijkstra's": 
	say "'Dijkstra's algorithm is an algorithm for finding the shortest paths between nodes in a graph.'"
Instead of asking the ECE professor about "algorithm": 
	say "'Dijkstra's algorithm is an algorithm for finding the shortest paths between nodes in a graph.'"
Instead of asking the ECE professor about something: 
	say "'That question doesn't make any sense. Moving on...'"
Instead of interrogating the ECE professor about something: 
	say "The professor is too busy lecturing to pay you any mind."

Instead of talking to the ECE student:
	say "You try talking to them, but they don't wake up."

Instead of talking to the group of ECE students:
	say "They're too busy with their exam to chat with you."

Instead of talking to the ECE professor:
	say "They're giving a lecture right now."

Instead of throwing piece of candy at [something]:
	if second noun is ECE student:
		say "They don't even notice. They must be really tired...";
		now the piece of candy is in Room 1002;
		stop the action;
	if second noun is the group of ECE students:
		say "'Oh, a candy! *nom nom*'";
		remove the piece of candy from play;
		stop the action;
	if second noun is the ECE professor:
		say "The professor tries not to notice.";
		Increase ECE Lecture Disruption Level by 1;
		now the piece of candy is in Room 1002;
		stop the action;
	else:
		say "You throw the candy at the [second noun] but it misses and lands on the floor. You pick it up again, hoping no one saw that.";
		stop the action;

Instead of throwing mac laptop at [something]:
	if second noun is ECE student:
		say "The student wakes for a moment, startled, as the laptop crashes to the ground next to them. Everyone looks at you for a moment, then the lecture resumes. The student promptly nods off again.";
		Increase ECE Lecture Disruption Level by 1;
		now the mac laptop is in Room 1002;
		stop the action;
	if second noun is the group of ECE students:
		say "The laptop clatters on the floor by the group. Everyone looks at you strangely...";
		now the mac laptop is in the ECEBuildingInterior;
		stop the action;
	if second noun is the ECE professor:
		say "The laptop hits the professor, and it sounds painful. 'Ow! What the hell!? Get out of here right now!'";
		Increase ECE Lecture Disruption Level by 10;
		now the mac laptop is in Room 1002;
		stop the action;
	else:
		say "You throw the laptop at the [second noun] but it misses and lands on the floor. You pick it up again, hoping no one saw that.";
		stop the action;
Instead of throwing red backpack at [something]:
	if second noun is ECE student:
		say "The student wakes for a moment, startled, as the backpack crashes to the ground next to them. Everyone looks at you for a moment, then the lecture resumes. The student promptly nods off again.";
		Increase ECE Lecture Disruption Level by 1;
		now the red backpack is in Room 1002;
		stop the action;
	if second noun is the group of ECE students:
		say "The backpack lands with a thud on the floor by the group. Everyone looks at you strangely...";
		now the red backpack is in the ECEBuildingInterior;
		stop the action;
	if second noun is the ECE professor:
		say "The backpack hits the professor, and it sounds painful. 'Ow! What the hell!? Get out of here right now!'";
		Increase ECE Lecture Disruption Level by 10;
		now the red backpack is in Room 1002;
		stop the action;
	else:
		say "You throw the backpack at the [second noun] but it misses and lands on the floor. You pick it up again, hoping no one saw that.";
		stop the action.


PART 8 - DIGITAL COMPUTER LAB

DigitalComputerLab is a RoomProxy in Digital Computer Lab. The printed name of DigitalComputerLab is "Digital Computer Lab".
Understand "DCL" and "Digital Computer Lab" as Digital Computer Lab.

DCLInterior is an Interior Location. The printed name of DCLInterior is "DCL Entrance".
DCLInterior is inside from Digital Computer Lab.

Instead of going nowhere from Digital Computer Lab:
	say "As you go to step off the sidewalk into the road, a car races by and yelling at you out the window to cross at a cross-walk. You can go [bold type]north[roman type] to Grainger Courtyard, [bold type]south[roman type] to Civil Engineering and [bold type]northeast[roman type] to the Siebel Center.";

PART 9 - SIEBEL CENTER

Chapter 1 - Map of Siebel Center

SiebelCenter is a RoomProxy in Siebel Center Building. 
The printed name of SiebelCenter is "Siebel Center Building".
SiebelCenterInterior is an Interior Location.
SiebelCenterInterior is inside from Siebel Center Building.
The description of SiebelCenterInterior is "There are many students walking around, as well as some collaborating at chairs near the entrance and some hurrying to class. There are display cases throughout the hall, marking historical advances in computer science. There is a stairway going [bold type]down[roman type]. You also notice a bagel shop to the [bold type]east[roman type], or you can go [bold type]out[roman type] of the building from here."
The printed name of SiebelCenterInterior is "Inside the Siebel Center."

Instead of going nowhere from SiebelCenterInterior: 
	say "As you begin to wonder off, a large man stops you and booms his voice at you:
DO NOT DISTURB THE PROGRAMMERS. THEY ARE FRAGILE AND CRY OFTEN. You decide not to disturb the poor students. Instead, try a coffee to the [bold type]east[roman type]."

Einstein Bros Bagels is east of SiebelCenterInterior. "[if unvisited]You notice the cafe first by the smell of coffee. You walk by and notice some people working on their laptops, sipping their drinks.  The special today is 50 cents off an iced coffee.  There is a barista at the counter. [else]The barista smiles at you but nervously asks you if you plan on buying something. You simply shake your head, you should probably lay off the caffeine anyway.
   [end if]You can only go [bold type]west[roman type] to main doors or [bold type]east[roman type] to the lecture hall from here."

Siebel Lecture Hall is east of Einstein Bros Bagels.  "[if unvisited]You peek into the lecture hall from the back doors. A man with a British accent is speaking about some topic you don't really understand. You notice the laptops of the students in the back. One is playing League of Legends. Another is in student registration, looking for a different class, you assume. You back up back from the doors, so as not to disturb the class. [else if ZombiesReleased is false]The lecture is still ongoing. Some students are asleep. The professor is singing now. You are particularly confused.  [else if ZombiesReleased is true]The students have turned into zombies and keep chanting  public static void main(String args...'
   [end if]From here you can go [bold type]west[roman type] to Einstein Bros Bagels."

Siebel Lab is down from SiebelCenterInterior. "You are on the bottom floor of the Siebel Center for Computing. You see a long corridor with a large floor-to-ceiling window next to it, and the sun seems to be shining nicely outside the window, making you feel very warm. Next to the hallway is an area with many students sitting in it tapping hard on their keyboards. In front of them is a whiteboard with 'CS225 OH' written on it. You see a student in front of you who looks particularly anxious and keeps staring at the screen as if she is about to cry."

Chapter 2 - Plato

SiebelDisplayCase is a scenery container in SiebelCenterInterior. "You peruse the display cases, but only one in particular strikes your fancy. There is an old fashion-looking computer terminal in the display case. You read the label on the case and it says 'Plato Terminal'."
Understand "display case" and "display cases" as SiebelDisplayCase.

Plato Terminal is a scenery thing in SiebelDisplayCase.
Instead of examining the Plato Terminal the first time:
	say "You press your face up against the glass of the display case to get a better look. The students in the main hall are probably looking at you strangely, but you don't care. As you look at the terminal, it turns on! It seems to be typing something in golden letters. You can only make out one word among the lines of text: [italic type]Papyri[roman type]. After about a thousand lines, the system crashes and the machine crumbles into golden dust. Your eyes ache a bit and your head feels somewhat heavier.";
	now the right hand status line is "Papyri".
Instead of examining the Plato Terminal the second time:
	say "A pile of golden dust sits in the case."

Chapter 3 - Bagels

Instead of going nowhere from Einstein Bros Bagels: 
	say "You walk away only to almost spill a woman's coffee.  You apologize profusely as she huffs away. It may be too crowded here.  Try attending the lecture or going back to the main entrance to leave."
	
EBBBarista is a person in Einstein Bros Bagels.
The printed name of EBBBarista is "Barista".
Understand "barista" as EBBBarista.
EBBBarista is scenery.
The description of EBBBarista is "A tall woman, red hair back in a ponytail. Her hat has a button that says pumpkin bread is her favorite and you should ask her about it. She is diligently making coffee."
Instead of giving something to EBBBarista:
	say "She stares. 'Um...I don't think I need this?  I am at work anyway. Thank you for the offer but you should keep it.' She now seems a bit weirded out by you. This is not a way to get a date, man.";
	stop the action.

Instead of Interrogating EBBBarista about something:
	If the second noun is MacBookCharger:
		say "Yes, we provide chargers for our customers because they are always forgetting them."; 
		now the player has MacBookCharger;
	else If the second noun is coffee:
		say "'Yes! Today our iced mochas are 50 cents off, if you would like one.'";
	else:
		say "'I'm sorry...I can't help you with that.' she said timidly. Don't weird her out anymore."

Instead of talking to EBBBarista:
	say "She is way too busy to talk to you...If you want a chance to talk order a coffee.";
	stop the action.


Instead of asking EBBBarista about something:
	say "'I'm sorry...I can't help you with that.' she said timidly. Don't weird her out anymore.";
	stop the action.

EinsteinCoffee is a scenery thing in Einstein Bros Bagels.
EisteinCoffee is drinkable.

Understand "coffee" and "latte" and "mocha" and "ginger mocha carmel latte" as EinsteinCoffee.
The printed name of EinsteinCoffee is "coffee".

Instead of interrogating EBBBarista about EinsteinCoffee:
	try buying Einsteincoffee.

instead of asking EBBBarista about "coffee": 
	try buying Einsteincoffee.
	
Instead of ordering Einsteincoffee:
	try buying Einsteincoffee.

Instead of buying Einsteincoffee for the first time:
	say "As you start to order a coffee, the barista hands you a cup. 'The guy I made this for ran off. You can have it for free if you want,' she says. You thank her and take a sip. Blech! It's a lukewarm ginger mocha carmel latte. You force yourself to down half the cup, for the sake of the caffeine, and drop the cup in the bussing tray. Well, that hit the spot.";
	now HadCoffee is true;
	stop the action.
	
Instead of buying Einsteincoffee:
	say "You consider ordering another coffee, but think you might try a different establishment.";
	stop the action.

Instead of examining EinsteinCoffee:
	try buying EinsteinCoffee.

Instead of attacking EBBBarista:
	say "You would really like some free coffee...but that is no way to get it. The counter protected her, thankfully, but she is now fully terrified of you. You expect some paperwork because of your actions is coming...";
	stop the action.
A dining table is a supporter in Einstein Bros Bagels. "You notice one of the circular tables. [if a bagel box is closed] Nobody is sitting there, but there is a small bagel box sitting neatly in the center, unopened. You see it is addressed to a professor you don't know. The box taunts you...open me..."
The description of a dining table is "It's a nice table, but crumbs and coffee rings from students past remain. The bagel box seems to be very alluring...almost like it's calling your name...it can't be though, that would be absurd."
Understand "table" as a dining table.
A bagel box is a closed, locked, openable container on a dining table.
A bagel box is scenery.
Understand "box" as a bagel box.
Instead of unlocking a bagel box with the trusty scissors:
	say "You use the trusty scissors to break the seal, after a struggle. Now the box can be opened!";
	now a bagel box is unlocked.
The description of a bagel box is "You fiddle with the box, trying to break the seal. It is not breakable. You try even hard and it seems to laugh at you. You put it back down, maybe you can try again with something that might open it."

A golden bagel is an edible thing in a bagel box.
Understand "bagel" and "donut" and "doughnut" as a golden bagel.
The description of a golden bagel is "It is a beautiful piece of baked mastery. It gleams. It looks to be solid gold but still it makes your mouth water. Though you hope it doesn't have cream cheese in it - you hate cream cheese.".
BagelEaten is a truth state variable. BagelEaten is false.
Instead of eating the golden bagel:
	say "You scarfed it down faster than you could manage. You expect a magical epiphany - only the meaning of life could've been so hard to obtain. You begin to feel not as great. It had cream cheese. You gag a little only to look up to see an older man staring at you in horror. You just ate his bagel. You're a monster.";
	now BagelEaten is true;
	stop the action.

The trusty scissors unlocks a bagel box.
The trusty scissors is in SiebelTrashCan.
Understand "scissors" as the trusty scissors.
The description of the trusty scissors is "They seem pretty strong, despite being discarded. They also have no trace of trash on them but gleam in the light."
Instead of taking the trusty scissors:
	say "You pick up the scissors, getting a weird look for trash diving.";
	continue the action.

Trashdigging is a truth state variable. Trashdigging is true.

The SiebelTrashCan is a scenery container in SiebelCenterInterior. 
Understand "trash" and "trash can" and "can" as SiebelTrashCan.

Instead of examining SiebelTrashCan:
	if Trashdigging is true:
		say "An older looking man digging through the trash.";
		stop the action;
	else if trusty scissors is in SiebelTrashCan:
		say "You have a look in the trash and see broken chips, cables, and plugs inside.  All of that is junk. But you also spot a perfectly good trusty scissors.";
		stop the action;
	else:
		say "There's nothing other than trash in there."

The printed name of SiebelTrashCan is "trash can".

nutty professor is a man in SiebelCenterInterior. "[NuttyDescription]".
Understand "man" and "older man" and "old man" and "professor" and "old professor" as nutty professor.

To say NuttyDescription:
	if Trashdigging is true: 
		say "There is an old man here, digging through a trash can in a corner of the room.";
		stop the action;
	else: 
		if scissors is in SiebelTrashCan:
			say "An older man is standing in a corner, nervously fiddling his fingers. Every few moments he glances at the trash can.";
			stop the action;
		else:
			if player is carrying trusty scissors: 
				say "The man in the corner looks at you expectantly.";
				stop the action;
					
Instead of examining the professor:
	if Trashdigging is true: 
		say "When the man notices that you are watching him, he skitters away, saying excuse me quietly as he pushes past you, stands in a corner, and nervously fiddles his belongings: a mug and an umbrella.";
		now TrashDigging is false;
	else if scissors is in SiebelTrashCan:
		say "The man appears to want to return to his dumpster diving, but is waiting for you to walk away. He looks around a lot.";
		stop the action;
	else:
		say "The old man is staring at the scissors in your hand.";
		stop the action.

nuttycoffee is a thing.
the printed name of nuttycoffee is "empty coffee cup".
Understand "empty coffee cup" and "coffee cup" and "cup" as nuttycoffee.

nutty professor is carrying nuttycoffee.  
The description of empty coffee cup is "It is a simple mug that says, 'I hate Mornings.' You can't help but agree."


nutty professor is carrying an umbrella. The description of the umbrella is "It is black and nice...though it is not even close to raining. In fact, it is rather sunny outside."

Instead of giving something to a nutty professor:
	if the noun is trusty scissors:
		say "The professor's eyes widen as he stares at the gift. You would think you are giving him the meaning of life. He takes an absurdly long amount of time to continue looking around before grabbing the scissors from your palm and pocketing them. He says something in a language you don't understand before running off.";
		now a nutty professor has the noun;
		remove a nutty professor from play;
		stop the action;
	if the noun is the golden bagel:
		say "He shouts at you 'What are you doing with that? You don't know it's power!!!!' Before grabbing it from your hands. You try to take it back, scared, but he runs out the door, screaming the entire time. It's confusing.";
		now a nutty professor has the noun;
		remove a nutty professor from play;
		stop the action;
	else:
		say "He pokes he nose at you. He doesn't seem interested. He tries to shoo you away as he continues to nervously look around.";
		stop the action.

Instead of interrogating nutty professor about SiebeltrashCan: 
	say "He says, 'Mind your business, child. You're going to get hurt.'";
	stop the action.

Instead of asking a nutty professor about something:
	say "He says, 'Can't you leave me alone? I have important business to take care of.'";
	stop the action.

Instead of talking to a nutty professor:
	say "He huffs at you, completely uninterested. He checks his watch a couple times. He also tells you to get lost.";
	stop the action.

Instead of attacking a nutty professor:
	say "He grabs your wrist as you try to attack, quick as a cheetah. He glares straight at you. 'Are you insane?' he simply asks before pushing you back in the direction you came from. What a strong man.";
	stop the action.


Chapter 4 - Zombie Horde

Instead of going nowhere from Siebel Lecture Hall: 
	if ZombiesReleased is true:
		say "You try to go that way inside the lecture hall, but it's impossible due to the sea of zombies.";
	else:
		say "You want to go that way, only to have a student leaving the class early grab your shoulders and tell you to save yourself.
			Take his advice. Try a coffee or head back to the entrance."



The z-lightswitch is a lightswitch in the Siebel Lecture Hall. "There is a lightswitch on the wall at the door, but of course you shouldn't switch the lights off during the lecture." 
Understand "light" and "switch" and "light switch" and "lightswitch" as the z-lightswitch.
The description of the z-lightswitch is "Would you really?"

ZombiesReleased is a truth state variable. 
ZombiesReleased is false.

Instead switching off z-lightswitch for the first time:
	say "As you turn off the lights expecting a lecture long discussion on why that was a bad idea, your eyes adjust in the dark. You make out that no one seems to notice, or more so, no one cares. The professor seems so enthralled with his lecture or whatever that is he doesn't realize what's going on. The students take this golden opportunity to catch up on some z's they missed to be here. That wasn't very exciting. Maybe you should just turn it back on?";
	now z-lightswitch is switched off. 

Instead of switching off z-lightswitch:
	if z-lightswitch is switched on:
		say "The zombies won't let you near the lightswitch.";
		stop the action;
	else:
		say "The overhead lights are already off."

Instead of switching on the z-lightswitch for the first time:
	say "IT IS NOT A LIGHTSWITCH. You hit the button and immediately, sirens go off. The lecture board screen turns on. All of the students snap their necks to look at you immediately. They all look like zombies.  They begin chanting 'public static void main(String args...' and out of fear you try to switch it off again and it is not working. The students continue.";
	now ZombiesReleased is true;
	stop the action.
		
Instead of switching on the z-lightswitch:
	if z-lightswitch is switched on:
		say "The light is already on. Haven't you done enough?";
		stop the action;
	else:
		say "The zombies won't let you near the lightswitch."
		
Group of zombie students are people in the Siebel Lecture Hall.
Group of zombie students are scenery.
Understand "students" and "zombies" and "zombie" as group of zombie students.


Instead of giving something to group of zombie students:
	say "The do not hunger for these items. They hunger for you. And perhaps maybe a good night's sleep.";
	stop the action.

Instead of asking group of zombie students about "mp":
	say "They continue louder. Some growl. Some get bloodshot eyes. Some twitch. You instantly get scared. Not a good word.";
	stop the action.

Instead of asking group of zombie students about "code":
	say "Some sob a little. Some nod in recognition. It is all they know and all they ever will know. Please do not remind them.";
	stop the action.

Instead of asking group of zombie students about something:
	say "They do not know, nor do they care.";
	stop the action.

Instead of talking to group of zombie students:
	say "As you talk, their voices grow louder to counter yours. You hear 'int' and 'void' and 'array' and a bunch of other words. They are relentless.";
	stop the action.

Instead of attacking group of zombie students:
	say "As you charge at the students, they immediately go on the defensive...and get ten times scarier. Some hiss. Some swear. Some claw at you. You back away for your life.";
	stop the action.
The description of group of zombie students is "Some growl. Some twitch as they recite code, all together and without skipping a beat. They stare at you as if they need you to conform..."
The trash can is fixed in place.
A bagel box is fixed in place.
A dining table is fixed in place.

 Instead of strategically analyzing:
	if player is in Siebel Lecture Hall:
		say "You notice that there is a slideshow in the background. The professor has a slide that says MP 3 DUE TODAY 11:59. The hum of the students grows louder. You barely hear the professor cough and say, 'Oops, my bad, this slide is for tomorrow.' To which he quickly changes the deadline to say, 'TOMORROW'. You point to the slideshow, hoping to take the attention from you, and the humming stops from the students and the lecture hall becomes a quiet murmur. The students all seem normal again. Despite this, you still feel creeped out.";
		remove group of zombie students from play.

[Playing Gameboy code from classmate - not sure who? No name. Change a bit to cater to my code and compile.]
Playing Gameboy is an action applying to nothing.
Understand "play" and "play Gameboy" as Playing Gameboy.

Carry out playing gameboy:
	say "You play your gameboy for a while, until your eyes start crossing."

Instead of Playing Gameboy for the first time:
	say "The classic game 'Snake' starts to boot up. You begin to play snake but soon a pair of eyes begins to watch you. A tall, lanky guy is standing there and as you lose he scoffs and tells you 'Of course, you don't even know the Slytherian algorithm to perfecting this game, do you? Google it, noob.' as he walks away. How rude.";
	stop the action.


ExaminingPeople is an action applying to nothing. Understand "examine people" as ExaminingPeople.
Instead of ExaminingPeople when player is in SiebelCenterInterior: 
	say "You see [list of people in SiebelCenterInterior].".
[I was going to add code for if the person is unexamined - but Inform said that it cannot recognize "if P is unexamined"]
Every turn when player is in SiebelCenterInterior:
	if a random chance of 1 in 5 succeeds:
		say "[one of]You hear a loud sound, a sort of blend between a groan and a cry. It seems distant yet you get chills.[or]Two older people walk by, whispering hurriedly.[or]A student walks by slowly, looking absolutely exhausted ... he is listing off assignments he has to do. You feel bad for him.[at random]"



A machine problem is a kind of thing.
A machine problem can be incomplete or complete.
A machine problem is usually incomplete.
A machine problem can be buggy or debugged.
A machine problem is usually buggy.
An uncommented machine problem is a complete, debugged machine problem.
A hopelessly difficult machine problem is an incomplete, buggy machine problem.
[Change this later to individual action - such as solving?]
An uncommented MP is a complete, debugged machine problem.
The printed name of uncommented MP is "uncommented machine problem".
A hopelessly difficult MP is an incomplete, buggy machine problem.
The printed name of hopelessly difficult MP is "hopelessly difficult machine problem".

Instead of examining a machine problem:
	if noun is complete:
		say "The auto grader says you did fine...Don't touch it or you're going to ruin a good thing!";
	if noun is debugged:
		say "You thought you were making it faster but only added more bugs...";
		now noun is buggy;
	else:
		say "You're not really sure what you're doing with it, but maybe it is working?";
		now noun is debugged;
		now noun is complete.


The CS students are a scenery person in SiebelCenterInterior. 

Every turn when the player is in SiebelCenterInterior:
	if a random chance of 1 in 10 succeeds:
		say "Students buzz by you, laughing and talking in words you don't quite understand."
		
The description of CS students is "They look like students. You'll have to listen to them to learn more."
		
Instead of listening to the CS students for the first time:
	say "One is groaning 'I just can't get it to work no matter how hard I try.' and another is saying they stayed up all night trying to get it working. Poor kids.";
	The Horde Approaches in two turns from now.

Instead of listening to the CS students for the second time:
	say "'I quit!' a student shouts, slamming his laptop shut. His eyes have an almost eerie darkness to them...he looks at you and you immediately have to look away, you can't handle the gaze."

Instead of listening to the CS students for the third time:
	say "There are so many...groaning, typing, all seeming so mindless, and some seem very, very angry."

At the time when The Backpack's Owner Returns:
	if the player is in the ECEBuildingInterior and the red backpack is open:
		say "Someone yells, 'What the hell are you doing!? Get away from my backpack!' You back away quickly, and a rather upset student pushes you to the ground, causing you to drop all your stuff. They grab their backpack and run off. I hope you feel guilty.";
		Now the red backpack is nowhere;
		Now the mac laptop is nowhere;
		Repeat with InventoryItem running through things carried by the player:
			now InventoryItem is in the ECEBuildingInterior;
	else:
		Now the red backpack is nowhere;
		Now the mac laptop is nowhere.

CSHordeReleased is a truth state variable.

At the time when The Horde Approaches:
	say "Many students are flooding out of the stairs going down. The groaning can be heard all across campus. You hear many words, like 'segfault' and 'stack overflow'. The horde of overworked CS students has been released!";
	if player is in SiebelCenterInterior:
		say "The students were also very hungry and tired of bagels and coffee. The decided you would be tastier.";
		 now BetterThanBagels is completed;
		now CurrentEnding is BetterThanBagels;
		End the Journey;
	else:
		say "Good thing the zombies don't wander very far and probably just ended up in another lab somewhere. At least you're safe. For now.";
		now CSHordeReleased is true;
		remove the CS students from play.

Every turn when CSHordeReleased is true and player is in ComputerScienceMap:
	if a random chance of 1 in 3 succeeds:
		say "You hear the horde of CS students swarming again nearby."
		
Chapter 5 -Charger Scene

The MacBookCharger is a scenery thing in SiebelCenterInterior.
The description of MacBookCharger is "A MacBook charger, wait, why people drop it here?"
Understand "charger","chargers" as MacBookCharger.
The broken chips are a scenery thing in SiebelCenterInterior. "They are useless."

Resttime is a number variable. Resttime is 21.
BeginHunting is a truth state variable. BeginHunting is false.
FinishHunting is a truth state variable. FinishHunting is false.
every turn when BeginHunting is true:
	decrease resttime by 1;
	if resttime is 15:
		say "You look at your watch and realize you have [bold type]15 [roman type]minutes to find the charger and give it to the student who needs help.";
	if resttime is 10:
		say "You look at your watch and realize you have [bold type]10 [roman type]minutes to find the charger and give it to the student who needs help.";
	if resttime is 5:
		say "You look at your watch and realize you have [bold type]5 [roman type]minutes to find the charger and give it to the student who needs help.";
	if resttime is 0:
		say "You've run out of time looking for the charger, and that student may not need it anymore.";
		now beginHunting is false;
		now the studentWhoWantsCharger is nowhere.
		

studentWhoWantsCharger is a person in the Siebel Lab.
The description of studentWhoWantsCharger is "A girl with long chestnut hair was facing the laptop screen and seemed very anxious."
The printed name of studentWhoWantsCharger is "an anxious student".
Understand "student", "anxious student", "girl", "crying student" as studentWhoWantsCharger.
Instead of talking to studentWhoWantsCharger:
	if FinishHunting is false:
		say "You walk gently to her side. You are afraid that your interruption will be the last straw that will overwhelm her. You ask her 'Are you okay?' She says she is a CS225 student and is working on a MP assignment that is due tonight. However, she has encountered some difficulties, so she wants to come to office hour to ask for TA's help. She didn't expect that she would need to wait for 3 hours to get TA's help in office hour. The TA was supposed to help her next, but her laptop was out of batteries and she didn't have a charger. If she misses the TA's help, then there's no way for her to turn in homework on time today. She asks if you can help her find a charger for her MacBook. (Y/N)' ";
		if player consents:
			say "Wow, thank you so much, you are literally my life saver. I think TA might come help me in about 20 minutes. I really appreciate your help.";
			now beginHunting is true;
	else:
		say "She smiles at you for a moment and then continues with her MP."
		
battery is a thing.
MacBookCharger is a portable thing.

Instead of giving [something] to studentWhoWantsCharger: 
	if noun is a MacBookCharger:
		say "The moment she saw the charger in your hand, she rushed towards you and gave you a hug and kissed you on the cheek. 'Thank you so much, I really don't know what I would have done without you.' She said 'I don't know how I should thank you, I have a battery here from the lab, I heard it can turn on a powerful robot, but I don't know how to use it, so I'll give it to you.'";
		now BeginHunting is false;
		now finishHunting is true;
		now the player has the battery;
	else:
		say "She shakes her head at you and says 'Are you sure this is what I want?'".

Chapter 6 - Rooma

roomba is an animal in siebel lab. "You see an inactive roomba.".
the description of roomba is "The roomba has clearly had many modifications and tune ups. [if roombaOn is false]Unfortunately, it lacks a battery.".
roombaOn is a truth state variable. roombaOn is false.

instead of talking to roomba:
	say "Roomba just beeps excitedly in response.".
instead of giving something to roomba:
	if noun is battery:
		if roombaOn is false:
			say "You place the titan soul battery into the roomba and it turns on! It beeps happily with gratitude. It follows you around like a happy dog, leaving a path of cleanliness in it's wake. ";
			now roombaOn is true;
	else:
		if roombaOn is true:
			say "Roomba excitedly tries to vacuum up the object! Good thing his vacuum port is kind of small.";
		else:
			say "You get no response.".

Instead of taking roomba:
	say "That's weigh too heavy for you to be carrying around. You might drop your phone or something.";
	stop the action.

Instead of switching on roomba:
	say "You look to see if it has an on switch. Looks like it will go on automatically as soon as it has a battery."

Instead of switching off roomba:
	say "You examine the roomba -- if that's what it is and you're not entirely sure about that. It doesn't seem to have an on/off switch."

every turn when RoombaOn is true:
	move roomba to the location of the player;
	say "Roomba is following your every move."

instead of attacking roomba:
	say "Roomba thinks you're playing a game! You try to hit it, but it swiftly dodges and beeps playfully.";
	stop the action.



PART 10 - NCSA

NCSAOutside is a RoomProxy in NCSA. The printed name of NCSAInterior is "NCSA".
NCSAInterior is an Interior Location.
NCSAInterior is inside from NCSA. "[if unvisited]You enter the National Center for Supercomputing Applications, this majestic building of cutting edge technology to go see what these crazy scientists are up to. There is a beautiful open area with many chairs and tables for lunch, and offices all around. A Blue Waters tour is going on. You tag along on the end of it and listen in as the group walks through the building towards the room where the computer is held.[else]You are inside the National Center for Supercomputing Applications, NCSA. You follow a tour guide to the room where Blue Waters is held."


Blue Waters is a switched off photogenic and scavengerhuntable device in NCSAInterior. "Blue Waters is here, filling the room, as the tour guide drones on. You are standing near enough to touch it -- or even to switch it on."
Understand "waters" as Blue Waters.

Instead of examining Blue Waters:
	say " The guide announces: 'Blue Waters is one of the most powerful supercomputers in the world. It uses hundreds of thousands of computational cores to achieve peak performance of more than 13 quadrillion calculations per second. If you could multiply two numbers together every second, it would take you millions of years to do what Blue Waters does each second. Blue Waters has more than 1.5 petabytes of memory, enough to store 300 million images from your digital camera; more than 25 petabytes of disk storage, enough to store all of the printed documents in all of the world’s libraries; and up to 500 petabytes of tape storage, enough to store 10 percent of all of the words spoken in the existence of humankind.'" 

Instead of switching on Blue Waters for the first time:
	say "You put your hand on the switch, but decide you should probably not mess with this.  It seems like something that only qualified professionals should touch." 

Instead of switching on Blue Waters for the second time:
	say "The temptation is almost too much. You reach towards the switch again, but the tour guide slaps your hand away and an armed security guard ushers you out of the building.";
	now player is in NCSA.
	
Instead of switching on Blue Waters for the third time: 
	say "Third time's the charm. You switch on Blue Waters. Immediately a disco ball drops from the ceiling, and the lights dim. You feel like you are expected to dance, so you try some moves, but you can feel Blue Waters scoffing."

Instead of switching on Blue waters:
	say "Nothing happens. You broke it. Better get out of here.  Fast."
	
Instead of switching off Blue waters:
	say "Nothing happens. You broke it. Better get out of here.  Fast."

Instead of going anywhere when player is in NCSAInterior:
	say "All you can do is exit the building."

PART 11 - BARDEEN QUAD GAME



PART 12 - TALBOT LABORATORY

TalbotLaboratory is a RoomProxy in Talbot Laboratory. The printed name of TalbotLaboratory is "Talbot Lab".
Understand "Talbot" and "Talbot Lab" and "Talbot Laboratory" as TalbotLaboratory.

TalbotLabInterior is inside from Talbot Laboratory. "You are immediately greeted by a set of stairs, which you ascend into the drab hall.  Another set of stairs going [bold type]up[roman type] will take you to the Second Floor Stairwell. There's a hallway to the [bold type]northeast[roman type].  Going [bold type]east[roman type] will take you to a small room marked 'Computer Lab - Engineering Students Only'. Going [bold type]southeast[roman type] will take you to the Turbulence Lab. The Ladies['] Room is to the [bold type]south[roman type]. You can go [bold type]outside[roman type] to the West Entrance."
TalbotLabInterior is an Interior Location.  The printed name of TalbotLabInterior is "West Foyer".

TalbotLabNorthHall1 is northeast of TalbotLabInterior. "Nothing special here but some offices and a giant valve on the ceiling. Going [bold type]east[roman type] will take you further down the hall and heading [bold type]southwest[roman type] will take you back to the Entrance Hall."
The printed name of TalbotLabNorthHall1  is "North Hallway - First Floor".

TalbotLabNorthHall2 is east of TalbotLabNorthHall1. "You walk past some offices in the cinder block hallway.  This hall continues both to the [bold type]east[roman type] and [bold type]west[roman type]."
The printed name of TalbotLabNorthHall2  is "North Hallway - First Floor".

TalbotLabNorthHall3 is east of TalbotLabNorthHall2. "You can go down the north hallway to the [bold type]west[roman type] or [bold type]south[roman type] to the East Foyer. There's a bulletin board on the wall with the latest news."
The printed name of TalbotLabNorthHall3  is "North Hallway - First Floor".

TalbotLab1MensRoom is east of TalbotLabNorthHall3. "Another bathroom with more bathroom like paraphernalia."
The printed name of TalbotLab1MensRoom is "Men's Room - First Floor".

TalbotLabEastHall1 is south of TalbotLabNorthHall3. "A hallway that leads to the [bold type]east[roman type] Foyer and the [bold type]north[roman type] hall."
The printed name of TalbotLabEastHall1  is "East Hallway - First Floor".

TalbotLabEastFoyer is east of TalbotLabEastHall1. "Another grand foyer on campus.  The stairs going [bold type]up[roman type] lead to the second floor and the hallway to the [bold type]west[roman type] will take you into the halls of Talbot."
The printed name of TalbotLabEastFoyer is "East Foyer".

TalbotLabSouthHall1 is south of TalbotLabEastHall1. "A hallway on the south side of the building.  Going [bold type]north[roman type] will take you toward the east hall and east foyer.  The other side seems to be blocked off for repainting."
The printed name of  TalbotLabSouthHall1  is "South Hallway - First Floor".

TalbotLabComputerLab is east of TalbotLabInterior. "[if unvisited] You enter the compact room lined with wooden desks and swivel chairs.  A window looking out into the hall gives the students that work there a fleeting hope that they could be somewhere else doing anything but the lab reports they are working on.  The ironic view pointing to the toilets show them exactly what their professors think of such ideas. [end if] You see some computers along the wall and sets of tables and chairs.  Going [bold type]west[roman type] will take you back to the West Foyer."
The printed name of TalbotLabComputerLab is "Computer Lab".

TalbotLab1LadiesRoom is south of TalbotLabInterior. "A few stalls and some lockers populate the otherwise empty room."
The printed name of TalbotLab1LadiesRoom is "Ladies' Room - First Floor".

TalbotLabTurbulenceLab is southeast of TalbotLabInterior. "[if unvisited] You walk past the bathrooms and see a set of wooden doors with metal reinforcement on the windows.  On the dirty glass you squint to read 'Renewable Energy & Turbulent Environment Group'.  One door is unceremoniously propped open with a brick. Stepping in, you see a few rows of cubicles and copious amounts of discarded research materials.  You begin to wonder if Turbulent Environment has more to do with the state of the lab or what its inhabitants are doing. [end if] There is a lone young man with dark hair furiously typing away on a computer set up with too many monitors for the desk space.  He doesn't even stop working long enough to notice you. There doesn't seem to be anything of interest here. You can go back to the [bold type]northeast[roman type]."
The printed name of TalbotLabTurbulenceLab is "Turbulence Lab".

TalbotLab2WestStairwell is up from TalbotLabInterior. "Above some benches are distinguished and likely expensive portraits.  A set of stairs going [bold type]up[roman type] will take you to the Third Floor West Stairwell.  Another set of stairs going [bold type]down[roman type] will take you to the West Foyer.  There looks to be an open lounge to the [bold type]south[roman type].  The men's room is to the [bold type]east[roman type].   You can enter the hall to the [bold type]northeast[roman type]."
The printed name of TalbotLab2WestStairwell is "Second Floor Stairwell - West".

TalbotLab2EastStairwell is up from TalbotLabEastFoyer and east from TalbotLab2EastHall1. "Some worn green stairs lead back [bold type]down[roman type] to the first floor. You can enter the second floor to the [bold type]east[roman type]."
The printed name of TalbotLab2EastStairwell is "Second Floor Stairwell - East".

TalbotLabLounge is south from TalbotLab2WestStairwell. "[if unvisited] You sidle past a set of substantial looking doors.  'They sure don't make them like they used to.' you say to yourself as you enter a room with sets of tables and chairs on your left and some couches on your right. [end if]  No one is around, but there's a light coming from one of the surrounding doors to the [bold type]east[roman type].  The stairwell is back [bold type]north[roman type]."
The printed name of TalbotLabLounge is "Lounge".

TalbotLabKitchen is east from TalbotLabLounge. "You enter to see a standard kitchenette set-up.  The Lounge is back [bold type]west[roman type]."
The printed name of TalbotLabKitchen is "Kitchen".

TalbotLab2NorthHall1 is northeast of TalbotLab2WestStairwell. " This hallway runs to the [bold type]east[roman type] or to [bold type]southwest[roman type]."
The printed name of TalbotLab2NorthHall1  is "Second Floor - North Hallway".

TalbotLab2NorthHall2 is east of TalbotLab2NorthHall1. "This hallway runs to the [bold type]east[roman type] and [bold type]west[roman type]."
The printed name of TalbotLab2NorthHall2  is "North Hallway - Second Floor".

TalbotLab2NorthHall3 is east of TalbotLab2NorthHall2. "This hall runs [bold type]west[roman type] and [bold type]south[roman type]. There's a stairwell to the [bold type]southeast[roman type]."
The printed name of TalbotLab2NorthHall3  is "North Hallway - Second Floor".

TalbotLab2LadiesRoom is east of TalbotLab2NorthHall3. "You know, I've never had to use the toilet on this floor...guess it's just another room with toilets.  You can leave to the [bold type]west[roman type]."
The printed name of TalbotLab2LadiesRoom is "Ladies' Room - Second Floor".

TalbotLab2EastHall1 is south of TalbotLab2NorthHall3. "This hallway runs [bold type]north[roman type] and [bold type]south[roman type].  There's a stairwell to the [bold type]east[roman type]."
The printed name of TalbotLab2EastHall3  is "East Hallway - Second Floor".

TalbotLab2SouthHall1 is south of TalbotLab2EastHall1. "This hall continues to the [bold type]east[roman type].  The stairwell is [bold type]northwest[roman type]."
The printed name of TalbotLab2SouthHall1  is "South Hallway - Second Floor".

TalbotLab2SouthHall2 is west of TalbotLab2SouthHall1. "This hallway runs to the [bold type]east[roman type] and [bold type]west[roman type]."
The printed name of TalbotLab2SouthHall2  is "South Hallway - Second Floor".

TalbotLab2SouthHall3 is west of TalbotLab2SouthHall2 and southeast of TalbotLab2WestStairwell. "This hall continues to the [bold type]east[roman type].  The stairwell is [bold type]northwest[roman type]."
The printed name of TalbotLab2SouthHall3  is "South Hallway - Second Floor".

TalbotLab2MensRoom is north of TalbotLab2WestStairwell. "The men's room on the second floor.  Why are there no urinals in these bathrooms?!  You can leave to the [bold type]south[roman type]."
The printed name of TalbotLab2MensRoom is "Men's Room - Second Floor".

TalbotLab3WestStairwell is up from TalbotLab2WestStairwell. "You can go back [bold type]down[roman type] or follow the scent of coffee to the [bold type]east[roman type]."
The printed name of TalbotLab3WestStairwell is "Third Floor Stairwell - West".

TalbotLabStarbucks is east from TalbotLab3WestStairwell. "[if unvisited]You look around and click your heels; instead of going home, you realize you're stuck in another chain coffee shop. 'How fast do they build these things?' you wonder. [end if] There are plenty of students milling about trying to get a boost of caffeine. Since you're here, you might as well get something from the menu or sit in the club chairs.  Heading [bold type]west[roman type] will take you back to the stairwell."
The printed name of TalbotLabStarbucks is "Starbucks".

Instead of going nowhere when the player is in the TalbotLabInterior:
	say "You don't see anything of interest and decide to go back."

Instead of going nowhere when the player is in the TalbotLabTurbulenceLab:
	say "You try to get around but begin to stumble over various metal and plastic rubbish.  'Could you keep it down?' you hear a voice say and turn to see the young man giving you a frustrated look. You decide it's best to leave for now and head back [bold type]north[roman type]."

Instead of going nowhere when the player is in the TalbotLabComputerLab:
	say "Encumbered by the tables and chairs, you find yourself unable to go that way."

The TalbotClubChair is an enterable supporter in TalbotLabStarbucks.  The TalbotClubChair is scenery. The description is "A plush cognac leather chair.  The perfect place for a nap." The printed name of TalbotClubChair is "club chair".
Understand "chair" and "chairs" and "club chairs" and "club chair" as TalbotClubChair.

Talbotstudents are people in the TalbotLabStarbucks. Talbotstudents are scenery.  
After examining Talbotstudents: 
	say "A zombie like parade of engineering students who replace sleep with caffeine."
Understand "students" as Talbotstudents. The printed name of Talbotstudents is "students".

Instead of talking to the Talbotstudents:
	say "You don't see anyone you want to talk to."

The menu is in TalbotLabStarbucks. The description is "[bold type]Drinks[roman type][line break]Brewed Coffee - $1.85[line break]Latte -$2.95[line break]Frappuccino - $3.95[line break]Hot Tea - $2.75[line break]Water - $0.99[line break]Hot Chocolate - $2.30[line break]Croissant - $2.75[line break]Cheese Danish - $2.45[line break]Scone - $2.45[line break]Muffin - $2.45."

Instead of eating an edible ware:
	if noun is drinkable:
		try drinking noun instead;
		stop the action;
	else:
		say "You nibble your treat. Money well-spent!"


Instead of drinking an edible ware:
	if noun is TalbotLabBrewedCoffee or noun is TalbotLabLatte or noun is TalbotLabFrappuccino:
		now HadCoffee is true;
	say "You sip your drink. Definitely worth the price!"
	
Instead of eating an edible ware:
	if noun is drinkable:
		try drinking noun instead;
		stop the action;
	else:
		say "You nibble your treat. Money well-spent!"

The TalbotLabBrewedCoffee is a drinkable, edible coffee-beverage ware in the TalbotLabStarbucks. The TalbotLabBrewedCoffee is scenery. 
The price of the TalbotLabBrewedCoffee is $1.85. The description is "A hot cup of coffee.  House blend." 
Understand "coffee" and "brewed coffee" as TalbotLabBrewedCoffee. The printed name of TalbotLabBrewedCoffee is "Brewed Coffee".


The TalbotLabLatte is a drinkable, edible coffee-beverage ware in the TalbotLabStarbucks. The TalbotLabLatte is scenery. The price of the TalbotLabLatte is $2.95. The description is "Steamed milk and espresso with a gentle foam cap." 
Understand "latte" as TalbotLabLatte. 
The printed name of TalbotLabLatte is "Latte".

The TalbotLabFrappuccino is a drinkable, edible coffee-beverage ware in the TalbotLabStarbucks.  The TalbotLabFrappuccino is scenery. The price of the TalbotLabFrappuccino is $3.95. The description is "A popular frozen, blended treat topped with a swirl of whipped cream."

Understand "Frappuccino" as TalbotLabFrappuccino. 
The printed name of TalbotLabFrappuccino is "Frappuccino".


The TalbotLabHotTea is a drinkable, edible noncoffee-beverage ware in the TalbotLabStarbucks.  The TalbotLabHotTea is scenery. The price of the TalbotLabHotTea is $2.75. The description is "A relaxing cup of hot tea." Understand "tea" and "hot tea" as TalbotLabHotTea. The printed name of TalbotLabHotTea is "Hot Tea".
The TalbotLabHotTea is drinkable.

The TalbotLabWater is a drinkable, edible noncoffee-beverage ware in the TalbotLabStarbucks. The TalbotLabWater is scenery. The price of the TalbotLabWater is $0.99. The description is "Refreshing H2O." 

Understand "H2O" and "water" as TalbotLabWater. 
The printed name of TalbotLabWater is "Water".

The TalbotLabHotChocolate is a drinkable, edible noncoffee-beverage ware in the TalbotLabStarbucks. The TalbotLabHotChocolate is scenery. The price of the TalbotLabHotChocolate is $2.30. The description is "Mocha and milk make a delicious sweet drink." Understand "Hot Chocolate" and "Hot Cocoa" and "cocoa" as TalbotLabHotChocolate. The printed name of TalbotLabHotChocolate is "Hot Chocolate".

The TalbotLabCroissant is an edible ware in the TalbotLabStarbucks. The TalbotLabCroissant is scenery. The price of the TalbotLabCroissant is $2.75. The description is "A flaky, buttery pastry in a crescent shape." Understand "croissant" as TalbotLabCroissant. The printed name of TalbotLabCroissant is "Croissant".

The TalbotLabCheeseDanish is an edible ware in the TalbotLabStarbucks. The TalbotLabCheeseDanish is scenery. The price of the TalbotLabCheeseDanish is $2.45. The description is "A flaky crust with a sweet cream cheese center." Understand "danish" and "cheese danish" as TalbotLabCheeseDanish. The printed name of TalbotLabCheeseDanish is "Cheese Danish".

The TalbotLabScone is an edible ware in the TalbotLabStarbucks. The TalbotLabScone is scenery. The price of the TalbotLabScone is $2.45. The description is "A dense soda bread with some fruit inside." Understand "scone" as TalbotLabScone. The printed name of TalbotLabScone is "Scone".

The TalbotLabMuffin is an edible ware in the TalbotLabStarbucks. The TalbotLabMuffin is scenery. The price of the TalbotLabMuffin is $2.45. The description is "A fruit filled baked good." Understand "muffin" as TalbotLabMuffin. The printed name of TalbotLabMuffin is "Muffin".


Understand "painting" as the wall.

Painting is an action applying to one thing. 
Check painting: 
	if the noun is not the wall:
		say "That's not something you should paint." 

Carry out painting: 
	say "You [one of]paint a line or two[or]make some doodles with the paint[or]spill a little on your shoe[or]decide you're not paid enough for this[as decreasingly likely outcomes]."

Understand "paint [something]" as painting.

TalbotKitchenette is a backdrop in TalbotLabLounge. The description is "Just a small kitchen set-up, nothing special." Understand "kitchenette" as TalbotKitchenette.

TalbotBulletinBoard is a fixed in place object in TalbotLabNorthHall3.  The description is "You look around and see there are some strange events that are happening on campus.". TalbotBulletinBoard is scenery.

Valve is a fixed in place object in TalbotLabNorthHall1.  Valve is scenery.  The description is "A giant red stationary valve on the ceiling".

Portrait is a fixed in place object in TalbotLab2WestStairwell.  Portrait is scenery.  The description is "Distinguished old men.  Maybe if you donate enough money, you too can have a building named after you". Understand "portraits" as portrait.

TalbotBench is an enterable supporter in TalbotLab2WestStairwell.  TalbotBench is scenery. The printed name of TalbotBench is "bench".  The description is "Green stone benches that jut from the wall." Understand "bench" and "benches" as TalbotBench.

[ladies 1st floor]
TalbotMirror1 is an object in TalbotLab1LadiesRoom. TalbotMirror1 is scenery. The printed name of TalbotMirror1 is "mirror".  The description is "You look in the mirror and see [player]." Understand "mirror" as TalbotMirror1.


TalbotToilet1 is an enterable supporter in TalbotLab1LadiesRoom.  TalbotToilet1 is scenery. The printed name of TalbotToilet1 is "toilet".  The description is "A porcelain beauty." Understand "toilet" as TalbotToilet1.

TalbotSink1 is a device in TalbotLab1LadiesRoom.  TalbotSink1 is scenery. The description is "A very economical sink." The printed name of TalbotSink1 is "sink". Understand "sink" as TalbotSink1.

TalbotLocker is a closed openable container in TalbotLab1LadiesRoom. TalbotLocker is scenery.  The description is "Who stores their things here?  Just a tall metal locker.". Understand "locker" and "lockers" as TalbotLocker. The printed name of TalbotLocker is "locker".

[mens 1st floor]
TalbotMirror2 is an object in TalbotLab1MensRoom . TalbotMirror2 is scenery. The printed name of TalbotMirror2 is "mirror".  The description is "You look in the mirror and see [player]." Understand "mirror" as TalbotMirror2.

TalbotToilet2 is an enterable supporter in TalbotLab1MensRoom .  TalbotToilet2 is scenery. The printed name of TalbotToilet2 is "toilet".  The description is "A porcelain beauty." Understand "toilet" as TalbotToilet2.

TalbotSink2 is an device in TalbotLab1MensRoom .  TalbotSink2 is scenery. The description is "A very economical sink." The printed name of TalbotSink2 is "sink". Understand "sink" as TalbotSink2.

[ladies 2nd floor]
TalbotMirror3 is an object in TalbotLab2LadiesRoom. TalbotMirror3 is scenery. The printed name of TalbotMirror3 is "mirror".  The description is "You look in the mirror and see [player]." Understand "mirror" as TalbotMirror3.

TalbotToilet3 is an enterable supporter in TalbotLab2LadiesRoom.  TalbotToilet3 is scenery. The printed name of TalbotToilet3 is "toilet".  The description is "A porcelain beauty." Understand "toilet" as TalbotToilet3.

TalbotSink3 is an device in TalbotLab2LadiesRoom.  TalbotSink3 is scenery. The description is "A very economical sink." The printed name of TalbotSink3 is "sink". Understand "sink" as TalbotSink3.

[mens 2nd floor]
TalbotMirror4 is an object in TalbotLab2MensRoom. TalbotMirror4 is scenery. The printed name of TalbotMirror4 is "mirror".  The description is "You look in the mirror and see [player]." Understand "mirror" as TalbotMirror4.

TalbotToilet4 is an enterable supporter in TalbotLab2MensRoom.  TalbotToilet4 is scenery. The printed name of TalbotToilet4 is "toilet".  The description is "A porcelain beauty." Understand "toilet" as TalbotToilet4.

TalbotSink4 is an device in TalbotLab2MensRoom.  TalbotSink4 is scenery. The description is "A very economical sink." The printed name of TalbotSink4 is "sink". Understand "sink" as TalbotSink4.

[other]

TalbotDesks are a supporter in TalbotLabComputerLab.  TalbotDesks are scenery. The description of TalbotDesks is "Sturdy and old...You wonder if it's possible for desks to be tenured too." Understand "desk" and "wooden desks" as TalbotDesks.

TalbotSwivelChairs is scenery in TalbotLabComputerLab. The description is "You have always dreamed of empty halls and swivel chair races, but now is not the time.  You don't even feel like taking a seat."
Understand "chairs" and "swivel chair" and "swivel chairs" and "chair" as TalbotSwivelChairs.

TalbotComputer is a switched on fixed in place device in TalbotLabComputerLab. TalbotComputer is scenery.  The description is "[if switched off]The screen is black and it appears to be off. [else] It's logged in, but no one is around.  You see a magic 8 ball flash game.  Why don't you think of a question and [italic type] shake [roman type] the magic 8 ball."
Understand "computer" and "computers" as TalbotComputer.  The printed name of TalbotComputer is "computer".

Talbot8Ball is a fixed in place object in TalbotLabComputerLab.  Talbot8Ball is scenery. The description is "a virtual 8 ball game".
Understand "8 ball" and "eight ball" and "magic 8 ball" and "magic eight ball" and "magic ball" and "ball" as Talbot8Ball.

a thing can be shakeable or unshakable. A thing is usually unshakable.
Talbot8ball is shakeable.

Understand "shake [something]" as Shaking. Shaking is an action applying to one visible thing.

OnlyShaking is an action applying to nothing.
Understand "shake" as OnlyShaking.

Carry out OnlyShaking:
	say "What do you want to shake?"

Check Shaking:
	if TalbotComputer is not visible:
		say "You can't do that here.";
		stop the action;
	if TalbotComputer is switched off:
		say "You can't play if the computer is off.";
		stop the action;
	else if noun is unshakable:
		say "You can't shake [noun].";
		stop the action.

Carry out Shaking:
	say "try to shake [noun] and nothing much happens.";
	stop the action.

Instead of shaking Talbot8ball:
	say "[one of]It is certain [or] It is decidedly so [or] Without a doubt [or] Yes definitely [or] You may rely on it [or] As I see it, yes [or] Most likely [or] Outlook good [or] Yes [or] Signs point to yes [or] Reply hazy try again [or] Ask again later [or] Better not tell you now [or] Cannot predict now [or] Concentrate and ask  [or] Don't count on it [or] My reply is no [or] My sources say no [or] Outlook not so good [or] Very doubtful [purely at random]."

Jimmy is a person in TalbotLabTurbulenceLab. Jimmy is scenery. "Covered by snack debris and paper, his surroundings give the illusion of living at his desk.  Appearing to be a grad student, he very well may."
Understand "dark haired young man" and "Jimmy Kim" as Jimmy.

Instead of examining Jimmy:
	say "Small and Asian, he is wearing a well-worn t-shirt and some dark sweatpants. He turns around, 'Are you looking for Leo?' You realize you began to stare and feel a little embarrassed. 'No, sorry.'  You respond.";

Instead of giving something to Jimmy:
	say "He doesn't need [noun].  Better keep it for now.";
	stop the action.

Instead of talking to Jimmy:
	say "'Sorry, but I'm kind of busy right now.  Did you need something? I'm Jimmy'  He looks frazzled, but kind. 'Ah, no.  Sorry to bother you. ' you respond. ".

Instead of asking the Jimmy about something:
	say "He looks busy.  You could try talking to him, but he seems to be in the middle of something."

Instead of attacking Jimmy:
	say "You rush in to attack the young man, but he deftly rises from his chair and crescent kicks you to the head.  'I don't have time for this!  I have a paper to revise!";
	now GradAttack is completed;
	now Currentending is GradAttack;
	now Jimmy is nowhere;
	End the Journey.

Jimmy is wearing a TLhoodie.
	understand "sweatshirt" and "hooded sweatshirt" as TLhoodie. The printed name of TLhoodie is "hoodie".

The description of a TLhoodie is "A comfortable looking hoodie with some minor food stains."


PART 13 - MECHANICAL ENGINEERING LAB

MechanicalEngineeringLab is a RoomProxy in Mechanical Engineering Lab. The printed name of MechanicalEngineeringLab is "Mechanical Engineering Lab".
Understand "Mel" and "Mechanical Engineering" and "Mechanical Engineering Lab" as MechanicalEngineeringLab.


MELabInterior is an Interior Location. "[if unvisited]You're standing in the middle of the Mechanical Engineering Lab, where students are crowded around tables, hunched over their notebooks and contraptions. The Help Desk is to the [bold type]west[roman type], the Lab Room is to the [bold type]east[roman type], and The Classroom is to the [bold type]north[roman type]. It's pretty hot in here, so your palms are getting gross and sweaty.[else]You're back at the Mechanical Engineering Lab. You can go [bold type]west[roman type] to the Help Desk, [bold type]east[roman type] to the Lab Room, or [bold type]north[roman type] to The Classroom. You can also go [bold type]out[roman type]."

The printed name of MELabInterior is "MEL".

MELabInterior is inside from Mechanical Engineering Lab.


Mechanical Engineering Help Desk is west from MELabInterior."Against the wall are shelves and shelves of sparkling computer equipment. You wipe your hands on your jeans before taking a look around. You can head [bold type]east[roman type] back towards the Mechanical Engineering Lab."

Mechanical Engineering Printer Lab Room is east from MELabInterior."[if unvisited]You enter the Lab Room to see students silently working at computers. You can head [bold type]west[roman type] to Mechanical Engineering Lab.[else]Everyone still seems to be working hard. You can head [bold type]west[roman type] to Mechanical Engineering Lab."

Mechanical Engineering Classroom is north from MELabInterior."You head past the working students, towards the Classrooms. You see that there is a class going on right now, and the TA is giving you a dirty look for being a distraction. Head [bold type]south[roman type] back to the Mechanical Engineering Lab."

Campbell Hall is outside from CampbellHallInterior. "[if unvisited] You feel the fresh air breeze on your face. You have a lot of time to kill, so you noticed the Campbell Hall is right next to you. [end if] You have nothing else to do. Go explore! Go [bold type]in[roman type] to enter the buliding’s Reception room. Further South is the Mechanical Engineering Lab." The printed name of OutsideCampbell Hall is "Outside of Campbell Hall".

CampbellHall is a RoomProxy in Campbell Hall.
The printed name of Campbell Hall is "Campbell Hall".
Understand "Campbell" and "Campbell Hall" as CampbellHall.

CampbellHallInterior is an Interior Location. "[if unvisited] You noticed a small line of people near the reception desk. [bold type]East[roman type] is the Bathroom. [bold type]West[roman type] is Campbell Hall. [bold type]North[roman type] is North Campbell Hall. [else] The reception desk seems empty now. [bold type]East[roman type] is the Bathroom. [bold type]West[roman type] is Campbell Hall. [bold type]North[roman type] is North Campbell Hall."
The printed name of CampbellHallInterior is "Campbell Hall Reception".

North Campbell Hall is north of CampbellHallInterior. "[if unvisited] You noticed some students getting inside of the few rooms available in this building. [bold type]South[roman type] is the Reception. [else] [bold type]south[roman type] is the Reception."

Bathroom CH is east of CampbellHallInterior. "[if unvisited] The stalls seem unoccupied. You don't notice much out of the ordinary other than a trash can. [bold type]West[roman type] is the Reception. [else] Nothing out of the ordinary."

New World is a room. "An odd-looking area that looks deserted."

Uncharted Location is a room. "You are in an unknown dark location. You can't see anything."

Instead of going nowhere when player is in Campbell Hall:
	say "Since you are outside Campbell Hall you might as well go and explore inside. Go [bold type]in[roman type] to enter the buliding."

Instead of going nowhere when player is in CampbellHallInterior:
	say "There is a reception desk here or go [bold type]north[roman type], [bold type]west[roman type], or [bold type]east[roman type]."

Instead of going nowhere when player is in Bathroom CH:
	say "You can investigate your surroundings in the Bathroom or Go [bold type]west[roman type]."

Instead of going nowhere when player is in North Campbell Hall:
	say "You should go somewhere else or check your surroundings. Go [bold type]south[roman type]."

Instead of going nowhere when the player is in Mechanical Engineering Help Desk:
	say "You're not sure if you're allowed to be here. You can go [bold type]east[roman type] instead."

Instead of going nowhere when the player is in Mechanical Engineering Printer Lab Room:
	say "There's really not much to do here. You can go the other way by heading [bold type]west[roman type]."

Instead of going nowhere when the player is in Mechanical Engineering Classroom:
	say "The TA clearly doesn't want you here. You can leave and head [bold type]south[roman type]."


CHTrash is in Bathroom CH. Description of CHTrash is "You noticed it is closed."
Understand "trash can" and "trash" as CHTrash. The printed name of CHTrash is "trash can".
CHTrash is a closed openable container. CHTrash is fixed in place.

Inside CHTrash is Media Class Assignment. The description of Media Class Assignment is "Looks like its just some sort of media class assignment."

Understand "papr" and "ppr" and "media" and "class assignment" as Media Class Assignment.

mechanicalEngineeringTable is scenery in MELabInterior. The description of mechanicalEngineeringTable is "It seems like the students are studying for some exam at the table. You hear the sound of frantic calculator clicks & pencil scribbles."
Understand "table" and "tables" and "mechanical engineering table" as mechanicalEngineeringTable. The printed name of mechanicalEngineeringTable is "Mechanical Engineering Table".

chipotleLeftovers is an edible thing on mechanicalEngineeringTable. "[if unvisited]You wonder why the tables are so busy." The printed name of chipotleLeftovers is "Chipotle leftovers".
Understand "chipotle leftovers" and "leftovers" and "Chipotle" and "food" as chipotleLeftovers.

mechanicalEngineeringWall is scenery in MELabInterior. The printed name of mechanicalEngineeringWall is "wall". Understand "wall" and "painting" and "stripes" as mechanicalEngineeringWall. The description of mechanicalEngineeringWall is "Emma seems to be painting something on the wall.".

tableTopper is scenery in MELabInterior. The printed name of tableTopper is "notebooks and contraptions". Understand "notebooks" and "contraptions" and "notebooks and contraptions" and "notebook" and "pencils" and "notebooks and pencils" as tableTopper. The description of tableTopper is "There's nothing special about the notebooks and contraptions here.".

helpDeskShelves are a supporter in Help Desk. "You don't think you should have a look around but you want to nonetheless." The description of helpDeskShelves is "You try to go closer to the shelves of computer equipment but the student at the help desk starts waving his arms at you, before going back to his phone call."
Understand "shelf" and "shelves" and "equipment" and "computer equipment" as helpDeskShelves. The printed name of helpDeskShelves is "shelves".

mechEngComp is scenery in Mechanical Engineering Lab Room. The printed name of mechEngComp is "computers". Understand "computers" and "computer" as mechEngComp. The description of mechEngComp is "All the computers seem to be in use.".

helpdeskBox is a closed openable container on helpDeskShelves. "[if unvisited]The shelves certainly look interesting." The description of helpdeskBox is "There is a small box on the shelf." The printed name of helpdeskBox is "small box". Understand "small box" and "box" as helpdeskBox.

helpdeskKeys are a thing in helpdeskBox.
The description of helpdeskKeys is "You're not really sure what these keys are for but you can figure that out later."
Understand "key" and "keys" as helpdeskKeys. The printed name of helpdeskKeys is "keys".

mechanicalEngineeringLock is scenery in MELabInterior. Understand "lock" as mechanicalEngineeringLock. The printed name of mechanicalEngineeringLock is "lock". The description of mechanicalEngineeringLock is "You're not sure what the purpose of this lock is.".

labRoomPrinter is a switched off, fixed in place device in Mechanical Engineering Printer Lab Room.  "[if switched off]A group of students are hanging around a printer.[else]The printer is loud as it churns out paper."
Understand "printer" as labRoomPrinter. The printed name of labRoomPrinter is "printer".

mechEngClassroomDesk is a supporter in Mechanical Engineering Classroom.
Understand "desks" and "classroom" and "table" and "desk" as mechEngClassroomDesk. The printed name of mechEngClassroomDesk is "classroom desk".

mechEngClass is scenery in Mechanical Engineering Classroom. Understand "class" and "students" as mechEngClass. The description of mechEngClass is "Students are trying to learn.". The printed name of mechEngClass is "class".

mechEngTA is a scenery person in Mechanical Engineering Classroom. Understand "TA" as mechEngTA. The description of mechEngTA is "The TA does not seem to like you.".

eohTshirt is a wearable thing on mechEngClassroomDesk.
Understand "tshirt" and "shirt" and "clothes" as eohTshirt. The printed name of eohTshirt is "EOH Tshirt".

mechEngPhone is scenery in Help Desk. The printed name of mechEngPhone is "phone". Understand "phone" as mechEngPhone. The description of mechEngPhone is "A phone meant for IT support.".

Instead of taking Carne Asada Taco:
	say "You are excited to eat it since you haven't eaten in a while.";
	continue the action.

Instead of eating Carne Asada Taco:
	say "Your mouth waters and munch on the Carne Asada Taco, finishing it off in a few bites.";
	now Carne Asada Taco is nowhere;
	stop the action.

Instead of taking Trash Can:
	say "You don't want to carry that all over the campus.";
	stop the action.

Instead of taking Media Class Assignment for the first time:
	say "Maybe this will be useful later on.";
	now player has Media Class Assignment.

Instead of examining Media Class Assignment:
	if Media Class Assignment is in Trash Can:
		say "Seems like there is an offer of some sort from what you can tell.";
	else:
		say "It seems to be an offer for a Media internship."

Instead of examining labRoomPrinter:
	if labRoomPrinter is switched off:
		say "[if undented]Taking a closer look at the printer, you realize that none of the printer's lights are flashing and it's awfully quiet for such a large machine. You consider kicking it back on. [else]You dented the printer. Nice going.";
	else:
		say "The printer is awfully loud. Maybe it was better off.";
	now labRoomPrinter is examined.
Instead of switching on labRoomPrinter:
	if labRoomPrinter is undented:
		say "You click the green button and immediately, it lights up and papers start spewing out. The students pat you on the back.";
		now labRoomPrinter is switched on;
		increase score by 25;
	else:
		say "There's no way to turn on a broken printer.";
		stop the action.
Instead of switching off labRoomPrinter:
	say "The students will definitely not like you turning off the printer. You leave the printer on.";
	stop the action.
Instead of taking labRoomPrinter:
	say "A giant printer will not fit as nicely in your pocket as a phone does.";
	stop the action.

Instead of taking mechanicalEngineeringTable:
	say "How would you even carry a table around?";
	stop the action.
Instead of examining mechanicalEngineeringTable:
	if chipotleLeftovers is on mechanicalEngineeringTable:
		say "It seems like the students are studying for some exam at the table. You hear the sound of frantic calculator clicks & pencil scribbles. Someone's leftover Chipotle is sitting on the table.";
	else:
		say "There's a stray piece of lettuce on the table."

Instead of taking chipotleLeftovers:
	say "You try to grab the leftovers but a student looks up from his assignment to slap your hand away. The food remains on the table.";
	stop the action.
Instead of eating chipotleLeftovers:
	say "When no one is looking, you swipe the Chipotle leftovers and scarf it down. Your stomach feels funky now.";
	now chipotleLeftovers is nowhere.
Instead of examining chipotleLeftovers:
	say "There are notebooks and pencils littered across the table. There's also some Chipotle leftovers and it doesn't look half bad.";
	now chipotleLeftovers is examined.

Instead of taking helpDeskShelves:
	say "Taking shelves filled with computer equipment might not be the best idea.";
	stop the action.

Instead of examining helpdeskBox:
	if helpDeskKeys are in helpdeskBox:
		say "You shake the box and hear the sound of something rolling around inside.";
	else:
		say "The box is much lighter than it looks."
Instead of taking helpdeskBox:
	say "Now you have to carry around this box.";
	now player has helpdeskBox;
	now helpdeskKeys are in helpdeskBox.

Instead of examining helpdeskKeys:
	say "You're not really sure what this is for, but maybe trying a bunch of locks will help. Or asking the helpdesk student."

Instead of taking helpdeskKeys:
	say "You take a closer look at the keys, hoping to know what it leads to. You accidentally drop it and can't find it anywhere. Maybe have a better grip next time?";
	now helpdeskKeys are nowhere;
	now incrementKeyCounter is true.

incrementKeyCounter is a truth state variable. incrementKeyCounter is false.

keyCounter is a number that varies. keyCounter is 0.

Every turn when incrementKeyCounter is true:
	increment keyCounter.

Every turn when keyCounter is 7:
	say "All of a sudden, you see the helpdesk student from the Mechanical Engineering Lab Help Desk running at you. 'You dropped your keys!' the student exclaims, handing you the keys that you had dropped earlier in the Help Desk room.";
	now player has helpdeskKeys.

Instead of taking mechEngClassroomDesk:
	say "You can't take the desk. There's a student sitting in it.";
	stop the action.
Instead of examining mechEngClassroomDesk:
	say "There is some sort of shirt on one of the desk."

Instead of taking eohTshirt:
	say "You don't have this shirt so you stash it in your backpack.";
	now player is holding an eohTshirt.
Instead of wearing eohTshirt:
	say "The shirt looks ridiculous over your jacket. You wear it anyway.";
	now player is wearing eohTshirt.
Instead of examining eohTshirt:
	say "On the desk is an EOH tshirt that you don't have yet."


A thing can be kickable or unkickable. A thing is usually unkickable.
labRoomPrinter is kickable.

A thing can be dented or undented. A thing is usually undented.

[Carry out kicking:
	say "You kick it with all your force. The object is now dented.";
	now noun is dented.]

Instead of kicking labRoomPrinter:
	say "You kick the printer with all your force, crushing your toes, but now the printer is dented and doesn't seem fixable anymore. The students narrow their eyes at you. Maybe you should leave before they burn you at the stake for destroying the printer.";
	now labRoomPrinter is dented;
	now labRoomPrinter is switched off;
	decrease score by 25.


Understand "pocket [something]" as taking.


mechEngHelpDeskStudent is a person in Mechanical Engineering Help Desk. "[if unvisited]At the Help Desk, there is a disgruntled student trying to offer IT support over the phone. He doesn't seem to notice that you're there.[else]At the Help Desk, the student is still on the phone." The printed name of mechEngHelpDeskStudent is "help desk student". Understand "help desk student" and "student" and "helpdesk student" as mechEngHelpDeskStudent.

Instead of examining mechEngHelpDeskStudent:
	say "The student at the Help Desk is animatedly talking on the phone now, trying to help the person on the other side. Maybe the help desk student knows a thing or two."

Instead of talking to mechEngHelpDeskStudent:
	say "You try to make friendly conversation and the student looks at you strangely. 'Can't you see I'm on the phone, you dunce?' Maybe you should just do something else?"

Instead of asking mechEngHelpDeskStudent about "printer":
	if labRoomPrinter is undented:
		say "You try to ask if the student can help fix the printer. 'Look man,' the student says, 'You know just as much about printers as I do. Why don't you try turning it on and off or kicking it or something?'";
	else:
		say "You try to ask if the student can help fix the printer. 'My advice? Don't kick the printer next time' the student says."

Instead of asking mechEngHelpDeskStudent about "box":
	say "You ask the student about the key inside the box you just found, but he doesn't know what you're talking about. Maybe handing the box to him would be a better idea?"

Instead of asking mechEngHelpDeskStudent about "key":
	say "You ask the student what the key inside the box is for. 'What key? Hand me whatever you found the key in!' the student says."

Instead of asking mechEngHelpDeskStudent about something:
	say "The helpdesk student is on the phone. Maybe you should go do something else."

Instead of giving helpdeskBox to mechEngHelpDeskStudent:
	if helpdeskKeys are in helpdeskBox:
		say "You hand the student the box you picked up on the shelf. 'Why don't you go make yourself useful?' the helpdesk student says, while handing you the key that was jingling inside it.";
		now mechEngHelpDeskStudent has helpdeskBox;
		now player has helpdeskKeys;
		increase score by 25;
	else:
		say "You hand the student the empty box and the student gives you a strange look in response.";
		now mechEngHelpDeskStudent has helpdeskBox.

Instead of giving something to mechEngHelpDeskStudent:
	say "You try to hand it to the student, who ignores you.";
	stop the action.

Instead of attacking mechEngHelpDeskStudent:
	say "Stop messing around.";
	stop the action.

printerStudents is a person in the Mechanical Engineering Printer Lab Room. "[if labRoomPrinter is switched off and labRoomPrinter is undented]The students are whispering loudly. They can't seem to fix the printer, but you don't know much about printers either. [else if labRoomPrinter is switched on]The students are glad to have their printer back. [else] Leave before the students see you." Printed name of printerStudents is "group of students". Understand "students" and "group of students" and "students by printer" and "printer students" as printerStudents.

Instead of examining printerStudents:
	say "Why are they so passionate about a stupid printer?"

Instead of talking to printerStudents:
	say "You try to talk to the group of students but they're busy."

Instead of asking printerStudents about "printer":
	say "[if labRoomPrinter is switched off and labRoomPrinter is undented]You ask them why they're hanging out around a printer and they roll their eyes at you. [else if labRoomPrinter is switched on]'Thanks!' the students cheer as they pat you on the back. [else] You try to ask the students about the printer, but they hiss at you before you can even open your mouth."

Instead of asking printerStudents about something:
	say "The students are preoccupied by the printer and do not listen to you."

Instead of giving something to printerStudents:
	say "The students have no use for that.";
	stop the action.

Instead of attacking printerStudents:
	say "What are you hoping to achieve by doing that?";
	stop the action.

studentsAtEntrance is a scenery person in the MELabInterior. The printed name of studentsAtEntrance is "students at the lab entrance". Understand "students" and "students at entrance" and "students at lab entrance" and "entrance students" as studentsAtEntrance. The description of studentsAtEntrance is "Students milling about."


Instead of WeaponAttacking the mechEngHelpDeskStudent:
	say "The student throws the phone at you, knocking the [second noun] out of your hand.";
	now second noun is nowhere;
	stop the action.

Instead of WeaponAttacking printerStudents:
	say "This isn't the best idea.";
	stop the action.

Instead of WeaponAttacking Burrito King Employee:
	say "You pressure him with [second noun] and he gives you the rest of the free samples. You eat all the tacos and in end feel sick to your stomach.";
	stop the action.

small line of people are people in CampbellHallInterior.
small line of people is scenery.

The description of small line of people is "You see a few people asking some questions to the receptionist. Maybe you should WAIT in line."

Understand "small line" and "line of people" as small line of people.

Instead of talking to small line of people:
	say "They seem to have their own questions and all look at their phones until it is their turn."

Instead of giving something to small line of people:
	say "You need your stuff, don't give it to anyone else.";
	stop the action.

Instead of asking small line of people about "receptionist":
	say "Yes we are in line."

Instead of attacking small line of people:
	say "You will surely get in trouble for doing that, so you decide not to.";
	stop the action.

[
Check attacking:
	if the noun is not a person:
		say "You don't want to get in trouble.";
		stop the action.

Carry out attacking:
	say "You think twice about what you are about to do."
]

Laura is a person in CampbellHallInterior.
Laura is fixed in place.

Instead of examining Laura:
	say "She seems to be the receptionist in Campbell Hall."

Instead of talking to Laura:
	say "You chat away, but the conversation doesn't seem to be going anywhere."

Instead of giving something to Laura:
	say "You rethink what you are about to do and put it back into your inventory.";
	stop the action.

Instead of asking Laura about something:
	say "You think about what you are going to say."

Instead of asking Laura about "Campbell Hall":
	say "She tells you a bunch of information about Campbell Hall and learned quite a bit from her."

Instead of attacking Laura:
	say "She will surely be helped by others around her. There is no need.";
	stop the action.

Burrito King food truck is a photogenic and scavengerhuntable supporter. "The Burrito King Food Truck is parked here. A Burrito King employee is hard at work."

Description of Burrito King food truck is "They are giving away free samples of tacos."

Understand "burrito king" and "truck" and "food truck" and "brrito kng fd trck" as Burrito King food truck.

A Carne Asada Taco is an edible thing on Burrito King Food Truck. "You smell a carne asada taco. Wow. It smells so good!" 
The description of Carne Asada Taco is "This is a high quality taco." 

Understand "tco" and "tacos" and "carne asada" as Carne Asada Taco.

Instead of taking Burrito King Food Truck:
	say "I am pretty sure you will get in serious trouble if you do, though it would be interesting to see you do it.. In the end you decide not to.";
	stop the action.

Burrito King Employee is a scenery person in Campbell Hall.
Understand "worker" as Burrito King Employee.

The description of Burrito King Employee is "The worker has a few food samples of Tacos on the Burrito King Food Truck."

Instead of talking to Burrito King Employee:
	say "You chat away and asks you if you want to order anything or try a free sample of Tacos on the Burrito King Food Truck."

Instead of asking Burrito King Employee about something:
	say "You stop and think. You noticed there is a specials sign."

Instead of asking Burrito King Employee about "specials":
	say "The employee says that there are no specials available."

Instead of attacking Burrito King Employee:
	say "You decide not to attack him, since that's not a very original idea.";
	stop the action.


[Score is utilized in Interactions, Actions, & People section -- giving a box to helpdesk student & interacting with the printer]

lingeringInClassroom is a number that varies. lingeringInClassroom is 0.

Every turn when player is in Mechanical Engineering Classroom:
	increment lingeringInClassroom.

Every turn when lingeringInClassroom is 5:
	Get Kicked Out in one turn from now;
	now lingeringInClassroom is 0.

BannedFromClassroom is a truth state variable.
BannedFromClassroom is false.

At the time when Get Kicked Out:
	if player is in Mechanical Engineering Classroom:
		say "You've overstayed your hostile welcome. The TA forcibly removes you from the room. You end up in the Mechanical Engineering Lab.";
		now player is in Mechanical Engineering Lab;
	else:
		say "'Don't come back!' You hear the TA yell at you.";
	now BannedFromClassroom is true.

Every turn when player is in Mechanical Engineering Classroom and BannedFromClassroom is true:
	say "What is with you and being places you don't belong? The TA forces you back to the entrance of the building. You are back in the Mechanical Engineering Lab.";
	now player is in MELabInterior.

[
Every turn when the turn count is 1:
	say "A man approaches you and gives you a photograph of a medieval castle with a knight raising their arm and their sword.";
	now player is carrying a Medieval Photograph.
[
Medieval Photograph is a thing.
Medieval Photograph is scenery.
Description of Medieval Photograph is "The picture shows a castle and a knight with a happy expression on his face."
]


]

NewKnowledgeCounter is a number variable. NewKnowledgeCounter is 0.

Before examining something when player is in Campbell Hall:
	increment NewKnowledgeCounter.

Before examining something when player is in Bathroom CH:
	increment NewKnowledgeCounter.

Before examining something when player is in CampbellHallInterior:
	increment NewKnowledgeCounter.

Before examining something when player is in North Campbell Hall:
	increment NewKnowledgeCounter.

Before photographing something when player is in Campbell Hall:
	increase NewKnowledgeCounter by 2.

Before photographing something when player is in Bathroom CH:
	increase NewKnowledgeCounter by 2.

Before photographing something when player is in CampbellHallInterior:
	increase NewKnowledgeCounter by 2.

Before photographing something when player is in North Campbell Hall:
	increase NewKnowledgeCounter by 2.

Every turn when NewKnowledgeCounter is 10 and knowledge is true:
	say "Your vision begins to blur a bit, but you don't think much of it.";
	increase score by 10.

Every turn when NewKnowledgeCounter is 25 and knowledge is true:
	say "You begin to feel sick and faint.";
	now NewKnowledgeCounter is 0;
	increase score by 100;
	now knowledge is false;
	now player is in New World.

Knowledge is a truth state variable.
Knowledge is true.

Shadow Figure is a person in New World. Shadow Figure is fixed in place.

Understand "shadow" and "figure" and "shadowfigur" as Shadow Figure.

Instead of examining Shadow Figure for the first time:
	say "It stares at you. You feel very uncomfortable and wonder where you are at.";
	The Shadow Figure Flies in three turns from now;
	stop the action.

Instead of examining Shadow Figure for the second time:
	say "The Shadow Figure is looking back at you. You think you should probably walk away.";
	stop the action;

Instead of examining Shadow Figure for the third time:
	say "It is way more interested in you than you are in it. You should get away. Now.";
	stop the action.

Instead of examining Shadow Figure for the fourth time:
	say "A bright light fills your field of vision. That's what it looks like to lose your soul. Totally unavoidable. Should have run away.";
	now StaredStupidly is completed;
	now Currentending is StaredStupidly;
	End the Journey;
	now Shadow Figure is nowhere.

Instead of photographing Shadow Figure:
	say "You feel a weird sensation and find that you are suddenly back outside of Campbell Hall. Didn't get the picture. Damn.";
	now player is in Campbell Hall.

At the time when The Shadow Figure Flies:
	say "You noticed the figure was glowing and seemed to be like it was preparing to do something."


Chemistry student is a person in MELabInterior. Understand "Emma" and "vandalizer" and "girl" and "small girl" and "student" as Chemistry student. "[Emma Vandalizes Walls]".
buckets of paint is scenery in MELabInterior. Understand "paint" and "cans of paint" as buckets of paint.

To say Emma Vandalizes Walls:
	if Chemistry student is unexamined:
		say "There seems to be a small girl huddled in the corner of the room, hidden by her table. 'Emma' is written across the back of her shirt in white collegiate letters. There are cans of paint around her and she's scribbling on the wall.";
		stop the action;
	if chipotleLeftovers is on mechanicalEngineeringTable:
		say "'Hey. I dare you to eat the leftovers on the table.' Emma says without acknowledging you.";
		stop the action;
	if helpdeskBox is closed:
		say "'Actually, do you think you can find a key for this lock?' Emma says, now turning to face you.";
		stop the action;
	if labRoomPrinter is unexamined:
		say "There's a disgruntled yell that comes from the lab room. 'The printer must still be broken again.' Emma says.";
		stop the action;
	else:
		say "Emma continues to paint on the wall but it's unclear what she is trying to create.";
		stop the action.

Instead of examining Chemistry student:
	if Chemistry student is unexamined:
		say "You take a step closer to see what she's working on and she hisses at you. There's blue and orange stripes on the wall now and in the middle is a small lock.";
		now Chemistry student is examined;
		stop the action;
	else:
		if Chemistry student carries something:
			say "Along with the buckets of paint, Emma is carrying [a list of things carried by Chemistry Student].";
		if Chemistry student is wearing something:
			say "She's wearing [a list of things worn by Chemistry student]."

Instead of giving helpdeskKeys to Chemistry student:
	say "Emma yelps in excitement as you hand her the key.";
	now Chemistry student has helpdeskKeys;
	increase score by 25.

Chemistry student is carrying paintbrushes. Chemistry student is carrying a chemistry textbook. Chemistry student is carrying a sketch.

The description of paintbrushes is "There are many different types of paintbrushes."
The description of chemistry textbook is "The chemistry textbook looks hardly used."
The description of sketch is "There is a charcoal, intricate design."

Chemistry student is wearing a hoodie. Understand "jacket" as hoodie. The description of a hoodie is "It's a dark burgundy."

Instead of taking paintbrushes:
	say "Emma hisses at you.";
	stop the action.
Instead of taking sketch:
	say "You'll get to see it soon enough.";
	stop the action.
Instead of taking chemistry textbook:
	say "Why pay for textbooks when you can take other people's right?";
	now player has chemistry textbook.

Laura is a woman. "[Receptionist Busy]".

Understand "receptnist" and "receptionst" and "lara" and "laua" as Laura.

To say Receptionist Busy:
	if Laura is unexamined:
		say "She seems to be busy. Maybe you should WAIT until she is done.";
To say Receptionist Busy:
	if Burrito King Food Truck is examined:
		say "She seems to be in a rush answering people's question. She looks outside, she must be hungry.";
		stop the action;
	if Shadow Figure is examined:
		say "The Shadow Figure reappears and takes your soul.[paragraph break]";
		say "This doesn't seem to have any effect on you. Huh."

[ZZZ -- End the Journey!]

BOOK 4 - UNDERGROUND MAPS

[Changes below are the start of an underground region in the northeast. In the future, someone can make sure things that shouldn't happen underground don't happen here.]

PART 1 - SECRET SELF-DRIVING CAR GARAGE

SewerEntry is a truth state variable. SewerEntry is false.

SewerLidIn is a closed openable container in Empty Lot. "[if SewerEntry is false]You notice a strange little sewer lid in the middle of the empty lot.[else]You have a nagging feeling that there might be more to do down that sewer lid."
The printed name of SewerLidIn is "Sewer Lid".
Understand "sewer lid" and "lid" as SewerLidIn.

Instead of examining SewerLidIn:
	say "You walk closer to the strange sewer lid and upon further inspection, notice footprints leading to it and how loose the sewer lid itself is. Perhaps try to [bold type]OPEN[roman type] the sewer lid and go down into it?"
	
Instead of opening SewerLidIn:
	now the player is in the Ladder Shaft;
	now SewerEntry is true;
	now SewerLidIn is closed.
	
Ladder Shaft is a Room. "[if unvisited]You open the sewer lid and go inside it and gain some footing on the ladders going down. You go down a few steps and then close the lid above you. Taking one look beneath your feet, you see that the ladders go [bold type]DOWN[roman type] pretty far and have no other way to go besides back up outside if you [bold type]OPEN[roman type] the lid. You can also hear the splashes of water beneath you. Perhaps this is some sewage water?[else]You can either [bold type]OPEN[roman type] the lid and go outside to the empty lot or climb back [bold type]DOWN[roman type] to the sewer tunnel."
Understand "Shaft" as Ladder Shaft.

SewerLidOut is a closed openable scenery container in Ladder Shaft. 
The printed name of SewerLidOut is "Sewer Lid".
Understand "sewer lid" and "lid" as SewerLidOut.

Instead of opening SewerLidOut:
	now the player is in the Empty Lot;
	now SewerLidOut is closed.

Instead of going nowhere in Ladder Shaft:
	say "You're surrounded by cylindrical walls on all sides. You can either [bold type]OPEN[roman type] the sewer lid and go back outside or go [bold type]DOWN[roman type] the ladders."

Instead of examining SewerLidOut:
	say "You look at the underside of the sewer lid and notice an inscription saying: [italic type]'10 is the key!'[roman type] What could this mean?"

Sewer Tunnel is down from Ladder Shaft. "[if unvisited]You jump off the last ladder step and splash down into some sewage water beneath you... grosssss. Your feet are now soaked, but you notice the sewage water flow away from your feet and as you look up to follow that flow you notice a gate-like structure at the [bold type]NORTH[roman type] end of tunnel. While looking forward you also notice some strange writing on the cieling of the tunnel.[else]You still feel the sewage water soak your feet, you can either go [bold type]NORTH[roman type] towards the gate or [bold type]UP[roman type] the ladders you came down."

SewerTunnelCieling is a scenery object in Sewer Tunnel.
Understand "cieling" and "writing on cieling" and "writing" as SewerTunnelCieling.

Instead of examining SewerTunnelCieling:
	say "You read the writing on the cieling, it says [italic type]'Bin..a..rr.yyy'[roman type] What could this mean?"
	
Instead of going nowhere in Sewer Tunnel:
	say "You're in a tunnel that only stretches [bold type]NORTH[roman type]. You can also turn back and go [bold type]UP[roman type] the ladders."

SSDGGateRoom is north of Sewer Tunnel. "[if unvisited]You step your feet out of the sewage water and onto a platform and are shocked as you see a highly futuristic gate right in front of you. It is closed and the doors are made out of a hard metal, so brute force won't work here. Maybe there's another way of getting in.[else if SSDGGateDoor is locked] Since the futursitic gate is locked, you can only go [bold type]SOUTH[roman type] from there back to the sewer tunnel.[else if SSDGGateDoor is unlocked] Since the futursitic gate is unlocked, you can either go [bold type]SOUTH[roman type] back to the sewer tunnel or go through the opened gate."
The printed name of SSDGGateRoom is "Gate Room".

Instead of going nowhere in SSDGGateRoom:
	say " [if SSDGGateDoor is locked]Since the futursitic gate is locked, you can only go [bold type]SOUTH[roman type] from there back to the sewer tunnel.[else if SSDGGateDoor is unlocked]Since the futursitic gate is unlocked, you can either go [bold type]SOUTH[roman type] back to the sewer tunnel or go through the opened gate."

SSDGGateDoor is a closed locked scenery door.
Understand "gate" and "futuristic gate" and "door"  as SSDGGateDoor.
The printed name of SSDGGateRoomDoor is "Futursitic Gate".

Instead of examining SSDGGateDoor:
	say "[if SSDGGateDoor is locked]This futuristic gate is sealed shut. What could possibly be behind there?[else if SSDGGateDoor is unlocked] The once thought to be impenetrable futuristic door has now been opened, granting you a view of some really cool cars in front of you."

Secret Self Driving Car Garage Central Room is a room.

SSDGGateDoor is north of SSDGGateRoom and south of Secret Self Driving Car Garage Central Room. 

LockTerminal is a switched off device in SSDGGateRoom. "A turned off computer by the gate with a screen with a green pixelated smiley face eyes you. On the sides of the computer, you see a logo which spells out 'Lock2000'".
The printed name of LockTerminal is "Lock2000".
Understand "Lock2000" and "computer" and "computer by gate" and "computer with smiley face" and "computer with green pixelated smiley face" as LockTerminal.

Instead of switching off LockTerminal:
	if LockTerminal is switched off:
		say "This device is already switched off."

Instead of switching on LockTerminal:
	if SSDGGateDoor is unlocked:
		say "No need to turn this on, the gate is already unlocked. Just enjoy the smiles it shows you while it's turned off.";
	else:
		say "The smiley face goes away and a loading bar appears to show it booting up. Then a prompt appears. [paragraph break][bold type]Please type in the passcode below[roman type].";
		now the LockTerminal is switched on.
	
BinaryPasscode is a text that varies.

After reading a command when the LockTerminal is switched on:
	now BinaryPasscode is the player's command;
	if BinaryPasscode is "1010":
		say "Success! You now have access to the self driving car garage. Shutting down... [paragraph break][italic type]RUmble rUmble rumble[roman type]... The gate's latches start to detach and slowly open up. Once it opens up, you get a view of some really cool cars on the other side.";
		now SSDGGateDoor is unlocked;
		now SSDGGateDoor is open; 
		now LockTerminal is switched off;
	else:
		say "Passcode failed. Please try again later. Shutting down...."; 
		now the LockTerminal is switched off;
	reject the player's command.


The description of Secret Self Driving Car Garage Central Room is "[if unvisited]You walk through the gate and down a narrow path which opens up into a futuristic garage. The narrow path broadens to become a driveway for the cool cars lined up on east side of the room. You notice that these cars are actually self-driving. Who would've thought UIUC was years beyond the tech companies in this research!. [paragraph break]You also see that the garage has two doors to rooms in the [bold type]NORTHEAST[roman type] and [bold type]NORTHWEST[roman type] and an opening to a more hands-on area with car parts in the [bold type]WEST[roman type]. To the [bold type]NORTH[roman type] you see a closed off garage door that the driveway flows into.[else if NorthGarageDoor is locked]You see the cars of the future in this futuristic room once again. From the central room, you can go [bold type]NORTH, NORTHWEST, NORTHEAST, and WEST[roman type] to other areas in this garage.[else if NorthGarageDoor is unlocked]You see the cars of the future in this futuristic room once again. From the central room, you can go [bold type]NORTHWEST, NORTHEAST, and WEST[roman type] to other areas in this garage."

NorthGarageDoor is a scenery closed locked door.
Understand "North garage door" and "garage door" as NorthGarageDoor.
The printed name of NorthGarageDoor is "North Garage Door".

NorthGarageDoor is north of Secret Self Driving Car Garage Central Room and south of NorthGarageRamp.
The printed name of NorthGarageRamp is "North Garage Ramp".

Instead of examining NorthGarageDoor:
	say "You see a self driving car on the other side that looks way more high tech than the rest in the central room."

SelfDrivingCars are scenery in Secret Self Driving Car Garage Central Room.
Understand "self driving cars" and "cars" and "self-driving cars" as SelfDrivingCars.
The printed name of SelfDrivingCars is "Self Driving Cars".

Instead of examining SelfDrivingCars:
	say "You look at the self driving cars and notice quite the variety. Some are made to deliver food, while others are made to deliver medical supplies. You're beyond excited for the future of automobiles."
	
SSGDTasksCompleted is a number variable. SSGDTasksCompleted is 0.

SSGDResearchHead is a person in the Secret Self Driving Car Garage Central Room. "[if SSGDTasksCompleted is less than 3]You see a man in a labcoat who looks very worried.[else]After all your work, the research head looks calm."
Understand "Research Head" and "Head" and "Man in labcoat" and "Man in a labcoat" as SSGDResearchHead.
The printed name of SSGDResearchHead is "Research Head".

Instead of examining SSGDResearchHead:
	say "[if SSGDTasksCompleted is less than 3]You get a closer look at the research head, and he is sweating like crazy! He must be beyond stressed.[else]Unlike before he is no longer sweating and is as calm as ever."
	
ResearchHeadSpokenTo is a truth state variable. ResearchHeadSpokenTo is false.

Instead of talking to SSGDResearchHead:
	if SSGDTasksCompleted is less than 3 and ResearchHeadSpokenTo is false:
		say "The nervous man turns to you and begs you for your help and reveals himself as the research head. He mentions how he's almost done building their final self driving car. In fact, it's their best one yet. Unfortunetly, there was a power outage that prevented the last line of code from being written. He asks you to help the research divisions throughout the garage to see if you can solve this problem.";
		now ResearchHeadSpokenTo is true;
	else if SSGDTasksCompleted is less than 3 and ResearchHeadSpokenTo is true:
		say "Please help me.. My life's work.";
	else if SSGDTasksCompleted is greater than 2 and ResearchHeadSpokenTo is true:
		say "Thanks for all the help, now I can rest but not after finally testing our latest self-driving car that can create wormholes and drive people through space and time! Since you helped us this much, it would only make sense for you to be our first candidate to test this! Here, let me unlock the north garage door for you!";
		now the NorthGarageDoor is unlocked;
		now the NorthGarageDoor is open.
		
Physical Hardware Room is west of Secret Self Driving Car Garage Central Room. "[if unvisited]Upon entering you see a sign that says 'Physical Hardware Room: Only ME Research Students Allowed'. This open room, that is directly connected the central room you see lots of car parts scattered about that were used to build the self driving cars. There are a lot of ME research students cleaning up the supplies since the actual physical hardware of the cars is done. You can go back to the central room by going [bold type]EAST[roman type].[else]This open room, that is directly connected the central room you see lots of car parts scattered about that were used to build the self driving cars. There are a lot of ME research students cleaning up the supplies since the actual physical hardware of the cars is done. You can go back to the central room by going [bold type]EAST[roman type]."

SSGDMEStudents are scenery in the Physical Hardware Room. 
Understand "ME research students" and "ME students" and "Mechanical Engineering Students" as SSGDMEStudents.
The printed name of SSGDMEStudents is "ME students". 

Instead of examining SSGDMEStudents:
	say "They're cleaning up the supplies at a rapid pace, moving tires and engine pistons back in their place."

Instead of talking to SSGDMEStudents:
	say "They're too busy cleaning up"
	
SSDGTable is a scenery supporter in Physical Hardware Room. 
Understand "Table" as SSDGTable.
The printed name of SSDGTable is "Table".

SSDGWires are a thing on SSDGTable. "Some unused wires are on a table near the front of the room, nobody would know if you took them due to how busy the ME students are."
Understand "wires" and "unused wires" as SSDGWires.
The printed name of SSDGWires is "wires".

Instead of examining SSDGWires:
	say "These could help people who specialize in electrical components."

SSGDNEDoor is a closed scenery openable door. SSGDNEDoor is southeast of AI Lab and northwest of Secret Self Driving Car Garage Central Room.
Understand "northeast door" as SSGDNEDoor.
The printed name of SSGDNEDoor is "Northeast Door".

SSGDNWDoor is a closed scenery openable door. SSGDNWDoor is southwest of Electrical Hardware Room and northeast of Secret Self Driving Car Garage Central Room.
Understand "northwest door" as SSGDNWDoor.
The printed name of SSGDNWDoor is "Northwest Door".

The description of Electrical Hardware Room is "[if unvisited]Upon entering you see a sign that says 'Electrical Hardware Room: Only ECE Research Students Allowed'. Throughout the room, you see circuit boards and circuit diagrams with derivations of Kirchhoff's Law all over the floor. From here you can go back [bold type]SOUTHWEST[roman type] to the central room.[else] Throughout the room, you see circuit boards and circuit diagrams with derivations of Kirchhoff's Law all over the floor. From here you can go back [bold type]SOUTHWEST[roman type] to the central room."

SSDGEEStudent is a person inside Electrical Hardware Room. "[if ECEStudentCalm is false]You see an ECE student frantically looking through the circuit boards on the floor. [else] You see an ECE student relaxing."
Understand "ECE Student" and "ECE Research Student" as SSDGEEStudent.
The printed name of SSDGEEStudent is "ECE Student".

ECEStudentSpokenTo is a truth state variable. ECEStudentSpokenTo is false.
ECEStudentCalm is a truth state variable. ECEStudentCalm is false.

Instead of examining SSDGEEStudent: 
	if ECEStudentCalm is false:
		say "You see the ECE student rummaging through the circuit boards on the ground.";
	else:
		say "The ECE student is taking deep breathes in relief."
		
Instead of talking to SSDGEEStudent:
	if ECEStudentSpokenTo is false:
		say "The ECE student tells you about the power outage and says he is looking for a set of wires that would help restore power to the computer in the AI lab, however he can't find any wires in his own room. Any help would be greatly appreciated.";
		now ECEStudentSpokenTo is true;
	else if ECEStudentSpokenTo is True and ECEStudentCalm is false:
		say "Let me know if you find the wires, it would be greatly appreciated.";
	else if ECEStudentSpokenTo is True and ECEStudentCalm is True:
		say "Thanks for the help!".
		
WorkingPowerSupply is an undescribed thing. 
Understand "power supply" and "working power supply" as WorkingPowerSupply.
The printed name of WorkingPowerSupply is "working power supply"

Instead of giving SSDGWires to SSDGEEStudent:
	say "The ECE student grabs the wires and quickly crafts a power supply that has just enough for the CS research student to finish their AI code. He gives you the power supply.";
	now the player has WorkingPowerSupply;
	now ECEStudentCalm is true.
	
The description of AI Lab is "[if unvisited]Upon entering you see a sign that says 'AI Lab: Only CS Research Students Allowed'. You see a big monitor with a keyboard, but no other remarkable objects in the room. From here, you can go [bold type]SOUTHEAST[roman type] back to the central room.[else]You see a big monitor with a keyboard, but no other remarkable objects in the room. From here, you can go [bold type]SOUTHEAST[roman type] back to the central room."

AILabMonitor is a scenery object in AI Lab.
Understand "big monitor" and "monitor" as AILabMonitor.
The printed name of AILabMonitor is "big monitor".

CsStudentSpokenTo is a truth state variable. CsStudentSpokenTo is false. 
CsStudentCalm is a truth state variable. CsStudentCalm is false.

SSDGCSStudent is a person inside the AI Lab. "[if CsStudentCalm is false]You see a devastated CS student. [else]The CS student is happy once again."
Understand "CS research student" and "CS student" and "devastated CS student" as SSDGCSStudent. 
The printed name of SSDGCSStudent is "CS student".

Instead of examining SSDGCSStudent:
	if CsStudentCalm is false:
		say "You see tears rolling down their face.";
	else:
		say "They are as happy or relieved as they are when they solve MPs."

Instead of talking to SSDGCSStudent:
	if CsStudentSpokenTo is false:
		say "The CS student begs for your help, saying he was really close to finishing the AI for their latest self driving car, but the power outage prevented him from being able to do so. He would love if you could help him find some sort of power supply so can finish and push his code.";
		now CsStudentSpokenTo is true;
	else if CsStudentSpokenTo is True and CsStudentCalm is false:
		say  "If you ever find a power supply let me know.";
	else if CsStudentSpokenTo is True and CsStudentCalm is true:
		say "Thanks for the help! You should talk to the research head now!".

Instead of giving WorkingPowerSupply to SSDGCSStudent:
	say "The student quickly fixes the power supply into the PC and finishes the code he was working on and pushes it to the self driving car's own github because that's a thing now?";
	now SSDGCSStudent has WorkingPowerSupply;
	now CsStudentCalm is true;
	now SSGDTasksCompleted is 3.
	
The description of NorthGarageRamp is "This area is used quite frequently to test the 0-60 of the self driving cars and acts as an exit to the surface."

Instead of going North in Secret Self Driving Car Garage Central Room:
	if NorthGarageDoor is locked:
		say "The North Garage Door is locked.";
	else: 
		if SelfDriveSpace is not Completed:
			say "You then cross the garage door and enter the self driving car. You fasten your seat belt and start up the car and a menu pops up showing different planets. You select your favorite exoplanet, the car spawns a whirpool and accelerates to lightspeed in the whirpool up the ramp. Who knows where you adventures will take you next?";
			now SelfDriveSpace is Completed;
			now CurrentEnding is SelfDriveSpace; 
			End the Journey;
		else:
			say "One trip to space is probably enough for a student.". 


VOLUME 9 - NORTHEAST CAMPUS

BOOK 1 - REGIONS

NorthEastCampusOutdoor is a region.  

IllinoisStreetNeighborhood is an OutdoorRegion in NorthEastCampusOutdoor. Wesley United Methodist Church and Etc Coffeehouse and Illinois Street Residence Halls and Wardall Hall and GreenAndGoodwin and ISRParkingLot and School of Nursing and Burrill Hall and Goodwin Apartments and Medical College and Chemistry Building are in IllinoisStreetNeighborhood.

NuclearNeighborhood is an OutdoorRegion in NorthEastCampusOutdoor.
Campbell Hall and Ceramics Building and NortheastParking and Loomis Lab are in NuclearNeighborhood.

NorthEastCampusIndoor is a region.

LoomisMap is an IndoorRegion in NorthEastCampusIndoor.
 LoomisLabInterior and Loomis Auditorium are in LoomisMap.

ISRMap is an IndoorRegion in NorthEastCampusIndoor.
ISRInterior and ISRDiningHall and chomps are in ISRMap.

NukeMap is an IndoorRegion in NorthEastCampusIndoor.
and NuclearLabInterior and Dark Parlor are in NukeMap.

CampbellMap is an IndoorRegion in NorthEastCampusIndoor.
CampbellHallInterior, North Campbell Hall, Bathroom CH, New World, Uncharted Location are in CampbellMap.

BOOK 2 - OUT of DOORS

PART 1 - ROOMS

GreenMatthewsStreet is north of Natural History Building and south of Materials Science and west of Etc Coffeehouse. "You are at the intersection of Green and Matthews Streets. Green Street marks the invisible boundary between North and South campus. The Illini Union Circle Drive is to the [bold type]west[roman type]. Wesley United Methodist Church lies tfo the [bold type]east[roman type]. The entrance to the Natural History Building is to the [bold type]south[roman type].  You can cross Green Street to the [bold type]north[roman type].[paragraph break]You can start to smell the faint aroma of food further [bold type]east[roman type]..."
The printed name of GreenMatthewsStreet is "The Intersection at Green and Matthews".

Instead of going nowhere when player is in the GreenMatthewsStreet:
	say "There is a fence to keep you out of the construction to the South.  You may want to keep following the sidewalk [bold type]east[roman type], as the most pleasant direction from here."

Etc Coffeehouse is a room. "You are standing outside the Etc Coffeehouse. The door is closed, and there's no one around. Looks like you'll have to find coffee elsewhere."

Burrill Hall is east of Harker Hall and north of Medical College. "This building is closed for renovation. You can go [bold type]west[roman type] towards Harker Hall and the Quad, [bold type]east[roman type] to the School of Nursing or [bold type]south[roman type] to the old Medical College."

School of Nursing is east of Burrill Hall and north of Chemistry Building.  "This building is closed for renovation. You can go [bold type]west[roman type] to Burrill Hall or [bold type]south[roman type] to Chemistry Building."

Wardall Hall is north of Levis Faculty Center and south of Illinois Street Residence Halls. "You are outside of Wardall Hall. Since this isn't your dorm, you can't get in. You can go [bold type]south[roman type] to Levis Faculty Center, and [bold type]north[roman type] to Illinois Street Residence Halls."

Wesley United Methodist Church is east of Natural History Building and south of Etc Coffeehouse and north of Burrill Hall. "You are standing outside of Wesley United Methodist Church. You can go most directions from here, except the ones you can't." 

Instead of going nowhere when player is in the Wesley United Methodist Church:
	say "You can't go that way at the moment. Maybe someday...." 

GreenAndGoodwin is east of Wesley United Methodist Church and north of School of Nursing.  "Suddenly campus feels less woody and more urban. Across Green street to the [bold type]north[roman type] is Loomis Labs. The Methodist Church is to the [bold type]west[roman type] and Goodwin Apartments to the [bold type]east[roman type]."

The printed name of GreenAndGoodwin is "Intersection at Green and Goodwin."

Goodwin Apartments is east of GreenAndGoodwin and west of Illinois Street Residence Halls. "Across the apartment parking lot to the [bold type]east[roman type], you can smell a delicious aroma coming from the ISR dorm.  You can return [bold type]west[roman type] to Intersection at Green and Goodwin, or you can continue [bold type]south[roman type] to the ISR parking lot."

Instead of going nowhere when player is in the Goodwin Apartments:
	say "No need to cross Green Street or go into the apartments."

ISRParkingLot is north of North Entrance to Krannert and east of nursing school and south of Goodwin Apartments and west of Wardall Hall.  "The smell must be coming from a nearby dorm's dining hall.  ISR is to the [bold type]northeast[roman type]. Wardall Hall is to the [bold type]east[roman type] and Krannert Center for Performing Arts is to the [bold type]south[roman type]."

The printed name of ISRParkingLot is "ISR Parking Lot".

Instead of going nowhere when player is in the ISRParkingLot:
	say "You are nearly at ISR."

Illinois Street Residence Halls is northeast of ISRParkingLot. "The smell of food makes your mouth water.  You can go[bold type] in [roman type]to the Illinois Street Residence Halls from here, or else go [bold type]west[roman type] towards Goodwin Apartments or [bold type]south[roman type] towards Krannert. The parking lot is to the [bold type]southwest[roman type]."

Instead of going nowhere when player is in Illinois Street Residence Halls:
	say "You are much too hungry not to go [bold type]north[roman type] into ISR."

Understand "ISR" as Illinois Street Residence Halls

Ceramics Building is east of the Transportation building. "The Ceramics Building is here. You can go [bold type]south[roman type] to the Nuclear Lab, or [bold type]west[roman type] to the Transportation Building. If you go[bold type] in [roman type]to the Ceramics Building maybe they will let you fire the coil pot you made in Middle School."

Engineering Sciences Building is north of Ceramics Building and east of NorthwestParking. "How many engineering buildings does one University need? Ah, nevertheless there's of course more parking to the [bold type]west[roman type], and artistic clay slapping heard to the [bold type]south[roman type]."

NorthwestParking is north of Transportation building and east of GraingerCourtyard. "The parking lot is full of cars and trucks, but on campus driving is definitely slower than running. You can go any direction from here."

Transportation building is a room. "You've walked by this building a hundred times, and you still don't know why it's called that. You can go in most directions from here."

The printed name of NorthwestParking is "Parking Lot".

Nuclear Lab is south of Ceramics Building and east of Mechanical Engineering Building and west of Loomis Lab. "You are walking past the Nuclear Radiations Lab, which you can [bold type]enter [roman type]from here. Something about that name has always made you a little nervous. The Ceramics Building is to to the [bold type]north[roman type], Loomis Lab is to the [bold type]east[roman type], the Mechanical Engineering Building is due [bold type]west[roman type], and you can cross Green Street here to the [bold type]south[roman type]."
The printed name of Nuclear Lab is "Nuclear Radiations Lab".

Loomis Lab is east of Nuclear Lab and north of Goodwin Apartments. "You are at the Loomis Laboratory of Physics. You can go[bold type] in [roman type]to the lab, or go [bold type]west[roman type] to the Nuclear Radiations Lab, or [bold type]southeast[roman type] to the Illinois Street Residence Halls."

The printed name of Loomis Lab is "Loomis Laboratory of Physics".


PART 2 - CURIOSITIES

BOOK 3 - INDOOR MAPS

PART 1 - ILLINOIS STREET RESIDENCE HALL

Discarded Fast Food Wrapper is an object in ISRParkingLot. "A Taco Bell wrapper lies crumpled and stepped on in a puddle towards the edge of the parking lot, not ten feet away from a garbage can."

The printed name of Discarded Fast Food Wrapper is "Taco Bell Wrapper".
instead of examining Discarded Fast food Wrapper:
	say "What once held the tasty goodness of a Cheesy Gordita Crunch, now disheveled and cold, the wrap deserves a rightful and respectful burial."

IllinoisStreetResidences is a RoomProxy. IllinoisStreetResidences is in Illinois Street Residence Halls.
The printed name of IllinoisStreetResidences is "Illinois Street Residence Halls".
Understand "ISR" and "Illinois Street Residence Halls" as IllinoisStreetResidences.

ISRInterior is an interior location. "The Dining Hall is to the [bold type]north[roman type], you can go [bold type]down[roman type] to Chomps, or you can go [bold type]out[roman type] of the Residence Hall from here."
The printed name of ISRInterior is "ISR Lobby".
ISRInterior is inside of Illinois Street Residence Halls

ISRDiningHall is a room.  "[if unvisited]You enter the dining hall and you see many tables.  Luckily there is an empty round table that has just been vacated. You take the opportunity and have a seat.[else]You are in the ISR dining hall. You can leave to the [bold type]south[roman type]."

ISRDiningHall is north of ISRInterior.

used tissue is scenery in ISRDiningHall.
The description of used tissue is "It is exactly what it sounds like."

your sleeve is scenery in ISRDiningHall.
The description of your sleeve is "Whenever you're eating at ISR, you suddenly become aware that you have a sleeve."

buffet line is scenery in the ISRDiningHall.

The description of buffet line is "The line for the delicious smelling food is all the way
out the door!"

Understand "line" and "buffet line" as buffet line.

dining tables are supporters in the ISRDiningHall.

The description of dining tables is "There are some napkins, salt, and pepper at every table."

Empty Round Table is a scenery supporter in the ISRDiningHall.
Description of empty round table is "It's almost, but not quite clean."

Instead of examining empty round table:
	say "For some reason there is a locked chest on this table. Weird. There is also a salt shaker and a plate of mac and cheese."

Locked Chest is a lockable, locked, closed scenery container on the Empty Round Table. 

The description of the Locked Chest is "It won't budge.  There's a lock with a keyhole on it though."

salt shaker is a closed, openable scenery container on empty round table.

Understand "salt" and "glisten" and "glistening thing" as salt shaker.

The description of the salt shaker is "You can see something glisten at the bottom of the salt shaker."

instead of opening salt shaker:
	say "You open the salt shaker and dump the salt out on the table. Sitting on top of the little white sand dune is a key. A very salty key.";
	now player has the salty key;
	now saltdune is on empty round table;
	now salt shaker is open;
	now the description of salt shaker is "The salt shaker is empty. The salt has become a dune on the table."

saltdune is an edible thing.
The description of saltdune is "You've made a mess on the table. You should probably stop playing with it now."

Understand "salt dune" and "dune" and "dune of salt" and "little white sand dune" as saltdune.
The printed name of saltdune is "a dune of salt".

salty key is in the salt shaker.

The salty key unlocks the Locked Chest.

The description of the salty key is "This key looks like it could fit the chest."

MacNCheese is edible scenery on Empty Round Table.
The printed name of MacNCheese is "mac and cheese".
Understand "mac" and "mac and cheese" and "Mac n cheese" and "plate of mac and cheese" as MacNCheese

The description of MacNCheese is "[one of]You're so hungry you filled up a whole plate with Mac and Cheese.  Are you going to salt it?[or]It's not exactly like the kind your mom used to make.[or]Don't look at it too closely.[stopping]"

Instead of eating MacNCheese :
	say "You are so hungry that as you rapidly stuff the mac into your face-hole, you stab your eye with your fork.  It doesn't hurt that bad so you just leave it there and get another fork.";
	now MacNCheese is nowhere.


At 9:20 AM:
	if player is in ISRDiningHall:
		say "A massive fire erupts from the kitchen!  There are too many people in the way trying to get out! You burn to death like a crispy piece of bacon."


MacTaken is a truth state variable.  MacTaken is false.

Instead of taking MacNCheese:
	say "This Mac and Cheese is so good you stick some in your pocket for later.  However, now your pants are all gross.";
	if MacTaken is false:
		now MacTaken is true;
		continue the action.

Gameboy is a device in the Locked Chest.

Instead of switching on Gameboy:
	say "You switch on the Gameboy and hear the familiar 'ding' from your childhood."

Some hungry students are people in the ISRDiningHall.
understand "kids" and "kid" and "hungry student" and "student" as hungry students.

The description of the hungry students is "There are many other students minding their own business and scarfing down their food before their next classes."
Instead of examining hungry students:
	say "They're just minding their own business eating their meal."
Instead of giving something to hungry students:
	say "They're eating, why don't you just leave them be."
Instead of talking to hungry students:
	say "They don't want to talk to you."
Instead of asking hungry students about [something]:
	say "Every student's mouth is too full to talk."
Instead of attacking hungry students:
	say "The student looks up at you in anger and surprise and they spit their food at you."
The table-wiper is a man in the ISRDiningHall.  "The student dining employee is wiping tables in the dining hall."
The description of the card swiper is "His nametag reads 'Paul'.  He doesn't seem to enjoy his job very much."
Instead of giving something to table-wiper:
	say "Paul has his hands full with a bucket of hot water and a rag."
Instead of talking to table-wiper:
	say "Paul has his headphones in so he can do his job without talking to you."
Instead of asking table-wiper about [something]:
	say "Paul has his headphones in and didn't hear you."
Instead of attacking table-wiper:
	say "Paul calls you a horrible name, throws down his bucket and rag, and stomps off."
A thing can be examined or unexamined. A thing is usually unexamined.
Understand "Paul" as table-wiper.
The table-wiper is carrying a bucket. The description of the bucket is "The red bucket is full of hot water."
The table-wiper is wearing a UIUC Dining shirt. The description of a UIUC Dining shirt is "It's an orange polo that says UIUC Dining on it."
Instead of examining table-wiper:
	say "His name is Paul, according to his nametag.";
	if table-wiper carries something:
		say "He is carrying [a list of things carried by table-wiper].";
	if table-wiper is wearing something:
		say "He is wearing [a list of things worn by the table-wiper]."
Instead of taking bucket:
	if table-wiper is holding bucket:
		say "You attempt to grab the bucket out of Paul's hand.  He gives you a funny look and says, 'F*** this job anyway' and gives it to you.";
		now player has the bucket.

Every turn when player is in Illinois Street:
	if a random chance of 1 in 50 succeeds:
		choose a random row in the Table of MacRandom Events;
		say "Woah! You suddenly feel faint and you see visions of [event entry][line break]"

Table of MacRandom Events
event
"yourself swimming in a pool of Mac n cheese."
"death and destruction everywhere."
"yourself breaking out in song with everyone in the Quad."
"yourself crying in the bathroom stall."

ISRDog is an animal in the ISRDiningHall.
Understand "dog" and "puppy" as ISRDog.
The description of ISRDog is "This dog is so cute and fluffy!  He's such a good boy, maybe you should give him a treat!"
The printed name of ISRDog is "Illinois Street Residence Halls Service Dog".

Instead of examining ISRDog:
	say "It's a black lab with an orange Service Dog vest. He looks like a very good boy."

Instead of giving something to ISRDog:
	say "This dog has no hands.  It can't take anything."

Instead of talking to ISRDog:
	say "It can't understand the language you are speaking."

Instead of asking ISRDog about "Who's a good boy":
	say "The dog snuggles up to you."

Instead of attacking ISRDog:
	say "Bad move. A student screams at you for trying to hit the dog. Security has been called. Better get out of there.";
	now ISRDog is nowhere.

amanda is a person in ISRInterior. "Amanda, your fellow student and friend, is studying nearby.".

instead of examining amanda:
	choose a random row in the table of amanda things;
	say "Amanda is studying engineering, but she has an interest in linguistics and artsy things too. ";
	if amanda is carrying something:
		say "She is carrying [a list of things carried by amanda][paragraph break] ";
	if amanda is wearing something:
		say "She is wearing [a list of things worn by amanda]. ";
	say "She is [event entry]."

table of amanda things
event
"tinkering with some circuitry"
"reading Spanish poetry"
"writing Interactive Fiction"
"making chipmunk faces"
"rolling around on the floor"
"kinda sorta studying"
"vocalizing expiring ducks"

beanie of insulation is a wearable thing. "beanie".
beanie of insulation is worn by amanda.

sneakers of kicking people in the shin is a wearable thing. "sneakers".
sneakers of kicking people in the shin is worn by amanda.

chomps is down from ISRInterior. "You are in Chomps, a tiny convenience store. There's not much for sale that you could stand to eat. The only direction you can go from here is [bold type]up[roman type]. "


a cosplay sword is a weapon. "Your trusty sword lies by your door.".
the description of cosplay sword is "[if unexamined]This sword has been with you for the past couple years of your college career, and has been essential for overcoming the perils of higher education.[end if] It is worn, but still sharp.".


amanda is carrying a cosplay sword.
amanda is carrying an oversized key.

orange juice is an edible, drinkable noncoffee-beverage ware in chomps. "The Orange Juice on the shelf is expired.".
understand "oj" as orange juice.
the price of orange juice is $2.00. 

the description of orange juice is "Delicious and packed with vitamin C.".

instead of drinking orange juice:
	say "It tasted okay, but your stomach feels queasy."
	
Instead of talking to Amanda:
	if Amanda has cosplay sword:
		say "Amanda hands you your cosplay sword. You asked her to watch it for you while you took a test, so as not to intimidate your TA. She hands you a small golden key as well.[paragraph break]'I couldn't find anything to unlock with this.' she says. 'Maybe you'll have better luck.'";
		now player has cosplay sword;
		now player has oversized key;
		stop the action;
	else:
		say "Amanda is too busy to talk to you right now. You know how she gets when she's studying.";
		stop the action.

Instead of interrogating Amanda about cosplay sword for the first time:
	say "Amanda smiles in a friendly way. 'I know you love your cosplay sword, but I've been working on something better. I'm just having trouble with its power supply. It's a project for my engineering class. I left it in the bathroom at the Red Herring.  Can you go get it? I'll let you play with it if I can make it work. You tell her that you'll swing by the Red Herring restaurant later and take a look."

Instead of interrogating Amanda about stick of hotness:
	say "Redstone?' Amanda laughs. 'Who knew that was a real thing. But if it works, I'll take the A. Sure, you can  use it today. Have fun, and don't destroy anything.'"

Instead of asking Amanda about something:
	say "She's not interested in that. Why not try asking her about the cosplay sword?"

Instead of interrogating Amanda about something:
	say "She appears to be ignoring you. Better ask her about something she finds interesting."

turkeysandwich is an edible ware in chomps. "The sandwich smells okay. Wouldn't it smell bad if the meat was off?".

the price of turkeysandwich is $5.00.
the description of turkeysandwich is "It's got turkey, tomatoes, and lettuce."
Understand "sandwich" and "turkey sandwich" as turkeysandwich.
the printed name of turkeysandwich is "turkey sandwich".

saltypretzels are an edible ware in chomps. "Pretzels are the only salty snacks left on the shelf."

the price of saltypretzels is $1.00.
The description of saltypretzels is "They're honey mustard flavored.".

understand "pretzels" and "pretzel" as saltypretzels.
the printed name of saltypretzels is "pretzels."

PART 2 -  LOOMIS LAB

LoomisLabInterior is an Interior Location. "You can go [bold type]out[roman type] of the building from here, or go [bold type]down[roman type] to the Loomis Auditorium."
The printed name of LoomisLabInterior is "Loomis Lab Entrance".
LoomisLabInterior is inside from Loomis Lab.
LoomisLab is a roomproxy in Loomis Lab.
Understand "Loomis" and "Loomis Lab" and "Physics Building" and "Loomis Laboratory" and "Loomis Laboratory of Physics" as LoomisLab.
The printed name of LoomisLab is "Loomis Laboratory of Physics".

Loomis Auditorium is down from LoomisLabInterior. "You are in the Loomis Auditorium. You can go back [bold type]up[roman type] to the main hall of Loomis Lab."
LoomisChest is a lockable, locked, openable, closed container. "A treasure chest sits nearby."
Understand "treasure chest" and "chest" as LoomisChest.
LoomisChest is fixed in place.

LoomisChest is in LoomislabInterior.

The description of loomischest is "It's a treasure chest."
The printed name of LoomisChest is "treasure chest".

an oversized key unlocks LoomisChest.
the description of an oversized key is "An oversized key that your physics professor gave you. You asked Amanda to keep it safe for you".

band of electricity is a wearable device in loomischest.
The description of band of electricity is "It's an electric blue wristband with a button.".
band of electricity is switched off.

top of auditorium is a supporter in loomis auditorium.
top of auditorium is scenery.
understand "desks" and "chairs" as top of auditorium.
The description of top of auditorium is "Out of the corner of your eye you notice that the desks and chairs can be climbed.".
top of auditorium can be climbed.

battery is a thing in loomis auditorium. battery is scenery.
the description of battery is "A super-charged battery filled with the soul of a electromagnetic titan.".


titan is a monster in loomis auditorium. "[if Titan is not dead]You are at the top of the auditorium, and below the many chairs and desks, there is an enormous Titan in armor standing at the bottom. Lightning crackles from his mighty hands.[else]The body of a Titan has fallen across several dozen desks and chairs.".

instead of examining titan:
	if titan is dead:
		say "As you go to examine the corpse, it disappears, and all that is left of the titan is a battery. You pick it up and put in your inventory.";
		now player has battery;
		now titan is nowhere;
	else:
		if player is wearing band of electricity:
			say "As you stand there examining the titan, he puts out his hand and shoots lightning towards you, but when you put up your hand, to block, you absorb the electricity with your arm! You feel it move into the rest of your body.";
			if player is carrying sword:
				say "Your sword starts to crackle with electromagnetic forces!";
				now sword is electrified;
		else:
			if a random chance of 1 in  4 succeeds:
				say "As you stand there examining at the titan, he shoots lightning at you from his hands, and you get roasted!";
				decrease hp of player by 20;
			else:
				say "As you stand there examining at the titan, he shoots lightning at you from his hands, but you roll out of the way just in time!".



instead of unlocking loomischest with [something]:
	if loomischest is unlocked:
		say "The chest is already unlocked.";
		stop the action;
	else:
		if second noun is not oversized key:
			say "You fail to unlock the chest.";
			stop the action;
		else:
			say "The key is magnetically drawn to the keyhole and it slips in easily. The chest slowly opens.";
			now the LoomisChest is unlocked;
			now the LoomisChest is open;
			stop the action.

instead of switching on band of electricity:
	if player is wearing band of electricity:
		say "Bolts of electricity suddenly shoot from the bracelet to your wrist, and you receive a painful shocking sensation throughout your body. You lose 10 hp. However, your hands feel electrified.";
		decrease hp of player by 10;
		now band of electricity is switched on;
	else:
		say "Bolts of electricity crackle randomly within the band circle for a few seconds, and turns off again.";
		now band of electricity is switched off.

instead of weaponattacking Amanda:
	say "You think about attacking Amanda, but you remember how she helped you band aid your boo boo yesterday, so you decide that it wouldn't be very good of you to attack a friend like that.";
	stop the action.

instead of weaponattacking loomischest:
	say "The chest is totally and completely indestructible.";
	stop the action.

instead of weaponattacking titan:
	if the second noun is sword:
		[if the sword is electrified:
			if the player is on top of auditorium:
				let damage be a random number from 200 to 300;
				decrease hp of titan by damage;
				say "You take a mighty leap down from the top of the auditorium, jumping and putting all your weight into a downward swing with your sword! Your sword is also magnetically attracted to the titan's armor so your slash is pulled inward with a greater force! You do [damage] damage.[if hp of titan is less than 1] You slice him clean in half!";
				let damage be a random number from 100 to 200;
				decrease hp of titan by damage;
				say "You charge the titan with your sword! Your magnetically charged sword is strongly attracted to his armor, and you come flying towards him, and you give him a good stab! You do [damage] damage.[if hp of titan is less than 1] You hit him right in the chest, and he dies!";]
		let damage be a random number from 50 to 100;
		decrease hp of titan by damage;
		say "You charge the titan with your sword! You swing at him with all your might. You do [damage] damage. [if hp of titan is less than 1] You finally catch him off guard and take him down.";
		if hp of titan is less than 1:
			now titan is dead;
			say "Congrats. You killed the monster. More to come.";
		else:
			say "You try to attack him with [second noun], but it does nothing.";
	else:
		say "No, just no. Go get yourself a weapon."

instead of attacking titan:
	say "You run up to the titan to attack him with your bare hands. You give the titan a nice slap on the thigh. He is uncomfortable and socks you right in the face. You lose 20 hp. Try attacking with a weapon.";
	decrease hp of player by 20;

instead of attacking amanda:
	say "You ask Amanda to engage in fisticuffs with you. For some reason she declines your challenge.";
	stop the action.

people have a number called hp. the hp of a person is usually 100.
people have a number called hpmax. the hpmax of a person is usually 100.

every turn when player is in loomis Auditorium:
	if hp of player is less than 0:
		say "You dead.";
		now hp of player is 100;
		now hp of titan is 100;
		now TitanicDefeat is completed;
		now CurrentEnding is TitanicDefeat;
		End the Journey.

titan has hp 500.
titan has hpmax 500.

PART 3 - NUCLEAR LAB

NuclearLabInterior is an Interior Location.  "You are standing inside the Nuclear Lab. You can go [bold type]out[roman type] of the building from here. [if YangFable is false]There is a strange, shimmering black patch on the floor. Upon closer inspection you decide that it looks exactly like what a rift in the space-time continuum would look like. Go [bold type]down[roman type] if you are feeling adventurous or go [bold type]out[roman type] to get away from it."
The printed name of NuclearLabInterior is "Nuclear Radiations Lab Entrance".

NuclearLabInterior is inside from Nuclear Lab.
NuclearLab is a RoomProxy in Nuclear Lab. Understand "Nuclear Lab" and "Nuclear Laboratory" and "Nuclear Radiations Lab" as NuclearLab.

Instead of going down from NuclearLabInterior when DestroyedWorld is completed:
	say "You consider entering the rift in space-time, but considering what happened last time, you think better of it.";
	stop the action.

Instead of going down from NuclearLabInterior:
	say "You feel a sensation of extreme cold before losing consciousness. When you come to, you find that yourself somewhere else.";
	now player is in Dark Parlor;

Dark Parlor is down from NuclearLabInterior. "You are standing in a darkened room. The only furniture in the room is faded armchair.[if Julius is in the location] A dying man sits in the chair."

Every turn when the player is carrying the atomic bomb:
	say "Joseph, Leon, and Josip hover in a ghostly fashion before you."
	
UbiquitousGhosts are a backdrop. UbiquitousGhosts are everywhere.
The description of UbiquitousGhosts is "Ghosts are ghosts, in death as they were in life, evil or good."

Understand "ghost" and "ghosts" as UbiquitousGhosts.
The printed name of UbiquitousGhosts is "ghosts".

Understand "chair" as faded armchair.

Instead of going up from Dark Parlor:
	say "There are no ordinary exits from this room.";
	stop the action.

Instead of going nowhere from dark Parlor:
	try going up.

Julius is a man in Dark Parlor.
Instead of examining Julius:
	try talking to Julius.

Julius is scenery.
Understand "dying man" and "sorrowful man" and "man" and "Oppenheimer" and "Robert Oppenheimer" as Julius.

Faded armchair is a supporter in Dark Parlor. "The armchair is worn and doesn't look very comfortable."
Faded armchair is scenery.

Instead of talking to Julius for the first time:
	say "The man looks up at you with a grim smile and introduces himself, with a raspy voice, as Julius. He seems confused. You don't know how you know that he's dying, but it's clear to you that he is.";
	stop the action.

Instead of talking to Julius for the second time:
	say "Julius closes his eyes and says, 'I am Death, the destroyer of worlds.' [paragraph break]Un-huh. You look around for some way to get out of the room, but there don't seem to be any exits at all. The four corners of the room are shadowed, as if ghostly figures are standing there."

ghostly figures are scenery in Dark Parlor. "[if unexamined]They are too faint to be examined. They don't seem to be fully in the room. Yet.[else]Now you're not sure they were ever there."
Understand "corners" as ghostly figures.
Instead of asking Julius about something:
	try talking to Julius.

Instead of interrogating Julius about something:
	try talking to Julius.

Instead of attacking Julius:
	try talking to Julius.

Instead of talking to Julius for the third time:
	say "There is only one way out of this room. You'll have to make a choice of what to do with this.' He reaches under his chair and with difficulty holds out to you a heavy metal cylinder. When you refuse to take it, he laughs in an ugly, tragic way. 'I am dying, but I leave this in the world behind me. It's your now.'[paragraph break]Without fanfare, he disappears from the room, but the cylinder, now rests on the chair. You understand that it is an atomic bomb, and the sorrowful man was Julius Robert Oppenheimer.";
	now Julius is nowhere;
	now atomic bomb is on faded armchair.

an atomic bomb is a photogenic and scavengerhuntable device.  Understand "heavy metal cylinder" and "heavy cylinder" and "metal cylinder" and "cylinder" as atomic bomb.

Leon is a scenery man in Dark Parlor. 
The description of Leon is "He is a writer. But you can see from his eyes that he will do everything he wants to do."

Instead of talking to Leon for the first time:
	say "He asks you to give him the bomb.";
	increment TalkedToGhosts;
	stop the action.

Instead of talking to Leon:
	say "Leon does not want to chat. He looks like he's waiting for you to ASK him ABOUT something.";
	stop the action.

Instead of interrogating Leon about the Atomic bomb:
	say "Leon says, 'Give me the bomb, and I will give you a quick death in return. Please, consider what you would otherwise receive.'";
	increment TalkedToGhosts;
	stop the action.

Instead of interrogating Leon about Julius:
	say "Leon says, 'Julius is an honorable man, but he invented the bomb.'";
	stop the action.

Instead of interrogating Leon about Leon:
	say "Leon says, 'If they say I am monster, then I am one. If they say I'm a hero, I'm that too.'";
	stop the action.

Instead of interrogating Leon about Joseph:
	say "Leon looks afraid for a moment. 'If I'm a monster, then he is the devil.";
	stop the action.

Instead of interrogating Leon about Josip:
	say "Leon thinks about that for a moment. 'He is not my friend, but he is not my enemy either.'";
	stop the action.

Instead of interrogating Leon about something:
	say "Leon says, 'No more bulshit. Give me the bomb.'";
	stop the action.



Instead of giving something to Leon:
	if the noun is atomic bomb:
		say "Leon says, 'Spasibo, tovarishch!'[paragraph break]You give Leon Trotsky the bomb, but Stalin has him assassinated and takes possession of its atomic secrets. It doesn't end well.";
		now atomic bomb is nowhere;
		now DestroyedWorld is completed;
		now CurrentEnding is DestroyedWorld;
		End the Journey;
	else:
		say "Leon is growing impatient with your games";
		stop the action.

Joseph is a scenery man in Dark Parlor

Instead of examining Joseph for the first time:
	say "Joseph is smiling at you with such an air of intimacy that you feel somehow defiled.";
	stop the action.

Instead of examining Joseph:
	try talking to Joseph.

Instead of talking to Joseph for the first time:
	say "He asks you to give him the bomb.";
	increment TalkedToGhosts;
	stop the action.

Instead of talking to Joseph:
	say "He looks like he's waiting for you to ASK him ABOUT something.";
	stop the action.

Instead of interrogating Joseph about Julius:
	say "Joseph says, 'He was a true patriot.'";
	stop the action.

Instead of interrogating Joseph about Joseph:
	say "Joseph says, 'History will remember me as a hero!'";
	stop the action.

Instead of interrogating Joseph about Leon:
	say "Joseph says, 'He's the biggest S.O.B. in the world, but his followers are responsible for giving me power.";
	stop the action.

Instead of interrogating Joseph about Josip:
	say "Joseph says, 'Stupid puppet.'";
	stop the action.

Instead of interrogating Joseph about atomic bomb:
	increment TalkedToGhosts;
	say "Joseph says, 'You know what, I'm not going to force you like Josip or Leon would. Just give me the bomb, for the sake of the free world, for the sake of puppies and baseball, for liberty and justice for all. Trust me for God's sake!";
	increment TalkedToGhosts;
	stop the action.

Instead of interrogating Joseph about something:
	say "Joseph stands closer to you than he needs to. You can feel his breath on your face, and your skin crawls. You don't hear a word he says.";
	stop the action.

Instead of giving something to Joseph:
	if the noun is atomic bomb:
		say "Thank you! Thank you! Thank you! Now I can use this to kill all the commies![paragraph break]You die too because Joseph McCarthy judges you to be some kind of socialist anyway. Not that it matters because the Cold War becomes a real war when the first bomb is dropped.";
		now atomic bomb is nowhere;
		now DestroyedWorld is completed;
		now CurrentEnding is DestroyedWorld;
		End the Journey;
		stop the action.

Josip is a scenery man in Dark Parlor

Instead of examining Josip for the first time:
	say "Josip is in the corner smoking a cigar. He invites you to take a puff."

Havana cigar is a photogenic thing.
The description of Havana cigar is "It's a cigar from Havana, from back when they were legal to have, and quite desired."
Instead of smoking Havana cigar:
	say "You politely decline to puff on Josip's cigar since you know exactly where its been.";
	stop the action.

Josip is carrying a Havana cigar. 


Instead of examining Josip:
	try talking to Josip.

TalkedToGhosts is a number variable.

Instead of talking to Josip for the first time:
	say "He asks you to give him the bomb.";
	increment TalkedToGhosts;
	stop the action.

Instead of talking to Josip:
	say "He looks like he's waiting for you to ASK him ABOUT something.";
	stop the action.

Instead of interrogating Josip about the Atomic Bomb:
	say "Josip says, 'It is safe with me, and nowhere else. Who have I ever hurt except those traitors who threatened the state? I would only ever use it on my own people.'";
	increment TalkedToGhosts;
	stop the action.

Instead of interrogating Josip about Julius:
	say "Josip shrugs. 'If a cigar is there, you smoke it. If a brandy is there, you drink it.'";
	stop the action.

Instead of interrogating Josip about Josip:
	say "Over there is the right and over there is the left. They will kill each other until they are both dead. Only the middle will survive. You must give the power to me.";
	stop the action.

Instead of interrogating Josip about Leon:
	say "Josip says, 'You don't want to trust that monster. And behind him waiting is another monster.";
	stop the action.

Instead of interrogating Josip about Joseph:
	say "Josip says, 'Joseph is not my enemy. He even protected me from Leon. But I don't like how he smells, if you know what I mean.'";
	stop the action.

Instead of interrogating Josip about something:
	say "Josip is enjoying his cigar and pays you no attention.";
	stop the action.
	
Instead of giving something to Josip:
	if the noun is Atomic bomb:
		say "Josip is so pleased with you. He drinks a shot of plum brandy in your honor.[paragraph break]This wasn't the worst choice, but you died anyway, because Josip Broz Tito will never hesitate if it's safer to kill someone than keep them around. In the end, ethnic nationalists stole the bomb, dropped it on Sarajevo and started World War Three.";
		now atomic bomb is nowhere;
		now DestroyedWorld is completed;
		now CurrentEnding is DestroyedWorld;
		End the Journey;
	else:
		say "Josip is getting annoyed with you. You can tell by how he flicks his cigar ashes on your feet."


Instead of entering faded armchair:
	if Julius is in the location:
		say "Julius is still using his chair.";
		stop the action;
	if TalkedToGhosts < 6:
		say "You start to climb into the faded armchair but change your mind. You haven't finished your conversations yet. Have you talked to each of the ghosts, asking them about the bomb, and about each other?";
		stop the action;
	else if TalkedToGhosts > 5:
		say "You sit in Julius's arm chair with the atomic bomb in your lap, considering your choices. Is it possible to give it to no one? How can you keep it safe? All the weight that lay on Julius Robert Oppenheimer at this death has now been laid on you.[paragraph break]Just at that moment your phones ding in your pocket. You check your text messages. There's one from your friend Yang that says, 'It's only a fable. JUMP'[line break]";
		stop the action.

Instead of switching on atomic bomb:
	say "You settle into the armchair, preparing for a nice long nap. After taking a deep breath, you flip the switch[paragraph break]Boom!";
	now atomic bomb is nowhere;
	now DestroyedWorld is completed;
	now CurrentEnding is DestroyedWorld;
	End the Journey.


YangFable is truth state variable.

Instead of jumping when player is in Dark Parlor and player has atomic bomb:
	say "You stand on the faded armchair, raise the atomic bomb over your head like a prayer, and JUMP![paragraph break]You find yourself in the lobby of the Nuclear Lab. The strange portal in the floor is gone. And so is the bomb. Oh well, out of sight, out of mind. You go back to your student business.";
	now YangFable is true;
	now Atomic Bomb is on faded armchair;
	now player is in NuclearLabInterior;
	stop the action.

instead of examining atomic bomb for the first time:
	say "You pick up the bomb to examine it more closely. It is lighter than you imagined it would be, and also far heavier.[paragraph break]Before you have a chance to wonder what you're supposed to do next, the ghostly figures in the corners of the room suddenly gain substance and move slowly towards you. They introduce themselves as Joseph, Leon, and Josip. They obviously have substance enough to speak.";
	now player has atomic bomb;

instead of examining atomic bomb:
	say "It has a switch, and as everyone knows, anything with a switch will eventually be switched. In fact, your own fingers are twitching to switch.";
	stop the action.

instead of putting atomic bomb on faded armchair:
	try dropping atomic bomb.

Instead of dropping atomic bomb:
	say "You're not that stupid.";
	stop the action.


PART 4 -  Goodwin Apartments

GoodwinInterior is an Interior Location. "[if unvisited]The floors gleam and make your footsteps echo. There is a concierge desk with a bored looking girl sitting behind it on her phone. [end if]On the [bold type]north[roman type] wall there is an elevator. On the [bold type]west[roman type] wall there is a long hallway. On the [bold type]east[roman type] wall there are windows overlooking the indoor pool."

The printed name of GoodwinInterior is "Goodwin Apartments Main Lobby".
GoodwinInterior is inside from Goodwin Apartments. 

GoodwinApartments is a roomproxy in Goodwin Apartments. 
Understand "Goodwin" and "Goodwin Apartments" as GoodwinApartments. 
The printed name of GoodwinApartments is "Goodwin Apartments".

Concierge Desk is an object in GoodwinInterior. 
Concierge Desk is fixed in place. Concierge Desk is scenery.
Understand "desk" and "reception" as Concierge Desk.

Look at the Desk is a text variable.
The description of Concierge Desk is "[Look at the Desk]".

To say Look at the Desk:
	if Switchboard is dim:
		say "There appears to be an 'OUT OF ORDER' sign on the desk. You wonder what it's for, and why it's so readily prepared.";
	else if Switchboard is flickering:
		say "Nothing too exemplary here. The desk is a little messy, but not with pictures of family or fun-colored pens. There is just a rainbow of old post-its, some with writing, some without."

a Bored Concierge is a woman in GoodwinInterior. Bored Concierge is fixed in place. The description of the Bored Concierge is "She's a tall girl whose eyes are have long since glazed over. You don't think she notices you enter the building, or anything that doesn't pop up on her phone screen."
Understand "concierge" and "girl" and "woman" and "employee" as Bored Concierge.

Instead of going nowhere when the player is in GoodwinInterior: 
	say "There's nothing interesting over there. The elevator on the [bold type]north[roman type] wall seems inviting, and there is a long hallway to the [bold type]west[roman type] that could contain something interesting. Upon further inspection, it seems there is a door to the pool along the [bold type]east[roman type] wall as well."


Long Hallway is a room. Long Hallway is west of GoodwinInterior. The description of the Long Hallway is "[if unvisited]The lights flicker as you step down the hall.  On the otherwise bare walls before the end of the hall are three paintings, with a label above them reading 'Goodwin Triptych'. The hallway itself appears to be very long and not very well kept, ending with three doors (one on each side of the hall). [end if]The doors on the [bold type]south[roman type] and [bold type]west[roman type] have padlocks and chains on the outside of them, which you find strange. The door on the [bold type]north[roman type] side, however, looks like it could be unlocked or easily unlocked with a key."

In the Long Hallway is the Triptych. 

The description of the Tripuch is "The right panel shows the apartment building from above, the left panel shows the apartment building from a street perspective, and the middle panel is a close up of the photographer's reflection in the front door. Strange."
	Understand "paintings" and "first painting" and "second painting" and "third painting" and "left painting" and "middle painting" and "right painting" and "painting" and "goodwin triptych" as Triptych.

Instead of going nowhere when the player is in the Long Hallway:
	say "Why would you go that way, when there is a perfectly inviting and not ominous at all door cracked open to the [bold type]north[roman type]?"

Supply Door is a closed, openable, locked door. Supply Door is south of Supply Closet and north of Long Hallway. "[if unvisited] The door is locked. Maybe there's a key lying around somewhere. [else] It's strange that this is the only door in this hallway not padlocked."

The description of Supply Closet is "[if unvisited]The smell makes you recoil as you stick you head through the door. The closet is roughly the side of a small bedroom but absolutely crammed with shelves. [end if]On the shelf nearest to you, you see an old strip of jerky and an old notebook."

In the Supply Closet is a Supply Closet Shelf. The Supply Closet Shelf is a supporter. "The shelf is grey and rusty, the type you'd expect to find in your grandfather's overcrowded garage."

The description of the Supply Closet Shelf is "Most of the stuff here looks like garbage. That notebook looks interesting however. That jerky, though, looks disgusting. You're not sure if it actually started as jerky, but it's definitely jerky now."

Old Notebook is an object on the Supply Closet Shelf. "The notebook looks out of place because it's the only thing on this shelf not covered by a thick layer of dust."

The description of the Old Notebook is "The cover has the initials MAW on it. Maybe MAW is the building service worker. You want to flip through the notebook, but there isn't much light here. Maybe it would be easier to read in the lobby."

Understand "notebook" and "book" and "pad" as Old Notebook.

Instead of taking Old Notebook:
	say "You grab the notebook and it feels much lighter than you expected. There aren't that many pages left, so it looks like maybe a bunch of the pages have been ripped out.";
	now player has Old Notebook.

Jerky is an edible thing on the Supply Closet Shelf. "The jerky looks disgusting. It looks like it's probably beef jerky. At least, I hope it's only beef jerky." The description of the Jerky is "It smells vaguely like Teriyaki. Yum?"
Understand "old jerky" and "dusty jerky" and "beef jerky" as Jerky.

Instead of eating Jerky:
	say "Your tongue is now covered in a thick layer of dust. Unfortunately you can't tell if it actually is Teriyaki flavored because it doesn't taste like anything other than leather. It takes a few minutes of furious chewing but you're eventually able to rehydrate it to get it down. Why did you do that?[paragraph break]Something feels off. The shelf looks almost two-dimensional, like if you reached out to touch it it would be too far or too close or all the wrong angles. Something was definitely wrong with that jerky. It was jerky, right? Definitely? All of the lights look too dim and too blue and things are beginning to seem like they're melting. The door handle is gone, no, the entire door is gone and it appears to have been filled in while you were chowing down. It doesn't look like there's any way out now. You feel physically ill, and you begin vomiting profusely. You're going to have to lie down for a minute. Or an hour. Or a few days. Your exploration of campus is at an end.";
	now Jerky is nowhere;
	now JerkedAround is completed;
	now CurrentEnding is JerkedAround; 
	End the Journey.

Instead of going nowhere when the player is in the Supply Closet:
	say "There are no windows in this room and any wall space not covered by the messy shelves is bare concrete. Best to just go back out."

GoodwinElevator is north of GoodwinInterior. 
The description of the GoodwinElevator is  "[if unvisited]You notice none of the buttons in the elevator are lit up. You press one, two, three, but none of them light up and nothing happens. [end if]There's a crumpled grocery bag in the corner that looks like it has something bulky inside."

The printed name of GoodwinElevator is "Goodwin Elevator".

Understand "Goodwin elevator" and "elevator" as GoodwinElevator.

In the Elevator is a Grocery Bag. The Grocery Bag is a container. The Grocery Bag is scenery. "The bag on the floor is crumpled and clearly well-used, but surprisingly clean. There is some weight to the bag as you poke at it, but nothing sloshes around, so it seems safe. You do hear a metallic clang when you kick it."

Understand "bag" and "trash bag" as Grocery Bag.

In the Grocery Bag is an Electric Drill. The Electric Drill is a device. "The drill looks heavy."

The description of the Electric Drill is "Old, but nothing seems broken or rusted too much. Maybe it works."

Understand "drill" and "power tool" as Electric Drill.

Instead of taking Electric Drill:
	say "Feels heavy. If it doesn't have any charge you could still probably use it as a blunt force object."
Instead of switching on Electric Drill:
	say "You flick the switch on the bottom to turn on the drill and it whirrs to life in your hands. It's not spinning very quickly, though, so maybe the battery is low";
	now Electric Drill is switched on.
Instead of switching off Electric Drill:
	say "You flick the switch on the bottom again, but this time it sticks a little before turning the drill off. Probably a good idea to save the battery";
	now Electric Drill is switched off.

A thing can be flickering or bright or dim. A thing is usually dim.

Switchboard is a scenery container in Elevator.

Door Close Button is a flickering thing in Switchboard. Door Close Button is scenery.

Instead of examining Door Close Button:
	if Door Close Button is flickering:
		say "The button flickers on and off intermittently, and frankly it's quite annoying. Will it even work if you press it? You reach out and try, but the door doesn't move.";
		The Lift Breaks in four turns from now;
		now Door Close Button is bright;
		stop the action;
	if Door Close Button is bright:
		say "Weird. It stopped flickering, and now it seems brighter than the rest of the buttons. Perhaps it'll work if you press it a second time. You reach out and press it, but again, the door does not move.";
		stop the action.

At the time when The Lift Breaks:
	say "The elevator makes a horrible screeching sound and the doors slam closed and then open. The concierge calmly walks over holding a sign that reads 'OUT OF ORDER' and she places it on the ground in front of the elevator. She then returns to her desk.";
	now Switchboard is flickering.

Instead of going nowhere when the player is in the Elevator:
	say "You wonder if the Concierge knows the elevator is out of order. You think about telling her. Maybe you should, but then you'd have to go back out to the lobby."

Indoor Pool is a room. Indoor Pool is east of GoodwinInterior. The description of Indoor Pool is "[if unvisited]The smell of chlorine here is overwhelming. There are two women swimming laps in the pool. The notice you walk in and smile, but quickly resume their laps. [else]The women in the pool ignore you. Unless you have a swimsuit to change into, maybe you shouldn't be here? You see a changing room in the corner with a pile of junk inside."

Changing Room is a scenery, enterable container in Indoor Pool.
Instead of examining Changing Room for the first time:
	say "Really just a corner of the room with a curved rod and a thick curtain for privacy. There isn't even a bench or hooks to keep your belongings and clothes off of the wet floor. Since you don't have a suit, there's nothing for you here save for maybe something in that pile of junk in the corner. You lean over to examine the junk, but your sleeve catches on the curtain and it comes crashing down around you. Oops."

Instead of examining Changing Room:
	if supply closet key is in the Pile of Junk:
		say "The commotion was mostly ignored, but you still don't have much to do here, unless something's waiting for you in that pile of junk.";
	else:
		say "The chlorine smell is getting to you, and you begin to think that it may be weird to be hanging out in a changing room without a change of clothes."

Pile of Junk is a scenery container in Changing Room. Understand "pile" and "pile of junk" as Pile of Junk.
Goggles is a wearable object in Pile of Junk.
Instead of taking Goggles:
	say "I don't know what you want with these, but I guess somebody could still be looking for them. If you see someone that looks like they're stuck a few decades ago, maybe you could ask them if they've lost their goggles. As you pick it up, you notice the band is snapped. These are definitely completely worthless."

Instead of examining Goggles for the first time:
	say "They're too dusty to see out of, and the right lens is cracked. At least now you understand why they were left here."

Instead of examining Goggles:
	say "It's a shame the original owner couldn't even take the time to throw these away."

Supply Closet Key is an object in Pile of Junk. Supply Closet Key unlocks Supply Door.

Instead of going nowhere when the player is in the Indoor Pool:
	say "It looks like the only viable options are to go back out to the lobby or talk to the women."

[end Goodwin Apartments]

VOLUME 10 - EAST CAMPUS

BOOK 1 - REGIONS

EastCampusOutdoor is a region.

KrannertNeighborhood is an OutdoorRegion in EastCampusOutdoor.
Krannert Bus Shelter and Adams Lab and Red Herring and Levis Faculty Center and Northwest Nevada Street, Northeast Nevada Street, Southwest Nevada Street, Southeast Nevada Street, Urbana Eateries, and South Entrance to Krannert and Amphitheatre and North Entrance to Krannert and Spurlock Museum and Alice Campbell Alumni Center and Hallene Gateway are in KrannertNeighborhood.

OregonStreetNeighborhood is an OutdoorRegion in EastCampusOutdoor.
GoodwinAndOregon and Music Building and Cafe Paradiso and Campus Rec and Westward Lawn and Eastward Lawn and Busey-Evans Hall and Child Development Lab and GregoryStreetSouthEnd and GregoryStreetNorthEnd and LincolnAndNevada and Oregon Computer Lab and Cafe Paradiso are in OregonStreetNeighborhood.
		
EastCampusIndoor is a region.

[Add all Krannert Rooms to Region]

KrannertCenterMap is an IndoorRegion in EastCampusIndoor.
KrannertEntranceNorthwest and KrannertNorthStairs and GreatHallFoyer and KrannertEntranceSouthwest and Intermezzo Cafe and Stage 5 and Ticket Office and Back Stage and Great Hall and Playhouse Outskirts and CenterLobby are in KrannertCenterMap.

PlayhouseRegion is an IndoorRegion in KrannertCenterMap.
PlayhouseFront and PlayhouseEntrance and Board Op's Table and PlayhouseSeating and PlayhouseDownStage and Fly Gallery and Playhouse Stage Left and Playhouse Stage Right are in PlayhouseRegion.

KrannertBelow is an IndoorRegion in KrannertCenterMap. Krannert Catacombs and Open Rehearsal Room and Weapons Closet are in KrannertBelow.

SpurlockMap is an IndoorRegion in EastCampusIndoor.
SpurlockMuseumInterior, Central Core Gallery,  NorthFirstFloorExhibit, EastFirstFloorExhibit, SpurlockSecondFloorLanding,
NorthSecondFloorExhibit, EastSecondFloorExhibit, KnightAuditorium and SouthSecondFloorExhibit are in SpurlockMap.

MusicBuildingMap is an IndoorRegion in EastCampusIndoor.
MusicBuildingInterior, MusicBuildingStorageRoom, MusicBuildingLectureHall and MusicBuildingRestrooms are in MusicBuildingMap.

RedHerringMap is an IndoorRegion in EastCampusIndoor.
RedHerringInterior and HerringBathroom are in RedHerringMap.

AdamsMap is an IndoorRegion in EastCampusIndoor.
AdamsLabInterior is in AdamsMap.

UrbanaEspressoMap is an IndoorRegion in EastCampusIndoor.
UrbanaEspressoInterior is in UrbanaEspressoMap.

CanopyMap is an IndoorRegion in EastCampusIndoor.
CanopyClubInterior and CanopyEntrance and CanopyClubBar and CanopyMainStage and CanopyEntranceHall are in CanopyMap.

ParadisoMap is an IndoorRegion in EastCampusIndoor.
CafeParadisoInterior is in ParadisoMap.

IGBMap is an IndoorRegion in EastCampusIndoor.
IGBINterior is in IGBMap.

BOOK 2 - OUT of DOORS

PART 1 - ROOMS

Amphitheatre is up from South Entrance to Krannert. "You pick a spot to sit on the white concrete steps on the Amphitheatre. You feel a pleasant breeze flow through the outdoor performance space as you catch snippets of conversation from people passing below the Krannert Center. You can only go back [bold type]down[roman type] from here."

North Entrance to Krannert is northeast of Krannert Bus Shelter and north of South Entrance to Krannert and outside from Main Lobby North. "You are standing outside the north entrance of Krannert Center. You can [bold type]enter[roman type] Krannert from here, or go a variety of other directions."

Krannert Bus Shelter is east of Adams Lab and north of GoodwinAndOregon. "[KrannertBusshelterDescription]".

Understand "glass dome" as Krannert Bus Shelter.

Northwest Nevada Street is east of Foreign Language Building and south of Red Herring. "The north side of Nevada Street is home to the African American Cultural Program and the Department of Asian American Studies. You can cross the street to the [bold type]south[roman type], go [bold type]west[roman type] to FLB or [bold type]north[roman type] to the Red Herring."

Understand "Music Building" as MusicBuilding.

Northeast Nevada Street is east of Northwest Nevada Street and south of GoodwinAndOregon and west of Music Building. "The Native American house is here. La Casa is to the [bold type]south[roman type]. African American studies is to the [bold type]west[roman type]."

Southwest Nevada Street is east of Smith Hall and south of Northwest Nevada Street and north of Institute of Genomic Biology. "The south side of Nevada Street houses the Department of Gender and Women's Studies. You can cross Nevada Street to the [bold type]north[roman type], go [bold type]west[roman type] to Smith Memorial Hall, or [bold type]south[roman type] to the Institute of Genomic Biology."

Southeast Nevada Street is east of Southwest Nevada Street and south of Northeast Nevada Street and north of Bevier Hall.  "Here is La Casa Cultural Latina. You can go [bold type]west[roman type] or [bold type]north[roman type] to other Nevada Street locations."

Smith Hall is a room. "You are standing outside Memorial Hall. The Foreign Language Building is to the [bold type]north[roman type], Morrow Plots are to the [bold type]south[roman type], and a busy path leads [bold type]west[roman type]. You can [bold type]enter[roman type] Smith Hall from here."

The printed name of Smith Hall is "Smith Memorial Hall".
Understand "Smith Memorial Hall" as Smith Hall.

Red Herring is east of Shady Grove and south of Adams Lab. "You are standing outside the Channing Murray Foundation, a Unitarian organization that houses the Red Herring, a vegan-vegetarian restaurant."

Medical College is east of Noyes Lab.  "This building is closed for renovation. You can go [bold type]east[roman type] to the Chemistry building from here or [bold type]west[roman type] to Noyes Lab."

Chemistry Building is east of Medical College and west of North Entrance to Krannert and north of Krannert Bus Shelter. "This building is closed for renovation. You can go [bold type]west[roman type] to the Medical College or [bold type]east[roman type] to the North Entrance of Krannert. There's a bus stop to the [bold type]south[roman type]. "

Adams Lab is east of Davenport Hall and south of Medical College. "You have come across Adams Lab, the home of advanced stuff like science. Although nothing about the exterior of the building really sticks out to you as special, something else catches your eye: a small frog, perched contently upon a dirty, gross rain barrel. You can[bold type] go [roman type][bold type] in [roman type]the Lab or go [bold type]west[roman type] towards Davenport Hall, or [bold type]east[roman type] towards Krannert. The Red Herring is directly to the [bold type]south[roman type]."

South Entrance to Krannert is east of Krannert Bus Shelter and outside from Main Lobby South and west of Spurlock Museum. "You are standing outside the [bold type]southeast[roman type] corner of Krannert Center for the Performing Arts. You can [bold type]enter[roman type] Krannert from here, go [bold type]up[roman type] to the outdoor Amphitheatre, go [bold type]west[roman type] to the Bus Shelter or go [bold type]east[roman type] around Krannert to arrive at Spurlock Museum."

Spurlock Museum is east of South Entrance to Krannert. "You are standing outside the Spurlock Museum. Krannert Center for the Performing Arts is to the [bold type]west[roman type]. [if FirstJustinDescription is false][paragraph break]To the [bold type]east[roman type] you think you can see a crowd gathering."

Instead of going nowhere when player is in Spurlock Museum:
	say "You can [bold type]enter[roman type] Spurlock from here or go [bold type]west[roman type] to Krannert."

GoodwinAndOregon is west of Urbana Eateries and east of Red Herring and north of Northeast Nevada. "You are standing at a red light at the intersection of Goodwin and Oregon. The Red Herring Restaurant is to the [bold type]west[roman type]. Restaurants, cafes and clubs lie to the [bold type]east[roman type]. [bold type]North[roman type] is the Krannert Bus Stop and Nevada Street is to the [bold type]south[roman type]."

Understand "Goodwin and Oregon" as GoodwinAndOregon.
The printed name of GoodwinAndOregon is "Goodwin and Oregon".

Levis Faculty Center is north of Spurlock Museum and east of North Entrance to Krannert. "You have no idea what your professors do when they get together in this building. You peek in but get spooked and dash out again. You can go [bold type]north[roman type] to Wardall Hall, [bold type]west[roman type] to Krannert Center for the Performing Arts, [bold type]south[roman type] to Spurlock Museum or [bold type]east[roman type] to the Hallene Gateway."

Alice Campbell Alumni Center is east of Spurlock Museum and north of Oregon Computer Lab."You are standing on the grass outside of Alice Campbell Alumni Center. The traffic of Lincoln Ave blocks your way to the east. To the north you can see a strange stone arch. To the south is the Oregon Street Computer lab, and to the west is the entrance to Spurlock Museum."


Hallene Gateway is north of Alice Campbell Alumni Center and east of Levis Faculty Center. "You are standing on the southwest corner of the busy intersection of Green street and Lincoln Avenue, one of the entrances to campus. A massive stone arch is standing here in the open air. The Levis Faculty Center is to the west and to the south is the Alice Campbell Alumni Center. [if FirstJustinDescription is false][paragraph break]In the distance, to the south, you can see a group of people assembled near the entrance to the Alumni Center. Looks like a tour might be going on.[end if] "

HalleneArch is a scenery enterable container in Hallene Gateway. 
Understand "Hallene Gateway" and "Gateway" and "Hallene Arch" and "Arch" and "Halene Gateway" and "Halene Arch" and "Arche" and "stone gateway" and "stone arch" as HalleneArch. 
The description of HallenArch is "A plaque names this the Hallene Gateway. Somehow it lost the building it was once attached to. A noisy fountain is nearby."

Instead of entering HalleneArch:
	say "With trepidation, you approach the arch, expecting to be sucked into some kind of vortex as you pass through. You are disappointed when nothing very dramatic happens. Maybe you could try again later.";
	stop the action.

noisy fountain is a photogenic scenery container in Hallene Gateway. "The fountain is shooting water straight up into the air, and it falls noisily down again."

Urbana Eateries is south of South Entrance to Krannert. "You are standing on the busy sidewalk of the restaurants, cafes and bars of Goodwin Street. From here you can [bold type]enter[roman type] the Urbana Espresso (not to be confused with the Champaign Espresso) or the Canopy Club. Krannert Center for the Performing Arts is to the [bold type]north[roman type] and the Music Building lies to the [bold type]south[roman type]."

Music Building is south of Urbana Eateries. "You can go[bold type] in [roman type]to the Music Building from here. The Canopy Club is to the [bold type]north[roman type]. Nevada Street continues to the [bold type]west[roman type]."

Campus Rec is east of Bevier Hall and north of Fire Station. "This whole area under emergency quarantine. Better leave quick."

Westward Lawn is east of Campus Rec and west of Eastward Lawn and north of Allen Hall. "This whole area under emergency quarantine. Better leave quick."

Eastward Lawn is north of Lincoln Street Residence Halls and south of Cafe Paradiso. "This whole area under emergency quarantine. Better leave quick."

Busey-Evans Hall is east of Southeast Nevada Street and south of Music Building and north of Campus Rec.
"This whole area under emergency quarantine. Better leave quick."

Child Development Lab is east of Busey-Evans Hall and west of Cafe Paradiso and north of Westward Lawn and south of GregoryStreetSouthEnd. "This whole area under emergency quarantine. Better leave quick."

GregoryStreetSouthEnd is east of Music Building and  west of LincolnAndNevada."This whole area under emergency quarantine. Better leave quick."
The printed name of GregoryStreetSouthEnd is "South End of Gregory Street"

GregoryStreetNorthEnd is east of Urbana Eateries and north of GregoryStreetSouthEnd and south of Spurlock Museum and west of Oregon Computer Lab. "This whole area under emergency quarantine. Better leave quick."

The printed name of GregoryStreetNorthEnd is "North End of Gregory Street"

LincolnAndNevada is south of Oregon Computer Lab.  "This whole area under emergency quarantine. Better leave quick."
The printed name of LincolnAndNevada is "Intersection of Lincoln and Nevada Streets".

Oregon Computer Lab is east of GregoryStreetNorthEnd. "This whole area under emergency quarantine. Better leave quick."


PART 2 - CURIOSITIES

Section 1 - Bus Shelter

Nick Offerman is Person in Krannert Bus Shelter.  "Standing on the corner is a man with a moustache who kind of looks like Ron Swanson, of Parks and Recreation."
Description of Nick Offerman is "You had to do a triple take, but it is indeed the infamous Nick Offerman, Ron Swanson, Duke Silver."

Understand "ron" and "Ron Swanson" and "Duke Silver" and "man" and "man with a moustache" as Nick Offerman.

Instead of talking to Nick Offerman:
	say "He has headphones in and doesn't hear you. Maybe you can ask him about something that he cares about."; 
	stop the action.

instead of photographing Nick Offerman for the first time:
	say "He notices you trying to take his picture and shakes his head.  'If you want to take a picture of something, why not head towards the Japan House -- it's on the far southeast side of campus.";
	now JapanHouseMentioned is true;
	stop the action.

instead of photographing Nick Offerman:
	say "The actor has had enough of your paparazsi imitation. A campus bus roars up the the bus stop. Nick turns away from you and gets on the bus heading south.";
	now Nick Offerman is nowhere;
	stop the action.

JapanHouseMentioned is a truth state variable. 

Instead of asking Nick Offerman about something:
	if JapanHouseMentioned is false: 
		say "He smiles and ignores your question. 'Have you been to the Japan House? If you haven't, go check it out!";
		now JapanHouseMentioned is true;
	else:
		say "He smiles. 'Sorry, I'd love to chat, but . I'm heading to the Japan House. Maybe I'll see you there.'";
		now Nick Offerman is nowhere.

Instead of interrogating Nick Offerman about something:
	if JapanHouseMentioned is false: 
		say "He smiles and ignores your question. 'Have you been to the Japan House? If you haven't, go check it out!";
		now JapanHouseMentioned is true;
	else:
		say "He smiles and shakes his head. 'Sorry, really, I'd love to chat, but I'm heading to the Japan House now. Maybe I'll see you there.'";
		now Nick Offerman is nowhere.
	
Some impatient students are people. Some impatient students are in Krannert Bus Shelter. The impatient students are scenery. The description of the impatient students is "Many of them frequently glance down at their phones, or at the screen displaying departure times next to the shelter, minding their own business."
Instead of asking the impatient students about "directions":
	say "One student can't help but roll their eyes at your request. 'Don't you have a smartphone?' they reply rudely."
Instead of interrogating the impatient students about something:
	say "Most of the students avert their eyes and pretend not to have noticed you."
Instead of talking to the impatient students:
	say "You notice after a few moments of reviewing the day you've had, a three-foot radius has cleared of people, isolating you."
Instead of giving something to the impatient students:
	say "The students that aren't staring intently at their phones give you strange looks.";
	stop the action.

Section 2 - Amphitheatre

Caution Tape is scenery in Amphitheatre. "Yellow caution tape, with text that reads 'No shortcuts allowed'. I guess someone doesn't want you to walk that way."

Understand "tape" and "tape" and "yellow tape" and "yellow caution tape" as Caution Tape.

Concrete Steps is scenery in Amphitheatre. "White concrete steps that are cold to the touch, perhaps if it were a bit warmer these would make for some pretty good seats,"

Understand "steps" and "white steps" and "white concrete steps" as Concrete Steps.

Instead of going nowhere when player is in Amphitheatre:
	if player's command includes "east":
		say "Normally, you would be able to slip past the top stairs of the Amphitheatre and cross the roof over to Gregory St towards Spurlock Museum, but some caution tape blocks your way. You will have to go the long way around.";
		stop the action;
	else:
		say "You can only go back [bold type]down[roman type] from here."

Every turn when time of day is after 9:00 am:
	If time of day is after 6:00 pm:
		Now RobotBand is in Amphitheatre;
		Now Ruffians is in Amphitheatre;
		Now Music Equipment is in Amphitheatre;
		Now the description of Amphitheatre is "As you walk up the stairs to the Amphitheatre you hear the strange melodies of a band playing. There are quite a few people here so it might be difficult to find a place to sit down, perhaps you should just stand in the back and talk to those ruffians. You could also just go back [bold type]down[roman type] the way you came.";
		if player is in Amphitheatre:
			if time of day is 6:00 pm:
				say "A group of Robots sets up music equipment in the center of the Amphitheatre and begins to play.";
	else:
		if time of day is after 9:00 pm:
			Now RobotBand is nowhere;
			Now Ruffians is nowhere;
			Now Music Equipment is nowhere;
			Now the description of Amphitheatre is "You pick a spot to sit on the white concrete steps on the Amphitheatre. You feel a pleasant breeze flow through the outdoor performance space as you catch snippets of conversation from people passing below the Krannert Center. You can only go back [bold type]down[roman type] from here.";
			if player is in Amphitheatre:
				if time of day is 9:00 pm:
					say "The bands perfomance comes to a close and people start to slowly filter out of the Amphitheatre."

BrokenRobotCounter is a number variable. BrokenRobotCounter is 0.

BandPlayCounter is number variable. BandPlayCounter is 0.

RobotBand is a person."It's a rock band consisting of only robots, they're music sounds kinda strange but in a good way. They also seem to have brought a lot of electronics with them."

Music Equipment is scenery. "It seems to be a large collection of musical equipment."

Understand "electronics" and "electronic" and "amps" as Music Equipment.

Understand "Band" and "Band Member" and "Robots" as RobotBand.
the printed name of RobotBand is "Robot Band".

Ruffians is a person.

Understand "Ruffian" as Ruffians. "A group of tough looking guys and gals stand in the back of the Amphitheatre and they seem angry about something."

Instead of talking to Ruffians:
	if BrokenRobotCounter is 1:
		say "'You sure took those robots down a peg and don't worry about the show we'll take it from here.'";
		increase BandPlayCounter by 1;
		if BandPlayCounter is 1:
			say "It looks like there are preoccupied with playing, but one of the band members does throw you a wink.";
	else:
		say "'Man these bots just walked into our turf and took the show away from us. Somebody should take them down a peg, maybe we should smash their electronics.'"

Instead of talking to RobotBand for the first time:
	say "The Robots seem uninterested in speaking you at the moment, they seem pretty ingrossed in their performance."

Instead of talking to RobotBand for the second time:
	say "Despite their lack of interest you try to talk to the Robot Band again. One of them turns to you and says, 'WARNING! DO NOT CONTINUE TO DISTURB OUR PERFORMANCE HUMAN OR ELSE!'"

Instead of talking to RobotBand for the third time:
	say "Welp, they did warn you.[paragraph break]'YOUR TRANSGRESSION CAN NO LONGER BE OVERLOOKED HUMAN! FIRING LIFEFORM DISINTEGRATION RAY!' [paragraph break] Unfortunately your decision to pester the Robots has resulted in you being reduced to a pile of dust...Maybe you shouldn't bother them next time.";
	now DustPiled is completed;
	now CurrentEnding is DustPiled;
	End the Journey.

Instead of attacking Music Equipment:
	say "You take a big swing at the equipment. Sparks start to fly and you notice the music stops...The robots have been powered down.";
	increase BrokenRobotCounter by 1.

Section 3 - Outside Spurlock

[
Brenda is a person in Spurlock Museum. "A girl wearing a yellow sweater rushes past you while juggling two STEAMING pizza boxes back and forth between her hands, hot-potato style. She runs into your side with the sharp edge of the pizza box, deeply lacerating your skin. YOU LOSE ONE HP."

AntiqueGloves are a thing in SpurlockMuseumInterior. The printed name of AntiqueGloves is "Rustic Gloves". The description of AntiqueGloves is "The girl outside may want to have these for her pizzas."
Understand "gloves" and "rustic gloves" and "mittens" as AntiqueGloves.

Understand "girl" and "spurlock girl" and "sweater girl" and "pizza girl" as Brenda.
lacerationsCount is a number variable. lacerationsCount is 0.
PizzaGirlName is a number variable. PizzaGirlName is 0.
PizzaSGirl is an edible thing.  The printed name of PizzaSGirl is "A box of Spurlock girl's pizza".
Understand "girl's pizza" and "girls pizza" and "spurlock girls pizza" and "box of pizza" and "pizza" as PizzaSGirl.

Instead of examining Brenda:
	say "She's not going to sit still for an examination. You want to confront her about the laceration, but she makes you kinda nervous."

Instead of asking Brenda about "lacerations":
	say "You shake your fist angrily in the air and shout out to no one in particular, . ‘HEY, LADY! WATCH WHERE YA GOIN’! I’M BLEEDIN’ OUT!’ She seems not to notice you and continues on her wild journey.";
	now lacerationsCount is 1;
	stop the action.

Instead of asking Brenda about "steaming pizza":
	say "‘It’s my pizza.  You can go buy your own.’";
	if lacerationsCount is 1:
		say "You mention how she basically almost killed you. She responds with ‘Ugh, fine.  You can have one of my pizzas as compensation.’";
		now player has PizzaSGirl;
	stop the action.

Instead of asking Brenda about "name":
	say "'The name's Brenda.'";
	now PizzaGirlName is 1;
	stop the action.

Instead of asking Brenda about something:
	say "She gives you some seirous side-eye and chooses to plead the fifth."

Instead of giving AntiqueGloves to Brenda:
	say "You lock eyes with the running girl and, with the precision of a star softball pitcher, toss the ancient golf glove in her direction. In possibly the most astonishing display of athleticism you have ever seen in your life, the girl tosses her pizza boxes high into the heavens, snatches the nasty gloves from the air, and slides the gloves onto her strong hands in one continuous motion. Time slows down as each pizza lands gracefully on the tips of her fingers.[paragraph break]She turns to face you, and smiles brilliantly.[paragraph break]‘Thank you, kind stranger. I will never forget your act of selflessness.’[paragraph break]You hardly have time to smile back before she turns away and dashes off into the inexplicable sunset, finally free of her curse of having to juggle pizza boxes between each hand forevermore.";
	now Brenda is nowhere;
	now AntiqueGloves are nowhere;
	stop the action.

Instead of eating PizzaSGirl for the first time:
	if PizzaGirlName is 0:
		say "Wait!  The girl outside of Spurlock may want this back!";
	if PizzaGirlName is 1:
		say "Wait! Brenda might want this back!";
	stop the action.

Instead of giving PizzaSGirl to Brenda:
	say "After a dazzling 360° turn, you lob the pizza box back at her.[paragraph break]‘Heads up!’ you yell.[paragraph break]She tilts her head up and looks towards the sky, with a shocked expression on her face. The pizza had escaped its box in mid-air![paragraph break]The girl’s expression quickly changes from shocked to determined. While balancing the other pizza on one hand, she leaps into the air and expertly catches the sky-high pie.[paragraph break]After a dramatic landing, you rush over to apologize.[paragraph break]‘I’m so, so, sorry!’ you cry.[paragraph break]‘Don’t mention it. A pizza saved is a pizza earned,’ she replies.[paragraph break]You don’t really understand what she means, but nod along as if you did.[paragraph break]‘Anyway,’ she continues, ‘I realized something important during my time in the sky: instead of rushing towards my future, I should stop and enjoy the present.’[paragraph break]You nod again.[paragraph break]‘So, do you want to share a pizza with me, right here, right now?’ asks the girl.[paragraph break]You nod once again. The nod is quickly becoming your signature move.[paragraph break]The girl grabs your hand and takes you into the run-down Japanese-style garden outside of Spurlock. You sit down, tear up the pizza, and chow down together while gazing deeply into each others’ eyes. You smile. She smiles. The world starts getting a bit hazy.[paragraph break]The girl laughs cheerfully.[paragraph break]Your muscles begin to feel weak as the weight of your bones begins to overwhelm you.[paragraph break]You collapse, and the world fades to black.[paragraph break]Aw, man! Those darn lacerations were worse than you thought!";
	now player is in Operation Station;
	stop the action.
]

BOOK 3 - INDOOR MAPS

PART 1 - KRANNERT CENTER

Chapter 1 - Krannert Map

Instead of going nowhere when player is in KrannertCenterMap:
	say "You hear music playing in the distance.[run paragraph on] ";
	try WhichWaying.
	
[XXX -- fix interior locations of entrances ]
	
KrannertEntranceNorthwest is inside from North Entrance to Krannert. "You have entered the cavernous Krannert Center for the performing arts on the northwest side of the building. You can go [bold type]exit[roman type] here, back to the street. The Ticket Office is to the [bold type]south[roman type]. You hear strains of music coming from Stage 5 to the [bold type]east[roman type]."
The printed name of KrannertEntranceNorthwest is "Northwest Entrance to Krannert Center."


Stage 5 is east of KrannertEntranceNorthwest. "A quartet is warming up on the stage. There is a cellist, a violist and two violinists. Each musician seems incredibly focused, though they all seem to enjoy playing together. Several instrument cases are resting on the edge of the stage, and there is an  impressive double bass is propped against the stage, close to the quartet as well. [paragraph break]The large open space of the Center Lobby lies to the [bold type]southeast[roman type], feeding into the Great Hall. The Playhouse Theater entrance is to the [bold type]north[roman type], and the Ticket Office is to the [bold type]south[roman type]. The nearest exit lies to the [bold type]west[roman type]."

NorthCenterLobby is north of Stage 5. "You are at the north end of a bustling causeway, trying to figure out which theater they need to locate. The Playhouse Theater is to the [bold type]west[roman type]. Delicious scents are wafting towards you from the [bold type]northwest[roman type]." 
The printed name of NorthCenterLobby is "Krannert North Lobby."

CenterLobby is south of Stage 5 and southeast of KrannertEntranceNorthwest and northeast of KrannertEntranceSouthwest. "You can spot a few students camped out at circular tables lining the area, while a few older patrons wait near the different performances spaces. You see an elderly couple sitting together, their hands clasped. A craggy gentleman is seated in the shadows. Foellinger Great Hall lies to the [bold type]east[roman type], Stage 5 lies to the [bold type]northwest[roman type]. Theoretically you can buy tickets in the ticket office to the [bold type]west[roman type], but it doesn't look like they are open." 
The printed name of CenterLobby is "Krannert Central Lobby."

GreatHallFoyer is east of CenterLobby. "Carpeted staircases lead down to the Great Hall where a concert is in progress. The Central Lobby is to your west."

The printed name of GreatHallFoyer is "Great Hall Foyer."

Great Hall is east of GreatHallFoyer. "[if unvisited]Looks like you made it just in time to catch a show by the Champaign-Urbana Symphony Orchestra. You notice some strains of melody that sound similar to the ones you heard from the quartet at Stage 5. As you slip into a seat at the back row, you wonder if the songs are by the same composer as you absorb the rest of the performance. Hark! A perfect symphony.[else]2,066 seats stand empty, since are no performances going on at this time. You take a moment to admire the warm golden glow throughout the hall and the textures on the wall and ceiling that supposedly make Foellinger one of the most acoustically perfect performances spaces in the world.[end if] You can exit the theater to the [bold type]west[roman type]."

The printed name of Great Hall is "Foellinger Great Hall".

SouthCenterLobby is south of CenterLobby. "You are at the south end of Krannert Center. There is a glass display case installed in to one side of wide space. The entrance to the Tryon Festival Theater is to the south, but it is closed and under construction. The ticket office is to the [bold type]north[roman type], the more bustling part of the lobby can be found to the [bold type]northwest[roman type], or you can head toward the [bold type]exit[roman type] to the west."
The printed name of SouthCenterLobby is "Krannert South Lobby."

TryonFestivalTheater is south of SouthCenterLobby. "The Tryon Festival Theater is closed for renovations. You can only go north at the moment." 
The printed name of TryonFestivalTheater is "Tryon Festival Theater." 


PromenadeGiftShop is south of KrannertEntranceSouthwest. "There used to be a Gift Shop here full of unusual jewelry and cool little toys but it closed during the pandemic. You can only go north at the moment."
The printed name of PromenadeGiftShop is "Promenade Gift Shop."

KrannertEntranceSouthwest is inside from South Entrance to Krannert and south of Ticket Office and west of SouthCenterLobby. "You are at the [bold type]southwest[roman type] entrance to the Krannert Center. You can go [bold type]out[roman type] of the building from here. The Ticket Office is to the [bold type]northeast[roman type]. The old Promenade Gift Shop, to the south shut down during the pandemic, sadly. There is a bustle of people to tne [bold type]east.[roman type]" 

Ticket Office is west of CenterLobby and south of KrannertEntranceNorthwest and southwest of Stage 5 and northwest of SouthCenterLobby and north of KrannertEntranceSouthwest. "The counter is currently empty and you can't spot anyone through the glass doors that lead into the actual office. [paragraph break]You can go every direction except west from here." 

Intermezzo Cafe is northwest of NorthCenterLobby. "You take a deep breath, enjoying the smell of freshly-brewed coffee. There is no one behind the counter, but you see a small metal bell, and wonder if you're supposed to ring it to get help. Tables surround the cafe area and large windows to the [bold type]north[roman type] let in wide beams of light. This seems like a peaceful place to study. The ticket office sits patiently to the [bold type]south[roman type], while the exit waits to the [bold type]southwest[roman type].".

Back of the Cafe is west of Intermezzo Cafe. "There is a door tucked in the corner of the cafe, out of the view of customers."

Backstage Door is a locked, lockable, openable scenery door. It is down from Back of the Cafe and up from Back Stage.

The description of Back Stage is "[if unvisited]You made it! You feel a sense of accomplishment (in addition to feeling slightly mischievous) for entering an area normally off-limits to visitors. Upon reaching the bottom of the stairs, you can see various set pieces scattered around the area, some complete and some not. [end if]You are backstage of one of Krannert's theaters. Piles of clothes and scrapped fabric litter the floor. You can head back [bold type]up [roman type] to the back of Intermezzo Cafe from here."

Playhouse Outskirts is northwest of Stage 5 and south of Intermezzo Cafe and west of NorthCenterLobby and southwest of KrannertNorthStairs. "You are standing at the entrance of one of Krannert's center pieces, a theatrical space known as the Playhouse Theatre. [if unvisited]As you look [bold type]west towards [roman type] the doors to the Playhouse Theatre, you spot a stage manager sweating bullets. It looks like they're looking for something or someone. Maybe this is your time to [italic type]shine[roman type]?[end if] From the Playhouse theater entrance, the Intermezzo Cafe lies to the [bold type]north[roman type], Stage 5 is to the [bold type]south[roman type] or you reenter the stream of the main Krannert lobby to the [bold type]east.[roman type]"

The printed name of Playhouse Outskirts is "Colwell Playhouse Theater."

PlayhouseFront is west of Playhouse Outskirts. "With the velvet red carpet staring back at you, the Playhouse Theatre has a calming vibe with beautiful decor. Brightly printed posters for the upcoming shows cover the wall. You can continue west into the theater, or back east to the entrance."
The printed name of PlayhouseFront is "Front of House".

PlayhouseEntrance is west of PlayhouseFront. "Just like most theatres the descent to the stage is quite long. With a one of a kind of sound system, a ton of amazing lights that can create beautiful colors that envelops the stage, and scenery that is absolutely stunning, the Playhouse Theatre is a wonderful place to see shows of all forms. To the [bold type]south[roman type] is the sound and light board deck, to the [bold type]west[roman type] is the audience seating."
The printed name of PlayhouseEntrance is "Playhouse Entrance".

Board Op's Table is south of PlayhouseEntrance. "With a sound board and light board next to each other, this is where some of technical magic happens, controlling what makes the shows sound and look great! It’s smack dab in the center back half of the theatre. The only way back is [bold type]north[roman type]."

PlayhouseSeating is west of PlayhouseEntrance. "Red velvet seating banks span down row-by-row until it reaches the edge of the stage. You can go [bold type]west[roman type] onto the stage, or [bold type]east[roman type] to the Theatre Entrance."
The printed name of PlayhouseSeating is "Playhouse Seating". 

PlayhouseDownstage is west of PlayhouseSeating. " As you somehow leaped up what seems like a meter off the ground onto the stage, you finally have reached center stage of the Playhouse Theatre. You are star struck, as you'd never have thought of being here in the first place. As you look up you see the fly system that seems connected to a landing that’s ABOVE the Stage Left wing to the [bold type]north.[roman type] Stage Right is to the [bold type]south[roman type] is Stage Right. You can leave the stage to the [bold type]east [roman type] and return to the seating area.".
The printed name of PlayhouseDownstage is "Playhouse Down Stage".

Playhouse Stage Left is north of PlayhouseDownStage. "Similar to Stage Right many things are home to this side of the stage, the network racks for the audio gear and stage boxes for everything under the sun. The Fly Gallery above you can be accessed by going [bold type]up[roman type] or return downstage by going [bold type]south[roman type].".

Fly Gallery is up from Playhouse Stage Left. "[if unvisited]After climbing a spiral staircase that felt like it was never going to end, you finally have made it to the Gallery. Before you see anything though, you take a second to catch your breath. A ton of ropes attached to pully systems going all the way down the gallery are seen, these hold the pipes that hang above the stage to hold scenery, lights, projectors, speakers, really anything you want. This is where some of that theatre magic happens. Line Sets are the ropes that hold which pipe. [else]From the Fly Gallery, all you can do is go [bold type]down[roman type] the stairs back to Stage Left."

Playhouse Stage Right is south of PlayhouseDownStage. "With shelves of speakers and a wall of lights Stage Right is home for waiting actors and stage managers a like., always ready for their next cue. You can go [bold type]north[roman type] back to Down Stage.[paragraph break][if S4 is in room]You see a source four that looks out of commission."

KrannertNorthStairs is east of Intermezzo Cafe and north of NorthCenterLobby. "There are stairs going [bold type]down[roman type] into the catacombs of the Krannert Centre below. There is an elevator somewhere around here, but it is currently out of order."
The printed name of KrannertNorthStairs is "North Stairway".

Chapter 2 - Global Rules for Krannert

[Remember to add all new Krannert locations to the krannertCenterMap region!]

Instead of attacking when player is in KrannertCenterMap:
	say "Surely the guards wouldn't appreciate you attacking visitors to the Krannert Center. You take a deep breath and quell your murderous impulse.";
	stop the action.
	
Chapter 3 - Playhouse Game

PlayhouseTasksFinshed is a truth state variable.
PlayhouseTasksFinshed is false.    

TasksDone is a number variable. 
TasksDone is 0.

[Outskirts Stuff]
Playhouse Stage Manager is proper-named. 
understand "Manager" and "Theatre Manager" and "Theater Manager" as Playhouse Stage Manager

instead of going nowhere in Playhouse Outskirts:
	say "This part of Krannert is sadly under renovations.".

[Front of House Stuff]

Before going west in PlayhouseFront:
	say "Brightly printed posters for the upcoming shows cover the wall."
	
Before going east in PlayhouseFront:
	say "The magical world of theatre is right in front of you, and you want to go over to an empty corner? Let’s not."
	
Playhouse Stage Manager is a man in PlayhouseFront. "The Playhouse Stage Manager is here, looking anxious."

instead of examining Playhouse Stage Manager:
	if Playhouse Stage Manager is unexamined:
		say "Oh my, you must be the one filling in! Thank you for coming at such short notice. Please, I need your help with setting things up before the show tonight! Here’s a [bold type]Check List[roman type]! Get in there and don't come out till it’s done![paragraph break] Just as the stage manager tells you this, they grab you by the shoulders and with the force of a fully grown black bear, they launch you into the theatre.";
		now Stage Manager is examined;
		move player to PlayhouseEntrance;
		now the player carries Preshow Checklist;
		stop the action;
	else:
		continue the action.
		
Instead of going west in PlayhouseFront:
	if Stage Manager is unexamined:
		say "The door is locked. A sign states: The show is postponed till further notice."

Preshow Checklist is a thing. 
Understand "list" and "check list" and "preshow list" and "preshow check list" as Preshow Checklist. 
The description of the Preshow Checklist is "[bold type]Insert[roman type] Light Bulb on Stage Right's Source Four light, pull up baton #7 from Fly Rail by [bold type]switching it off[roman type], and do a sound check at the Board Op Table by [bold type]turning on[roman type] the Sound Board."

Instead of reading preshow checklist:
	try examining preshow checklist instead.

[Theatre Entrance Stuff]

Instead of going nowhere in PlayhouseEntrance:
	say "Watch out! There is a wall there!"

[	
instead of going south in PlayhouseEntrance:
	say "As you think about leaving, you think about telling the superhuman of a stage manager that you didn't finish the check list. A massive shiver shoots down your spine, you choose to not go through with that plan and turn back."
]

[Board Op Stuff]

The printed name of Playhouse Sound Board is "Sound Board".
Playhouse Sound Board is a scenery switched off device in Board Op's Table.
The description of Playhouse Sound Board is "A Midas M32 board that helps control all the mics and speakers within the space. There’s a ton of fun faders and knobs to play around with, probably shouldn't though."

Instead switching on Playhouse Sound Board:
	say "Sweet it turned on! Right as you did that the wonderful song Solsbury Hill by Peter Gabriel fills the room. You notice all the speakers are working and good to go. Task done!";
	Now the Sound Board is switched on;
	increase TasksDone by 3;
	stop the action.
	
Instead switching off Sound Board:
	say "I shouldn't ruin this completed task."
	
Instead of going nowhere in Board Op's Table:
	say "[one of]Oh no, don't do that, you'll fall into the seats![or]Just a sea of red seats ahead nothing too interesting.[or]Sadly nothing cool is behind you, just a black wall.[at random]"
	
Playhouse Light Board is a scenery thing. "With buttons and knobs you've never seen before, the light board is interesting to look at."
Playhouse Light Board is in Board Op's Table.
The printed name of Playhouse Light Board is "Light Board".

Box of bulbs is a container in Board Op's Table. "An open box of light bulbs is lying here."
Box of Bulbs is fixed in place.

Instead of examining Box of Bulbs:
	if light bulb is in box of bulbs:
		say "There seems to be only one bulb left.";
	else:
		say "The box is empty."
	
Instead of taking Box of bulbs:
	say "Hey, do you always take things before examining them? Why do you need a box?"

Light Bulb is a thing in Box of bulbs.
The description of the Light Bulb is "This is a light bulb designed specifically for the lighting of instruments used in theatre or concert spaces.".

[Seating Area Stuff]

Instead of going north in PlayhouseSeating:
	say "Your reflection glimmers back at you from the black painted walls, though you do spot a few of the speakers that line the outer rim of the whole theatre. But that way you cannot go."

Instead of going nowhere in PlayhouseSeating:
	say "As you turn your head slowly, you come face to face with another row of seats."

	
Playhouse Speakers are scenery in PlayhouseSeating.
The description of the Playhouse Speakers is "Hmm, you seem to notice all the speakers in the theatre are from a brand name Meyer...Nice.".
understand "speaker" and "speakers" as Playhouse Speakers.    


instead of going nowhere in PlayhouseDownStage:
	say "The scrim stands tall before you. Yeah, I don’t think you can go that way.".
	
understand "scrim" as Playhouse Scrim.    
Playhouse Scrim is a scenery thing.
Playhouse Scrim is in PlayhouseDownStage.
The printed name of Playhouse Scrim is "Scrim".
instead of examining Playhouse Scrim:
	say "A towering sheet of cloth that covers the back of the stage, it's used to close off the back and provide a great background for lighting designers.".
	
Pipe 7 is a fixed in place thing in PlayhouseDownStage.

instead of examining Pipe 7:
	say "This seems to be a one of the pipes at are held up by the Fly Gallery. Made from steel, these pipes can hold a crazy amount of weight. Oh! This was one of the tasks on my Check List!"

Carry out switching off Line Set 7:
	move the Pipe 7 to Fly Gallery;
	Now the Line Set 7 is switched off;
	increase TasksDone by 3;
	say "Woo! I really had to put some elbow grease into that one. Task done!";
	stop the action.
Carry out switching on Line Set 7:
	say "I don't think I should do that."

[Stage Left Stuff]

instead of going north in Playhouse Stage Left:
	say "You see some stage boxes tucked away in the corner."
	
instead of going east in Playhouse Stage Left:
	say "You stumble on the audio racks that beep and blink random things you don't understand.".

Playhouse Stage Boxes are a scenery thing. "Filled with just about anything, stage boxes help with many things around all the theatre departments."
Playhouse Stage Boxes is in Playhouse Stage Left.
understand "boxes" and "box" as Playhouse Stage Boxes

Playhouse Network Rack is a scenery thing. "This is the gear that’s needed to route all the 100+ speakers within the theatre, processers, network switches, Ethernet cables, etc."
Playhouse Network Rack is in Playhouse Stage Left.
understand "network racks" and "network rack" and "rack" as Playhouse Network Rack.

Instead of going nowhere in Fly Gallery:
	say "You are able to look over the railing and see everything down below, as well as everything that’s hanging in the ceiling!".
	
[
Instead of going south in Fly Gallery:
	say "This way probably won't help you in your tasks.".
	
Instead of going west in Fly Gallery:
	say "This way probably won't help you in your tasks.".
]

Line Set 6 is a switched off device in Fly Gallery.
Line Set 6 is fixed in place.
Line Set 7 is a switched on device in Fly Gallery. 
Line Set 7 is fixed in place.
Line Set 8 is a switched off device in Fly Gallery.
Line Set 8 is fixed in place.

instead of examining Line Set 6:
	say "Oh cool your favorite... a rope!".
	
Instead switching on Line Set 6:
	say "Looks like a rope that I shouldn't be touching."
	
instead of examining Line Set 8:
	say "Hmm…you deduce this is a rope in a pully, you pat yourself on the back for that obvious observation.".
	
Instead of switching on Line Set 8:
	say "With your high IQ, you realize this is not the rope you’re looking for.".
	
instead of examining Line Set 7:
	say "Oh, that looks like the thing I need to switch off!".

[Stage Right Stuff]

instead of going nowhere in Playhouse Stage Right:
	say "The last thing I want to do is leave the theatre and make that super strong stage manager angry.".

[	
Instead of going south in Playhouse Stage Right:
	say "Sadly, there’s no more theatre to explore on this side.".
	
Instead of going north in Playhouse Stage Right:
	say "Here’s all those spare lights and speakers! Probably should get back to my tasks".
]

Playhouse Shelf Lights is a scenery thing. "A load of variety when it comes to lights, the wall of lights has everything under the sun to put on a good-looking show!"
Playhouse Shelf Lights is in Playhouse Stage Right.
understand "wall of lights" as Playhouse Shelf Lights.
Playhouse Shelf Speakers is a scenery thing. "Speakers that are used for backup just in case if one on stage goes out."
Playhouse Shelf Speakers is in Playhouse Stage Right.
understand "speaker" and "speakers" as Playhouse Shelf Speakers.

S4 is a scenery container in Playhouse Stage Right.
The printed name of S4 is "Sad Looking Source Four".
understand "Source Four" and "Sad Looking Source Four" and "light" as S4.

instead of examining s4:
	say "A staple of theatre lighting, hung on a side pole this seems to be the only light without, well, light."
				
Instead of inserting something into s4:
	say "Awesome, I really thought I was gonna break that thing for a sec. Task done!";
	remove the Light Bulb from play;
	remove s4 from play;
	increase TasksDone by 3;
	stop the action.
	
Every turn when TasksDone is greater than 8 and PlayhouseTasksFinshed is false:
	say "Just as you finished the last task, the superhuman stage manager seemingly teleports next to you, and MLB style rockets you out the theatre in the safest way possible. As you realize what’s happened, they tell you 'Thank you for all the help but I gotta put new cues in my script and not pick up random people to do my co-worker’s job. Best of luck to ya! There’s a sense of overwhelming confidence that flows through you, maybe you’ll try acting next time!"; 
	move player to Playhouse Outskirts;
	remove the Playhouse Stage Manager from play;
	remove the Preshow Checklist from play;
	now PlayhouseTasksFinshed is true;
	stop the action.
	
[Needs win game code]

Chapter 4 - Krannert Catacombs

KrannertCatacombs is down from KrannertNorthStairs. "[if unvisited]You have found yourself in the twisting passages of the Krannert Center underbelly. Colored cinderblocks signed by visiting artists line the hallways as you try to orient yourself within the building's winding structure. To the [bold type]west[roman type], you hear sharp cracks, as if two sticks are being violently thrust against each other. Maybe you should investigate.[else]That was a fantastic in-class demonstration! You wonder what other shenanigans you can get up to in Krannert."

The printed name of KrannertCatacombs is "Krannert Catacombs - Proceed with Caution".

Colored cinderblocks is scenery in Krannert Catacombs. "As you walk, you're able to determine a few names from their signatures: Pat Metheny, the Los Angeles Guitar Quartet, Yo-Yo Ma, Savion Glover, and the Jupiter String Quartet. Krannert has hosted a wide variety of performers. You're eager to find out who might perform during your years here at the University of Illinois."

Understand "cinderblocks" and "cinder blocks" and "signatures" and "artist signatures" and "colored blocks" as colored cinderblocks.

Opera Rehearsal Room is a room. Opera Rehearsal Room is west of Krannert Catacombs. The description of Opera Rehearsal Room is "[ORR Description]".

To say ORR Description:
	if ReturnStaff is false:
		say "[if unvisited]The door is propped open. Peeking your head in, you catch a glimpse of a strange sight. A rag-tag collection of Theatre Department undergraduate senior acting majors, MFA actors, and PhD students are twirling large sticks around in some sort of pattern that you don't quite understand.[paragraph break]The sight is magnetizing, and you simply stare into the room. [bold type]Zev Steinrock[roman type], the stage combat instructor, is demonstrating long-form staff parries. Maybe you could [bold type]ask[roman type] him about the staffs.[else if player has staff]Zev is teaching another phrase of choreography: thrust, parry four, piston back, retreat, advance, and a garble of other technical terms you don't quite understand. He gives you a sympathetic look and says, 'Go ahead and give that staff a few [bold type]twirls[roman type] to see how it feels.[else]The students are hard at work remembering choreography and spacing themselves to prevent collisions.";
	if ReturnStaff is true:
		say "Another class has begun and the door is locked. You have plenty of other places to explore!"
		
Instead of going west from KrannertCatacombs:
	say "Another class has begun and the door is locked. You have plenty of other places to explore!"
	
OperaStudents are scenery people in Opera Rehearsal Room. "The students are busy performing a small phrase of choreography. You watch as one student thrusts and their partner parries the attack. It's graceful and intriguing."

Understand "students" and "opera students" as OperaStudents.
The printed name of OperaStudents is "students".

Zev Steinrock is a scenery person in Opera Rehearsal Room. "Zev is an assistant professor in the Theatre department. He's energetic, a passionate teacher, and he greatly enjoys saying the word 'pedagogically' while pushing up his glasses."
Zev Steinrock is proper-named.

Instead of interrogating Zev about BambooStaff: 
	if player is not carrying BambooStaff:
		say "Zev looks over at you and sees that you're one of the new students on campus. 'You can grab a staff from the [bold type]Weapons Closet[roman type] and come join us!'[paragraph break]You see the Weapons Closet on the far [bold type]west[roman type] side of the room.";
	else:
		say "Zev says, 'How about giving it a twirl?'"

Understand "zev" and "professor steinrock" and "stage combat teacher" as Zev Steinrock.

Understand "ORR" and "opera" and "opera room" and "opera rehearsal" as Opera Rehearsal Room.

Weapons Closet is a room. The Weapons Closet is west of Opera Rehearsal Room. "The motion-actived LEDs overhead snap on as you step into the small closet. You are surrounded by stage weapons of varying types: single swords, Kali sticks, and staffs. A lone staff waits for you in the corner of the closet. Having not been picked by the other students, you're sure it's grateful to be taken out for a spin. You can exit the closet by going [bold type]east[roman type]. Zev will give you instructions when you come back into the room."

Single swords are scenery in Weapons Closet. "There must be close to twenty-five single swords delicately hung from the walls of the closet. Although you know they're stage-safe weapons, the garnished hilt and glistening appearance of the blade certainly look cool."

Understand "sword" and "swords" as single swords.

Kali sticks are scenery in Weapons Closet. "A collection of small, thick bamboo sticks lay in a basket in the corner. You overhead a few of the students mention Kali, but all you could gather was something about Filipino martial arts and different patterns of attack."

Understand "sticks" and "Kali" as Kali sticks.

BambooStaff is a twirlable object in Weapons Closet. "The lone staff is nearly your height and made of smooth bamboo. You're excited by the opportunity to mess around with it - safely, of course. Go ahead and [bold type]take[roman type] it."
Understand "staff" and "bamboo staff" and "staffs" and "the staff" and "the staffs" as BambooStaff.
The printed name of BambooStaff is "bamboo staff".

[
BigTwirl is a number variable. BigTwirl is 0.

Before twirling something:
	increase BigTwirl by 3.

PlayerRemoval is a number variable. PlayerRemoval is 0.

Every turn when BigTwirl is 6 and ReturnStaff is false:
	say "Your brief time training has led you to this moment. You take a deep breath and flawlessly perform a long-form combat sequence. You might be a stage combat prodigy.";
	increase PlayerRemoval by 3.
	
Every turn when PlayerRemoval is 3 and ReturnStaff is false:
	say "Zev's phone plays a delightful chime, signaling the end of class. He turns to you and says 'Thanks for joining us today! Please [bold type]drop[roman type] your staff before leaving. Hopefully we'll see you around Krannert again!'".
]

	
Instead of dropping BambooStaff: 
	say "You drop the staff to the floor and thank Zev for his time before exiting the room.";
	now BambooStaff is nowhere;
	now player is in Krannert Catacombs;
	now ReturnStaff is true.

ReturnStaff is a truth state variable.
ReturnStaff is false.

PlayedFlawlessly is a truth state variable. PlayedFlawlessly is false.
TwirlCounter is a number variable. TwirlCounter is 1.

Instead of twirling BambooStaff when player is in KrannertCatacombs and PlayedFlawlessly is false:
	if TwirlCounter is less than 5:
		choose a random row in the Table of Twirling;
		say "[text entry][paragraph break]";
		blank out the whole row;
		increment TwirlCounter;
		stop the action;
	else:
		say "Your brief time training has led you to this moment. You take a deep breath and flawlessly perform a long-form combat sequence. You might be a stage combat prodigy.[paragraph break] Zev's phone plays a delightful chime, signaling the end of class. He turns to you and says 'Thanks for joining us today! Please [bold type]drop[roman type] your staff before leaving. Hopefully we'll see you around Krannert again!";
		now PlayedFlawlessly is true.
		
	
Table of Twirling
Text
"You attempt to twirl the staff, but it flies out of your hand. The staff makes a loud [italic type]thwack[roman type] as it hits the ground. All of the students shout 'Hooray for Learning!' Zev explains that staffs hitting the floor indicates that his students are at least attempting to learn."
"You attempt to twirl the staff, but the point smacks into the student next to you. You quickly mumble an awkward apology."
"You twirl the staff successfully, earning you a murmur of approval from the collection of students."
"Your innate ability to twirl staffs makes itself known as you successfully execute a moulinet (without even knowing what that is)."
"You twirl the staff from one hand to the other, dazzling the onlookers."

Chapter 5 - Intermezzo and Concert Game

Section 1 - Cafe Scenario

intermezzo counter is a scenery container in intermezzo cafe. "an abandoned cup of coffee is sitting on the counter."

abandoned cup of coffee is a drinkable thing in intermezzo counter. "You probably shouldn't make it a habit to drink other people's coffee, but your need is dire."

Instead of drinking abandoned cup of coffee:
	say "You take a quick gulp of the coffee. Yuck, hazelnut, just what you deserve. But your pangs cease.";
	now HadCoffee is true. 
	
Instead of going nowhere from Intermezzo Cafe:
	say "As you wander over into the sunlight you notice a door at the back of the Cafe.";
	

BackstageDoorOpen is a truth state variable. BackstageDoorOpen is false.

Instead of examining Backstage Door for the first time:
	say "This unlabeled door at the back of the Cafe was trying so hard to be inconspicious that you couldn't help but notice it. [if closed]The door appears to be locked.[else]This door leads down to a backstage area.[end if]";
	stop the action.

Instead of examining Backstage Door:
	if backstage door is locked:
		say "[line break]The door appears to be locked.";
	else:
		say "Through the door you can see stairs leading [bold type]down[roman type].";
	stop the action.

Instead of going down from Intermezzo Cafe:
	if backstage door is locked:
		say "[line break]The door appears to be locked.";
	else:
		say "You quietly open the unlocked door and try not to look like you are sneaking as you creep down the stairs. They seem to lead to a backstage area.";
		now player is in Back Stage.

Call bell is a scenery thing in the Intermezzo Cafe. The printed name is "the call bell".
Instead of taking call bell:
	say "It's stuck to the counter."

BellRinging is an action applying to nothing. Understand "ring bell" and "ring call bell" as BellRinging.
Carry out BellRinging:
	say "Ding, ding."

Instead of BellRinging when player is in Intermezzo Cafe:
	if Backstage door is closed:
		say "The cheery 'ding' that emerges from the silver bell doesn't seem to elicit any response from behind the office, though you hear the sound of a 'click' to the east.";
		now backstage door is unlocked;
		now backstage door is open;
		stop the action;
	else:
		say "The silence following the cheery 'ding' from the silver bell is a bit disappointing, but not unexpected. You hear a clicking sound in the back of the cafe.";
		now backstage door is locked;
		now backstage door is closed.

Instead of switching on the call bell for the first time:
	say "The cheery 'ding' that emerges from the silver bell doesn't seem to elicit any response from behind the office, though you register some strange clanging noises coming from the direction of Intermezzo.";
	now backstage door is open.

Windows are scenery in Intermezzo Cafe. "The large bay windows allow the afternoon light to fill the cafe with bright, warm light. However, there is a suspiciously dark area in the East part of the cafe, with shadows that appear to want to obscure the shape of a... door?"
Square Tables are scenery in Intermezzo Cafe. "You've noticed there are plenty of open tables to sit at, and resolve to try doing homework here someday."
The Intermezzo Fridge is a closed, openable container in the Intermezzo Cafe. "A tall refrigerator with a glass door is installed where customers can reach it."
The printed name of the Intermezzo Fridge is "fridge".
Understand "fridge" as Intermezzo Fridge.
Understand "refrigerator" as Intermezzo Fridge.
 The Intermezzo Fridge is fixed in place.
 The description of the Intermezzo Fridge is "You peer into the glass face of the fridge door. There appear to be various beverages lined up inside the fridge, but you are more interested in the freshly-made sandwiches, some vegetarian wraps with green tortillas, and cups of yogurt with granola."

A Krannertsandwich is an edible thing in the Intermezzo Fridge. The description of Krannertsandwich is "Two slices of whole wheat bread hold crisp leaves of lettuce, slices of black pepper turkey, fresh red bell pepper, tomatos, and avocado."
After eating the Krannertsandwich: 
	say "You feel content and quite full."
Understand "sandwich" as Krannertsandwich.

A veggie wrap is an edible thing in the Intermezzo Fridge. The description of the veggie wrap is "This wrap contains hummus, red pepper, zucchini, spinach, and onions, and is seasoned to perfection." 
After eating the veggie wrap: 
	say "You feel content and quite full."
Understand "vegetable" and "vegetarian" as veggie.
A parfait is an edible thing in the Intermezzo Fridge. The description of the parfait is "This cup of yogurt and granola also appears to contain slices of strawberry and a generous helping of blueberries." 
After eating the parfait: 
	say "The dessert filled you up somewhat."
Understand "yogurt" and "yoghurt" and "granola" as parfait.

StagehandKey unlocks the stagehand toolbox. StagehandKey is in the Intermezzo Fridge. The description of StagehandKey is "A silver key no larger than the pad of your thumb is capped with black plastic. A small tag is attached with the letters 'KCPA' printed on it. It must open something in the Krannert Center."
The printed name of StagehandKey is "small silver key".
Understand "small silver key" as StagehandKey.

Instead of taking Stagehandkey for the first time:
	say "You wonder, why would someone put a key in the fridge? Maybe they forgot it while on break? Might come in handy later.";
	continue the action.

Section 2 - Backstage

Instead of going nowhere when player is in Back Stage:
	say "Unfortunately, you are unable to find any doors that lead onto the stages of Krannert. Looks like you can't put on a performance in Foellinger today. Better head back through the door to the West and see what's actually playing!";
	stop the action.

Set Pieces are scenery in Back Stage. "Among the set pieces under construction here include a beautifully detailed exterior to a brick townhouse, a set of abstractly laid out platforms connected by metal stairs, and half of a small fountain.".
fountain pieces are scenery in Back Stage. "The pipes of the fountain in progress are clearly displayed, but the marbled stone pieces are perfectly arranged into a promising half circle."
A costume rack is a container in Back Stage. A costume rack is fixed in place. "A sturdy metal rack filled with hangers, clothes stuffed closely together, lies off to the side."
The description of the costume rack is "You probably shouldn't touch any of this, but you admire the craftsmanship of the various costumes hung on the frame."
A jacket and a dress are kinds of things. A jacket and a dress are usually wearable.
Regency jacket is a jacket. Regency jacket is in a costume rack. "The jacket is made of rough blue cotton stitched with white. You would look rather Darcy-ish in this jacket."
Instead of wearing Regency jacket:
	say "This isn't your costume!";
	stop the action.
Instead of taking Regency jacket:
	say "You're not in Pride and Prejudice, are you?";
	stop the action.
Regency dress is a dress. Regency dress is in a costume rack. "This flowing muslin gown would look quite good on a Bennet."
Instead of wearing Regency dress:
	say "This isn't your costume!";
	stop the action.
Instead of taking Regency dress:
	say "You aren't in Pride and Prejudice, are you?";
	stop the action.
Regency ballgown is a dress. Regency ballgown is in a costume rack. "Silks, taffetta, and lace - oh my!"
Instead of wearing Regency ballgown:
	say "This isn't your costume!";
	stop the action.
Instead of taking Regency ballgown:
	say "You aren't in Pride and Prejudice, are you?";
	stop the action.
piles of clothes is an open container in Back Stage. The piles of clothes is fixed in place. "Piles of clothes, some folded and some not, are scattered around the backstage area. Someone was probably trying to sort through them earlier."
The description of piles of clothes is "Clothing from a wide range of time periods and genres are contained in these piles, in an order indiscernible to you."
Instead of taking the piles of clothes:
	say "You shouldn't mess around with whoever was trying to organize these costumes."; stop the action.
costume fabric is scenery in Back Stage. "Pieces of fabric scraps litter the floor, adding to the general clutter of the area."
The stagehand toolbox is a closed, openable, locked, lockable container in Back Stage. "A sturdy black plastic toolbox sits by an unfinished fountain."
The description of the stagehand toolbox is "Toolboxes are an important part of the work of a stagehand.[if locked] It appears locked.[else] Looks like you're ready to start building some sets!"
Instead of opening the stagehand toolbox for the first time:
	continue the action.

a power drill is a device in the stagehand toolbox. "a black and orange power drill."
The description of the power drill is "A sleek power tool with a dangerous looking metal tip, this Black & Decker drill is mostly used in set construction at Krannert... but who knows what you'll use it for."
Understand "dangerous" and "metal" and "tip" as drill.
Instead of switching on the drill:
	say "The drill whirrs to life, emitting a steady buzz for about ten seconds... before sputtering into silence. Looks like the batteries have died.";
	stop the action.
Instead of examining the costume rack:
	if stagehand toolbox is locked:
		say "You feel a powerful wave of mischief threaten to overwhelm you as you look at all the fun costumes on the rack. You wonder if anyone would notice if you tried something on?";
		The Staff Member Appears in 2 turns from now;
	else:
		say "You probably shouldn't try on any of the clothes on the rack, but you admire the craftsmanship of the various costumes hung on the frame."
At the time when The Staff Member Appears:
	say "A staff member approaches from the opposite hallway and gasps at the appearance of an intruder. You've been caught! 'You're not supposed to be here!' the staff member exclaims, rather redundantly. You're ushered up the stairs and feel the door slam forecefully behind you with a click.";
	now the player is in Intermezzo Cafe;
	now Backstage Door is closed.

Section 3 - Great Hall 

Instead of going nowhere when player is in Great Hall:
	say "To exit the hall, go [bold type]west[roman type] up the stairs."
	
Symphony is scenery in Great Hall. "You need to listen to the music more closely if you want to determine what is playing."
Understand "music" as symphony.

Instead of listening to symphony:
	say "You close your eyes and tune in closely to the ebb and flow of the music... You immediately recognize that the orchestray is playing Dvorak's New World Symphony!";
	stop the action.

Section 4 - Stage 5

instrument cases are scenery in Stage 5. 
Understand "instrument cases" and "cases" and "stage" as some instrument cases.

The description of instrument cases is "Resting on the edge of the stage there is a small case with three silver locks,  a medium case with two silver locks, and a large case that has a zipper all the way around its large body." 

A quartet is a scenery person in Stage 5. 

Violinists are scenery in Stage 5. 

The description of violinists is "Though the first and second violin parts are arranged to seem as though the players are constantly trying to one-up each other, the violinists keep trading smiles."

Instead of talking to violinists:
	say "The musicians keep playing, focusing on the music for now."
Instead of asking violinists about something:
	say "The musicians keep playing, focusing on the music for now."
Instead of talking to quartet:
	say "The musicians keep playing, focusing on the music for now."
Instead of asking quartet about something:
	say "The musicians keep playing, focusing on the music for now."

Cellist is scenery in Stage 5. 

The description of cellist is "The cellist owns a beautiful dark red instrument, whose tone lends a warm, steady rhythm to the piece."
Instead of talking to cellist:
	say "The musician keeps playing, focusing on the music for now."
Instead of asking cellist  about something:
	say "The musician keeps playing, focusing on the music for now."

Violist is scenery in Stage 5. 
The description of violist is "Even if most viola parts are unbelievably boring, there are a few pretty passages where the violist can show off their skills."
Instead of talking to violist:
	say "The musician keeps playing, focusing on the music for now."
Instead of asking violist about something:
	say "The musician keeps playing, focusing on the music for now."

A small instrument case is a closed, openable scenery container in Stage 5. 

The description of the small instrument case is "The case is smaller than most instrument cases, so you assume it holds a violin inside.[if closed] It appears closed.[otherwise if open] You notice the case is lined with red velvet."

Bach is a stringed instrument. Bach is inside the small instrument case. The printed name of Bach is "a violin". The description of Bach is "The violin is beautifully varnished with red, and is accompanied by a black horsehair bow.".
Understand "violin" as Bach.
Instead of playing Bach for the first time:
	say "You attempt to play Twinkle Twinkle Little Star on the violin. Adorable.";
	continue the action.

A medium instrument case is a closed, openable scenery container in Stage 5. 

The description of the medium instrument case is "You assume by the slightly larger size that this case is meant to hold a viola.[if closed] It appears closed.[otherwise if open] The case has many compartments in its soft gray lining."
Vivaldi is a stringed instrument. Vivaldi is inside the medium instrument case. The printed name of Vivaldi is "a viola". Understand "viola" as Vivaldi. The description of Vivaldi is "The viola is considerably heftier than its smaller cousin, but you appreciate the mellow quality of its sound."
Instead of playing Vivaldi for the first time:
	say "You attempt to play Twinkle Twinkle Little Star on the viola. Adorable.";
	continue the action.

A large instrument case is a closed, openable scenery container in Stage 5. 

The description of the large instrument case is "You wonder what it would be like if you chose to join the orchestra in elementary school and needed to haul around a cello as big as you were.[if closed] It appears closed.[otherwise if open] The instrument is protected by velvety lining."
Canon is a stringed instrument. Canon is inside the large instrument case. The printed name of Canon is "a cello". Understand "cello" as Canon. The description of Canon is "The cello is stained with dark varnish. You imagine its sound is deep and rich."
Instead of playing Canon for the first time:
	say "You attempt to play Twinkle Twinkle Little Star on the cello. Adorable.";
	continue the action.

Dragonetti is a stringed instrument. Dragonetti is in Stage 5."An impressive double bass is propped against the stage close to the quartet.".
The printed name of Dragonetti is "a double bass".

 Understand "double bass" and "bass" as Dragonetti. The description of Dragonetti is "The double bass is coated in light brown varnish and accompanied by a heavy German horsehair bow."
 Instead of taking Dragonetti:
	say "The man with the dreadlocks shoots you a quelling glare. You take a step back from the elegant instrument.";
	stop the action.
Instead of playing Dragonetti for the first time:
	say "[if CharlieName is true]You attempt to emulate Charlie's coolness.[else]You attempt to emulate the dreadlocked man's coolness.";
	continue the action.

[Prevents player from taking instruments away]
Instead of going north in Stage 5:
	if the player is carrying an instrument:
		say "The dreadlocked man raises a perfectly judgemental eyebrow at you, jerking his head at the other musicians on stage. You'd better put the instrument back where you found it.";
		stop the action;
	else:
		continue the action.
Instead of going west in Stage 5:
	if the player is carrying an instrument:
		say "The dreadlocked man raises a perfectly judgemental eyebrow at you, jerking his head at the other musicians on stage. You'd better put the instrument back where you found it.";
		stop the action;
	else:
		continue the action.

CharlieName is a truth state variable. CharlieName is false.

A dreadlocked man is a person in Stage 5. "[if CharlieName is false]A tall man with blond dreadlocks and a sling over one arm seems to be in a permanent state of lounging near the stage.[else]Charlie scratches the back of his neck with the arm not currently in a sling, nodding along to the music."

The description of the dreadlocked man is "[if CharlieName is false]He seems like an easygoing musician. He stands close to the bass at the edge of the stage and seems to glance frequently over to it.[else]Charlie strikes you as an easygoing musician. He stands close to the bass at the edge of the stage and seems to glance frequently over to it."
Understand "Charlie" as dreadlocked man.

Instead of talking to dreadlocked man:
	if CharlieName is false:
		say "'Huh?' he blinks. 'Oh, my name is Charlie. Nice to meet you.'";
		now CharlieName is true;
	else:
		say "You can ask me about the Dragonetti if you want."

Instead of interrogating the dreadlocked man about the dreadlocked man:
	say "'Huh?' he blinks. 'Oh, my name is Charlie. Nice to meet you.'";
	now CharlieName is true.
Instead of asking the dreadlocked man about "his name":
	say "'Huh?' he blinks. 'Oh, my name is Charlie. Nice to meet you.'";
	now CharlieName is true.
Instead of asking the dreadlocked man about "name":
	say "'Huh?' he blinks. 'Oh, my name is Charlie. Nice to meet you.'";
	now CharlieName is true.
Instead of interrogating the dreadlocked man about Dragonetti:
	if ProMusician is true:
		say "'That's my bass,' he says proudly. 'Been together for about 7 years now. You can take her for a ride, I can tell you treat your instruments nicely.";
	if ProMusician is false:
		say "'That's my bass,' he says proudly. 'Been together for about 7 years now. I'd appreciate it if you left her alone, though. She's not easy for a newbie to handle.'"
Instead of interrogating the dreadlocked man about instruments:
	say "'Those belong to my fellow musicians. Unfortunately I can't play with them, since I broke my arm yesterday.' He pushes back a few dreadlocks with a sigh."

Instead of asking the dreadlocked man about "orchestra":
	say "He smiles broadly. 'I've been a bass player since the fourth grade!' he exclaims proudly. 'I'm a senior in music comp at the university. It's pretty cool playing with CUSO, they're a bunch of fun guys. Even the old dudes. They know how to cut a rug, let me tell you.'"
Instead of asking the dreadlocked man about "director":
	say "He momentarily schools his expression into a serious stare, but ends up breaking into a grin. 'The orchestra director is a pretty scary strict dude, but he knows his stuff. He's really passionate about music. I try not to step on his toes. He always has good critique for his musicians.'"
Instead of asking the man about "Krannert":
	say "He smiles at the question. 'I actually worked as an usher for a bit my freshman year. They had a backstage tour for newbies, but I wish they weren't such sticklers about who they allow back there. You'd have to be pretty sneaky about getting in if you don't have an official reason to go...'"

Instead of interrogating the dreadlocked man about something:
	say "He seem a bit preoccupied, and doesn't answer."

Instead of asking the dreadlocked man about something:
	say "You get the idea that he is ignoring you."

Instead of interrogating the dreadlocked man about Backstage Door:
	if Backstage Door is closed:
		say "He gets an excited glint to his eye. 'Did you notice the door near Intermezzo? I heard that there's something at the ticket office that the employees use to go backstage. I've tried opening it before but got in trouble with one of the guards. Let me know if you figure it out.'";
	if Backstage Door is open:
		say "He breaks out into a wide grin. 'Dude. Have fun. I'd go with you, but I don't want to get in trouble with my director. Bring me back something cool?'"
Understand "backstage" as Backstage Door.
Understand "small door" as Backstage Door.
Understand "door" as Backstage Door.

Instead of talking to the dreadlocked man:
	say "[if CharlieName is false]He smiles and chats with you for a bit, sharing the details of his day and the long CUSO practices he had to attend for a concert he won't be able to play. Every so often, he waves his sling around to emphasize a point.[else]Charlie smiles and chats with you for a bit, sharing the details of his day and the long CUSO practices he had to attend for a concert he won't be able to play. Every so often, he waves his sling around to emphasize a point."
Instead of giving something to the dreadlocked man:
	if noun is an instrument:
		say "'Thanks, man. I'll hold onto this for my crew,' he says.";
		now the dreadlocked man has the noun;
		stop the action;
	if noun is CUSO Brochure:
		say "He looks over it with a smile. 'You gonna see the show, man? Dvorak's one of my favorite composers. Don't miss it!'";
		stop the action;
	if noun is power drill:
		say "'You got this from backstage, didn't you?' His draw drops. 'Quickly, dude! The security guards won't like you carrying that around.'";
		now the dreadlocked man has the noun;
		stop the action;
	else:
		say "'I probably shouldn't take that, man,' he says apologetically. 'Don't want to get in trouble with my director.'";
		stop the action.
Instead of attacking the dreadlocked man:
	say "He moves with incredible speed to deflect the oncoming blow, grabs your wrist, wraps it around your back, and has you pinned in seconds. All with a broken arm. You shouldn't mess with this guy.";
	stop the action.
Every turn when dreadlocked man is in the location:
	if a random chance of 1 in 10 succeeds:
		say "The dreadlocked man[one of] hums a few jazzy bars under his breath.[or] bobs his head erratically to the music[or] takes the German horsehair bow and begins to rosin the bow.[or] snaps appreciatively when his fellow musicians finish off a particularly difficult passage.[at random]"

ProMusician is a truth state variable. ProMusician is false.

	
Section 5 - Center Lobby Conversations

KrannertStudents are scenery people in CenterLobby.  "You think you can tell which students are studious freshmen and which ones are feeling some major senioritis."
KrannertStudents are scenery.
The printed name of KrannertStudents is "students".
Understand "students" as KrannertStudents.

Instead of asking Krannertstudents about "homework":
	say "One student perks up after hearing your question about the gen ed you're taking. 'Oh, I'm in that section too,' he says. He lets you know that there's a reading quiz tomorrow. Great..."
Instead of interrogating KrannertStudents about something:
	say "The students rustle uneasily over their textbooks, concerned that you're just talking loudly to yourself."
Instead of interrogating KrannertStudents about print pieces:
	say "The general consensus is that those books and papers have been sitting at the table since the morning. No one knows who they belong to."
Instead of interrogating KrannertStudents about Hamlet:
	say "A few English or Theater students look up with raised brows at your question, but before one of them can launch into a Shakespearean rant, you hastily say, 'Nevermind.'"

older patrons are scenery in CenterLobby. "Most of the older patrons are waiting patiently for the show they want to see. Some are in couples or groups, chatting amicably."
Understand "patron" as patrons.

HappyFed is a truth state variable. HappyFed is false.

A craggy gentleman is a scenery man in CenterLobby. 
The description of the craggy gentleman is "A bald gentleman with a deeply-lined face [if HappyFed is false] glowers under his broad-brimmed hat as he guards his seat in the lobby.[else]nods at you from under his broad-brimmed hat."

Instead of giving something to craggy gentleman:
	if the noun is edible:
		say "The gentleman eyes the [noun] with a look of surprise, but mutters 'Thanks.' As he finishes the [noun] his craggy face seems to smooth and he offers a small, appreciative smile.";
		now the craggy gentleman has the noun;
		now HappyFed is true;
	else:
		if HappyFed is false:
			say "The gentleman barks, 'Quit bothering me, whippersnapper!'";
			stop the action;
		if HappyFed is true:
			say "The gentleman gruffly remarks, 'No, I don't need none of that, youngster.' He shifts around in his chair but doesn't seem as ready to bite your head off.";
			stop the action.

Instead of interrogating the craggy gentleman about something:
	say "The gentleman pretends not to have heard you."

Instead of asking the craggy gentleman about something:
	say "The gentleman pretends not to have heard you."

Instead of talking to the craggy gentleman:
	if HappyFed is false:
		say "The gentleman shoots you an impressive scowl as you sit by him and chatter about your day. Maybe he's cranky because his blood sugar is running low?";
	if HappyFed is true:
		say "Now that the gentleman has had a bit to eat, he seems a bit more amenable to talking about the show he's planning to see later today: a stage adaptation of 1984, by George Orwell."


An elderly couple are scenery people in CenterLobby. 
The description of the elderly couple is "They seem impeccably dressed for their evening. The silver-haired lady leans against her companion, dressed in a long, layered dress with floral patterns. The elderly man's cravat matches the pattern. They are smiling at each other and talking softly."
Every turn when the player is in Great Hall:
	move the elderly couple to the location of the player.
Instead of talking to the elderly couple:
	if player is in CenterLobby:
		say "The elderly couple seems happy to sit and chat while they wait for the show to start. They mention that they're excited to see the Champaign-Urbana Symphony Orchestra perform, since the elderly lady was a cellist for the orchestra when she attended school here. They mention that they met each other while attending the University of Illinois and have been together since!";
	if player is in Great Hall:
		say "The elderly couple definitely enjoyed the performance. They share with you some of their favorite moments and praise the orchestra for picking a good selection of pieces. It's nice to see the two of them finding ways to enjoy music in any form."
Instead of interrogating elderly couple about something:
	say "The pair exchanges puzzled glances. They shrug and smile at you apologetically."
Instead of interrogating elderly couple about symphony:
	say "The lady launches into a detailed and excitable explanation of Dvorak's style as a composer. Her companion smiles fondly and tells her to slow down. You feel like you've learned a lot, however!"
	
Instead of listening to the elderly couple:
	say "Try paying closer attention to the symphony playing."

Instead of asking elderly couple about "orchestra":
	say "You ask the couple about the last time they saw the orchestra perform. The man thinks for a bit and says, 'You know, it might be when you were in it, dear.' 'That's too long ago!' the lady laughs."

Instead of giving something to the elderly couple:
	if noun is CUSO Brochure:
		say "The lady brightens up when you show her the brochure. 'I used to play cello for the orchestra while I was in school here!' she exclaims. 'They're really quite good, even if I'm not playing much these days.' Her companion winks at you as she laughs. 'You ought to see them, they're set to perform soon.'";
		stop the action;
	else:
		say "'Oh, we don't need anything like that,' the elderly man declines kindly.";
		stop the action.

Circular Tables are scenery in CenterLobby. "You would describe the furniture in the Krannert Center as relatively sleek and modern."
KrannertTable is a supporter in CenterLobby. "An unattended table has been set at the edge of the seating area. You can see a pile of print pieces on its surface." Krannert Table is fixed in place.
The printed name of KrannertTable is "table".
Understand "the table" and "table"  as the KrannertTable.
Instead of examining the KrannertTable:
	say "On the table is a pile of print pieces, which contain various books, newspapers, and brochures."

a pile of print pieces is an open container on KrannertTable. 
a pile of print pieces is scenery.
The description of the pile of print pieces is "An assortment of printed material is piled here." 
A copy of the Daily Illini is in the pile of print pieces. The description of the Daily Illini is "Yesterday's edition of the Daily Illini features a story about the marching band on the front page."
Understand "newspaper" as a copy of the Daily Illini.
Instead of taking a copy of the Daily Illini:
	say "You've already read the stories in this copy, no use taking it now."; stop the action.
Instead of opening the Daily Illini:
	say "You've already read the stories in today's copy."; stop the action.

CUSO Brochure is in the pile of print pieces. The description of CUSO Brochure is "You notice that the orchestra is performing a selection of Dvorak pieces in Foellinger Great Hall today."
Instead of taking CUSO Brochure for the first time:
	say "You decide taking a program for the group that's performing today might come in handy.";
	continue the action.
	
Hamlet is a readable thing in the pile of print pieces. The description of Hamlet is "A tale of familial love, loss, and murders most foul await in the state of Denmark."

Instead of reading Hamlet:
	say "To be, or not to be? That is the question. You remember reading this book in high school but don't feel like doing so again. You close the book."; 
	stop the action.

Instead of taking Hamlet:
	say "Someone probably needs to read this for a class and is frantically looking for it. Best leave it here."; stop the action.
Understand "book" and "books" as Hamlet.

Every turn when player is in CenterLobby:
	if a random chance of 1 in 5 succeeds:
		choose a random row in the Table of Lobby Events;
		say "One of the students studying in the lobby [event entry][line break]"

Table of Lobby Events
event
"falls out of their chair, appearing to have suffered a narcoleptic episode, or perhaps they studied too hard."
"belches so loudly you think you hear an echo."
"whimpers quietly, 'I'm so tired of Shakespeare...' A few others murmur in sympathy."
"sneezes."
"waves at you. You recognize them from one of your classes, but they look pretty swamped with study materials."
"accidentally blasts music from their laptop, before hastily plugging in their headphones."
"knocks their cup of coffee onto the floor and curses loudly."

Chapter 6 - Mini Krannert Boss Fight

KrannertSnowfall is a backdrop in KrannertCenterMap.
Understand "snow" and "snwo" and "sno" and "snofall" and "snow fall" as KrannertSnowfall.

The description of KrannertSnowfall is "The falling snow is very pretty, but a little bit strange. The building is quite warm, but the snow doesn't melt until it touches the ground."

Instead of taking KrannertSnowfall:
	say "You try to catch a snowflake, but it disappears as soon as it touches your hand."
	
Instead of eating KrannertSnowfall:
	say "You put out your tongue, but don't manage to catch any snow."

Every turn when player is in KrannertCenterMap and RaidCompleted is false: 
	if a random chance of 1 in 3 succeeds and the player is not in Stage 5:
		say "A dusting of snow falls gently down from the high ceiling of Krannert Center." 

RaidActive is a truth state variable. RaidActive is false.
RaidCompleted is a truth state variable. RaidCompleted is false.

EastRaid is a room. "[if unvisited]This is it. You've been waiting all your life for this grand fight inside a dimensional flux in Krannert. You see two giant snowmen with huge snow muscles flexing at you. One of them is BEEFBOSS, champion of strength and vigor. The other FROSTBITE, the intelligent cleric. Alongside you are two trustworthy companions. Professor Pintar the sharpshooting archer and Brandon the Paladin of might. A spellbook conjurs itself up and has your name on it. What a great weapon![end if][if visited][one of]You ready your spellbook that appeared.[or]Professor sharpens an arrow.[or]Brandon brandishes his bramble branded sword.[at random][end if]."
The printed name of EastRaid is "Krannert Raid". 
BeefHP is a number variable. BeefHP is 70.
FrostHP is a number variable. FrostHP is 50.
PlayerHP is a number variable. PlayerHP is 25. 
RaidTurn is a number variable. RaidTurn is 0.
BuffBeef is a truth state variable. BuffBeef is False.

Mini Krannert is photogenic scenery in KrannertEntranceSouthwest. 

Understand "Model of Krannert" and "large glass display case" and "glass display case" and "display case" and "case" and "display" and "large display case" as Mini Krannert.

The description of Mini Krannert is "The glass case holds a tiny model of Krannert Center for the Performing Arts and the streets around it. How quaint! You notice something odd as you look closer. There seem to be a couple of tiny snowmen on the roof of Krannert, and facing them down are two tiny warriors. That's weird."

Does the player mean photographing mini krannert:
	it is very likely.

After examining Mini Krannert for the first time:
	Say "Suddenly, someone rushes to your side. ‘Be careful! I’ve heard stories about people getting sucked into a RAID BOSS FIGHT if they EXAMINE it for too long!' After giving you this warning they rush away again before you could reply or even get a good look at them."

Instead of examining Mini Krannert for the second time:
	If RaidCompleted is false:
		Say "You ignore the good samaritan's warning and gaze at the model again. You feel yourself being physically absorbed into it as the world fades to black…[paragraph break]";
		Now RaidActive is true;
		Now player is in EastRaid.

Instead of examining Mini Krannert when RaidCompleted is true:
	Say "Inside the case is a tiny model of Krannert Center for the Performing Arts and the streets around it. You search from all sides of the case, but the tiny figures are gone." 

Beefboss is a scenery person in EastRaid. The description of Beefboss is "A truly chilling sight of a snowman with strained muscles who looks like he wants to plow you."
Frostbite is a scenery person in EastRaid. The description of Frostbite is "Beefboss's twin brother but instead he has a magical staff."
Understand "Beef boss" and "Beefboi" and "Beef" and "Big Boss" and "boss" as Beefboss.
Understand "Frost bite" and "Frosty" and "Frost" and "Bite" and "Jack Frost" as Frostbite.

Instead of going nowhere when player is in EastRaid:
	say "You started this. You must end it."

Instead of examining something when player is in EastRaid:
	if noun is Beefboss or noun is Frostbite:
		continue the action;
	else:
		say "You don't have time for that. Attack!" 
	
Every turn when player is in EastRaid:
	say "[bold type]Beefboss HP:[roman type] [BeefHP][line break][bold type]Frostbite HP: [roman type][FrostHP][line break][bold type]Your HP: [roman type][PlayerHP][line break]".

Instead of attacking Beefboss:
	say "[one of]You use your new magic book which just reads out to be some math that nobody cares about and summon a fireball and shoot it at the swoleman.[or]You chant under your breathe for the warmth to save you and punish the beefy boi.[or]You cast magic missile, but its made out of fire.[or]Brandon watches in amazement as a magma flow erupts from your book at Beefboss.[at random]";
	If a random chance of 1 in 4 succeeds:
		say "Critical hit! Beefboss loses a chunk of his body and loses 20 HP!";
		decrease BeefHP by 20;
		increase RaidTurn by 1;
	else:
		say "Nice attack! A solid hit connects and he loses 5 HP!";
		decrease BeefHP by 5;
		increase RaidTurn by 1;

Instead of attacking Frostbite:
	say "[one of]You use your new magic book which just reads out to be some math that nobody cares about and summon a fireball and shoot it at the swoleman.[or]You chant under your breathe for the warmth to save you and punish the frosty boi.[or]You cast magic missile, but its made out of fire.[or]Brandon watches in amazement as a magma flow erupts from your book at Frostbite.[at random]";
	If a random chance of 1 in 4 succeeds:
		say "Critical hit! Frostbite loses a chunk of his body and loses 20 HP!";
		decrease FrostHP by 20;
		increase RaidTurn by 1;
	else:
		say "Nice attack! A solid hit connects and he loses 5 HP!";
		decrease FrostHP by 5;
		increase RaidTurn by 1;
		
Every turn when RaidActive is true:
	if BeefHP is less than 1 and FrostHP is less than 1:
		say "RAID COMPLETE! You leveled up! But that has no meaning outside the case.";
		now RaidActive is False;
		now RaidCompleted is True;
		now the player is in CenterLobby.

Every turn when RaidActive is true and RaidTurn is greater than 5:
	if RaidTurn is greater than 5:
		say "Beefboss attacks! You take 5 HP of damage!";
		say "Frostbite attack! You take 5 HP of damage!";
		decrease PlayerHP by 10.

KrannertRaidFinished is a truth state variable.
		
Every turn when PlayerHP is less than 1 and KrannertRaidFinished is false:
	say "Oh no! Critical Hit! RAID FAILED. [paragraph break]Somehow you know that you will never get another chance...";
	now RaidActive is False;
	now RaidCompleted is True;
	now PlayerHP is 2;
	now KrannertRaidFinished is true;
	now the player is in KrannertEntranceSouthwest. 
	


PART 2 - SPURLOCK MUSEUM

[See WorldSquirrel Section]


PART 3 - ADAMS LAB

AdamsLabInterior is an Interior Location.  "Nothing happening in Adams Lab at the moment. You can [bold type]exit[roman type] from here."

The printed name of AdamsLabInterior is "Adams Lab Entrance".
AdamsLabInterior is inside from Adams Lab.
AdamsLab is a roomproxy in Adams Lab. The printed name of AdamsLab is "Adams Lab".

pile of chemicals is an open container in AdamsLabInterior.  "A pile of chemicals is sitting in the middle of the floor.  How safe."

Sodium chloride is in pile of chemicals.
Hydrochloric acid is in pile of chemicals.
Sodium bicarbonate is in pile of chemicals.
Acetic acid is in pile of chemicals.

Leaf barrel is a scenery supporter in Adams Lab. The printed name of Leaf barrel is "Leaf Barrel".
The description of the Leaf barrel is "It's a rain barrel that stinks at its job; instead of collecting rain it's collecting the essence of autumn (it's filled with leaves.)"

Dillon is an animal on leaf barrel. Understand "frog" as Dillon. The printed name of Dillon is "a peppy frog".

Instead of giving a chemical compound to Dillon:
	Choose a random row from Table of Dillon’s Tips;
	Say "[DillonTips entry].";
	Now the noun is nowhere;
	Stop the action.

Table of Dillon’s Tips
DillonTips
"I heard there are some vampires in McKinley."
"There’s something about that elm tree by the FLB."
"I heard there’s an underground tunnel that has zombies in it."
"Apparently the English building has a ghost.  At least, that’s the rumor."
"Try gazing into my heart sometime. <[bold type] gaze into Dillon's heart[roman type]>"

Instead of taking Dillon:
	now Dillon is carried by the player;
	Say "You lift Dillon high enough to exchange eye contact with the little amphibian.

	‘Dillon,’ you whisper to the frog, ‘will you join on my journey around the University of Illinois at Urbana-Champaign campus?’

Without hesitation, Dillon replies with a cheerful smile:

‘Oh, golly, oh, boy! It would be my absolute pleasure!’

You set Dillon down briefly to let your four-legged friend gather a few chemicals for the road, then scoop up and store the slimy creature safely in your pocket.

‘It’s just you and me, bud,’ you say to Dillon.

Dillon grins at you playfully, then confidently replies:

'I wouldn't have it any other way.'"

Instead of examining Dillon:
	If Dillon is unexamined:
		Say "As you continue your stroll, you spot a peppy little frog hop out of the rain barrel.

	‘Hi there! I’m Dillon, a chemist!,’ exclaims the little fellow, ‘What’s your name?’

After a moment of gawking, you shyly reply with your name. You are, after all, taken aback by the dashing good looks of this particular frog. 

You gaze at the handsome frog. As your jaw drops open in awe and your eyes begin to glaze over, you notice a few multicolor sparks and puffs emerge from Dillon’s tympanum. One particular little particle spirals in the air a bit and hitting you squarely in your forehead, then sputtering out with a quiet whir. That smarts! You can’t help but let out a soft groan.

	‘Golly! Oh my gracious goodness me! My sincerest apologies! My chemistry can get a little wily at times.’

With surprising quickness, Dillon’s powerful tongue launches into the rain barrel, emerging milliseconds later with a few strange chemicals. Throwing a pinch of each into the air in quick succession, a mysterious pill forms out of seemingly nowhere. After a brief wind-up, Dillon throws the pill at your gaping mouth. You begin to cough uncontrollably, but after noticing Dillon’s gentle, wistful gaze, you know that it’s safe for you to swallow.

‘COUGH!’ you cough in surprise. What had this strange little creature done to you!?

But before you’re able to get angry at the tiny chemist, you realize that you feel much, much better. Dillon’s chemistry had healed you!

You can't help but wonder whether this is the way Dillon greets all passers-by.";
		Now Dillon is examined;
		Now the printed name of Dillon is "Dillon";
		Stop the action;
	else:
		Say "You take a good hard look at Dillon, but can't glean anything notable or out-of-the-ordinary about the amphibian, other than the creature's abnormally good looks.
		
		'I may not look very special, but if we get into a sticky situation, try gazing into my heart,' Dillon mentions with a wink."

[dillons skill]
Understand "Gaze into Dillon's heart" or "Gaze into heart" or "gaze into dillons heart" or "Gaze into frog's heart" or "Gaze heart" as gazehearting.
gazehearting is an action applying to nothing.

Check gazehearting:
	if the player does not have Dillon:
		say "Unfortunately, you do not have a frog with a heart proper for gazing.";
		stop the action;
	else if the player is in Adams Lab:
		say "Before you can take a good long gaze, Dillon reaches up a slimy hand, obstructing your view. 
		
		'Gazing while so close to home would be a waste of valuable chemistry,' says Dillon, with an surprisingly serious tone.";
		stop the action.

Carry out gazehearting for the first time:
	say "You lift Dillon up in a fashion reminiscent of the moment you joined forces for the first time. Suddenly, through translucent skin, Dillon’s small heart begins to glow, first faintly, but soon brighter and brighter. As the light begins to blind you, you hear Dillon croak loudly, then emit a fitting cry:
	
	[bold type] By the chemistry inside, take us home![roman type]

";
	Now the player is in Adams Lab;
	say "As you come to your senses, you realize that you are back at the place where your kinship with Dillon began: Dillon’s old abode, the rain barrel. Unfortunately, a menacing ogre has taken advantage of Dillon’s absence and claimed the barrel as its own.

He stares at you with the anger of a thousand boiling geysers.

‘Get out of here, Frog! Your absence has left ME in charge of the barrel-kingdom!’ roars the ferocious beast. 

Dillon crawls up onto the top of your head, leaps into the sky higher than ever before, and shouts at the ogre:
‘You’re not in charge! You’ll never be in charge!’ screams the amphibian, emphasizing the cry by throwing a billiard ball right at the ogre’s forehead with a resounding… splash?

It turns out the ogre was made of water all along!

 The rain barrel fills up a bit.

You wipe some frog-sweat from Dillon’s forehead with your index finger.

‘Great job, buddy. You really proved your mettle back there.’

‘Thanks! I suppose all that chemistry really built up my strength!’ replies Dillon."


Carry out gazehearting:
	say "You lift Dillon up in front of your face and make direct eye contact with the frog. Dillon lets out a wistful croak as you begin to gaze directly into the amphibian's heart, which begins to beat faster and faster with every passing moment. Soon, the chemist's heart begins to glow radiantly, increasing in brightness until you are no longer able to see, and Dillon unleashes a now-familiar cry:
	 
	[bold type] By the chemistry inside, take us home![roman type]
	
	";
	now the player is in Adams Lab.
	

PART 4 - SMITH HALL



SmithHallInterior is an interior location. "[if Smith Auditorium Performance is true]You hear an organ being played inside the main auditorium, and you see stairs leading up to the second floor and down to the basement.[else]The organ in the auditorium is now silent, but the stairs leading [bold type]up[roman type] and [bold type]down[roman type] are still here. The auditorium lies to your [bold type]west [roman type]and you can [bold type]exit[roman type] Smith Hall from here."

SmithHallInterior is inside from Smith Hall.
The printed name of SmithHallInterior is " Inside Smith Hall".

SmithHall is a RoomProxy in Smith Hall. "Smith Hall is one of the older buildings on campus. If I knew who it was named after, I would certainly tell you."
The printed name of SmithHall is "Smith Memorial Hall".
Understand "Smith" and "Smith Hall" and "Smith Memorial Hall" as SmithHall.

Smith Auditorium Performance is a truth state variable.
To decide if Smith Auditorium Performance is true:
	if the organist is in the Auditorium, decide on true;
	decide on false.

Times played instrument is a number variable.
The dusty cello is a stringed instrument.
The description of the dusty cello is "It's a dusty cello. It looks like it has not been touched in a while.".
The dusty cello is in keyed locker.

[
TO DO: See playing action created for Krannert -- resolve incompatibilities

Check playing:
	if the noun is not an instrument:
		say "That's not something you can play." instead.
Carry out playing:
	Increment times played instrument.
Report playing:
]

After playing in Smith Auditorium:
	if noun is stringed:
		say "You improvise a [a random number between 4 and 32]-part fugue. Your music rises to fill the hall. You feel a great sense of completion.";
		now FilledHall is completed;
		now CurrentEnding is FilledHall;
		End the Journey;
		stop the action;
	else:
		say "You feel that this kind of instrument is inadequate for what you are tying to accomplish.  Maybe try a different kind?";
		stop the action.


Smith Organ is scenery.  "A giant organ stands near the far end of the room.  [if Smith Auditorium Performance is true]The organ is being played[else]The organ is silent[end if].".
Smith Organ is in Smith Auditorium.

SmithHalltable is in SmithHallInterior. "A small table stands in front of the doors to the auditorium."
Understand "small table" and "table" as SmithHallTable.
The printed Name of SmithHallTable is "small table".

The description of a smithhalltable is "The table is one of the kind where the legs fold up, and is placed between two doors of the auditorium. You surmise by this that a performance is about to start"

The description of performance program is "It is a program for some sort of a performance."

Smith Auditorium is west of SmithHallInterior. "[if Smith Auditorium Performance is true]You recognize the organ piece being played as Bach's Toccata and Fugue.[else]The organist seems to have left, as the organ is silent once more.[end if] You may exit the auditorium by taking the doors to your [bold type]east[roman type]."

Instead of listening when the player is in Smith Hall and Smith Auditorium Performance is true:
	say "You could probably hear better inside the Auditorium."

Instead of listening when the player is in Smith Auditorium and Smith Auditorium Performance is true:
	say "You hear organ sounds playing Bach's Toccata and Fugue."

Smith Basement is down from SmithHallInterior. "Lockers line the sides of the hallway, and you can hear instruments being played from some of the rooms. If you want to leave it'll have to be [bold type]up [roman type]the way you came down."

plain key is a thing.  "There is a key on the ground."
The description of plain key is "There's nothing really special about it."
Instead of taking plain key:
	say "The key feels a bit heavier than you expected.";
	now the player has plain key.

keyed locker is a locked lockable fixed in place container in Smith Basement. "A certain locker stands out from the others."

The description of keyed locker is "This locker has a lock with a keyhole."

Plain key unlocks keyed locker.

Instead of unlocking locker with plain key:
	say "As you unlock the locker, it flies open";
	now the locker is unlocked;
	now the locker is open.

Smithbanana is an edible thing in the keyed locker. "A banana lies on the top shelf of the locker."
The description of Smithbanana is "The banana is at the perfect banana ripeness level."
Instead of eating Smithbanana:
	say "You eat the banana.  It's pretty good.";
	now the Smithbanana is nowhere.
Understand "banana" as Smithbanana.
The printed name of Smith banana is "a banana".

SmithSecondFloor is up from SmithHallInterior. "The hallways are lined with classrooms, all of which appear dark and locked. The only way out is [bold type]down [roman type]the way you came."

The printed name of SmithSecondFloor is "Smith Second Floor".

mysterious switch is a device in SmithSecondFloor.  "There's a switch installed in the middle of the wall."
The description of mysterious switch is "There's no sign to say what it's for. "

Instead of switching on mysterious switch:
	say "You don't see anything obvious happening.";
	now mysterious switch is switched on;
	if the plain key is nowhere:
		now plain key is in SmithSecondFloor;
		now mysterious switch is undescribed;
		the performance starts in 1 turn from now;
		stop the action.

Instead of switching off mysterious switch:
	say "You think you hear a note of music in the distance, but it's probably just your imagination.";
	continue the action.

Instead of philosophizing:
	if the program is not carried:
		say "You begin to think deeply, but then realize that you have something to accomplish, although you're not sure what it is.";
	else:
		continue the action.

At the time when the performance starts:
	now the program is on SmithHallTable;
	now the organist is in Smith Auditorium.

The organist is a person.  "[if Smith Auditorium Performance is true]Someone out of sight is playing the organ."
The description of the organist is "[if Smith Auditorium Performance is true]You see nothing special about the organist, mostly because you cannot him or her."
Instead of giving or asking or attacking or talking to the organist:
	say "The organist seems to have noticed your presence, because the music suddenly stops.";
	now the organist is nowhere.

The practicing student is a person in Smith Basement.  "One door is very slightly ajar, and you can hear the sounds of a saxophone from inside."
The description of the practicing student is "The student is in one of the rooms practicing a jazz passage on a saxophone."
Instead of giving or asking or attacking or talking to the practicing student:
	say "You feel it would be rude to interrupt the practicing student.".
Instead of listening when the player is in Smith Basement:
	say "You hear nothing unexpected; the sounds of the saxophone are quite plain."

Instead of going nowhere in SmithMap:
	if player is in Smith Hall:
		say "Thinking about the organ music, you stay still.";
	if player is in Smith Auditorium:
		say "You trip over a seat and forget where you were trying to go.";
	if player is in Smith Basement:
		say "You feel it would be rude to interrupt the practicing musicians.";
	if player is in Smith Second Floor:
		say "Going that direction would take you out the window.  You probably don't want to do that."

PART 5 - MUSIC BUILDING


MusicBuilding is a RoomProxy in Music Building. Understand "Music Building" as MusicBuilding.
The printed name of Music Building is "Music Building".
MusicBuildingInterior is an Interior Location. The printed name of MusicBuildingInterior is "Music Building Entrance".
MusicBuildingInterior is inside from Music Building.

MusicBuildingInterior is a room. "[if unvisited]You enter the Music Building. It's sunny from the glass windows on all sides around you. You notice a few desks througout the lobby of the building. There are a few eccentric-looking students standing together. You can hear some faint music in the distance. There is a storage room to the [bold type]west[roman type]. There's a lecture hall to the [bold type]north[roman type]. A sign points to restrooms to the [bold type]east[roman type].  You can also go [bold type]down[roman type] to the basement or [bold type]up[roman type] to the second floor.[else]You hear some faint music. It sounds familiar. You notice some eccentric students talking in the corner. There is a door labelled 'Storage' the [bold type]west[roman type]. There's a lecture hall to the [bold type]north[roman type]. A sign points to restrooms to the [bold type]east[roman type].  You can also go [bold type]down[roman type] to the basement or [bold type]up[roman type] to the second floor."

MusicBuildingStorageRoom is west of MusicBuildingInterior. "Surprised that the door was unlocked, you enter. There are instruments of every kind on the shelves. Percussion, woodwind, brass, and some that you aren't sure of. Tall shelves tower over you on the right side of the room. The only exit is [bold type]east[roman type]."
The printed name of  MusicBuildingStorageRoom is "Storage Room".


MusicBuildingLectureHall is north of MusicBuildingInterior. "[if LectureInProgress is false]Oh boy. Another lecture hall. Why do all of these look the same? Cramped seats and a tiny desk if you're lucky enough to get a functioning one. There is no class going on in here right now but you'd better hurry to avoid any trouble. A quick scan of the room shows a bag where a lecturer usually stands. The only exit is [bold type]south[roman type].[else]There's a class in here with students and a lecturer. Better make your visit as quick and quiet as you can. A quick scan of the room shows the lecturer's bag. The only exit is [bold type]south[roman type]."
The printed name of MusicBuildingLectureHall is "Lecture Hall".

MusicBuildingRestrooms is east of MusicBuildingInterior. "As you walk in the low expectations, you are pleasantly surprised. This bathroom actually has a pleasant smell and faucets with handles and no half-broken sensors. You fidget with one of the sinks. It lets out a solid stream of water. You try not to think about it but you can hear someone trying very hard to muffle their sobbing in one of the stalls. There's a pearly white toilet in the corner. The only exit is [bold type]west[roman type]."
The printed name of MusicBuildingRestrooms is "Restroom".

MusicBuildingBasement is down from MusicBuildingInterior. "You walk down the staircase and see hallways with many lockers, classrooms, and the office for checking out instruments, keys, and other items.  You can go [bold type]up[roman type] to the main level."
The printed name of MusicBuildingBasement is "Music Basement".

MusicBuildingSecondFloor is up from MusicBuildingInterior. "Down these hallways are many offices and also practice rooms. You can [bold type]north[roman type] to the available practice room, [bold type]down[roman type] to the main level, or [bold type]up[roman type] to the Third Floor."
The printed name of MusicBuildingSecondFloor is "Music Second Floor".

MusicBuildingThirdFloor is up from MusicBuildingSecondFloor. "On the Third floor are more offices and practice rooms.  You can go [bold type]down[roman type] to the Second Floor, or [bold type]up[roman type] to the Fourth Floor."
The printed name of MusicBuildingThirdFloor is "Music Third Floor".

MusicBuildingFourthFloor is up from MusicBuildingThirdFloor. "This is the fun floor of the music building.  Here, there are a bunch more offices, but also some studios.  These include the Experimental Music Studios lobby to the [bold type]north[roman type] that will get you to Studio B with the Roland modular analog synth, Studio X for a multichannel enviornment, and many more!"
The printed name of MusicBuildingFourthFloor is "Music Fourth Floor".

StudioLobby is north from MusicBuildingFourthFloor.  "This is the lobby for various studios.  You can chill on the couches here, or go [bold type]east[roman type] into StudioB or [bold type]northwest[roman type] into StudioX."
The printed name of StudioLobby is "Experimental Music Studios Lobby".

StudioB is east from StudioLobby.  "This studio contains the Roland modular analog synthesizer.  You can also see several rack components, a Mac computer, a mixing console, and like 5000 patch cables.  You can go [bold type]west[roman type] back into the lobby."
The printed name of StudioB is "Studio B".

StudioX is northwest from StudioLobby.  "This is the studio used for the Algorithmic Composition for Multi-Channel Expansion in SuperCollider course, and various other things.  There is a Mac computer, various rack components, a mixer, and a massive ring of loudspeakers.  You can go [bold type]southeast[roman type] back into the lobby."
The printed name of StudioX is "Studio X".

OpenPracticeRoom is north from MusicBuildingSecondFloor. "This is the only available practice room at the moment, all of the others are being used.  There is a piano, a bench, and some music stands here.  You can go [bold type]south[roman type] to leave this room."
The printed name of OpenPracticeRoom is "Practice Room".

MusicBuildingLectureHall is scored.
MusicBuildingStorageRoom is scored.
MusicBuildingRestrooms is scored.

Instead of going nowhere when the player is in MusicBuildingStorageRoom:
	say "You ran into a shelf. Try another direction."

Instead of going nowhere when the player is in MusicBuildingInterior:
	say "You walked into a glass window. Someone cleaned those really well!"

Instead of going nowhere when the player is in MusicBuildingLectureHall:
	say "If you go that way you'll go through the emergency exit. Let's try another direction."

Instead of going nowhere when the player is in MusicBuildingRestrooms:
	say "There is only one entrance and exit to a restroom..."


Instead of WeaponAttacking when player is in MusicBuildingMap:
	if the noun is eccentric students:
		say "As you go in to attack one of the students with the [second noun] you decide not to. They'll all gang up on you.";
		stop the action;
	else if the noun is bouncer:
		say " The bouncer gives you a mean look so you out your hand down.";
		stop the action;
	else if the noun is bartender:
		say "The bartender catches the [second noun] mid air, juggles it and tosses it back to you. ";
		stop the action;
	else if the noun is The crowd:
		say "Do you want to lose your [second noun]?";
		stop the action;
	else if the noun is technicians:
		say "They are too far away";
		stop the action;
	else:
		say "Your attacks against the [noun] are useless. You decide to stop.";
		stop the action.

After talking to someone when player is in MusicBuildingMap:
	if Drunk is true:
		increase Musicscore by 5.

Andrew2097Cheat is an action applying to nothing.

Understand "aholler2" and "say aholler2" as Andrew2097Cheat.

Carry out Andrew2097Cheat:
	say "Okay cheater. You unlocked the cheat. The words you typed have released the cheating function. The cheat has been understood by your typing. Take the items and examine everything.";
	now the player has aholler2pencils;
	now the player has aholler2waterbottle;
	now the player has aholler2brassdrum;
	now the player has aholler2metalring;
	Repeat with X running through visible things in the location:
		try examining X;

MusicScore is a number variable.

[There are 3 scored rooms.]
Carry out going to a unvisited scored room:
	increase Musicscore by 5;

[There is 1 thing to examine for score]
Carry out examining an unexamined scored thing:
	increase Musicscore by 5;

After talking to eccentric students when EccentricStudentSuccess is false:
	increase Musicscore by 5;

EccentricStudentSuccess is a truth state variable.
EccentricStudentSuccess is false.

eccentric students are scenery people in MusicBuildingInterior.
The description of the eccentric students is "Some odd-looking students. Must be musicians. They are chatting about something but you can't hear."

Instead of giving something to the eccentric students:
	say "They take the [noun]. Then they drop it. Rude.";
	now the noun is in MusicBuildingInterior.

Instead of talking to the eccentric students:
	if aholler2brassdrum is drummed:
		say "The students like your drumming. They tell you that you should EXAMINE the drain in the Bathroom.";
		increase the Musicscore by 5;
		now EccentricStudentSuccess is true;
	otherwise:
		say "You attempt to talk to them, but they ignore you. They don't seem to like non-musicians."

Instead of asking the eccentric students about something:
	if the second noun is the aholler2brassdrum:
		say "bleh";
		if the player has the aholler2brassdrum:
			say "[if aholler2brassdrum is undrummed]One of the students says, 'Wow that's a really shiny drum! Do you mind playing it for us?'[else]One of the students says, 'We really liked the sound of your drum!'";
			stop the action;
	otherwise:
		say "You try to talk to them about the [second noun], but they ignore you.";

Instead of interrogating the eccentric students about an item listed in the Table of Eccentric Responses:
	say "[reply entry][paragraph break]".

Table of Eccentric Responses
Item	reply
aholler2brassdrum	"[if aholler2brassdrum is undrummed]One of the students says, 'Wow that's a really shiny drum! Do you mind playing it for us?'[else]One of the students says, 'We really liked the sound of your drum!'"
aholler2box	"They say, 'We heard there's a legendary instrument in that box!'"
aholler2drain	"[if aholler2brassdrum is undrummed]One of the students says, 'We don't know anything about that.'[else]One of the students says, 'We saw treasure in the drain!'"

Instead of attacking the eccentric students:
	say "Going up against that many people at once would be foolish."

A aholler2shelves is a supporter in the MusicBuildingStorageRoom.

aholler2shelves is scenery.
The printed name of aholler2shelves is "tall shelves".
Understand "shelves" and "tall shelves" as aholler2shelves.

The description of the aholler2shelves is "They are old and rusted. On them there are several general supplies and boxes. There is one box in particular that looks old and disheveled."

Instead of taking the aholler2shelves:
	say "They are too heavy to carry.";

a aholler2box is a closed openable container on the aholler2shelves. The aholler2box is scenery. The description of the aholler2box is "It is old and disheveled. Someone didn't care for this box."

The printed name of aholler2box is "old box".
Understand "box" and "old box" and "disheveled box" and "old disheveled box" and "disheveled old box" as aholler2box.

Instead of eating the aholler2box:
	say "That would be hard.";

Instead of taking the aholler2box:
	say "This box is too gross to carry around.";

A thing can be drummed or undrummed. A aholler2brassdrum is undrummed.

A aholler2brassdrum is wearable thing in the aholler2box.

A aholler2brassdrum is scored.
The printed name of a aholler2brassdrum is "shiny brass drum".
Understand "shiny drum" and "brass drum" and "drum" and "shiny brass drum" and "brass shiny drum" as aholler2brassdrum.

The description of the aholler2brassdrum is "It's a REALLY shiny drum. There are some straps on it obviously meant for marching."

Instead of eating the aholler2brassdrum:
	say "Who knows where this thing has been? You're not eating it.";

Instead of taking the aholler2brassdrum:
	say "You pick up the drum and notice its surprising lightness.";
	now the player has the aholler2brassdrum.

Instead of wearing the aholler2brassdrum:
	say "You pull the straps around your shoulders one at a time, then tighten them. This is kinda fun.";
	now the player is wearing the aholler2brassdrum.

Instead of playing the aholler2brassdrum:
	try drumming the noun instead.

Instead of drumming the aholler2brassdrum:
	say "The drum makes a resounding boom. *BOOM BOOM BOOM*";
	now the aholler2brassdrum is drummed.

aholler2instruments is scenery in the MusicBuildingStorageRoom. The description of the aholler2instruments is "Various types of instruments from different families."

The printed name of aholler2instruments is "instruments".
Understand "instruments" as aholler2instruments.

aholler2supplies is scenery in the MusicBuildingStorageRoom. The description of the aholler2supplies is "Some general supplies for cleaning instruments."

The printed name of aholler2supplies is "supplies".
Understand "supplies" as aholler2supplies.

aholler2lecturer is a person. The description of the aholler2lecturer is "He's a tall handsome man. No matter who you are, this fact is undeniable."

aholler2lecturer is scenery.

The printed name of aholler2lecturer is "lecturer".
Understand "lecturer" as aholler2lecturer.

LecturerTalk is a number that varies. LecturerTalk is 1.

Every turn when the player is in the MusicBuildingLectureHall and LectureInProgress is true and LecturerTalk is less than 9:
	choose row LecturerTalk in the Table of Lecture Talk;
	say "The lecturer speaks, '[speech entry]'[paragraph break]";
	increase LecturerTalk by 1;

Table of Lecture Talk
speech
"Today we are going to talk about networking."
"Basically, network programming sucks a lot."
"It's hard. It's complicated. It has a billion moving parts. It's horrible."
"It's a miracle that the internet even exists."
"You have to program a client and a server."
"You have to think about millions of edge cases."
"It sucks and I hate it."
"Lecure over. I have nothing more to say about stupid network programming."

LectureInProgress is a truth state variable.
LectureInProgress is false.

Every turn when time of day is after 9:00 AM and LectureInProgress is false:
	if player is in the MusicBuildingLectureHall:
		say "It's now 9:00 AM. A lecture just began in here.";
	now LectureInProgress is true;
	now aholler2lecturer is in the MusicBuildingLectureHall.

A aholler2lecturerbag is a closed openable container in the MusicBuildingLectureHall. The description of the aholler2lecturerbag is "A fine brown, leather bag.[if aholler2lecturerbag is closed] It's closed."

The aholler2lecturerbag is scenery.
The printed name of aholler2lecturerbag is "lecturer's bag".
Understand "bag" and "lecturer's bag" and "lecturers bag" and "lecture bag" as aholler2lecturerbag.

Instead of opening the aholler2lecturerbag:
	say "You quickly open the bag to avoid attention. [if aholler2waterbottle is in aholler2lecturerbag] There's a water bottle inside.";
	now the aholler2lecturerbag is open.

Instead of eating the aholler2lecturerbag:
	say "Leather isn't good for your teeth.";

Instead of taking the aholler2lecturerbag:
	say "You reach for the bag but change your mind. You'd get into a lot of trouble.";

A aholler2waterbottle is an edible thing in the aholler2lecturerbag. The description of the aholler2waterbottle is "It's a water bottle... It has water in it."

A aholler2waterbottle is scored.
The printed name of aholler2water bottle is "water bottle".
Understand "bottle" and "water bottle" and "water" as aholler2waterbottle.

Instead of taking aholler2waterbottle for the first time:
	say "You snatch the water bottle and make a run for it. You feel a little guilty. Don't you?";
	now player has the aholler2waterbottle.

Instead of eating the aholler2waterbottle:
	say "You stand there drenched and feeling a little sick. It took you 15 minutes but you actually did it. You madman.";
	now the aholler2waterbottle is nowhere.

aholler2pencils is thing in the MusicBuildingLectureHall. The description of the aholler2pencils is "Some mechanical pencils. 255 red, 255 green, and 255 blue."

The aholler2pencils is undrummable.
The aholler2pencils is scored.
The printed name of aholler2pencils is "pencils".
Understand "pencils" as aholler2pencils.

Instead of taking aholler2pencils:
	say "You picked up the pencils. There were exactly 765 of them scattered across the room.";
	now the player has the aholler2pencils;
	now the aholler2pencils is not scenery;

Instead of eating aholler2pencils:
	say "You will choke. You decide not to.";

a crying person is a scenery person in the MusicBuildingRestrooms.

The description of a crying person is "[crying person cries]".

To say crying person cries:
	if a crying person carries something:
		say "They're carrying [a list of things carried by a crying person]. ";
	else:
		if a crying person is scenery:
			say "You can't see them but you can certainly hear them. Their sobbing is making you sad.";
			stop the action;
		if aholler2drain is open and aholler2metalring is in aholler2drain:
			say "You see them eyeing the drain with interest.";
			stop the action;
		if CryingPersonTalked is true:
			say "They look at you expectedly. You better find that ring.";
			stop the action;
		else:
			say "Their eyes are red and they are holding back tears. What could be wrong? Maybe you should talk to them.";
			stop the action;

Instead of giving aholler2metalring to a crying person:
	if a crying person is not scenery:
		say "They stop crying instantly as you show them their ring.[line break][line break]'OH THANK YOU SO MUCH!!! I was so depressed, but you've made me unbelievably happy. Thank you for finding my grandmother's ring! In return I'll tell you that there is another adventure waiting for you in Canopy Club.'";
		now a crying person carries the aholler2metalring;
		now the printed name of a crying person is "person";

CryingPersonTalked is a truth state variable. CryingPersonTalked is false.
Instead of talking to a crying person:
	if a crying person is scenery:
		say "You try to talk to them, but they keep sobbing.";
		stop the action;
	if a crying person carries aholler2metalring:
		say "Thank you so much for finding my grandmother's ring. Go to Canopy Club for another adventure.";
		stop the action;
	otherwise:
		say "They tell you that they dropped their grandmother's ring in the bathroom and they can't find it. You feel pretty bad for them. You can't help but offer to help them find it.";
		now CryingPersonTalked is true;

Understand "sobbing student" and "sobbing person" and "student" and "person" as crying person.

aholler2toilet is a container in the MusicBuildingRestrooms.
The description of the aholler2toilet is "A damn clean, white toilet."
The aholler2toilet is scenery.
The aholler2toilet is undrummable.
The printed name of aholler2toilet is "toilet".
Understand "toilet" and "white toilet" and "clean toilet" and "clean white toilet" and "pearly toilet" and "clean pearly toilet" and "pearly toilet" as aholler2toilet.

Instead of examining the aholler2toilet:
	say "A pearly white toilet.[if the aholler2toilet is switched on] The toilet is flushing and swallowing water. It doesn't seem to be stopping.";
	if the number of things in the aholler2toilet is not 0:
		say "You look inside and see [a list of things in the aholler2toilet].";

Instead of eating the aholler2toilet:
	say "Ewwwwwwww";

the aholler2drain is a closed openable container in the MusicBuildingRestrooms. the aholler2drain is scenery.

Instead of examining the aholler2drain:
	if aholler2drain is not open:
		say "You look inside the drain and notice a shiny object inside.";
	otherwise:
		say "You look inside the drain and see a shiny silver ring.";
	now the aholler2drain is not scenery.

the aholler2drain is scored.
The printed name of the aholler2drain is "drain".
Understand "drain" as aholler2drain.

aholler2metalring is a thing in the aholler2drain. aholler2metalring is wearable. The description of aholler2metalring is "A silver ring. It's engraved with someone's name. Perhaps someone in the Music Building lost it?"

The printed name of aholler2metalring is "shiny silver ring"

Understand "ring" and "metal ring" and "shiny metal ring" and "silver ring" and "shiny silver ring" as aholler2metalring.

CryingCounter is a number variable. CryingCounter is 0.

Every turn when the player is in the MusicBuildingRestrooms:
	increment CryingCounter.

CryingPersonExited is a truth state variable. CryingPersonExited is false.

Every turn when player is in MusicBuildingMap and CryingCounter is greater than 10 and CryingPersonExited is false:
	say "You try not to stare as the person who was crying now exits their stall. They see you glancing at them and they try to hide their face. Maybe you should try talking to them. Or maybe they want to be left alone. You just don't know...";
	now the crying person is not scenery;
	now CryingPersonExited is true.

Every turn when player is in MusicBuildingMap:
	if a random chance of 1 in 100 succeeds:
		choose a random row in the Table of Random MusicBuilding Events;
		say "The completely random event fairy appears in the air above your head and [event entry][line break]"

Table of Random MusicBuilding Events
event
"goes 'BOO!'. You almost die."
"sprinkles you with her fairy dust. She vanishes. It did nothing."
"woos you. There's just something about her."
"casts a bolt of magic at you. It misses. She vanishes instantly."
"she trips you. You sustain massive damage."




PART 6 - URBANA ESPRESSO

UrbanaEspresso is a roomproxy in Urbana Eateries.
Understand "Espresso" and "Espresso Royale" and "Expresso" and "Urbana Espresso" as UrbanaEspresso.
The printed name of UrbanaEspresso is "Urbana Espresso Royale".

EspressoNecklaceFound is a truth state variable.
EspressoNecklaceFound is false.
EspressoMagic8Found is a truth state variable.
EspressoMagic8Found is false. 
EspressoLuckySpoonFound is a truth state variable.
EspressoLuckySpoonFound is false.
FreeCoffee is a truth state variable.
FreeCoffee is false.

MilasNecklace is a thing.
Magic8Ball is a thing.
UELuckySpoon is a thing.
UEList is a thing.
The description of UEList is "[bold type]Missing Items[roman type][paragraph break]	* Magic 8 Ball [paragraph break]	* Necklace[paragraph break]	* Lucky Spoon[paragraph break][paragraph break]Once found please return them all to the barista to recieve your pay."
UEList is in UrbanaEspressoCounter.
The printed name of UEList is "Missing Item List".
The printed name of Magic8Ball is "Magic 8 Ball".
The printed name of MilasNecklace is "Mila's Necklace".
The printed name of UELuckySpoon is "Lucky Spoon".

Understand "list" and "missing item list" and "list of missing items" and "item list" and "missing items list" and "job list" as UEList.
Understand "8 ball" and "magic ball" and "magic 8 ball" and "black ball" and "ball" as Magic8Ball.
Understand "spoon" and "lucky spoon" and "extra shiney spoon" and "shiney spoon" as UELuckySpoon.
Understand "necklace" and "jewlery" and "Mila's necklace" and "Milas necklace" and "neck lace" and "necklice" and "milas neck lace" and "Mila necklace" as MilasNecklace.


UrbanaEspressoInterior is an Interior Location. "The Urbana Espresso doesn't look anything like the Champaign Espresso. And it's a totally different crowd. A poster hangs on the wall by the front. You can go up from here to upper level seating, north to the back room, or out to Urbana Eateries."

The printed name of UrbanaEspressoInterior is "Urbana Espresso Entrance".

Urbana Eateries is outside of UrbanaEspressoInterior.

UrbanaEspressoBehindCounter is a room. "You enter the back rooms of the Urbana Espresso Royal. It feels wrong to be back where the emplyees are, but no one is telling you to leave. The walls are littered with different drink making supplies, boxes of cups and syrups line the ground making it a maze to navigate. You notice one of the boxes in the back corner looks a little banged up. You can go back to the enterence by going south, or head down to the basment."
BackRoomClutter is scenery in UrbanaEspressoBehindCounter. "Boxes of random coffee and other drink supplies, they must go through a ton of it."
CrumpledBox is a closed openable scenery container in UrbanaEspressoBehindCounter.
UELuckySpoon is in CrumpledBox.
Understand "banged up box" and "corner box" and "damaged box" and "crumpled box" and "bangedup box" and "banged-up box" and "box" and "box in the corner" and "bangged up box" as CrumpledBox.
Understand "syrups" and "syrup" and "coffee syrups" and "boxes" and "drink supplies" and "random supplies" and "supplies" as BackRoomClutter.
UrbanaEspressoBehindCounter is north of UrbanaEspressoInterior.
The printed name of UrbanaEspressoBehindCounter is "Back Room".
Instead of examining CrumpledBox:
	say "It looks almost like its been kicked. The only thing keeping it sealed is a small piece of tape over the top, it wouldn't been too difficult to just open it up and take a peak."
Instead of opening CrumpledBox:
	say "You open the box to find a bunch of random tissue paper and an extra shiney spoon inside.";
	now CrumpledBox is open.
UsedTissuePaper is scenery thing in CrumpledBox.
Instead of taking UsedTissuePaper:
	say "You really don't have any use for that. It's best not to take what you don't need."
Understand "tissue paper" and "random tissue paper" and "packing paper" as UsedTissuePaper.
Instead of examining UsedTissuePaper:
	say "Just some crumpled up paper, nothing really interesting."
Instead of examining UELuckySpoon:
	say "You give the spoon a good once over. It looks pretty nice, probably good to return it to it's owner."
	
UrbanaEspressoBasment is a room. "It's kind of dark and dingy down here. The smell of mildew and wet wood spreads through the air. You can get back to the main floor by going up. There is a doorway to the west."

UrbanaEspressoBasment is down from UrbanaEspressoBehindCounter.
The printed name of UrbanaEspressoBasment is "Espresso Basment".
UrbanaEspressoUpperSeating is up from UrbanaEspressoInterior.
The printed name of UrbanaEspressoUpperSeating is "Upper Floor Seating".
The description of UrbanaEspressoUpperSeating is "A cozy little seating area for all of your studying needs. Tables scatter the floor. You can exit back to the main floor by going down."
EspressoUpperTables is scenery open container in UrbanaEspressoUpperSeating.
Magic8Ball is in EspressoUpperTables.
Understand "tables" as EspressoUpperTables.
Instead of examining EspressoUpperTables:
	say "The tables look prime for studying and enjoying a nice hot cup of coffee. As you daydream about cozy coffee study sessions you notice some sort of black ball sitting on the floor."
Instead of examining Magic8Ball for the first time:
	say "A Magic 8 Ball! You remember having one of those as a kid."
Instead of examining Magic8Ball:
	say "A Magic 8 Ball, you could try giving it a shake."

UrbanaEspressoOffice is a room. "The office is in a state of chaos. Papers cover the desk in the middle of the room. In the corner of the room sits a small vault."
UrbanaEspressoOffice is west of UrbanaEspressoBasment.
The printed name of UrbanaEspressoOffice is "Office".
EspressoOfficeClutter is scenery in UrbanaEspressoOffice.
Understand "clutter" and "papers" and "desk" as EspressoOfficeClutter.
Instead of examining EspressoOfficeClutter:
	say "Random financial papers cover the table, way too many to even bother looking through."
UrbanaEspressoVault is a closed locked openable scenery container in UrbanaEspressoOffice. 
Understand "vault" and "safe" as UrbanaEspressoVault.
Instead of examining UrbanaEspressoVault:
	say "The vault looks shiney and new. The door is closed and a small keyhole sits at the edge."
EspressoVaultKey is a thing.
The printed name of EspressoVaultKey is "Silver Key".
EspressoDust is a container in UrbanaEspressoBasment. "You see a gleam coming from a pile of dust."
Understand "dust" and "pile of dust" and "dust pile" as EspressoDust.
EspressoVaultKey is in EspressoDust.
Instead of examining EspressoDust:
	say "Just your standard pile of dust."
Instead of examining EspressoVaultKey for the first time:
	say "A key! I wonder what this goes to?".
Instead of examining EspressoVaultKey:
	say "A shiney silver key! I wonder what it goes to?"
Understand "silver key" and "vault key" and "gleam" and "key" as EspressoVaultKey.
EspressoVaultKey unlocks UrbanaEspressoVault.
MilasNecklace is in UrbanaEspressoVault.
Instead of examining MilasNecklace:
	say "A shining silver chain, 'Mila' is inscribed on one of the links."
Instead of taking EspressoVaultKey:
	say "Taken.";
	now EspressoDust is nowhere.
	
Instead of unlocking UrbanaEspressoVault with EspressoVaultKey:
	say "The vault swings open with a creak. A necklace sits at the bottom of the metal floor.";
	now EspressoVaultKey is nowhere;
	now UrbanaEspressoVault is unlocked;
	now UrbanaEspressoVault is open.


EspressoBarista is a person in UrbanaEspressoInterior. "A barista works behind the counter. Taking orders and brewing coffees."

Understand "barista" and "Espresso barista" and "worker" as EspressoBarista.

Instead of asking EspressoBarista about a topic listed in the Table of Idea Barista Responses:
	say "[reply entry][paragraph break]".
	
Instead of asking EspressoBarista about "Mila" for the first time:
	say "'Ahh, you're a friend of Mila's. Well, any friend of Mila's is a friend of mine. You're coffee is on the house.'";
	now FreeCoffee is true.
	
EspressoJobPoster is scenery in UrbanaEspressoInterior. "The poster looks like it's been there for some time. It reads: [paragraph break]'[bold type] JOB POSTING[roman type][paragraph break]Espresso staff in search of assistance.[line break]PAY: $25[line break]For more information speak to barista'".
The printed name of EspressoJobPoster is "Job Poster".

Understand "job poster" or "job posting" or "job" or "work" or "poster" as EspressoJobPoster. 

Instead of interrogating EspressoBarista about EspressoJobPoster for the first time:
	say "' If you're looking to make some money we could really use some help. Some things have gone missing in the store and none of us have had time to find them. Here I'll give you a list of what's missing. If you find them just bring them back to me and I'll get you your money.'";
	now player has UEList.
	

	
UrbanaCoffee is a drinkable thing. 
UrbanaEspressoCounter is a scenery container in UrbanaEspressoInterior.
UrbanaCoffee is in UrbanaEspressoCounter.
The printed name of UrbanaCoffee is "cup of coffee".
Understand "coffee" or "cup of coffee" or "espresso" or "drink" as UrbanaCoffee.

	
Instead of ordering UrbanaCoffee:
	if FreeCoffee is true:
		say "'This one is on us.' The barista hands you a cup of coffee.[paragraph break] Wow, nothing tastes better than free coffee.";
		now HadCoffee is true;
	else if the price of your available cash is less than $5.00:
		say "You look in your wallet and see you don't have enough money.";
	else:
		say "The barista makes you a cup of coffee.";
		decrease the price of your available cash by $5.00;
		say "You pay for your cup of coffee, leaving yourself with [the price of the available cash].";
		now HadCoffee is true.
		
QuestionAsking is an action applying to one thing.
Understand "ask [something] a question" as QuestionAsking.

Check QuestionAsking:
	say "You attempt to have a conversation with the [noun]. Unsurprisingly, it has nothing to say. Perhaps you should try talking to someone who can talk back?";
	stop the action.
		
Instead of shaking Magic8Ball:
	choose a random row in the Table of Magic8 Responses;
	say "[response entry][paragraph break]".
	
Instead of QuestionAsking Magic8Ball:
	choose a random row in the Table of Magic8 Responses;
	say "[response entry][paragraph break]".
	
Instead of ThingAsking Magic8Ball:
	choose a random row in the Table of Magic8 Responses;
	say "[response entry][paragraph break]".
	

	
		
	
Table of Magic8 Responses
response
"Yes."
"No."
"Maybe."
"I'll think about it."
"Ask again later."
"Absolutly."
"Without a doubt."
"Unlikely."


Instead of giving UELuckySpoon to EspressoBarista:
	now EspressoLuckySpoonFound is true;
	now UELuckySpoon is nowhere;
	say "'You found my lucky spoon, that's great! I've been missing this little guy.'";
	if EspressoNecklaceFound is false or EspressoMagic8Found is false:
		say "'Still got more to find before I can pay you, good luck!'";
	else if EspressoNecklaceFound is true and EspressoMagic8Found is true:
		say "'You got them all! Thank you so much, let me just get that payment for you.'";
		increase the price of your available cash by $25.00;
		say "You now have [the price of the available cash]."
		
Instead of giving MilasNecklace to EspressoBarista:
	now EspressoNecklaceFound is true;
	now MilasNecklace is nowhere;
	say "'You found Mila's necklace, that's great! She's been looking for this thing for ages.'";
	if EspressoLuckySpoonFound is false or EspressoMagic8Found is false:
		say "'Still got more to find before I can pay you, good luck!'";
	else if EspressoLuckySpoonFound is true and EspressoMagic8Found is true:
		say "'You got them all! Thank you so much, let me just get that payment for you.'";
		increase the price of your available cash by $25.00;
		say "You now have [the price of the available cash]."
		
Instead of giving Magic8Ball to EspressoBarista:
	now EspressoMagic8Found is true;
	now Magic8Ball is nowhere;
	say "'You found the Magic 8 Ball, that's great! I hear that the answers to it's questions are always right, it's some really crazy stuff.'";
	if EspressoLuckySpoonFound is false or EspressoNecklaceFound is false:
		say "'Still got more to find before I can pay you, good luck!'";
	else if EspressoLuckySpoonFound is true and EspressoNecklaceFound is true:
		say "'You got them all! Thank you so much, let me just get that payment for you.'";
		increase the price of your available cash by $25.00;
		say "You now have [the price of the available cash]."
		
Instead of interrogating EspressoBarista about a item listed in the Table of Object Barista Responses:
	say "[reply entry][paragraph break]".
		
[New people feel free to add to these tables!]
Table of Idea Barista Responses
topic	reply
"school bus"	"'Yeah, that thing is crazy. I hear that they're still trying to invent a suit that can withstand that goo. Seems like it might be awhile before anyone will be able to get in.'"
"Adams Lab"	"'Nothing much going on inside there. Although, I have heard a croak coming from that area.'"
"Krannert Center"	"'That place is super cool, lots of music stuff going on, it's worth a look.'"
"Champaign Espresso"	"'If you're looking for our Champaign location then you're in the wrong place.'"

Table of Object Barista Responses
item	reply
Canopy Club Entrance	"'That's that local club on this side of town. There's always something going on there, you should check it out!'"
UrbanaEspresso	"'If that's what you're looking for then you're in the right place.'"
Magic8Ball	"'If you find it let me know. It's one of the things we're looking for. You can give it a shake or ask it a question and it will give you an answer.'"
UELuckySpoon	"'If you find it let me know. It's one of the things we're looking for. It's mine so it's extra important to me.'"

[UrbanaCoffee	"'We've got lots of that here, order as many as you like.'"
MilasNecklace	"'If you find it let me know. It's one of the things we're looking for.'"]
[These two won't work in the object table because there are too many similar objects. If someone figures out how to fix it they should be added back in!]


PART 7 - CANOPY CLUB

CanopyClub is a RoomProxy in Urbana Eateries.
Understand "Canopy Club" and "Canopy" as CanopyClub.
The printed name of CanopyClub is "Canopy Club".
The description of CanopyClub is "Not a bad place to take a date."

CanopyClubInterior is an Interior Location. "[if player has CanopyTicket] You stand in the short line for people who were already in.  The sidewalk that you are standing on is realy dirty and has a crack on it. To the [bold type]east[roman type] is the Bar.  [else] There is a huge line at the door. A bouncer is checking for the tickets. You seem to realise that you don't have a ticket. You can buy a ticket and enter. To the [bold type]east[roman type] is the Bar."
The printed name of CanopyClubInterior is "Canopy Club Entrance".

The CanopyTicket is a ware in CanopyClubInterior. CanopyTicket is scenery. The price of the CanopyTicket is $5.00. The description is "Cover's cheap today." Understand "ticket" as CanopyTicket. The printed name of CanopyTicket is "ticket".

Instead of going east in CanopyClubInterior:
	if player has CanopyTicket:
		now player is in CanopyClubBar;
	else:
		say "You need to [bold type]buy a ticket.[roman type] Cover is $5 today.";
		stop the action.

Instead of going northeast in CanopyClubInterior:
	if player has CanopyTicket:
		now player is in CanopyMainStage;
	else:
		say "You need to [bold type]buy a ticket.[roman type] Cover is $5 today.";
		stop the action.

CanopyClubBar is east of CanopyClubInterior. "The Bar is filled with people who are trying to buy a drink before the show starts. To the North is the Main Stage."
The printed name of CanopyClubBar is "Canopy Club Bar."

CanopyClubInterior is southwest of CanopyMainStage.

Urbana Eateries is outside from CanopyClubInterior.

Instead of entering CanopyClub when CanopyClosed is true:
	say "The Canopy Club is closed up tight. You see a hand-written sign in the window saying the Club will be closed pending an investigation of underage drinking.";
	stop the action.

CanopyScored is a truth state variable.
CanopyScored is false.
Instead of going outside from CanopyClubInterior:
	if ConcertStart is true and CanopyScored is false:
		say "As you step out of the Canopy Club, you think to yourself, 'You know what, I had a good night! Even though my friends didn't show up, I had fun on my own. Good to know.";
		increase score by 50;
		now CanopyScored is true;
	else:
		continue the action.

Instead of exiting from CanopyClubInterior:
	if ConcertStart is true and CanopyScored is false:
		say "As you step out of the Canopy Club, you think to yourself, 'You know what, I had a good night! Even though my friends didn't show up, I had fun on my own. Good to know.";
		increase score by 50;
		now CanopyScored is true;
	else:
		continue the action.
		
CanopyMainStage is north of CanopyClubBar."[if unvisited] The stage is filled with technicians doing soundcheck and there is a lot of noise. You wonder how it will even be louder when the concert starts. If you take the fire exit you can go back to the Canopy Club Entrance to the [bold type]southwest[roman type].[else] It is so loud you want to leave. If you take the fire exit you can go back to the Canopy Club Entrance to the [bold type]southwest[roman type]."



The printed name of CanopyMainStage is "Main Stage".

Instead of going nowhere when the player is in the CanopyClubInterior:
	say "You really want to get into Canopy Club. Your friends should arrive any time soon."

Instead of going nowhere when the player is in the CanopyClubBar:
	say "You should probably go see if the show has started yet."

Instead of going nowhere when the player is in CanopyMainStage:
	say "You can't push through the crowd."


Instead of switching on Breathalyzer:
	say "Alcohol amount [AlcoholAmount]."

Instead of drinking Beer:
	say "Some good beer!";
	increase AlcoholAmount by 1;

Instead of eating gum:
	say "Your stomach yells nooooooooooooo!";
	stop the action.

Instead of examining crack:
	if gum is in the crack:
		say "There is a gum stuck to this sidewalk.";
	else:
		say "You already took the dirtiest thing on it what else do you want?."

Instead of taking ChewedGum for the first time:
	say "You... are... gross...";
	now player has ChewedGum.

Every turn when player is in CanopyClubInterior:
	if a Random Chance of 1 in 5 succeeds:
		If ConcertStart is true:
			say "The bouncer is whistling a Britney Spears song. To the [bold type]east[roman type] is the Bar.";
		else:
			say "You stand in the short line for people who were already in.  The sidewalk that you are standing on is realy dirty and has a crack on it. To the [bold type]east[roman type] is the Bar."

To say BartendersInterest:
	if Bartender is unexamined:
		say "You can see a bartender tossing bottles around and making drinks at an incredible speed.";
	if AlcoholAmount is less than 10:
		say "The bartender yells 'free beer up on the bar!'";
	if AlcoholAmount is greater than 15:
		say "The bartender yells 'Take it easy people!'";
	else:
		say "How can one bartender serve all of these people!?"

Instead of examining Crowd:
	if crowd is unexamined:
		say "A big crowd. A lot of people to meet.";
		now the crowd is examined;
		stop the action;
	else:
		say "A big crowd. It would be madness to get acquainted with all of them right? RIGHT?"

Instead of examining CanopyBartender:
	if bartender is unexamined:
		say "He looks busy.";
		now bartender is examined;
		stop the action;
	else:
		if bartender carries something:
			say "Bartender is carrying [a list of things carried by bartender].";
		If bartender is wearing something:
			say " He is wearing [a list of things worn by bartender].";
		say " He still looks busy."


ConcertStart is a truth state variable.
ConcertStart is false.

Drunk is a truth state variable.
Drunk is false.

AlcoholAmount is a number variable.
AlcoholAmount is 0.

BouncerNerves is a number variable.
BouncerNerves is 0.


Every turn when turn count is 25 and ConcertStart is false and player is in CanopyClubInterior:
	say "The concert is starting!";
	Now ConcertStart is true.
	
Instead of waiting when ConcertStart is false and the player is in CanopyMainStage:
	say "The concert is starting!";
	Now ConcertStart is true.

Every turn when AlcoholAmount is greater than 10:
	Now Drunk is true.

Every turn when AlcoholAmount is greater than 20:
	if WastedAgain is Incompleted:
		say "You can't remember what you were trying to do. You are so totally wasted.The room begins to violently spin and the last thing you ever hear is the crack of your skull against the floor.";
		now WastedAgain is completed;
		now CurrentEnding is WastedAgain ;
		now CanopyClosed is true;
		now AlcoholAmount is 0;
		End the Journey;
		stop the action.

CanopyClosed is a truth state variable. CanopyClosed is false.

At the time when The Bouncer Will Beat You:
	say "The Bouncer tosses you out the door. The last thing you hear is the crack of your skull against the sidewalk.";
	now WastedAgain is completed;
	now Currentending is WastedAgain;
	now CanopyClosed is true;
	now AlcoholAmount is 0;
	End the Journey.

BandList is a number that varies. BandList is 5.

Every turn when player is in CanopyMainStage and ConcertStart is true:
	choose row BandList in the Table of Band Songs;
	if BandList is greater than 0:
		say "[song entry]";
		decrease BandList by 1;
	else:
		say "Wow what a concert!"

Table of Band Songs
song
"Such an amazing song."
"Wait where is this saxaphone sound coming from? The band doesn't even have a sax player!"
"Interesting song choice..."
"Must be from their new album."
"People seem to like this song. They are all over the place."

Every turn when Drunk is true:
	if a random chance of 1 in 30 succeeds:
		choose a random row in the Table of Random Drunk Events;
		say "[event entry]".

Table of Random Drunk events
event
"Your head hurts... Too much beer..."
"You are nauseous."
"Is everything spinning or is it just me?"
"You take deep breaths."


The Bar is a supporter in the CanopyClubBar.
The description of The Bar is "It's covered in spilt drinks and is quite sticky... However there is a box on the bar."

IPA case is an open and openable scenery container on The Bar.
Understand "box" and "case" and "IPA box" and "suspicious box" as IPA case.
The description of IPA case is "It's a Suspicious Box... What is it doing on the bar?"
The printed name of IPA case is "Suspicious Box".

Beer is a drinkable thing in the IPA case.




The description of Beer is "Fine lager."
Understand "lager"and "beer bottle" as beer.



CanopySidewalk is a scenery supporter.

CanopySidewalk is in the Canopy Club Entrance.
The printed name of CanopySidewalk is "sidewalk".
The description of the CanopySidewalk is "It's pretty dirty and cracked. [if breathalyzer is on Canopysidewalk]A breathalyzer is lying here."
Understand "sidewalk" as CanopySidewalk.

Crack is a scenery container on Canopysidewalk.
The description of the crack is "It  seems to be a crack in the sidewalk."

ChewedGum is an edible in the crack.
The description of ChewedGum is "It's a chewed piece of gum. You're not thinking about eating it are you?"
Understand "gum" as chewedGum. The printed name of ChewedGum is "a piece of chewed gum".

Breathalyzer is a switched off device on CanopySidewalk.
The description of Breathalyzer is  "It's a handy breathalyzer! Probably nobody has put it in their mouth before you, you figure, so no problem about taking it with you."

VIP Card is a thing.
Description of VIP Card is "The Canopy Club VIP exlusive customers glamorous crafted micro rewards card."
CanopyBartender is carrying VIP Card.

CC Shirt is a wearable.
Description of CC Shirt is "Canopy club mega extraordinary members shirt!"
CanopyBartender is wearing CC Shirt.

CanopyBouncer is a person in the Canopy Club Entrance. "A mean looking bouncer is checking for tickets."
Understand "bodyguard" as bouncer.
CanopyBouncer is scenery.

Instead of examining CanopyBouncer:
	if bouncerNerves is less than 11:
		say "He seems to ignore you.";
	if BouncerNerves is greater than 10:
		say "He stares intensely at you.";
	if BouncerNerves is greater than 15:
		say "Your about to get beaten.";
		The Bouncer Will Beat You in two turns from now.

Instead of attacking CanopyBouncer:
	say "You know he would destroy you in a matter of seconds.";
	increase BouncerNerves by 10;
	stop the action.

Instead of talking to CanopyBouncer:
	say "He looks the other way..." ;
	increase BouncerNerves by 1;

Instead of asking Bouncer about something:
	say "He is not even looking at you.";
	increase BouncerNerves by 1;

Instead of giving something to bouncer:
	say "Are you trying to bribe me?";
	increase BouncerNerves by 5;
	stop the action.

CanopyBartender is a person in the CanopyClubBar. "[BartendersInterest]".
Understand "barkeep" and "bartender" as CanopyBartender.

Instead of attacking CanopyBartender:
	say "Do you want to not get drinks for the rest of your life, because that's how you not get any drinks for the rest of your life.";
	stop the action.

Instead of talking to CanopyBartender:
	If Drunk is true and Musicscore is less than 10:
		say "You chat about your problems and he listens patiently while working.";
		increase Musicscore by 5;
	else:
		say "He says something but you cannot hear him."


Instead of giving something to Canopybartender:
	say "I only accept cash!";
	stop the action.

The crowd are people in the CanopyMainStage.
The crowd are scenery.
The description of the crowd is "About a hundred people are all yelling at the same time. You can't hear anything."
Understand "fans" as the crowd.

Instead of attacking The Crowd:
	say "Wow you are really confident. Are you seriously going to 1v100?";
	stop the action.

Instead of talking to The crowd:
	If ConcertStart is true:
		say "No one is paying attention to you since the concert has started.";
	else:
		say "Okay... You know you cannot talk to a hundred people at the same time do you?"

Instead of asking the crowd about something:
	say "They all yell some jibberish."

Instead of giving something to the crowd:
	say "They would probaby yell if you gave them the [noun]!";
	stop the action.

Technicians are people in the CanopyMainStage.
Technicians are scenery.
The description of the technicians is " They are wearing all black clothes and are making stupid noises with the instruments. One guy keeps on mumbling on the mic."
Understand "tech people" and "tech guys'" as technicians.

Instead of examining technicians:
	If ConcertStart is true:
		say "You can't see them.";
	else:
		say " They are wearing all black clothes and are making stupid noises with the instruments. One guy keeps on mumbling on the mic."

Instead of attacking The Technicians:
	If ConcertStart is true:
		say "You can't see them.";
		stop the action;
	else:
		say "If you don't want the concert to start go ahead... But they are too far away anyway.";
		stop the action.

Instead of talking to technicians:
	If ConcertStart is true:
		say "You can't see them.";
	else:
		say "They are tooooooo far."

Instead of asking technicians about something:
	If ConcertStart is true:
		say "You can't see them.";
	else:
		say "They are toooooooooooooo far."


Instead of interrogating bartender about an item listed in the Table of Bartender Responses:
	say "[reply entry][paragraph break]".

Table of Bartender Responses
item	reply
beer	"Bartender says, 'That will be a 5 bucks sir.' You slip away in the crowd."
VIP Card	"Most amazing and exclusive card ever."
CC Shirt	"Been wearing this forever."
Breathalyzer	"You should keep track of your alcohol amount. It might come in handy. We like drunk people here."
Gum	"Dude why are you even carrying that. Gross."

PART 8 - Red Herring

RedHerringInterior is an Interior Location. "The inside of the Red Herring Vegetarian Restaurant is like being transported from Urbana, Illinois to Santa Cruz, California. The smell of ground coffee and patchouli is in the air. The tables are all colorfully hand-painted. You have heard that they make a good cup of coffee. You can [bold type]exit[roman type] the restaurant from here, and there is restroom to the [bold type]north[roman type]."
The printed name of RedHerringInterior is "Red Herring Entrance".
RedHerringInterior is inside from Red Herring.

Instead of smelling room when player is in Red Herring:
	say "The scent of spicy black beans and arugala is nearly overwhelming."

RedHerring is a RoomProxy in Red Herring. Understand "Red Herring" and "Red Herring Restaurant" as RedHerring.
The printed name of RedHerring is "Red Herring Restaurant".

HerringBathroom is north of RedHerringInterior. "It's a pretty standard bathroom, but the walls are covered with strange art."
The printed name of HerringBathroom is "Red Herring Restroom".
HerringTables are a scenery supporter in RedHerringInterior.

Instead of examining HerringTables:
	if mason jar is on HerringTables:
		if firestone is in mason jar:
			say "Most of the tables are occupied, so you can't look at them very closely. One of the tables is covered in mason jars full of coffee beans. One of the jars catches your eye because of an unexpected glint of red at the bottom.";
			stop the action;
		else:
			say "Most of the tables are occupied. One of the tables is covered in mason jars full of roasting beans.";
			stop the action;
	else:
		say "The tables are beautifully painted, each one different from the next.";
		stop the action.

Understand "tables" and "painted tables" and "colorfully painted tables" as HerringTables.
The printed name of HerringTables is "colorfully painted tables".

the mason jar is a closed, openable, transparent container on HerringTables.
understand "jars" as mason jar.

Instead of examining mason jar:
	if firestone is in jar:
		say "You pick up the jar to examine it. The jar is warm to the touch, and there is a red pebble of some kind inside the jar. It seems to be glowing. It reminds you of something, but you can't think of what.";
		stop the action;
	else:
		say "The coffee beans in this jar are no longer roasting.";
		stop the action.
Instead of ordering coffee in RedHerringInterior:
	say "You order a cup of coffee. Wow, it really was as good as you heard.";
	now HadCoffee is true.
	
Instead of drinking coffee in RedHerringInterior:
	say "You order a cup of coffee. It seems to have been freshly roasted. You're impressed.";
	now HadCoffee is true.
	[stop the action.]

ground coffee is edible scenery in RedHerringInterior.
The description of ground coffee is "You're not sure what's going on with the coffee beans in the mason jars. The smell of roasting beans rises from the table, which is confusing since there's no roaster on the premises that you can see."

Understand "coffee beans" and "roasting beans" and "coffee roaster" as ground coffee.

firestone is a thing in Mason jar.
Understand "red stone" and "stone" and "pebble" and "redstone" as firestone.
The printed name of Firestone is "small red pebble".

Instead of examining firestone:
	if firestone is in Mason Jar:
		say "You can't tell anything about the pebble when it's in the jar.";
		stop the action;
	else:
		say "The pebble turns instantly cool in your hand. But for a second it was burning like an ember, and you realized where you've seen it before. It looks like a pebble-shaped block of redstone, a source of unlimited convertible energy. At the moment, it seems to have been harnessed for roasting coffee. 'This could come in handy,' you think.";
		stop the action.

Instead of taking firestone:
	if firestone is in mason jar:
		say "You dump enough of the coffee beans into your palm that the pebble comes out too. To your credit, you don't put the lid back on the jar, so the employees will know it has been tampered with.";
		now player has firestone;
		stop the action;
	else:
		continue the action.

HerringBathroomWalls are scenery in HerringBathroom.  The printed name of HerringBathroomWalls is "the bathroom walls".


Understand "strange art" and "walls" and "drawings" and "wall" and "drawing" and "bathroom walls" and "bathroom wall" and "restroom walls" and "restroom wall" and "art" and "strange art" as HerringBathroomWalls. 
The description of HerringBathroomWalls is "[one of]You see arcane drawings of skeletal entities all over the walls.[or]The drawings seem to shift and slither upon the walls.[or]You feel the drawings are staring deep into your being.[or]The drawings never look the same way twice. You become dizzy and have to look away.[stopping]".


the stick of hotness is a switched off device in HerringBathroom. "You see what looks like the hilt of a sword sitting on the sink ledge. There's a button at the top and an engraving on the side in a fine filigree."
Understand "soh" and "sabre" and "light sabre" and "lightsabre" and "lightsaber" and "saber" and "sword" as stick of hotness.

 fine filigree is part of stick of hotness.
The description of fine filigree is "The finely-wrought letters say, 'Stick of Hotness'."
Understand "engraving" and "letters" as fine filigree.


BatteryPacked is a truth state variable.

Instead of switching on stick of hotness:
	try examining stick of hotness.

Instead of examining stick of hotness:
	if player has firestone:
		say "You push the button at the top of the sword, but nothing happens. You wonder what kind of battery it needs. Suddenly you feel a burning sensation in your pocket. The red pebble has burned its way out. You try to grab the pebble before it hits the ground, but it flies out of your hand and buries itself deep in the hilt of the sword. You're almost afraid to switch it on.";
		now BatteryPacked is true;
		now player has stick of hotness;
		now firestone is nowhere;
		stop the action;
	else if BatteryPacked is false:
		say "You pick up the weapon, marveling at the light weigh, and the comfortable sabre-like hilt. You push the button on the top of the sword once or twice, but nothing happens.";
		now player has stick of hotness;
		stop the action;
	else if player is in HerringBathroom:
		say "A foot long beam of fire shoots out from the front of the stick! The skeletal engravings on the wall caper with joy.";
		now stick of hotness is switched on;
		stop the action;
	else:
		say "You don't want to waste the battery. Who knows when you'll need this weapon?";
		stop the action.

Instead of going south from HerringBathroom:
	if stick of hotness is switched on:
		say "[one of]Woah, partner. You can't go walking through the cafe with your saber a-blazing.[or]Better turn off your sword before you go back to the cafe.[stopping]";
	else:
		continue the action.

Instead of switching off stick of hotness:
	say "You press the button again and the fiery blade disappears.";
	now stick of hotness is switched off.


VOLUME 11 - SOUTHEAST CAMPUS

BOOK 1 - REGIONS

SouthEastCampusOutdoor is a region.

AllenHallNeighborhood is an OutdoorRegion in SouthEastCampusOutdoor.
Allen Hall and Bevier Hall and Institute of Genomic Biology and Edward Madigan Lab and Turner Hall and Fire Station and Tennis Courts and Picnic Shelter and Illini Grove and Donner Drive Playing Fields and ACES Library and Animal Sciences Lab and Lincoln Street Residence Halls  are in AllenHallNeighborhood.

McKinleyNeighborhood is an OutdoorRegion in SouthEastCampusOutdoor.
Twin City Bible Church and McKinley Health Center and Kappa Delta House and Alpha Gamma Delta House are in McKinleyNeighborhood.

FarSouthEastNeighborhood is an OutdoorRegion in SouthEastCampusOutdoor.
Pennsylvania Avenue Residence Halls and Lincoln & Delaware and Lincoln & Florida and College Ct and FAR and Trelease and Oglesby are in FarSouthEastNeighborhood.

ArboretumNeighborhood is an OutdoorRegion in SouthEastCampusOutdoor.
IdeaGarden and ArborGardenNorth, ArborGardenSouth, ArborGardenEast and Noel Welcome Garden and ArborOakGrove and Cherry Tree Alley and ArborLakeNorth and HartleyGarden and Japan House and Gazebo Garden and ArborLakeSouth and ArborLakeSoutheast and ArborLakeEast are in ArboretumNeighborhood. 

SouthEastCampusIndoor is a region.

PARMap is an IndoorRegion in SouthEastCampusIndoor.
PARHallInterior and Carr Hall, CarrHallCorridor, CarrHallBathroom, PARInterior, Babcock Hall, Blaisdell Hall and Saunders Hall are in PARMap.

FARMap is an IndoorRegion in SouthEastCampusIndoor.
OglesbyBasement, and Trelease lobby, and Secret Base, and Floor 9 are in FARMap.

McKinleyMap is an IndoorRegion in SouthEastCampusIndoor.
McKinleyInterior and Engine Room and Surgery Room and waiting Room and McKinleyDungeon and Operation Station and TwinCityChurchInterior, McKinley Foyer are in McKinleyMap.

PSLMap is an IndoorRegion in SouthEastCampusIndoor.
Plant Sciences Lab and PSL Hallway and PSL Foyer and PSL Classroom and PSL Prep Room and Covered Greenhouse and Roofless Greenhouse and Many Greenhouses and National Soybean Research Lab are in PSLMap.

TurnerMap is an IndoorRegion in SouthEastCampusIndoor.
TurnerHallInterior is in TurnerMap.

ASLMap is an IndoorRegion in SouthEastCampusIndoor.
ASLInterior and ASL Auditorium is in ASLMap.

MadiganMap is an IndoorRegion in SouthEastCampusIndoor.
MadiganlInterior, MadiganInterior are in SouthEastCampusIndoor.

BOOK 2 - OUT of DOORS

PART 1 - ROOMS

Institute of Genomic Biology is east of Morrow Plots and southeast of Smith Hall and north of Animal Sciences Lab. "No one knows what really goes on here. You can [bold type]enter[roman type] if you dare."

Bevier Hall is east of Institute of Genomic Biology.  "[BevierHallDescription]".

Edward Madigan Lab is south of Bevier Hall and east of Animal Sciences Lab and north of Turner Hall. "As you come to the intersection of Gregory and Goodwin, you see the Edward Madigan Lab. You quickly notice a bus has managed to plow right into the north end of the building as well! Maybe you should see what happened. Otherwise, you can go [bold type]north[roman type] to Bevier Hall, [bold type]east[roman type] to the Fire Station, [bold type]south[roman type] to Turner Hall or [bold type]west[roman type] to Animal Sciences Lab."

Fire Station is east of Edward Madigan Lab. "It's the campus fire station. Not some place you want to poke around. You can go [bold type]south[roman type], [bold type]east[roman type] and [bold type]west[roman type] from here."

Lincoln Street Residence Halls are east of Allen Hall and north of McKinley Health Center.  "You are standing outside Lincoln Street Residence Halls but you can't get in because this isn't your dorm.  At the moment you can go [bold type]south[roman type] and [bold type]west[roman type] from here."

ACES Library is east of the Giant X and south of Animal Sciences Lab. "The ACES Library looks a little bit like a round barn. You can [bold type]enter[roman type] it from here, or go in most other directions.  Animal Sciences Lab is to the [bold type]north[roman type] and the fab lab is to the [bold type]south[roman type]. Turner Hall is in the [bold type]east[roman type] and to the [bold type]west[roman type] there is a crossroad that looks like a giant X."

Animal Sciences Lab is southeast of Morrow Plots and east of UIUC Extension. "The steps into the red brick building that houses the Animal Sciences Lab, otherwise known as ASL, beckon to you, promising shelter from wind, heat, and precipitation within the confines of its roof. The rafters over the stone steps offer a shady alcove with protection from all kinds of weather.[paragraph break]You can go[bold type] in [roman type]to the building from here. To the [bold type]northeast[roman type], the boundaries of the Morrow Plots sway in the wind. To the [bold type]southeast[roman type] is the Plant Sciences Laboratory and Turner Hall Greenhouses.".

Plant Sciences Lab is east of Turner Hall and south of Fire Station and west of Donner Drive Playing Fields and northwest of tennis courts.  "The Plant Sciences Laboratory is fronted with large glass doors and larger glass windows. The atrium holds a variety of plants-- a hint of the vegetation to come.[paragraph break]The Animal Sciences Laboratory sits around the street corner, to the [bold type]northwest[roman type]. The National Soybean Research Laboratory is to the [bold type]south [roman type], the fire station to the [bold type]north[roman type], a long artificial pond to the [bold type]east[roman type], tennis courts to the [bold type]southeast[roman type], and Turner Hall to the [bold type]west[roman type]."

National Soybean Research Lab is south of Plant Sciences Lab. "The name of this location says it all. There are many more greenhouses to the [bold type]west[roman type], or else you can go [bold type]north[roman type] to the Plant Sciences Lab."

Many Greenhouses are west of National Soybean Research Lab and south of Turner Hall and east of the CU Community Fab lab. "Different kinds of plants grown by university students and staff are kept in these green houses. The National Soybean Research Lab is to the [bold type]east[roman type] and the Fab Lab is in the [bold type]west[roman type]. To the [bold type]north[roman type] is Turner Hall."

Donner Drive Playing Fields are west of McKinley Health Center. "No one is playing on the playing fields at the moment."

Cafe Paradiso is south of LincolnAndNevada. "You are standing on the sidewalk in front of Cafe Paradiso, a favorite haunt for graduate students and faculty." 

[move this to where it belongs in the index --with other room proxies in the region ]

CafeParadiso is a roomproxy in Cafe Paradiso.
The printed name of CafeParadiso is "Cafe Paradiso".
Understand "Cafe Paradiso" and "Paradiso" and "the cafe" as CafeParadiso.

CafeParadisoInterior is an Interior Location. "You are in Cafe Paradiso. The clientele here includes graduate students and professors. You're casually sitting at one of the many small tables in the cafe. You can [bold type]exit[roman type] the place from here."

CafeParadisoInterior is inside from Cafe Paradiso.
The printed name of CafeParadisoInterior is "Inside the Cafe".
Mckinley Health Center is northwest of Twin City Bible Church. "You are outside of Mckinley Health Center whch you can go[bold type] in [roman type]to from here. To the [bold type]east[roman type] you spy the Kappa Delta House. Twin City Bible Church is to the [bold type]southeast[roman type].[if twisted barricade is in the location][paragraph break]Something seems amiss though. Along the sidewalks and grass lawns you can see what appears to be vomit and blood. You notice a table on the lawn that wasn't there yesterday. The doors to the health center are blocked by this table and some sort of twisted barricade. [end if][if VampiresResolved is true] As you approach the medical center you see some boarded up doors and windows as well. A large sign is on the front door that states [paragraph break] RENOVATIONS, OPEN 2018[paragraph break] You wonder what it will look like next year. Probably will have some kind of amazing floor design, who knows."

Twin City Bible Church is south of Kappa Delta House. "[if visited]Outside of the Church you can see torn sheets lined up across the wall. Most of them are ripped up pretty badly, but you do notice one that seems to have survived the sheet purge.  You also notice two piles of ash lay near the entrence to the library. The glass in your foot is still hurting, and is also the only thing stopping you from full on bleeding out. Something about a health center to the [bold type]northwest[roman type] is coming into your mind. You can go[bold type] in [roman type]to the church if you wish. [else]You stand outside a nice stone building. Whether you are religious or not, an aura seems to resonate from this church, giving a feeling of safety."

Kappa Delta House is east of Mckinley Health Center . "Walking up to the Kappa Delta House you can see a beer can on the front lawn and the usual signs of a destructive party . Though you see the can thrown about and the place TP'd, you cannot find anyone around the house. You attempt to open the door but it wont budge, something must be keeping it from opening inside. [if unvisited]You walk around near a dumpster, next to it you notice a list of some sort. Beside that list you also spy a flyer. [else]Perhaps the Alpha Gamma Delta House to the [bold type]north[roman type] can provide more help."

Alpha Gamma Delta House is northeast of Mckinley Health Center and north of Kappa Delta House. "The Alpha Gamma Delta House looks a little worse for wear then you remember, the windows are smashed in and where the door use to be is a large pile of rubble. With the caved in door and broken glass windows, you know that something a little more than a prank happened here. With no safe way of entering and your foot still bleeding, climbing into those broken windows could be suicidal. Fluttering from some pertruding class on one of the first floor windows, you see a paper plane stuck in the wall. In the top floor of the building you notice a man playing a violin. [if Twin City Bible Church is visited]Your foot starts to feel numb and cannot wait for medical attention any longer. Remembering the Mckinley Health Center, it is probably best to head to its outdoor area and then inside after you are done here, you remember it being to the [bold type]southwest[roman type].[else]You can go [bold type]south[roman type] to the Kappa Delta House, or [bold type]southwest[roman type] to the medical center."

Illini Grove is south of McKinley Health Center and west of Twin City Bible Church and outside from Picnic Shelter. "A mess of trees makes up the majority of Illini Grove, Brick-and-mortar grills dot the grove at regular intervals as footpaths cut through the trampled grass. A bonfire the size of a soccer ball smolders mournfully at the foot of one of the grills. The shade of the Picnic Shelter beckons, which you can [bold type]enter[roman type] from here. The Plant Sciences Laboratory is obscured by fruit trees to the [bold type]northwest[roman type]. [bold type]Northeast[roman type] is McKinley Health Center. [bold type]East[roman type] you spy Twin City Bible Church. To the [bold type]west[roman type], you see the tennis courts. Further [bold type]south[roman type], across the street, looms PAR."

Instead of going nowhere when player is in Illini Grove:
	say "A red-tailed squirrel looks at you challengingly from the grass. You back away and it chatters in approval."

Tennis Courts is west of Illini Grove and south of Donner Drive Playing Fields and northwest of Pennsylvania Avenue Residence Halls and east of National Soybean Research Lab. "[if unvisited]The tennis courts stretch out before you. Normally, these courts see near constant use when the weather permits, but right now they're eerily devoid of people. [else]You return to the tennis courts. You still can't shake the feeling that something about them is off today. You notice a strange box off in one of the neglected corners. [end if]An uncomfortable silence hangs in the air. Back [bold type]east[roman type] you see Illini Grove, and to the [bold type]southeast[roman type] you spy PAR through the trees."

Pennsylvania Avenue Residence Halls is south of Illini Grove. "[if unvisited]You carefully cross the street after looking both ways and find yourself facing the northern entrance of the Pennsylvania Avenue Residence Halls, commonly known as PAR. You know that the four-building complex is connected by a central lobby, but right now you can only see the outsides of the two north-facing dorms, Blaisdell Hall and Carr Hall. [else]You once again find yourself face-to-face with the stony exterior of PAR's north entrance. [end if]You may [bold type]enter[roman type] PAR from here. Across the street to the [bold type]north[roman type] is Illini Grove, and [bold type]northwest[roman type] you see the vacant tennis courts. You can always continue around the side of PAR to the [bold type]south[roman type]."

College Ct is south of Pennsylvania Avenue Residence Halls.  "You stand in the middle of a road, with buildings on either side. To the [bold type]inside[roman type] is FAR, with the two towers of Trelease and Oglesby standing tall near by. [if unvisited]Both dorms appear to be helpful refuges from the biting cold, and it would be advisable to enter one since you forgot your jacket at home. [else]It is cold outside, and you wish to go back inside one of the dorms. You can also go [bold type]north [roman type]or [bold type]east.[roman type]"

Trelease is east of FAR. "Trelease Hall appears to be abandoned, with the stairwell closed for repairs and not a soul to be seen through the narrow windows of the strong metal doors. It has a weird metal lock on it, without any keyholes or card slots visible. The lock appears to be strange and mechanic, with all sorts of lights and electronics on it, with a hard metal casing, and a dark coloration. It truly seems like something out of a sci-fi movie. However, as you are neither a locksmith nor a pyrotechnician, your only option at this point is to head [bold type]west[roman type], back to the main lobby of FAR."

Oglesby is west of FAR. "Oglesby Hall appears to be normal, at least as normal as a college dorm can be. the i-card reader appears to be modified, with a card stuck in it, but with enough wiggle room to slide it to unlock the door. The door is also propped open, rendering the pervious situation with the reader quite futile, and somewhat angering the sign instructing not to prop doors open, if signs could feel anger. The elevators are ahead, and appear to be the best way forward, at least to the ninth floor and the basement, as all the other buttons have been vandalised to the extent of unusability. Thus, your options are to head [bold type]up[roman type] to the ninth floor, [bold type]down[roman type] to the basement, or back [bold type]east[roman type] to the FAR lobby."

Lincoln & Pennyslvania is north of Lincoln & Delaware and east of Pennsylvania Avenue Residence Halls and south of Twin City Bible Church. "You are at the busy intersection of Lincoln Avenue and Pennsylvania Avenue. You can travel to the [bold type]south, north[roman type] and [bold type]west[roman type]."

Lincoln & Delaware is east of College Ct. "You reach the busy intersection of Lincoln Avenue and Delaware Avenue. You can travel to the [bold type]south[roman type] or the [bold type]west[roman type]."

Lincoln & Florida is south of Lincoln & Delaware. "You reach the busy intersection of Lincoln Avenue and Florida Avenue. You can travel to the [bold type]southeast[roman type] or [bold type]north[roman type]."

ArborGardenNorth is southeast of Lincoln & Florida. "Maroons, pinks, and white plants suffuse the space. A maroon smoke bush shuffles. The Sky Pencil Holly reaches your height. Bear's breeches seem slightly unsettling. A white willow wavers in the center of this border. You can travel [bold type]south [roman type]or [bold type]southwest[roman type]."
The printed name of ArborGardenNorth is "Garden North Border"

IdeaGarden is south of Lincoln & Florida and west of ArborGardenNorth. "[if unvisited]You arrive at the Idea Garden.[end if]A small wooden building stands in the center of the garden and flowers dot the surrounding area. The space feels warm, as its plants of vibrant color waver in the sun.  The black lace plant contrasts the red twig dogwood. Salvias and lantanas look to want to follow the wind, yet are rooted to the ground. Chartreuse flowers of bright and silver accent the area. A red toolbox and a blue toolbox sit together in a corner of the garden. You see some more space to the [bold type]southeast[roman type]. You can also go to the [bold type]northwest[roman type]. You can explore the Garden's Borders by going [bold type]north[roman type], [bold type]south[roman type], [bold type]east[roman type], or [bold type]west[roman type]."
The printed name of IdeaGarden is "Idea Garden".

HartleyGarden is southeast of IdeaGarden and south of ArborGardenNorth. "You see a large open space with freshly mowed grass and bushes scattered around. It looks like a giant board game. You can return [bold type]northwest[roman type] back to the Idea Garden, or hike across across a wide grassy area to the [bold type]southeast[roman type]."

ArborGardenEast is southeast of ArborGardenNorth and east of HartleyGarden. "Multiple vividly colored plants overlap, filling your eyes with color.  The Golden Southern Catalpa tree poses over all else in this section of the garden.  A cluster of purple plants among these colors creates a beautifying juxtaposition.  You can travel west, southwest, and northwest from here."
The printed name of ArborGardenEast is "Garden East Border".

ArborGardenSouth is south of HartleyGarden and southwest of ArborGardenEast. "This grassy area is full of paths where students can run, ride bicycles, and have picnics. You can travel any direction from here." 
The printed name of ArborGardenSouth is "Garden South Border".

NoelWelcomeGarden is south of IdeaGarden and west of HartleyGarden and southwest of ArborGardenNorth and northwest of ArborGardenSouth. "This lovely walkway allows people to contemplate the plants beautifully landscaped on trellis structures and bordered with shrubbery. Blooming, these yellow, purple, and blue colors.  Smaller plants seem to be enjoying the sunlight, in response they lightly shake.  Catmint and daylilies are quiet, but  certainly apperciative of your company. You can travel [bold type]north[roman type] towards the Idea Garden, [bold type]east[roman type] towards the Hartley Garden or south towards other areas of the Arboretum."
The printed name of NoelWelcomeGarden is "Noel Welcome Garden".

ArborOakGrove is south of NoelWelcomeGarden and southwest of HartleyGarden and west of ArborGardenSouth. "In this grove of trees you can wander or sit on a bench and feel at peace. In the distance, beyond the lake to the south, you can glimpse Japan House. Across the road to the west lie the veterinary school and the university's horse research farm beyond."
The printed name of ArborOakGrove is "Oak Grove".

StMarysStreet is west of ArborOakGrove. "You are at the intersection of St. Mary's Street and Lincoln Avenue. The Arboretum is to the east. The veterinary school is to the south, and the round barns are to the west."
The printed name of StMarysStreet is "St. Mary's Street".

Round Barn Farm is west of StMarysStreet. "You are on the campus farm. You can continue east or west from here."

Horse Research Farm is west of Round Barn Farm. "St. Mary's Road continues up and down and comes to a long stretch of pastures and barns that make up the university's research stable. Several horses leisurely wander near the fence. You can go east from here." 

Cherry Tree Alley is south of ArborOakGrove. "Cherry trees line the pathway, each tree seeming placed for its own purpose. This fills you with calm, as you believe that you, too, have place in the world. You can travel [bold type]north[roman type] or [bold type]east[roman type]."

ArborLakeNorth is east of Cherry Tree Alley and south of ArborGardenSouth. "You follow a walkway around the ponds. Along the way, geese cross your path. A turtle sits in grass. Peeking into the shallow water, a koi fish swims by. The path goes east and west. You can leave the path to the north."
The printed name of ArborLakeNorth is "Lake Path".

Gazebo Garden is east of ArborLakeNorth. "The wandering path arrives at a lovely gazebo that nestles among the trees and beside the water. You can return to the path by going west or southeast." 

ArborLakeEast is southeast of Gazebo Garden. "The lake splits into smaller ponds and curves around to the southwest here. The wind blows across the lake, making ripples. You can go to the northwest or west from here."
The printed name of ArborLakeEast is "Lake Path". 

ArborLakeSoutheast is west of ArborLakeEast. 
  "You walk along the curving southwestern edge of the Arboretum Lake. Trees and a scenic path surround the lake. The entire area is quiet and still. You can go east or west from here."
The printed name of ArborLakeSoutheast is "Lake Path". 

ArborLakeSouth is west of ArborLakeSoutheast. "Your path goes east and west along the southern edge of the Arboretum Lake. Japan house lies to the west. The air is full of the songs of insects, birds, and frogs." 
The printed name of ArborLakeSouth is "Lake Path". 

Japan House is south of Cherry Tree Alley and west of ArborLakeSouth. "This quaint little house sits near the lake surrounded by a traditional garden. A large wooden sign identifies this as the Japan House. You can go [bold type]inside[roman type] or head away to the [bold type]north[roman type] or the [bold type]east[roman type]."


PART 2 - CURIOSITIES

Section 1 - Nick Offerman's Gazebo

Instead of going nowhere when player is in Gazebo Garden:
	say "When sitting, just sit in the Gazebo. When going, just go southwest."

Nick Offerman gazebo is a photogenic and scavengerhuntable enterable scenery container in Gazebo Garden. 
The description of Nick Offerman's Gazebo is "Actor Nick Offerman, a University of Illinois theater alumnus built this gazebo to honor his former teacher and mentor, Shozo Sato."

Instead of entering Nick Offerman Gazebo:
	say "You step inside the gazebo and take a seat on the wooden bench. A little self-consciously, you close your eyes. Your thoughts are racing, and you are finding it difficult to be present. The idea comes into your head that you should become aware of your breathing, and as you do this, you find yourself slowing down. The worries of the day leave you. You accept yourself as you are. Thank you Nick Offerman! [paragraph break]It feels as though hours have passed, but when you check the time, yit has only been a moment. Strange, but wonderful.";
	stop the action.


BOOK 3 - INDOOR MAPS

PART 1 - INSTITUTE OF GENOMIC BIOLOGY

InstituteGenomicBiology is a roomproxy in Institute of Genomic Biology.
Understand "IGB" and "Institute of Genomic Biology" as InstituteGenomicBiology. The printed name of InstituteGenomicBiology is "Institute of Genomic Biology".

 IGBINterior is an Interior Location. "Nothing to see here folks. Move right along. You can go [bold type]out[roman type] from here." The printed name of IGBInterior is "Institute of Genomic Biology Entrance".
IGBINterior is inside from Institute of Genomic Biology.

PART 2 - ANIMAL SCIENCES LAB

AnimalSciencesLab is a roomproxy in Animal Sciences Lab. The printed name of AnimalSciencesLab is "Animal Sciences Lab". Understand "Animal Sciences Lab" and "ASL" as AnimalSciencesLab.

ASLInterior is an interior location. "A blast of cool air hits you as you open the doors. Flyers of all colors and sizes are tacked up to bulletin boards on the walls above the water fountain. The hallway splits into a T before you, but the passages to the left and the right are blocked off by wet floor signs.[paragraph break]To the [bold type]south[roman type] is the Auditorium. You can go [bold type]out[roman type] of the building from here."

The printed name of ASLInterior is "Animal Sciences Lab Entrance".
 ASLInterior is inside from Animal Sciences Lab.

shady alcove is scenery in Animal Sciences Lab.
The description of shady alcove is "The overhang of the steps hides this small patch of bush and grasses from the heat of the noonday sun. Some of the vegetation is particularly fragrant, you realize as you approach.".
Understand "alcove" and "shady spot" and "shade" as shady alcove.

stone steps is scenery in Animal Sciences Lab.
The description of stone steps is "The steps are made of poured concrete, and in the places where the concrete has started to crumble away, there are rather noticeable attempts to fill in the gaps with concrete of a darker color and a smoother grain.".

bulletin boards are scenery in ASLInterior.
The description of bulletin boards is "The cork bulletin boards are festooned with bits of paper detailing upcoming events in the ACES community. There's an wine-tasting tour approaching for the Horticulture Club. Maybe you'll join next year.".
Understand "flyers" and "cork boards" and "bits of paper" as bulletin boards.

water fountain is scenery in ASLInterior.
The description of water fountain is "Your mouth is feeling a bit like sawdust, so you take a sip. The water tastes slightly metallic, but no more so than usual.".
Understand "bubbler" and "water fountain" as fountain.

wet floor signs are scenery in ASLInterior.
The description of wet floor signs is "The bright yellow signs glare at you from the slippery linoleum. You've risked your life before by ignoring those signs. You're not about to repeat that particular mistake.".

ASL Auditorium is south of ASLInterior. "[if unvisited]The doors creak open ominously, and you are faced with a blank wall.[end if] Peeking around the wall, you see rows of seats and a full wall of chalkboards at the far end of the room. The lights begin to flicker. You can retreat to the [bold type]north[roman type].".

Instead of going nowhere when player is in the ASL Auditorium:
	say "The two doors on the far wall shudder slightly as soon as you step into the room. You decide not to venture any farther in."

blank wall is scenery in ASL Auditorium.
The description of blank wall is "It's a blank wall.".

Chalkboards is scenery in ASL Auditorium."The chalkboards extend to the ceiling. They are covered in chalk dust."

PART 3 - EDWARD MADIGAN LAB


[Room Proxy Needed]

madiganBus is a scenery thing in Edward Madigan Lab.
Understand "bus" and "crash" as madiganBus.
The description of madiganBus is "You take a closer look at the bus and find no one appears to be inside.  There is a lot of green glowing goo all over the bus... You hope everyone wasn't hurt.".
madiganGoo is a scenery thing in Edward Madigan Lab.
Understand "goo" and "glowing goo" and "goop" as madiganGoo.
The description of madiganGoo is "The green goop is glowing neon green making you wonder if you're about to die from radiation sickness. Better not touch it. You do notice that the goo seems to track in through the hole in the wall of the lab. You could take a look [bold type]inside[roman type].".

MadiganInterior is an Interior Location. "[if unvisited]You step through the massive hole made by the bus colliding with the lab, careful to not stop in the likely toxic goo. The hallway seems to be totally blocked by goo though.[else] You can clearly see there is a trail of goo leading down the hall but without some protection, the path is blocked."
The printed name of MadiganInterior is " Inside Edward Madigan Lab".
Edward Madigan Lab is outside from MadiganInterior.

MadiganLab is a RoomProxy in Edward Madigan Lab.
The printed name of MadiganLab is "Edward Madigan Lab".
Understand "Madigan" and "Madigan Lab" and "Edward Madigan Lab" as MadiganLab.

PART 4 - ANIMAL SCIENCE LAB

shady alcove is in Animal Sciences Lab.
shady alcove is scenery.
The description of shady alcove is "The overhang of the steps hides this small patch of bush and grasses from the heat of the noonday sun. Some of the vegetation is particularly fragrant, you realize as you approach.".
Understand "alcove" and "shady spot" and "shade" as shady alcove.

stone steps is scenery in Animal Sciences Lab.
The description of stone steps is "The steps are made of poured concrete, and in the places where the concrete has started to crumble away, there are rather noticeable attempts to fill in the gaps with concrete of a darker color and a smoother grain.".

AnimalSciencesLab is a roomproxy in Animal Sciences Lab. The printed name of AnimalSciencesLab is "Animal Sciences Lab". Understand "Animal Sciences Lab" and "ASL" as AnimalSciencesLab.

bulletin boards are scenery in ASLInterior.
The description of bulletin boards is "The cork bulletin boards are festooned with bits of paper detailing upcoming events in the ACES community. There's an wine-tasting tour approaching for the Horticulture Club. Maybe you'll join next year.".
Understand "flyers" and "cork boards" and "bits of paper" as bulletin boards.

water fountain is scenery in ASLInterior.
The description of water fountain is "Your mouth is feeling a bit like sawdust, so you take a sip. The water tastes slightly metallic, but no more so than usual.".
Understand "bubbler" and "water fountain" and "fountain" as water fountain.

wet floor signs are scenery in ASLInterior.
The description of wet floor signs is "The bright yellow signs glare at you from the slippery linoleum. You've risked your life before by ignoring those signs. You're not about to repeat that particular mistake.".

blank wall is scenery in ASL Auditorium.
The description of blank wall is "It's a blank wall.".


PART 5 - TURNER HALL

Turner Hall is southeast of Animal Sciences Lab and east of ACES Library and northeast of CU Community Fab Lab.  "You are standing in front of a building you've never been in and have no idea what's inside. The Plant Sciences lab is to the [bold type]east[roman type]. The ACES Library is to the [bold type]west[roman type], the Edward Madigan Lab is to the [bold type]north[roman type] and a lot of greenhouses lie to the [bold type]south[roman type]. You can get to the Fab Lab by going [bold type]southwest[roman type]. and the Animal Sciences Lab by going [bold type]northwest[roman type]. Basically can go nearly every direction from here, except inside. Just pick one!"

Understand "Turner Hall" as TurnerHall. 
The printed name of TurnerHall is "Turner Hall".

TurnerHall is a roomproxy in Turner Hall. 

TurnerHallInterior is an Interior Location.
TurnerHallInterior is inside from Turner Hall.

TurnerHallInterior is an Interior Location. "This building under construction. You may [bold type]exit[roman type] from here."

The printed name of TurnerHallInterior is "Inside Turner Hall".

DungeonDoor is a door.

DungeonStairway is north of DungeonDoor and down from TurnerHallInterior. "You see a stairway heading [bold type]up[roman type] through a secret passageway."

TurnerLabDungeon is south of DungeonDoor.

The printed name of TurnerLabDungeon is "Mystery Dungeon".

The description of TurnerLabDungeon is "You awake in a strange lab somewhere on campus. If you didn't know better you'd think that you'd been kidnapped, but you can't remember anything from after your run-in with a guy who was the walking embodiment of a very specific, insanely dated reference.[paragraph break]The room has a single door to the [bold type]east[roman type], maybe you can try that and see if that helps you figure out where you are."

the printed name of Dungeondoor is "Mystery Dungeon Door"

understand "door" and "dungeon door" and "mystery door" as DungeonDoor.

DungeonDoor is scenery.
DungeonDoor is north of TurnerLabDungeon. DungeonDoor is lockable and locked.
TurnerDungeonKey unlocks DungeonDoor. 


PART 6 - PLANT SCIENCES LAB

glass doors are scenery in Plant Sciences Lab.
The description of glass doors is "The glass doors and windows are cleaned very well. You'll have to take extra care to make sure you don't walk straight into them. They're unlocked at the moment and you can go[bold type] in [roman type]to the Plant Sciences Lab from here".
Understand "large glass doors" and "larger glass windows" and "glass windows" as glass doors.

PSL Foyer is inside from Plant Sciences Lab. "You enter the Plant Sciences Lab to a rush of air conditioning. There's a display of plants in one corner of this small vestibule. Another set of doors to the west leads into the main building.".
display of plants is in PSL Foyer.
display of plants is scenery.
The description of display of plants is "There a few different types of plants here in the PSL foyer, mostly in the form of miniature trees and small potted shrubs.".
Understand "plants" and "variety of plants" as display of plants.

PSL Hallway is west of PSL Foyer. "The hallway of the Plant Sciences Laboratory is separated with another set of glass double doors. Lining the walls are cork bulletin boards with images and descriptions of Feature Flowers tacked up in artful arrangements.[paragraph break]The only unlocked classroom is to the southeast. The Greenhouses can be accessed to the south. You can exit to the east.".

glass double doors is scenery in PSL Hallway.
The description of glass double doors is "Ouch! You walked straight into the double doors separating the hallway and the foyer. Someone has spent a lot of time cleaning them, but it seems that now you've left a faceprint. Hopefully now you won't walk into them again.".
Understand "doors" as glass double doors.

cork bulletins are scenery in PSL Hallway.
The description of cork bulletins is "The cork bulletin board nearest you is only half-full. It seems that the semester isn't far enough along for all of the Feature Flowers to be presented yet.".
Understand "bulletin boards" and "cork bulletin boards" and "Feature Flowers" and "artful arrangements" as cork bulletins.

PSL Classroom is southeast of PSL Hallway. "The classroom holds familiar rows of lab tables and the earthy perfume of wilting flowers. At the front of the room sits the professor's lab table, covered in vases of flowers and fillers. Behind it, the chalkboard details the construction of a floral centerpiece. Organic detritus lies scattered on the floor where clumsy and careless students have missed the corresponding cans.[paragraph break]You can exit to the hallway to the northwest or enter the Preparation Room to the west.".

Instead of going nowhere when player is in the PSL Hallway:
	say "Most of these doors are locked. You suspect they hold monstrous creations reminiscent of 'Little Shop of Horrors.' You're not particularly interested in finding out today. Continue [bold type]southeast[roman type] to the classroom, [bold type]south[roman type] to the Greenhouses, or leave the building to the [bold type]east[roman type]."

rows of lab tables are scenery in PSL Classroom.
The description of rows of lab tables is "You remember fondly your time sitting on the squeaking stools in this room. Yep. The stools still squeak.".
Understand "lab tables" as rows of lab tables.

Instead of going nowhere when player is in PSL Classroom:
	say "The cabinet-lined shelves bang into your shins. It would seem that you cannot actually phase through walls."

wilting flowers are scenery in PSL Classroom.
The description of wilting flowers is "Solidago and alstroemeria. Nothing quite as sad as seeing dull and dying flowers, but there's not much you can do for them anyway.".

classroom cans are scenery in PSL Classroom.
The description of classroom cans is "Each organic detritus can bears a wonderfully familiar sign: 'PLANT MATERIAL ONLY *** NO TRASH'.".
Understand "can" and "organic detritus cans" as classroom cans.

organic detritus is scenery in PSL Classroom.
The description of organic detritus is "Decaying plant material is strewn across the floor. Makes the place smell like a garden, dirt and all.".

PSL Prep Room is south of PSL Classroom. "The preparation room has its fair share of strange equipment and tables covered in strange, wonderful devices. The aroma of tea colors the air slightly, intertwined with the earthy scent of mud and decomposing plant material.[paragraph break]The exit is to the east.".

wonderful devices are scenery in PSL Prep Room.
The description of wonderful devices is "You're actually not sure if these devices are, in fact, strange or wonderful. Well, they're definitely probably strange.".
Understand "devices" as wonderful devices.

prep organic detritus cans are scenery in PSL Prep Room.
The description of prep organic detritus cans is "Each organic detritus can bears a wonderfully familiar sign: 'PLANT MATERIAL ONLY *** NO TRASH'.".
Understand "can" as prep organic detritus cans.

Covered Greenhouse is south of PSL Hallway. "The white fabric and glass panels of the Greenhouse filter the sunlight into encapsulated temperature- and humidity-controlled cells.[paragraph break]The Greenhouse continues to the west. You can reenter the Laboratory to the north.".

Instead of going nowhere when player is in Covered Greenhouse:
	say "Ouch! Now you understand how birds and dogs feel when smashing into immaculate glass patio doors."

Roofless Greenhouse is west of Covered Greenhouse. "The Greenhouse opens up to walled gardens that simulate natural gatherings of vegetation. The sunlight beats hot against your skin.[paragraph break]The Greenhouse continues to the east.".

Instead of going nowhere when player is in Roofless Greenhouse:
	say "A rather foreboding line of thornbushes blocks your way. You're not quite in the mood to try to conquer their prickly appendages, so you back away slowly with your hands raised, as if that would help."

fruit trees are scenery in Illini Grove.
The description of fruit trees is "These particular fruit trees are elder trees, and there's a particularly ripe-looking clump of dark berries hanging within arm's reach. They're calling out to you. Don't leave them hanging.".
Understand "trees" as fruit trees.

brick-and-mortar grills are scenery in Illini Grove.
The description of brick-and-mortar grills is "These grills are constructed of brick and mortar, apparently a gift from a graduating class in the 1940s. They've held up relatively well, considering. There's a clump of flowers growing in the sunlight next to the closest grill.".
Understand "grills" as brick-and-mortar grills.

the tiny little bonfire is a supporter in Illini Grove. tiny little bonfire is scenery.
The description of bonfire is "It's a tiny little bonfire, probably made by a former Boy Scout. It produces a surprising amount of heat, considering its diminutive size. You notice something pink lying in the grass, sparkling in the firelight.".

Picnic Shelter is an interior location. "You are standing in the small shelter in the Illini Grove. It is constructed of two pillars, some sections of railing, and one long wall. A few picnic tables are also under its roof.".

Picnic Shelter is inside from Illini grove.
PicnicShelter is a roomproxy. PicnicShelter is in Illini Grove. "It's a place to go to escape the rain."
The printed name of PicnicShelter is "Picnic Shelter".
Understand "picnic shelter" and "shelter" and "picnic" as PicnicShelter.

Instead of going nowhere when player is in Picnic Shelter:
	now player is in Illini Grove.

pillars are scenery in Picnic Shelter.
The description of pillars is "Strong pillars support the roof of the shelter.".

wooden railing is scenery in Picnic Shelter.
The description of wooden railing is "Rusting metal railing connects the pillars of the shelter.".

long wall is scenery in Picnic Shelter.
The description of long wall is "It's a long wall.".
Understand "one long wall" and "wall" as long wall.

potted plant is a container in the display of plants. "There is a terra-cotta pot with a very friendly plant in it.".
Instead of examining potted plant:
	if potato is in the potted plant:
		say "The leaves of the potted plant rustle slightly as you look at it, as if waving hello. Its soil is dark and damp to the touch, speckled with green and blue beads of fertilizer. A light brown mound of something not-dirt lies half-buried amongst the roots of the plant.";
	else:
		say "The potted plant sways slightly. There is a bit of a hollow in the damp soil between its roots. You look around to make sure no one is around, then quickly wave back at it. It seems happier, somehow.".

potato is an edible thing in the potted plant.
The description of the potato is "It's a raw potato."
Understand "mound" and "light brown mound" and "not-dirt" and "dirt" and "raw potato" as potato.
Instead of eating the potato:
	say "You love your potatoes fried and baked and mashed and scalloped and crisped, but you've never been quite a fan of them raw. You save the potato for later, when you have a kitchen.".

the lab table is scenery in the PSL Classroom.
The description of lab table is "The professor's table is groaning under the weight of glass vases filled with water and all kinds of flora. Looking at the goldenrod makes you vaguely itchy, but the scent of eucalyptus fills the room. On the side where the professor stands is a long and shallow drawer where she keeps her notebooks and her pens.".

a creaky drawer is a closed, openable container in the PSL Classroom.
a creaky drawer is scenery.
Instead of examining creaky drawer:
	if cabinet key is in the drawer:
		say "The drawer is chock-full of pens, notepads, and empty rolls of floral tape. Nestled among the scraps of ribbon is a dull silver key.";
	else:
		say "The drawer is rather disorganized. It's probably best to close it before you leave the room.".
Understand "lab table drawer" as drawer.

The cabinet key unlocks the wooden cabinet.
The cabinet key is in the drawer.
The description of the cabinet key is "It's a dull silver key. It looks too small to open a normal door, but just the right size for a padlock.".
Understand "key" and "silver key" and "dull silver key" as cabinet key.

wooden cabinet is a locked, closed, openable container.
wooden cabinet is in the PSL Classroom.
wooden cabinet is scenery.
Instead of examining wooden cabinet:
	if locked:
		say "These cabinets are made of a dark brown wood, and some of its doors are glass-paned so you can see the colorful plastic vases that line its shelves. The cabinet that holds the scissors is currently padlocked shut, however.";
	else:
		say "There are many hooks screwed into the cabinet door. Your favorite pair of floral shears belongs on hook 37.".
Understand "drawers" and "shelves" as cabinet.

shears are in the wooden cabinet.
The description of shears is "You've always wondered why 'shears' is plural when there's only one usable item. This pair is particularly pointy. Don't run with them!".
Understand "floral scissors" and "scissors" and "floral shears" as shears.

the preparation table is a scenery in PSL Prep Room.
the preparation table is scenery.
The description of preparation table is "Against the far wall of the room sits a long table laden with sealed glass beakers of undefinable liquids and tightly closed jars of dried plant material.".

the stone mortar is a mortar on the preparation table. "A granite mortar and pestle set sits on one of the far tables.".
The description of stone mortar is "The smooth stone of the mortar and pestle is testament to how well it has been used.".
Understand "mortar" and "granite mortar" and "mortar and pestle" and "granite mortar and pestle" as stone mortar.
the stone mortar is fixed in place.

the rose hips is an herb on the preparation table. "A nigh inexhaustible mound of rose hips sits next to the granite mortar and pestle.".
The description of rose hips is "Rose hips are especially versatile. You've heard that steeping rose hips in alcohol creates a tincture that soothes anxiety, but also that ground rose hips become a useful poultice to treat surface wounds. Rose hips soaked in water, however, create an infusion rich in vitamin C that can help stave off illness. How hip!".
rose hips compress is a poultice.
The description of rose hips compress is "It's a poultice of rose hips, good for treating surface wounds.".
Understand "rose hips poultice" as rose hips compress.
rose hips infusion is an inf.
The description of rose hips inf is "It's an infusion of rose hips, rich in vitamin C and good for staving off illness.".
rose hips tincture is a tinct.
The description of rose hips tincture is "It's a tincture of rose hips, good for soothing anxiety.".

calendula is an herb in the shady alcove. "A rather spiky flower blooms in the shade."
The description of calendula is "A very versatile plant, Calendula is especially useful in treating external wounds. Salves including calendula can be used to treat infections, cuts, scrapes, burns, and chapping.".
Understand "spiky flower" and "flower" as calendula.
calendula compress is a poultice.
The description of calendula compress is "It's a poultice of calendula, good for treating surface wounds.".
Understand "calendula poultice" as calendula compress.

echinacea is an herb in brick-and-mortar grills. "A round purple flower grows quite happily in the bright sunlight."
The description of echinacea is "Echinacea is not only a gorgeous flower, but also a wonderful holistic anti-microbial herb. Its properties are best used in a tincture, you remember from your middle school days of reading plant encyclopedias.".
Understand "round flower" and "purple flower" and "round purple flower" and "flower" as echinacea.
echinacea tincture is a tinct.
The description of echinacea tincture is "It's a tincture of echinacea, good for preventing the inflammation of the nose and throat.".

elder berries are an herb in fruit trees. "Glossy, dark berries gleam in the sunlight."
The description of elder berries is "A strong infusion of elder berries mixed with honey makes a delicious and effective cough syrup. You personally believe that elder berries are pretty to look at as well. One day, when you have a house of your own, you'll be sure to plant a few elder berry trees so you'll never have to go without.".
Understand "berries" and "dark berries" as elder berries.
elder berry infusion is an inf.
The description of elder berry infusion is "It's an infusion of elder berries, good for calming down coughs and soothing the throat.".

WFlask is a flask on the preparation table. "There is a covered flask of clear liquid sitting on the table.".
WFlask is fixed in place.
The description of the wflask is "It's a clear glass beaker. The label reads, 'Distilled Water.'".

AFlask is a flask on the preparation table. "There is a second covered flask of clear liquid sitting on the table.".
AFlask is fixed in place.
The description of the aflask is "It's a clear glass beaker. The label reads, 'Ethyl Alcohol.'".

clear water is a solvent.
clear water is in the WFlask. "The surface of this clear liquid trembles slightly when you tap the glass.".
The description of clear water is "It's water.".

alcohol is a solvent.
alcohol is in the AFlask. "The surface of this clear liquid ripples slightly when you tap the glass.".
The description of alcohol is "It's alcohol.".

a picnic table is a scenery supporter in Illini Grove.
Understand "table" as picnic table.
The description of a picnic table is "The best picnic tables are in the picnic shelter, which you are close enough to [bold type]enter[roman type]."

a cigarettelighter is a device on tiny little bonfire. a cigarettelighter is undescribed.
The description of cigarettelighter is "It's a cheap gas station lighter. When you shake it, you can tell it's still full of gas. This little contraption of metal and pink plastic might come in handy later.".
Instead of switching on cigarettelighter:
	say "It's not dark yet, and there's nothing to set on fire. It's probably a good idea to save that gas for later.".

Understand "pink" and "something" and "pink something" and "something pink" and "pink thing" as cigarettelighter.
The printed name of cigarettelighter is "cigarette lighter".

Rasmussen poem is a thing. "A crinkled sheet of paper printed with black ink.".
Understand "paper" and "sheet" and "flyer" and "poem" as Rasmussen poem.
The description of Rasmussen poem is "This sheet of paper seems to hold the entirety of the poem about the animals.".
Instead of examining the Rasmussen poem:
	say "The paper reads, 'Matt Rasmussen.[paragraph break][paragraph break]AND GOD SAID,[paragraph break][paragraph break]turn the sky into water.[paragraph break]All the animals gathered[paragraph break][paragraph break]and decided if the sky[paragraph break]were water they would[paragraph break][paragraph break]be drowned. So they cried[paragraph break]until the oceans formed.[paragraph break][paragraph break]You have not turned[paragraph break]the sky into water,[paragraph break][paragraph break]said God. But we[paragraph break]have made a sky of water[paragraph break][paragraph break]in which fish swim[paragraph break]as birds fly. It is only[paragraph break][paragraph break]a matter of perspective,[paragraph break]said one of the animals.[paragraph break][paragraph break]God, who was trapped[paragraph break]in the sky, needed a way out.[paragraph break][paragraph break]When he looked down[paragraph break]on the ocean he could only see[paragraph break][paragraph break]his wide blue reflection.[paragraph break]This irritated him.[paragraph break][paragraph break]The mountains[paragraph break]which once caressed[paragraph break][paragraph break]now ground against him.[paragraph break]And God said,[paragraph break][paragraph break]Tear down the mountains[paragraph break]and build me some fields.[paragraph break][paragraph break]The animals gathered[paragraph break]and having cried enough[paragraph break][paragraph break]would never again.[paragraph break]God knew he had[paragraph break][paragraph break]asked too much.[paragraph break]He threw himself[paragraph break][paragraph break]into the sun and burnt[paragraph break]into white ash. It fell[paragraph break][paragraph break]from the sky and covered[paragraph break]the mountains. The animal[paragraph break][paragraph break]who named everything[paragraph break]called it snow.' There is a chill down your spine and you suddenly wonder what the world would be like without mountains.".

 Understand "harvest" as harvesting. Harvesting is an action applying to nothing.
Harvesting It is an action applying to one visible thing.
Understand "harvest [something]" as Harvesting It.
Check Harvesting:
	if player does not have shears:
		say "You need a pair of shears in order to harvest anything.";
		stop the action;
	if herb is not visible:
		say "There is nothing here to harvest.";
		stop the action.
Carry out harvesting it:
	try harvesting.
Carry out harvesting:
	say "You snip the herb close to the base of its usable parts. It looks rather sad, lying on the ground like that.".

Understand "steep" as steeping. Steeping is an action applying to nothing.
Steeping It is an action applying to two visible things.
Understand "steep [something] in [something]" as Steeping It.
Check Steeping:
	if player has herb:
		if solvent is not visible:
			say "You need a solvent in order to steep that herb.";
			stop the action;
	else:
		say "You have no herbs to steep.";
		stop the action.
Carry out steeping it:
	try steeping.
Carry out steeping:
	if noun is an herb:
		if second noun is water:
			say "You place the herb into the water and let it sit. Congratulations! You have created an infusion!";
			if noun is rose hips:
				now player has rose hips infusion;
			if noun is elder berries:
				now elder berries are nowhere;
				now player has elder berry infusion;
			else:
				say "That herb could be better used in another way.";
				stop the action;
		if second noun is alcohol:
			say "You place the herb into the alcohol and let it sit. Congratulations! You have created a tincture!";
			if noun is rose hips:
				now player has rose hips tincture;
			if noun is echinacea:
				now echinacea is nowhere;
				now player has echinacea tincture;
			else:
				say "That herb could be better used in another way.";
				stop the action;
	if noun is not an herb:
		say "You probably shouldn't steep that.";
		stop the action.

Understand "grind" as grinding. Grinding is an action applying to nothing.
Grinding It is an action applying to one visible thing.
Understand "grind [something]" as Grinding It.
Check Grinding:
	if mortar is not visible:
		say "You need a mortar and pestle in order to grind anything properly.";
		stop the action;
	else:
		if player does not have herb:
			say "You have nothing to grind.";
			stop the action.
Carry out grinding it:
	try grinding.
Carry out grinding:
	if mortar is visible:
		if noun is an herb:
			say "You put your elbows into it and grind the herb to a pulpy mass. Congratulations! You have created a poultice!";
			if noun is rose hips:
				now the player has the rose hips compress;
			if noun is calendula:
				now the calendula is nowhere;
				now the player has the calendula compress;
			else:
				say "That herb could be better used in another way.";
				stop the action;
		else:
			say "You probably shouldn't grind that.".

Instead of jumping:
	if player is in PSLmap:
		say "You jump once, twice, just to get your blood flowing. There you go. Maybe now your hands won't be so cold.";
	else:
		continue the action.

Instead of attacking tired students:
	say "Now that's just cruel. At least wait for them to get to bed before knocking them out.";
	stop the action.

Instead of attacking birdwatcher:
	say "You try to sneak up behind them, but they turn around before you get too close. You should definitely reconsider.";
	stop the action.

Instead of attacking tall man:
	say "He's rather tall and intimidating. This probably isn't a good idea.";
	stop the action.

Instead of attacking Robin:
	say "You realize that you would rather not get a call from the ASPCA or have that kind of stain on your conscience. You decide not to.";
	stop the action.

Instead of attacking excited students:
	say "You honestly don't think they would notice much in the hustle and bustle. Your every effort against them proves quite uneffective.";
	stop the action.

Foyer Ficus is a ficus in display of plants. "In one of the corners of the foyer, you can see a[if healthy] tall[else if dying] wilting[else if deceased] dead[end if] Ficus plant here.".
Foyer Ficus is fixed in place.
Instead of examining Foyer Ficus:
	if foyer ficus is Healthy:
		say "The ficus's leaves are green and healthy. Something about it seems to be rapidly changing, however.";
		The Ficus Dies in five turns from now;
		now the foyer ficus is Dying;
		stop the action;
	if foyer ficus is Dying:
		say "The ficus's leaves are yellowing and wilting. There's definitely something going on here, and you're not sure you can do anything to stop it.";
		stop the action;
	if foyer ficus is Deceased:
		say "The ficus is dead. There's nothing you can do to save it now.";
		stop the action.

At the time when The Ficus Dies:
	say "A loud bell clangs from somewhere across campus. It's a beautiful, ringing note that resonates deep within your bones.";
	now foyer ficus is Deceased;
	if player is in PSL:
		say "A beautiful thing has just died before your eyes. You're not sure what to do. You're not sure what you CAN do, except to carry on.";
	else:
		say "For some reason, you are reminded of white lilies and chrysanthemums and your great-grandmothers funeral. Strange.".

Breeze is a number variable. Breeze is 100.
Every turn when player is in PSLmap:
	decrease Breeze by 1;
	if Breeze is 0:
		say "A chill breeze blows across the campus. Students shiver as its frost-tipped fingers pierce unscrupulously through cloth and into skin.";
		increase Breeze by a random number between 50 and 100.

Some tired students are people in Illini Grove.
Understand "kids" and "kid" and "student" as students.
The tired students are scenery.
The description of the tired students is "A group of students slumps at a group of picnic tables, exhausted from a vigorous game of a Capture the Flag, if the scattered supplies are any indication.".
Instead of talking to the tired students:
	say "They're all too tired for you to get any satisfactory response. Probably best to just leave them alone.";
	stop the action.
Instead of asking tired students about something:
	say "Maybe tomorrow would be a better time to ask. You're certainly not going to get an answer right now.";
	stop the action.
Instead of giving something to the tired students:
	say "All these students need is a good night's rest.";
	stop the action.

Instead of talking to birdwatcher:
	try examining the birdwatcher.

Birdknow is a truth state variable.
Birdknow is false.

the birdwatcher is a person in Illini Grove. "[one of]You are not alone, which is hardly strange for such a large grove at such a large university. A birdwatcher leans against one of the empty picnic tables, playing with his phone.[or]A birdwatcher is looking back and forth from his phone to the trees.[or][BirdmanActivities][stopping]"

BirdwatchersPhone is carried by the birdwatcher. The description of BirdwatchersPhone is "It's a way better phone than yours."
Understand "phone" and "cell phone" as BirdwatchersPhone.

Does the player mean interrogating the birdwatcher about birdwatchersphone: it is very likely.
Does the player mean interrogating about birdwatchersphone: it is very likely.
Does the player mean interrogating the birdwatcher about something: it is very likely.

Rule for clarifying the parser's choice of BirdwatchersPhone: say "".
Rule for clarifying the parser's choice of birdwatcher: say "".

Instead of interrogating birdwatcher about BirdwatchersPhone:
	say "He turns the screen so you can see what he's looking at. It's a visual guide to Illinois birds.";
	stop the action.

Understand "jay" as the birdwatcher.

After reading a command:
	if the player's command includes "Jay":
		now Birdknow is true;

Rule for printing the name of birdwatcher:
	if the Birdknow is false:
		say "birdwatcher";
	else:
		say "Jay".

After going in picnic shelter:
	now birdwatcher is in the location;
	now player is in the location.

After going outside from picnic shelter:
	now birdwatcher is in the location;
	now player is in the location.

Birdwatch is a truth state variable.
Birdwatch is false.

Instead of examining birdwatcher:
	if Birdwatch is false:
		say "'Hey,' the birdwatcher says shortly, then turns back to what he was doing.";
		now Birdwatch is true;
		stop the action;
	if Birdwatch is true:
		say "[one of]The birdwatcher says hello, and you share some small talk about your lives and majors. You finally offer your name and the birdwatcher smiles. 'My parents wanted me to soar,' he offers in a voice so quiet it almost disappears in the breeze.[or]'Can you guess my name?' You laugh and shake your head. 'That's okay,' but maybe you will later.[or]The birdwatcher looks like an old friend, even though you're pretty sure he isn't.[stopping]";
		stop the action.

Instead of asking birdwatcher about "jay":
	say "The birdwarcher's eyes widen as you put your hand in your pocket and feel something soft. You pull it out and are startled by its bright blue color. A jay feather! You hand it to him, and he receives it gratefully.";
	now birdwatcher has jayfeather.

Instead of asking birdwatcher about "name":
	if Birdknow is false:
		say "The birdwatcher says 'You can call me that if you want.'";
	if Birdknow is true:
		say "Jay says 'Yeah, that sounds right. I'm looking for something. Do you happen to have it?'"
Instead of asking birdwatcher about "parents":
	say "They loved me, but they didn't completely understand me. Probably they did their best."

Instead of asking birdwatcher about something:
	if birdwatcher does not have jayfeather:
		say "The birdwatcher ignores your question. I'm looking for something. Do you happen to have it?'";
	else:
		say "Birdwatching is for the patient,' he says."

Instead of interrogating birdwatcher about something:
	say "The birdwatcher doesn't seem to want to talk about that.";
	stop the action.

Birdfriend is a truth state variable.
Birdfriend is false.

Instead of giving something to birdwatcher:
	if the noun is jayfeather:
		say "Jay glances up at you in surprise. 'Yes, that's my name.' Jay stands up and gives you a gentle smile. 'Looks like rain. If I were you, I'd stay off the tennis courts until shadows have washed away. Just to be safe,' he adds, before walking away between the trees.";
		now birdwatcher has the noun;
		now Birdfriend is true;
		now birdwatcher is nowhere;
		stop the action;
	else:
		if Birdknow is false:
			say "The birdwatcher shrugs. 'I'm looking for something different.'";
			stop the action;
		else:
			say "Jay shrugs. 'I don't need that, but thanks anyway.'";
			stop the action.

StormWarning is a truth state variable.

Every turn when player is in tennis courts and BirdFriend is true:
	say "Suddenly lightening strikes the fence at the other end of the tennis court. The shadowy figure blinks out for a moment. It isn't evil, you feel certain, but it doesn't belong here. You think you hear the sound of a jay calling, and you recall what the birdwatcher said. You run back towards Illini Grove and dive into the picnic shelter just as the rain begins to drop down from the sky in sheets. In moments the courts are flooded, and as lightning strikes the shadowy figure, directly this time, you can see the current run across the water from one end of the court to the other. If you had been standing there... [paragraph break]The picnic shelter keeps you dry for now, and it's beautiful to watch the rain. so you decide not to venture out until it stops. You'll be late for class but it doesn't matter. Life is precious.";
	now BirdFriend is false;
	now birdwatcher is nowhere;
	now French Fries are nowhere;
	now strange box is nowhere;
	now description of Tennis Courts is "You are on the tennis courts. To the [bold type]east[roman type] you see Illini Grove, and to the [bold type]southeast[roman type] you spy PAR through the trees.".

To Say BirdmanActivities:
	choose a random row in the Table of Flaps;
	say "The birdwatcher [flap entry]."

Table of Flaps
flap
"hums quietly to himself"
"murmurs, 'The sky is clear today'"
"sighs philosophically"
"checks something on his phone"
"makes a note of a bird he just spotted"
"glances at you for a moment curiously, then looks away"

tall man is a person in PSL Hallway. "A tall man with a scruffy beard sits on an empty display table. He mutters under his breath about a poetry class; perhaps he is a professor?".
Understand "professor" and "Zachary" and "man" and "Zach" as tall man.
Instead of asking tall man about "himself":
	say "He looks up sharply. 'The name is Zach, or Zachary if you're so inclined.' He turns back to his notes.";
	stop the action.
Instead of asking tall man about "poetry":
	say "He looks up languidly as his posture shifts. 'And God said,' he recites with a sharp glint in his eyes, 'turn the sky to water.[paragraph break]All the animals gathered[paragraph break][paragraph break]and decided if the sky[paragraph break]were water they would be drowned. So they cried until the oceans formed.'[paragraph break]He hands you a flyer. 'Don't waste my time,' he warns.";
	now the player has Rasmussen poem;
	stop the action.
Instead of asking tall man about "mountains":
	say "He smiles. 'Are there such things as mountains, or do we just live in one large valley? Aren't all things of the earth grown for our disposal? Explore.' He seems satisfied, and exits the building quickly.";
	now tall man is nowhere;
	stop the action.
Instead of asking tall man about something:
	say "He scribbles something down on his clipboard. Now is probably not a good time.";
	stop the action.

Chickfriend is a truth state variable.
Chickfriend is false.

Robin is a person in the ASL Auditorium. "A small creature chirps from your feet."
Understand "creature" and "chick" and "bird" and "baby bird" as Robin.
Instead of examining Robin:
	say "It's a small robin whose breast has only just begun to show bursts of red.";
	now Chickfriend is true;
	stop the action.

Instead of taking Robin:
	say "The bird evades your hands with deft little hops. Seems like it doesn't want to be held.";
	stop the action.
Instead of asking Robin about something:
	say "The bird tilts its head to the left and trills quizzically. You suppose it doesn't understand English.";
	stop the action.
Every turn when Chickfriend is true:
	move Robin to the location of the player.

Every turn when Robin is in the location:
	if a random chance of 1 in 20 succeeds:
		choose a random row in the Table of Tweets;
		say "Robin [tweet entry][line break]".

Table of Tweets
tweet
"hops a few inches to the left."
"chirps quietly."
"flaps her wings a few times."
"flies a lap around your head and settle back down the ground."
"disappears momentarily and returns with a twig in her mouth."

Some excited students are people in Morrow Plots.
Understand "kids" and "kid" and "student" as students.
The excited students are scenery.
The description of excited students is "There's a bustling crowd of people gathered around the Plots.".
Instead of talking to the excited students:
	say "There's no way you'll be able to get their attention. It isn't even worth the effort.";
	stop the action.
Instead of asking excited students about something:
	say "You're not sure you actually want to know. You change your mind and stop asking the question before you even open your mouth.";
	stop the action.
Instead of giving something to the excited students:
	say "They don't notice your efforts to gift them with your prized possession. They don't deserve your [noun].";
	stop the action.

PART 7 - MCKINLEY VAMPIRES

[Problem to be solved before entering -- this is proving to be too hard for people ]

McKinleyHealthCenter is a roomproxy in McKinley Health Center. "Not a bad college health system at all, unless you're in a hurry."

McKinleyInterior is an Interior Location. "You pass into the doors of the health center. [if PowerOn is false]The front desk area and the rest of the building is out of power as far as you can tell, but there's enough ambient light to make your way. [end if] There are hallways going [bold type]southeast[roman type] and [bold type]southwest[roman type]."

McKinleyInterior is inside from Mckinley Health Center.   The printed name of McKinleyInterior is "McKinley Foyer".

Engine Room is southwest of McKinleyInterior . "You enter into the engine room and are instantly bathed in scorching steam. You can see an emergancy power switch along the wall, but it is locked in a glass box. Near the back of the room you see a desk."

white plastic table is scenery in Mckinley Health Center.

Rule for clarifying the parser's choice of the white plastic table:
	do nothing

The description of justinjar is "It's a regular glass with some strange coins in it."
The justinjar is scenery.
The description of white plastic table is "Who would leave a perfectly good table outside, the nerve! On this well made white plastic table is a jar and there is a sign above the table. You can smell something coming from under the table, maybe after checking all the items you can gently flip the table over and see what it is."

Instead of taking white plastic table:
	say "You can't take it, but you might be able to flip it."

A justinjar is an open container on the white plastic table.

The printed name of justinjar is "the jar".
Understand "jar" as justinjar.

some strange coins are things in the justinjar.

Instead of flipping white plastic table:
	say "You flip the table not gently but fiendishly, disregarding its poor table feelings and leaving it to lay side ways in the dirt, and I thought i was creating the monsters here. Under the table you spy a clove of garlic.";
	now the description of white plastic table is "The broken table lies on the grass. What a waste.";
	stop the action.

The description of strange coins is "You have never seen anything quite like these before... well you might have but only in movies. The coins are made of fine silver. In the center of each coin you can see a skull skillfully carved out. Along the sides of the coin reads a message, Praise Be the Night and May a Bountiful Hunt Fill Your Days."
The description of sign is "A white banner that says ADMISSIONS."

TB is a truth state variable. TB is true.

Instead of going inside from McKinley Health Center:
	if TB is true:
		say "There is no way to go inside with this barricade still standing, perhaps there is a way to remove it.";
		 stop the action;
	else:
		continue the action.

Instead of expelling twisted barricade:
	if player has holy scroll:
		say "Holding the scroll over your head you cry 'EXPEL!' and the barricade crumbles to dust.";
		now barricade is nowhere;
		now TB is false;
	else:
		say "The barricade seems to be held together by some supernatural means. You cannot remove it.";
		stop the action.

VampiresResolved is a truth state variable.

twisted barricade is scenery in McKinley Health Center.
The description of the twisted barricade is "What stands before you is an amalgamation of twisted pitch black trees intertwind with the bones of the dead. There does not appear to be a way around it, maybe you know something that can destroy it."
Understand "barricade" and "wall" and "obstacle" as twisted barricade.

TwinCityBibleChurch is a RoomProxy in Twin City Bible Church. The printed name of TwinCityChurch is "Twin City Bible Church". Understand "Twin City" and "Church" and "Twin City Bible Church" as TwinCityBibleChurch.

TwinCityChurchInterior is an Interior Location. "[if BloodyFoot is false]You find yourself inside a church surrounded by pews. As you look around, you hear a faint voice saying something about a holy relic. All you can pick out is that there must be something very important in the church somewhere.  What you can see around you besides the pews is the traditional pulpit and a letter along the side of the wall, otherwise the church has an ominous feeling about it. As you walk a massive chandelier falls down from the ceiling, impaling your foot with a piece of glass. [end if]There is a glowing door wide open leading to the outside. [if VampiresResolved is true]It's a nice little church interior with a very traditional church feel. You feel safe in this place almost as if something watches over it.".

TwinCityChurchInterior is inside from Twin City Bible Church.
The printed name of TwinCityChurchInterior is "Inside Twin City Bible Church".

BloodyFoot is a truth state variable. BloodyFoot is false.

shard of glass is a thing.
The description of shard of glass is "You'd like it out of your foot. Better have someone at McKinley look at that."



After going inside from Twin City Bible Church for the first time:
	now BloodyFoot is true;
	now shard of glass is part of your foot.

massive chandelier is scenery in TwinCityChurchInterior. The description of massive chandelier is "It is now an ex-chandelier which you know quite well since part of it is sticking out of your foot."


 the pulpit is a scenery supporter in TwinCityChurchInterior.

tattered holy scroll is an undescribed thing on the pulpit.
the description of twisted door is "The twisted door appears to be quite twisted, literally."

The description of the holy scroll is "A tattered scroll written in ancient looking letters. [line break] EXPEL used to lower evil barriers from this world [line break] PURGE used on lesser evil creatures to take their corrupted souls from their bodies, in other words they die [line break] CONDEMN used on particularly powerful creatures such as a vampire lord, if you are so unlucky as to meet one, and banish it back to its foul domain."

Justins torn sheet is scenery in Twin City Bible Church.

glowing door is a open door in TwinCityChurchInterior.
glowing door is east of TwinCityChurchInterior.
glowing door is west of TwinCityChurchInterior.
glowing door is undescribed.


ash is an undescribed thing in Twin City Bible Church.


Understand "sheets" as sheet.
Understand "cloth" and "ripped shirt" and "ripped clothing" and "piece of shirt" and "piece of clothing" as justinfabric.
Understand "beer" and "can" and "beer can" as can of beer.

violin is a thing in Alpha Gamma Delta House.

secretletter is an undescribed thing in TwinCityChurchInterior.
the printed name of secretletter is "secret letter".
understand "letter" and "secret letter" as secretletter.

The description of secretletter is "A letter written in golden ink saying 'Take this holy scroll and blessings be on you, but beware! Do not touch the dark book, or you will perish.  -Michael'."

The description of the pulpit is "Your traditional tall pulpit, made of solid oak. The only thing on it is an unfolded scroll."

The description of the glowing door is "A door which looks as if the light of the heavans shines upon it."


the damaged table is undescribed.
garlic is a thing in Mckinley Health Center.
garlic is undescribed.
violin is a thing in Alpha Gamma Delta House.
violin is undescribed.
sign is scenery in Mckinley Health Center.
flyer is a thing in Kappa Delta House.
flyer is undescribed.
paper plane is a thing in Alpha Gamma Delta House.
paper plane is undescribed.




glass box is a locked, lockable, open container.
glass box is in the Engine Room.
glass box is transparent.
glass box is scenery.
emergency switch is a thing in glass box.
emergency switch is a device.

Understand "emergency power" and "power" as emergency switch.

The description of the emergency switch is "This switch should restore power to the building."
The description of the glass box is "Your standard glass box to defend something important. The emergency power switch can be seen inside."

the justindesk is a scenery supporter in the Engine Room.
the printed name of justindesk is "Engine Room Desk".
The description of the justindesk is "A oddly misplaced desk in an engine room. There is one drawer on the desk."
Understand "desk" and "engine room desk" as justindesk.

the metallic drawer is a closed, openable container.
the metallic drawer is scenery in the Engine Room.
justinssilverkey is a thing in the metallic drawer.

justinssilverkey unlocks the glass box.
The description of the drawer is "It is a drawer and it opens and closes, magic!"
The description of the justinssilverkey is "A silver key that has a erie sparkle to it."

Understand "silver key" and "key" as justinssilverkey.
The printed name of justinssilverkey is "sparkling silver key".


Instead of examining justinfloor:
	if PowerOn is true:
		say "The floor becomes clear, you can see the fine of normal white tiles along the ground, you should really consult the staff about who their designer is. ";
		if player is not carrying keycard:
			say "Besides the illustrious standard white tile, you see a keycard.";
		else:
			say "[line break]";
	else:
		say "A dark indistinguishable mist envelops the ground. Perhaps if you could get the power turned back on you'd be able to see what's down there."


The description of the keycard is "A card with the picture of a doctor. Apparently this belongs to Alexsander Trofsky, Lead Hematologist."

Surgery Room is southeast of McKinleyInterior . "You enter the Surgery room and notice a large mechanical door blocking your path. There is not much to see here other than the floor."

the justinfloor is scenery in the Surgery Room.
justinfloor is undescribed.
The printed name of justinfloor is "floor".
Understand "floor" as justinfloor.
keycard is a thing in Surgery Room.
keycard is undescribed.

The keycard unlocks the mechanical door.
mechanical door is an openable, closed, lockable, locked door.
the mechanical door is west of the Surgery Room.
mechanical door is scenery in Surgery Room.
mechanical door is east of Waiting Room.
Understand "card" and "key" as keycard.

Waiting Room is a room. "As you pass through the doors and contemplate your violence towards that table, you come to the waiting room before entering the Operation Station. You can see a pile of something over in the corner as well as as banner leading into the Operation Station to the [bold type]northwest[roman type]. Standing between the Waiting Room and the Operation Station there is what appears to be a bouncer."
The printed name of Waiting Room is "Waiting Room".

Operation Station is northwest of Waiting Room. "You walk into Operation Station. Oddly enough this looks nothing like an operating room. There is bar along the wall with a bartender standing behind it.[if pale men are in the location] On the stools around the bar you see a group of pale men drinking a red liquid.[end if][if Xavier is in the location] You notice one man stumbling about on the other side of the room, you assume this is Xavier."

Operation Station is up from McKinleyDungeon.

Instead of going down from Operation Station when trapdoor is closed:
	say "You're clever, but you can't walk through walls. Or trapdoors.";
	stop the action.

moon key is a thing in Operation Station.
moon key is undescribed.
the moon key unlocks the trapdoor.
trapdoor is a closed, openable, lockable, locked container.
Understand "trap door" as trapdoor.
the trapdoor is in Operation Station.
Xavier is a person in Operation Station.
Xavier is undescribed.
blood beer is an object in Operation Station.
blood beer is undescribed.
bartender is a person in Operation Station.
bartender is undescribed.
pale men is a person in Operation Station.
pale men is undescribed.


Instead of going up from McKinleyDungeon:
	if player has pitchblackbook:
		say "Some magical force prevents you from escaping back up to the bar.";
		stop the action;
	else:
		continue the action.

justinpile is scenery in Waiting Room.
justinpile is undescribed.
Understand "pile" as justinpile.
The printed name of justinpile is "pile".
red substance is scenery in Mckinley Health Center.
the damaged table is a supporter in Mckinley Health Center.

justinfabric is a thing in justinpile.

Instead of taking violin:
	say "You cannot really fly up to the top floor now can you?"

Instead of talking to bouncer:
	say "The bouncer says 'This is a bar. Pay to get inside or bugger off'.";
	stop the action.

PaidBouncer is a truth state variable.

Instead of going northwest from waiting room when PaidBouncer is false:
	say "The bouncer blocks your way.";
	stop the action.


Instead of giving something to bouncer:
	 if noun is strange coins:
		 say "The bouncer takes the coins and steps aside. He says 'You may enter and all drinks are free, just be careful of Xavier, I think he drank some of the bad stuff'.";
		now PaidBouncer is true;
	else:
		say "The bouncer curses at you and ignores your offering.";
		stop the action.

INstead of condemning bouncer:
	try purging bouncer.

INstead of expelling bouncer:
	try purging bouncer.


Instead of purging bouncer:
	if FatalBounce is completed:
		say "The new bouncer left up his pocket guide to spell reflection and laughs in your face.";
		stop the action;
	else:
		say "As you start to recite the spell and rise from the ground, the bouncer hisses at you and grabs you. He pulls you in close and as his sunglasses come off lunges his fangs into you, draining you dry. He picks up his sunglasses only to find that they are bent beyond repair. He throws himself onto the ground and starts to grovel in total despair. He grabs the holy scroll from your hands and purges himself, unable to live without his perfect sunglasses.[paragraph break]Even hellish creatures have their obsessions. Too bad you are too dead to have one.";
		now FatalBounce is completed;
		now CurrentEnding is FatalBounce;
		End the Journey.

Instead of attacking bouncer:
	if FatalBounce is completed:
		say "The new bouncer isn't having any of that. He throttles you until you're dizzy then drop you on the floor.";
		stop the action;
	else:
		say "You start to hit the bouncer with your fists rapidly, showing him no mercy! Too bad he did not show any either, the bouncer punches you through the chest and takes out your heart. As you fall to the ground dying, the bouncer throws your heart at your face... talk about a heart attack.[paragraph break]He had cool sunglesses, NEVER mess with a guy with cool sunglasses or this happens.";
		now FatalBounce is completed;
		now CurrentEnding is FatalBounce;
		End the Journey.

Instead of asking bouncer about "justinpile":
	say "bouncer says 'If you really want those go ahead."

Instead of asking bouncer about "foot":
	say "You think he looks down, but ignores you."

Instead of asking bouncer about "red substance":
	say "bouncer says 'Yes that is why you are here right? Pay-up first."

Instead of asking bouncer about "strange coins":
	say "bouncer says 'Yes those are what I want, now do you want to get in or not?'."

glass counter is a supporter in McKinleydungeon.
a frightened girl is a person in McKinleydungeon.
understand "Kelly" as a frightened girl.
the salinebag is a thing in McKinleydungeon.
Understand "saline bag" and "bag" as salinebag.
The printed name of salinebag is "saline bag".
glass counter is undescribed.
lumpy mass is a thing on glass counter.
lumpy mass is undescribed.

bouncer is a person in Waiting Room.
bouncer is undescribed.
banner is scenery in Waiting Room.
banner is undescribed.

can of beer is an edible thing.
stainedlist is a thing in Kappa Delta House.
stainedlist is undescribed.
understand "stained list" and "list" as stainedlist.


dumpster is a closed, openable container.
dumpster is scenery in Kappa Delta House.
dumpster is a thing.
bracelet is a thing.
ViolinMan is scenery in Alpha Gamma Delta House.
Understand "Man playing violin" and "violin man" and "man" as ViolinMan.
Violinman is undescribed.
bouncer is undescribed.
box of fun is a container in McKinleydungeon.
box of fun is undescribed.
Understand "box" as box of fun.
bloody eye is a thing in box of fun.
bloody eye is undescribed.
curved blade is a thing in box of fun.
curved blade is undescribed.

Kelly is a person.
The description of Kelly is "She looks battered up and afraid, almost as if someone or something was after here, you should try helping her out of this smelly thing."
Kelly is scenery.
PowerOn is a truth state variable. PowerOn is false.


Instead of switching on emergency switch:
	say "As you flip the switch you can notice the lights start to turn on and illuminate the once dark hallways.";
		now PowerOn is true;
		now emergency switch is switched on;
		now McKinleyInterior is lighted;
		stop the action.

Instead of searching box of fun:
	try examining box of fun.


McKinleyDungeon is down from Operation Station. "As you reach the dungeon bottom you can see multiple glass counters with chains scattered across the room, some lumpy things laying upon them. You can see what you expect to be saline bags around each of the glass tables. You can feel an ominous presence lingering in the room, it would probably be best not to stay here for long."
  The printed name of McKinleyDungeon is "Dungeon".

Instead of opening trapdoor:
	if trapdoor is unlocked:
		say "You open the trapdoor and climb down into the darkness. As you decend into the lower reaches of Mckinley the stench of death grows strong.";
		now player is in McKinleyDungeon;
	else:
		say "You'll need to unlock it first."

  Instead of going nowhere when player is in McKinleyNeighborhood:
	say "You feel a force grab onto your shoulder and pull you back."

Instead of going east from TwinCityChurchInterior:
	say "You feel a force grab onto your shoulder and pull you back."

Instead of going west from TwinCityChurchInterior:
	say "You feel a force grab onto your shoulder and pull you back."

Instead of going east from Mckinley Health Center:
	say "You feel a force grab onto your shoulder and pull you back."

Instead of going nowhere:
	 if player is in Twin City Bible Church:
		 say "Your foot is bleeding rather badly and needs medical attention soon, you know a health center is to the [bold type]northwest[roman type], it is probably best to seek it out.";
	if player is in Mckinley Health Center :
		say "Something strange has happened here, probably not a good idea to go in without checking with the local fraternities to the [bold type]northeast[roman type] or [bold type]east[roman type] to see what happened.";
	 if player is in Kappa Delta House:
		 say "You know there is another fraternity house to the [bold type]north[roman type], maybe that will shed some more light on what happened.";
	 if player is in Alpha Gamma Delta House:
		say "Your wound is starting to get really bad, even if you do no know what happened you need to go [bold type]southwest[roman type] towards the Mckinley Health Center and try to find some aid before it gets worse.";
	 if player is in Foyer:
		 say "I really need medical attention, and besides what could possibly be going on in a health center.";
	else:
		continue the action.

Instead of talking to Xavier:
	say "[if XavierD is false]Xavier looks at you with wide eyes and says 'Hey yoush, i havshnt sheen you around thish place before. Ey now, yousha foot sheems to be leakish.  Perhashps old Xavier willsh halps you if yoush get me anothsher pint of Blood' What does he mean by blood?[else]You stand there talking to the poor vampire that you turned to ashes. Really like rubbing it in don't you table flipper?"

Instead of interrogating Xavier about blood beer:
	say "Xavier either laughs at you or is convulsing and says 'Wellsh of coursh, we are vampirash after all. What elsh would I want? Oooo, and maka shure it is the blood from the drunkesh ones, those fraternish brothers sure can inhalsh that pish faster than i can
 inhalsh them, Now go getish me som blood beer."

Instead of attacking Xavier:
	say "[one of]You start to show the passed out Xavier why you were the number 1 boxer in high school. As you start to beat on him he wakes up and screams at you 'SWAKMWMKWAMAWKAWMK'. After this gibberish he pounces on you and starts to rip off your skin. Drunk vampires are vicious. The bartender, for some reason, intervenes, and you hobble back to the bar. Better think of something else.[or]Already tried that. Didn't end well.[stopping]";

Instead of giving something to Xavier:
	 if noun is blood beer:
		say "You knowsh, you are the realisht pal in this whole forsakin placish. Trofskhry jush ignores me down in hish dungeon. He just got a frwesh one but he wont shore.";
		remove blood beer from play.

Instead of interrogating Xavier about something:
	say "Xavier is too drunk to listen to anything you have to say. Maybe you have some other way to get his attention?"

Instead of asking Xavier about [text]:
	say "Xavier is too drunk to listen to anything you have to say. Maybe you have some other way to get his attention?"

Instead of asking Xavier about "dungeon":
	say "Xavier  appears to be passed out, at least he seems to be. Perhaps someone else would know more."

Instead of asking pale men about "dungeon":
	say "The pale figures just keep looking down drinking their blood."

Instead of attacking pale men:
	say "As you start to show one of the pale men your fist of fury, he turns around and slaps you."

Instead of interrogating pale men about something:
	say "They aren't interested in talking to you. They're interested in what's in your veins."

Instead of purging pale men:
	say "You start to say the holy words as you rise into the air. The pale figures look up and see this gleaming light hover over them. You finish saying the words and the pale men explode into a confetti of light and ash, only at Mckinley can you get fireworks like this."

Instead of talking to bartender:
	if GirlD is true:
		say "'Good riddance to the vampires, I say.' says the bouncer, shaking your hand in congratulations 'I'm going to start serving margaritas, as soon as the tequila arrives.";
		stop the action;
	else:
		if Xavier is nowhere:
			try telling bartender about "Xavier";
		else:
			say "the bartender says 'What's a chipper fella like you doing in a place like this? I guess everyone has their fetishes."

Instead of interrogating bartender about Xavier:
	try telling bartender about "Xavier".

Instead of asking bartender about "dungeon":
	say "Oh, so you want to know about the dungeon huh? Why don't you give me some garlic and I will.' He laughs at you as if the task is impossible."

Instead of interrogating bartender about blood beer:
	say "I do not know why you want this vile stuff, but here you go. Just don't give it to Xavier, he has already had 3 bodies full.' The Bartender places blood beer on the counter.";

Instead of asking bartender about [text]:
	say "The bartender is making a drink for someone else at the moment."

Instead of telling bartender about "Xavier":
	say "[if XavierD is true]Huh I guess you actually did it. Well a deal is a deal but I cannot possibly give you the key to open the trap door. O no the moon key is on the floor all ripe for the pickins, clumsey me' the bartender turns his back.[else]I still see him sleeping in the corner go do something about it you mook."

instead of interrogating bartender about something:
	say "He has nothing to say about that. How about asking him about the blood beer, or about the dungeon?"


Instead of giving garlic to bartender:
	say "I take it back, that was just the first test. Why don't you go kill Xavier and we will talk, he is always drunk off his ass. Tell me about Xavier when hes gone."

Instead of attacking bartender:
	say "You go in to punch the bartender, but just round-house kicks you to the floor and says 'YOU WANNA MESS WITH ME, THATS WHAT I THOUGHT'."

Instead of purging bartender:
	say "As you get ready to say the magic words the bartender says 'Lemme stop you right there buddy, you can try to kill all these walking corpses all you want but I'm no vampire I'm a Wall Street broker from New Yorker. The only reason they took me here instead of another vamp goon was cause nothing sucks better than a broker from Wall Street sucking up your cash."

Understand "blood beer" and "blood" as can of beer.
Instead of drinking can of beer:
	say "You take a big swig of that liquid happiness. It tastes like apple juice, I guess beer was for the designated driver."

Instead of cursing self:
	say "You REALLY do not want to do that, like REALLY REALLY do not want to do that, but maybe to something else."

Instead of absorbing self:
	say "Wouldn't that just be a waste of effort?"

Instead of deathgripping self:
	say "Bad dark arts user, no turning yourself into a vampire."


Instead of examining ViolinMan:
	say "You cannot make heads or tails of his appeareance because he is obscured by the darkness. all you can do is listen to his violin."

Instead of examining violin:
	say "you cannot make out much in the dark, but you assume it is a standard violin"

Instead of listening to the violin:
	say "A cacophony of sad tones are played from the violin. These sounds make you uneasy while walking around during this odd night."

vampire lord is a person.
vampire lord is undescribed.
vampire lord is in McKinleyDungeon.
vampire is a person.
vampire is undescribed.

Understand "Trofsky" and "Vampire Lord" and "vampire" and "lord" as vampire lord.

PitchBlackBook is a readable thing.
Understand "black book" and "dark book" and "pitch black book" and "Vampire Lord's book" and "evil book" and "book"as PitchBlackBook.
The description of PitchBlackBook is "A pitch black book with a large skull on the front cover. Opening the book, the stench of death overwhelms you. There is no writing only drawings of 3 idols and a book in a strange order."
The printed name of pitchblackbook is "a Dark Book".

vampire lord is carrying PitchBlackBook.
The description of labcoat is "The labcoat looks as though it would fit a vampire lord perfectly. It smells strongly of blood."

vampire lord is wearing a labcoat.

vampire lord is carrying a injector.
The description of injector is "The injector is small and pointy. It would not be wise to run with it."

XavierD is a truth state variable. XavierD is false.
	Instead of purging Xavier:
	say "You raise your hand to the air, tired of trying to expel many things and failing, and call down the fury of light on Xavier. Light comes down and taps Xavier on the shoulder and Xavier looks at it and says 'Momma?'. The light then does a face palm and goes into Xavier's mouth and turns him into a soiled ash pile.";
		now XavierD is true.


Instead of examining vampire lord:
	say "Despite his cheerful attitude to eat you, this guy is giving off a powerful aura. You catch a glimpse of of him and see that his skin is pale white while his eyes glow a crimson red.";
	if vampire lord carries something:
		 say "The lord of sucking is carrying [a list of things carried by vampire lord]. ";
		if vampire lord wears something:
			 say "He is wearing [a list of things worn by vampire lord]."

Instead of taking pitchblackbook:
	if Vampire Lord is in the location:
		say "As you silently reach for the dark book, Trofsky turns his head a full 180 degrees and tells you 'No touchy' and then turns back to his prepareations.";
		stop the action;
	else:
		continue the action.



Instead of taking injector:
	say "You reach for the injector and Trofsky turns to you and says 'Do not worry you will have this touching you soon enough' and goes back to his work.";
		stop the action.


GirlD is a truth state variable. GirlD is false.

Instead of examining girl for the first time:
		say "Before your your eyes the girl is enveloped in a dark mist her screams being blurted out once fully consumed by the mist. The mist soon starts to dissapate and before your eyes a sinister creature appears next to the girl with his hand over her mouth. The creature looks down upon you with red eyes. 'I do hate it when you scream its so... ah what do we have here? A visitor, and not one of your drunken drolls either. Well speak up then, what does a mortal like you want with a Vampire Lord like me."

Instead of examining girl:
	say "The girl is whimpering with fear."

Instead of talking to girl:
	say "The Vampire Lord has his hand over her mouth, so she can't speak.";
	stop the action.

Instead of talking to Vampire Lord:
	say "You do not look like the drunken rabble that I have stored away, perhaps you are indeed different. I will tell you what, I see some promise in you so I will spare you death for now. I wish to see your choice, there is a 'box of fun' as I like to call it next to you. That girl you saw, well here she is back from the darkness and if you choose to carve out what ever body part is in that box with whatever tool is in there, I shall give you this Dark Arts book. You could of course continue down your self-righteous path and try to strike me down, the choice is yours.".

Instead of talking to the Vampire Lord:
	say "The Vampire Lord appears to be ignoring you."

Instead of attacking girl:
	say "You abandon all sense of morality and reason. You take the wicked blade and carve out the poor souls eye. She wails in horror at what you are doing. Not being good with sharp evil blades, the process is very messy and you killed the poor girl through bleeding her out rather than the wounds. The Vampire Lord looks over to you in a concerned look and says 'You arent a very good surgeon are you, that even made me shiver. Well a deal is a deal, here is the dark arts book. I must be going now, TaTa fleshbag' and the Vampire Lord vanishes before your eyes.";
	now the description of frightened girl is "The girl is dead. You killed her.";
	now player has pitchblackbook;
	remove Vampire Lord from play.

Instead of attacking Vampire Lord:
	say "As you attempt to hit the Vampire lord with all your might you are stopped dead in your tracks, and as you look towards the Vampire Lord's direction, you see his eyes fixated on yours. The Vampire Lord looks at you dissappointedly and says 'So you were going to try to hit me? Really? Maybe i was wrong about you, such a pity.' The Vampire Lord's gaze towards you intensifies and you feel yourself falling into a deep sleep. As you lay there sleeping you are tormented by your worst nightmare, eating cheeseburgers only to find out when you take a bite that they are vegan burgers that taste like rotten tomatos. THE TORTURE.[paragraph break]Really? You're going to hit him? You suppress the suicidal instinct.";

Instead of expelling Vampire Lord:
	say "The pats you on the back in a friendly way. 'That was a good one.'";
	stop the action.

Instead of purging vampire lord:
	say "The Vampire Lord laughs at your pitful magic and goes on with his work."

Instead of expelling pitchblackbook:
	say "The Dark Book does not react at all.";
	stop the action.

Instead of purging pitchblackbook:
	say "The Dark Book is impervious to that spell.";
	stop the action.


Instead of condemning someone:
	if noun is Vampire Lord:
		continue the action;
	else:
		say "You start to raise your hand with fire and holy light emenanting from you. An unknown voice then calls to you saying to save this for a stronger creature. Your spell dissipates."

Instead of examining box of fun:
	say "You reach your hand into the swirling mist and discover that the box holds a bloody eye and a curved blade.";
	stop the action.

VampireDecision is a truth state variable.
ThreeWayDecision is a truth state variable.
FirstChoice is a truth state variable.


Instead of condemning Vampire Lord:
	say "You say the final word from your scroll, a very faint but powerful whisper. Light gathers around the Vampire Lord shackling him to the ground. He looks at you with an evil grin 'So you are sticking with your path, how tragic. Your puny powers will not restrain me however' and just like that the Vampire Lord shatters the chains of light. 'Perhaps in another holy quest will you see me again, for now TaTa. And just take this damn book, not like you will find its true use anyway' and the Vampire Lord vanishes before your eyes.";
	now GirlD is true;
	now Vampire Lord is nowhere;
	now salinebag is undescribed;
	now player has PitchBlackBook;
	now FirstChoice is true;
	say "[line break]As you break the bonds holding down the frightened girl, she says ''Thank you for sparing me. My name is Kelly, I don't know what would have happened if you didn't show up. I'm going to get out of here now, thanks.' Kelly scampers up the ladder and disappears up the trapdoor. Upstairs you hear the bartender toast her escape.";
	now frightened girl is nowhere.


Examining pitchblackbook is MakingAChoice.
Condemning pitchblackbook is MakingAChoice.
Reading pitchblackbook is MakingAChoice.
Dropping pitchblackbook is MakingAchoice.


Before doing anything other than MakingAChoice when FirstChoice is true:
	say "Alone in the dungeon with the Vampire Lord's Dark Book in your arms, you are faced with a decision. Do you condemn the book to oblivion, and give up the power it contains. Or do you read it and hope your basic goodness will allow you to remain unaltered by its spells.";
	now FirstChoice is false;
	now VampireDecision is true;
	stop the action.

Before doing anything other than MakingAChoice when VampireDecision is true:
	say "You are poised between condemning the Dark Book or learning it's secrets. On the other hand, why not just drop it, and make your escape?";
	now VampireDecision is false;
	now ThreeWayDecision is true;
	stop the action.

Before doing anything other than MakingAChoice when ThreeWayDecision is true:
	say "You must choose. The Book cannot wait.";
	stop the action.

Instead of dropping pitchblackbook:
	say "You throw the book against the dungeon wall where it drops to the floor. And good riddance to it, you think. Let somebody else become the Vampire Lord. You can escape [bold type]up[roman type]wards through the trap door.";
	now PitchBlackBook is in McKinleyDungeon;
	now FirstChoice is false;
	now VampireDecision is false;
	now ThreeWayDecision is false.

Instead of condemning PitchBlackBook when GirlD is true:
	say "You speak the final word from your holy scroll, which begins to shimmer brighter and brighter until it explodes in a astonishing supernova of magical light. You blink your eyes, and when you can see again, you realize that the Vampire Lord's Dark Book is gone, never to return.[paragraph break].";
	now pitchblackbook is nowhere;
	now FirstChoice is false;
	now VampireDecision is false;
	now ThreeWayDecision is false;
	now MadeChoice is completed;
	now CurrentEnding is MadeChoice;
	End the Journey.

Instead of reading pitchblackbook:
	if Vampire Lord is in the location:
		try taking pitchblackbook;
	else:
		say "As you open the terrible pages of the Vampire Lord's dark book and read the first word upon the first page, you hear the distant sound of laughter.[paragraph break]Now you are the Vampire Lord.";
		now pitchblackbook is nowhere;
		now FirstChoice is false;
		now VampireDecision is false;
		now ThreeWayDecision is false;
		now MadeChoice is completed;
		End the Journey.


Instead of aiding Kelly:
	say "You help pull the poor woman out of that smelly dumpster and she says 'I am so glad you you found me name is Kelly, there are monsters out here! I do not know what they are but they started to take all of us away. Some tried running but they failed so i decided to hide in the dumpster. Wait a second, I think I just saw that shadow move'."

Instead of dragging Kelly:
	say "The shadowy figure drags Kelly off into the darkness while she screams and flails for you to help her. Within seconds they are both gone without a trace."

The description of the bloody eye is "An eye that appears to be freshly removed from whatever it came from."
The description of the curved blade is "A very sharp and wicked looking blade. This is not something you want to be stabbed by."
The description of the box of fun is "The contents of the box are veiled in a dark mist. You shake the box, hearing some things in there. Guess it is time to play WHATS IN THAT BOX."
The description of the glass counter is "All of these tables have the same lumpy mass on them."
The description of the lumpy mass is "Taking a closer look at the masses, you start to come to the realization that these lumpy masses were once human beings. The blood has been drained from the bodies completely leaving only flesh and bone. You notices large holes throughout the body, you can only imagine what was used to extract the blood from these poor souls. From the holes you notice water leaking out out.[if GirlD is false]You notice in the far corner a girl who is blindfolded and struggling to free herself."
The description of the salinebag is "You do not know exactly know what these are used for other than your knowledge of Medical Drama shows from Netflix. These bags however are filled with blood."
Understand "saline bag" and "bag" as salinebag.

The description of the banner is "ADMISSIONS."
The description of bartender is "This guy looks just about as tough as the bouncer without the sunglasses. Strange though, he does not seem to be as pale as the rest of the people in here."
The description of pale men is "Just your average everyday pale as death bar goers."

The description of Xavier is "[if XavierD is true] A pile of ash. [else] Something tells you that he is drunk on something or just high. He is also pale, maybe he is already dead from alcohol poisoning."

The description of the mechanical door is "A large metal door stands between you and the next room."

The description of the bouncer is "[if FatalBounce is incompleted]This guy has bulging muscles, a scar down his eye, and some cool sunglasses on. Not someone you want to mess with.[else]A new bouncer has apparently been hired. This one is just as big, but more to the point. Give me some coins, or you don't get in."

The description of the justinpile is "This pile is made out of a bunch of different types of clothing, you hope to yourself this is not one of those nudist medical centers."

The description of the Violinman is "The man is difficult to make out in the dark, but you can see he is wearing a white coat of some kind."
The description of the bracelet is "This bracelet spells out the word K E L L Y, but why would it have been in the dumpster?"
The description of garlic is "A fine and robust glove of garlic, the perfect snack for a brutal table flipper."

Instead of examining the dumpster:
	say "The unsung hero of keeping our streets clean. Smells awful, there is certainly something inside, so you do a dive and come up with an unexpected treasure. A bracelet.";
	now player has bracelet.

The description of the ash is "Something was burned here, but you have no clue what it could be or what did it. But hey, it is some fine ash."
The description of the paper plane is "Unfolding the the plane you can see the words HELP clearly written on the paper, Something bad definitely happened here."

The description of justinfabric is "A tattered piece of cloth with some scibbled writing on it. What you can make out of it is 'H LY BO K UN OCKS THE  W Y' whatever that means."
The printed name of justinfabric is "a discarded piece of fabric."

The description of flyer is "[if Twin City Bible Church is visited]This looks very similar to the torn sheet you found on the wall at the church. It has also been viciously mistreated the same as the sheet.[else]The flyer's only distinguishable word is BAR."
The description of self is "Besides a piece of glass in your foot, your pants are a little ripped up, you only have your left shoe, and part of your shirt is ripped off."

The description of the stainedlist is "This list states 16 Males and 13 Females with the 13 scratched out and a 12 put in. Underneath the 12 you notice 'One escaped, finding before i return'. You dont know what these numbers mean or could be for, but its certainly not good."

The description of can of beer is "A discarded can of beer with some good stuff still in side."

The description of  Justins torn sheet is "This sheet has seen better days. It makes your bleeding foot look like a paper cut. The sheet is torn at every concieveable part and is only sticking to the wall probably due to some tape. The only legible thing you can see on the sheet is the word BLOOD."
The description of red substance is "You can't quite put your finger on it but you know you have seen this somewhere."

The description of your foot is "[if bloodyfoot is true]Your foot is bleeding profusely and there is a large shard of glass sticking out of it, so why are you standing here looking at it?[else]It's your foot."

VampireMinion is a monster.
Understand "shadowy figure" and "shadow" as VampireMinion.

VampireMinions is a monster in Kappa Delta House.
VampireMinions is scenery.
The description of VampireMinion is "The shadowy figure looms in the shadows. It isn't quite clear whether it is someone's shadow or something a little more ominous."

At 11:13 AM:
	 If player is in Kappa Delta House:
		  say "You see a shadowy figure open the dumpster and take a woman out of it and run towards the health center. The woman flails and screams as her kidnapper moves quickly through the night.";
		move bracelet to the dumpster;
		stop the action;
	 else if the player is in an indoor room:
		say "Through an open window, you suddenly see an enormous and shadowy figure run past, with something lugged over its back. It was mumbling to itself as it went by, something about McKinley. Whether it meant the President or the Health Center, you have no idea.";
		move bracelet to the dumpster;
		stop the action;
	else:
		say "You see an enormous and shadowy figure run past you, with something lugged over its back. It was mumbling to itself as it went by, something about McKinley. Whether it meant the President or the Health Center, you have no idea.";
		move bracelet to the dumpster.


The printed name of Justins torn sheet is "torn sheet."


Every turn when player is in McKinleyNeighborhood:
	if a random chance of 1 in 50 succeeds:
		choose a random row in the Table of Random 3Events;
		say "A maddening whisper starts to fill your mind. [event entry]."

Table of Random 3Events
event
"Four idols to open the way, four idols to the sanctum of terror"
"Four omens to bring the end, four omens to cut you short"
"The southern reaches will bring true your fear"


[
Hidden Passage is west of McKinleydungeon. "A bleak and dim hallway stands around you. There is a way to the [bold type]east[roman type] which leads to a mysterious room. To the [bold type]west[roman type] you can see a ladder leading somewhere to the surface."
PortD is a truth state variable. PortD is false.
ladder is a thing in Hidden Passage.

Instead of climbing ladder:
	say "You climb the rusty ladder, leaving cuts in your skin. As you reach the top, you come out and find yourself Outside of the Foreign Language Building.";
	move player to Foreign Language Building.
]




PART 8 - PAR

PAR is a RoomProxy in Pennsylvania Avenue Residence Halls. Understand "PAR" and "Pennsylvania Avenue Residence Halls" as PAR.

The printed name of PAR is "Pennsylvania Avenue Residence Halls".

PARInterior is an Interior Location. "[if unvisited]You step inside the lobby of Pennsylvania Avenue Residence Halls. The air is frigid and as you look down, you can see little heat waves around the outline of your body as you acclimatise from the hot air outside. At the front desk, there is a cheerful sign stating 'Happy to help! We are open 24/7' but the woman behind it looks anything but. The exhausted looking woman is marking boxes. Her name badge reads 'Sandra'.[paragraph break]There is a line of hungry students waiting to get into the dining hall, their eyes all glued to their phones. There's a squawking noise coming from somewhere; how odd. [paragraph break][else]You are in the bustling lobby of PAR. Sandra sits ever-vigilant behind the front desk. [end if]What looks like a lost and found box with a smattering of random items dominates one corner of the lobby. To the [bold type]west[roman type] is Babcock Hall, to the [bold type]northwest[roman type] is Carr Hall, to the [bold type]northeast[roman type] is Blaisdell Hall and to the [bold type]east[roman type] is Saunders Hall.".
 PARInterior is inside from Pennsylvania Avenue Residence Halls.
The printed name of PARInterior is "PAR Entrance".


Instead of going nowhere:
	if player is in Illini Grove:
		say "As you try to take a step, a powerful force seizes control of your senses and freezes you in place. Weird. As you come to grips with this terrifying phenomenon, you experience a sudden strong urge to go either [bold type]south[roman type] or [bold type]west[roman type].";
	if player is in the Pennsylvania Avenue Residence Halls:
		say "You briefly consider going that direction but ultimately decide against it. After all, there are so many other interesting things happening to the [bold type]south[roman type], [bold type]north[roman type], and [bold type]northwest[roman type].";
	if player is in PARInterior:
		say "You start off when suddenly a large procession of students flood your path. Great. Guess you won't be going that way any time soon. You reconsider your options and find that the route [bold type]north[roman type] is clear.";
	if player is in the Tennis Courts:
		say "After a few steps the spooky stillness of the Tennis Courts gets to you and you find yourself unable to continue on. You double back and see that the [bold type]east[roman type] or [bold type]southeast[roman type] directions might be less creepy thatn going [bold type]north[roman type] or [bold type]northwest.[roman type]";
	else:
		continue the action.

Lost N Found is an undescribed container in PARInterior. "The lost and found must be a little too full right now, because it looks like a lot of its items have just been left out here in a large box."
The printed name of Lost N Found is "lost and found".
Understand "lost and found" and "lost and found box" and "box" and "stuff" as Lost N Found.

Instead of searching Lost N Found:
	Repeat with X running through containers in the location:
		say "Rummaging through the [X], [if the number of things in X is not 0]you can pick out [a list of things in X]. [else]there doesn't seem to be much to write home about."


An old shoe is an undescribed thing in the Lost N Found. "This worn-out sneaker seems to have lost its partner."
Understand "shoe" as old shoe.


A cardboard box is an undescribed thing in the Lost N Found. "Looks like someone got a package from Amazon but neglected to recycle the box."
Understand "box" and "cardboard" as cardboard box.


A desk lamp is an undescribed thing in the Lost N Found. "This plastic desk lamp has seen better days. You doubt that it would work if you plugged it in."
Understand "lamp" as desk lamp.


ShelterPicnicTable is a scenery supporter.
The description of ShelterPicnicTable is "A few picnic tables sit weathered and worn near where you are standing.[if polished key is on ShelterPicnicTable] A piece of shiny metal gleams on top of one of them."
The printed name of ShelterPicnicTable is "Picnic Table".

ShelterPicnicTable is in Picnic Shelter.

Understand "picnic table" and "picnic tables" and "table" and "tables" as ShelterPicnicTable.


Instead of examining ShelterPicnicTable for the first time:
	say "The picnic tables are cool to the touch. You wonder if the sunlight has ever reached them. Some french fries sit on the table, sad and neglected. Beside them is a piece of shiny metal."
Instead of examining ShelterPicnicTable :
	say "This seems like a strikingly ordinary picnic table."
Understand "tables" and "picnic tables" as ShelterPicnicTable .


The polished key is an undescribed thing on the ShelterPicnicTable. "A strangely-shaped polished key is sitting in the exact center of the table as if it had been placed there deliberately."
Understand "shiny metal" and "metal" and "piece of shiny metal" and "piece of metal" as polished key.

The description of a polished key is "This key is almost comically well-polished and large, like it was deliberately set here to get someone to take it. It's gotta unlock SOMETHING though, right?"

Instead of going nowhere when player is in Picnic Shelter:
	now player is in Illini Grove.

A bag of french fries is an undescribed edible thing.
A bag of french fries is in strange box.

The description of a bag of french fries is "These french fries look like they've been out here a while. But hey, food is food."
Understand "fries" and "food" as a bag of french fries.

The strange box is a undescribed lockable, locked, closed container in the Tennis Courts.  "Out of the corner of your eye you spy a strange-looking box of some kind, with what looks like a keyhole on its front side."
The strange box is fixed in place.

The description of the strange box is "The box is entirely out of place sitting in the middle of the tennis courts. Someone DEFINITELY left this here intentionally."

instead of opening strange box:
	if unlocked:
		if closed:
			say "You open the box, not sure what to expect. In the box somebody has left a bag of old french fries and a tennis racket.";
			now strange box is open;
			stop the action;
		else:
			say "You already opened the strange box. You see [list of things in box] inside.";
			stop the action;
	else:
		say "You try to open the strange box, but you need to unlock it first.";
		stop the action.

instead of searching the strange box:
	try opening strange box;
	stop the action.


tennisracket is an object.
Tennisracket is in strange box.

the printed name of tennisracket is "tennis racket".

Understand "tennis racket" and "racket" as tennisracket.

a tennisplayer is a person in tennis courts.

printed name of tennisplayer is "Tennis Player".

understand "tennis player" as tennisplayer

description of tennisplayer is "He looks like he's ready to play a game of tennis, but he also looks hesitant."

tcourts is a backdrop in tennis courts.

understand "courts" and "tennis" as tcourts.

description of tcourts is "The courts look perfect for a tennis match."


instead of talking to tennisplayer:
	say "He looks distracted by something. Try asking him about something."
	
Instead of interrogating tennisplayer about an item listed in the Table of TennisPlayer Responses:
	say "[reply entry][paragraph break]".
	
Table of TennisPlayer Responses
Item	Reply
tcourts	"The tennis player says, 'I came out to play a game of tennis, but my partner just bailed on me. Too bad you don't have a racket. Something about this place is giving me the creeps right now anyway. Maybe it's that strange box that someone left here.  The lock looks polished.'"
bag of french fries	"The tennis player says, 'I don’t know, but those look pretty old to me.'"	
tennisracket	"The tennis player says, 'Oh perfect! It's a pretty nice tennis racket that someone left here. We could play a game of tennis if you are up for it.'"	
	
Instead of taking tennisracket:
	say "You have your very own tennis racket to play a game of tennis now!";
	now player has tennisracket.
	

Understand "play tennis" as tennisplaying.	
tennisplaying is an action applying to nothing.
Understand "play a game of tennis" as tennisplaying.

A person can be TennisFree or TennisEngaged or TennisWon. A person is usually TennisFree.

Check tennisplaying:
	if tennisracket is not carried:
		say "You need a racket before you can play!";
		stop the action;
	else if player is not in tennis courts:
		say "You can't play tennis here!";
		stop the action.
		
Carry out tennisplaying:
	say "You invite the Tennis Player to a friendly game of tennis, and he happily accepts.  You hit a ball back and forth a few times to warm up.";
	now player is TennisEngaged;
	now player is in TennisZone;
	now tennisplayer is in TennisZone.
	
TennisZone is a room.
The printed name of TennisZone is "Tennis Courts".
Instead of going nowhere when player is in TennisZone:
	say "You're in the middle of a match, you can't leave now!"
	

TennisMatchPoints is a number that varies. TennisMatchPoints is 4.

Every turn when the player is TennisEngaged:
	choose row TennisMatchPoints in the Table of Tennis Attacks;
	if TennisMatchPoints is greater than 0:
		say "[attack entry]";
		decrease TennisMatchPoints by 1;
		stop the action.
		
Table of Tennis Attacks
Attack
"It seems like you're pulling ahead now! Try using your special move!"
"You lost that last point, but you think you'll win this next one! Try using your special move!"
"There's no saying who will win, you're doing pretty well though! Here comes another shot! Hit the ball!"
"You start the match against the tennis player. You two are pretty evenly matched.  You win a few points in a row, and then he wins a few points in a row.  The ball is coming, get ready to hit it!"
	
	

Understand "hit ball" as TennisHitting.
TennisHitting is an action applying to nothing.
Understand "hit the ball" and "hit tennis ball" as TennisHitting.
	
Check TennisHitting:
	if player is not in TennisZone:
		say "You can't do that here!";
		stop the action.
		
Carry out TennisHitting:
	say "You hit the ball.  That was a great shot!".
		
	
	
Understand "use special move" as TennisSpecialMoving.
TennisSpecialMoving is an action applying to nothing.
Understand "use my special move" and "special move" as TennisSpecialMoving.
	
Check TennisSpecialMoving:
	if player is not in TennisZone:
		say "You can't do that here!";
		stop the action.
		
Carry out TennisSpecialMoving:
	say "You use your special move! It takes a lot of energy, but it works every time!".
		

Instead of TennisSpecialMoving:
	now player is TennisWon;
	say "[line break]You use your special move! It takes a lot of energy, but it works every time! With that, you win the final point and the match!";
	now player is in tennis courts;
	now tennisplayer is in tennis courts.
	
TennisPoints is a truth state variable. TennisPoints is false.
Before TennisSpecialMoving:
	if TennisPoints is false:
		increase score by 10;
		now TennisPoints is true.



the polished key unlocks the strange box.

PolishedKeyTaken is a truth state variable. PolishedKeyTaken is false.
FriesEaten is a truth state variable. FriesEaten is false.

Instead of taking the polished key:
	say "You grab the strange-looking polished key, which just happened to be lying there. How... Inconspicuous.";
	if PolishedKeyTaken is false:
		now PolishedKeyTaken is true;
	continue the action.

Instead of eating a bag of french fries:
	say "You munch down a few fries. They're stale and don't taste particularly good, but you aren't as hungry as before.";
	if FriesEaten is false:
		now FriesEaten is true;
	continue the action.

Unassuming student is a person in PARInterior.
Understand "student" as unassuming student.
The unassuming student is scenery.
The description of the unassuming student is "This student seems particularly unassuming. How you even noticed them at all is frankly baffling, considering how unassuming they are. His wearing an unassuming hoodie."
Unassuming student is wearing Parhoodie. The description of Parhoodie is "This hoodie has apparently been well-loved by this student. That, or they're just too lazy to wear anything else."
Understand "hoodie" as Parhoodie. The printed name of Parhoodie is "hoodie".

Instead of interrogating PARreceptionist about polished key:
	if player has polished key:
		say "'Huh,' they say, 'it looks like that could open a box of some kind.'";
	else:
		say "The clerk gives you a look. 'What are you even talking about?'"

Instead of asking PARreceptionist about something:
	say "The clerk gives you a look that's half confusion and half disinterest."


Instead of interrogating unassuming student about polished key:
	if player has polished key:
		say "'I saw some weird box on the tennis courts,' they say, 'maybe give that a try?'";
	else:
		say "'They say, 'Key? What key? What are you on about?'"

Instead of asking unassuming student about something:
	say "The student nods as if they know what you're talking about, but it's pretty apparent they don't."

Instead of interrogating shadow man about [something]:
	say "YOUQUESTIONQUESTIONQUESTIONEVERYTHINGANDLEARNNOTHINGNOTHINGNOTHING"

Instead of asking shadow man about something:
	say "YOUQUESTIONQUESTIONQUESTIONEVERYTHINGANDLEARNNOTHINGNOTHINGNOTHING"


Instead of talking to PARreceptionist:
	say "Sandra looks you up and down expectantly. 'So, you here to pick up a package or something?'"

Instead of talking to unassuming student:
	say "You and the student make small talk. It's very forced and awkward for both of you."

Instead of talking to shadow man:
	say "Wikipedia, the free encyclopedia Speech is the vocalized form of communication based upon the syntactic combination of lexicals and names that are drawn from very large (usually about 1,000 different words) vocabularies. Each spoken word is created out of the phonetic comb1111111111111111111111111111111111111111111111111111111111111111111111111YOUSPEAKSOMUCHANDSAYSOLITTLE"..

Instead of giving something to PARreceptionist:
	say "They stare you down, apparently unmoved by your gesture. You awkwardly pull your hand back."
	
Instead of giving something to unassuming student:
	say "'Thanks,' they say, 'but you should probably hang onto this for now.'"

Instead of giving something to shadow man:
	say "The Giving Tree By Shel Silverstein Once there was a tree... and she loved a little boy. And everyday the boy would come and he would gather her leaves and make them into crowns and play king of the forest. He would climb up her trunk and swing from her branches and eat apples. And they would play hide-and-go-seek. Andwhen he was tired, he would sleep inhershade. Andtheboy loved thetree...verymuch. And thetreewas happyiuvzhnaseklnkjc89389897a2334jkasdfuyas6c7698dfv.";
		stop the action.
	
Instead of throwing [something] at [something]:
	if second noun is PARreceptionist:
		say "You pull your arm back before the desk clerk's head shoots up and gives you a death glare. Startled, you reconsider your approach.";
		stop the action;
	if second noun is unassuming student:
		say "The student catches it effortlessly before nonchalantly tossing it back to you. Intimidated, you concede defeat for now.";
		stop the action;
	if second noun is shadow man:
		say "You cAnt s33m t0 f1nd 1t in yrslf toPOINTLESSPOINTLESSPOINTLESSPOINTLESSPOINTLESSPOINTLESS";
		stop the action;
	else:
		continue the action.

Instead of attacking PARreceptionist:
	say "You lash out with the ferocity of a jungle cat before realizing that there is a desk between you and the clerk, shielding them. Curses! Foiled again!";
	stop the action.

Instead of attacking unassuming student:
	say "You go to attack them, but the student is so darn unassuming that you forget what you were going to do as you go to do it.";
	stop the action.

Instead of attacking shadow man:
	say "Merriam-Webster attack verb  at·tack \ə-ˈtak\ : to act violently against (someone or something) : to try to hurt, injure, or destroy (something or someone) : to criticize (someone or something) in a very harsh waywaywaywaywaywaywaywaywayway YOUCANNOTUNDERSTANDSOYOUTRYTODESTROYINSTEAD";
	stop the action.


Shadow man is a undescribed person.
Understand "man" and "figure"  and "shadow" and "shadowy figure" as shadow man.
The description of the shadow man is "The figure seems vaguely humand, but evry t1me you trytrytry to get cLosEr to it, it seem t0 g3t fartherfartherfartherfarther awayawayawayu8798sdc9asjljllk234598xcvkua8dd809."


FriesToShadow is a truth state variable.

After eating a bag of french fries:
	Player gets sick happens in 2 turns from now.

At the time when player gets sick happens:
	say "You begin to feel very, very sick. You think, in retrospect, that eating those fries was probably not the best idea, when suddenly your stomach betrays you. As you stand hunched over, you wonder what other poor life decisions might come back to haunt you.[paragraph break]A chill runs up your spine and the world seems to grow darker. You feel your vision fading, but after a moment, it seems to return to you. You feel like there is some kind of indescribable weightweightweight pushing down on you.";
	now FriesToShadow is true;
	now the Shadow Man is in the Tennis Courts;
	now the description of the Tennis Courts is "The tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out before youThe tennis courts stretch out befor[paragraph break] A shadowy figure looms in the distance."


Every turn when the location of the player is outdoor and a random chance of 1 in 2000 succeeds:
	choose a random row in the Table of Events;
	say "[event entry][line break]".

Table of Events
event
"An annoying bug buzzes around your head. You swat at it a few times before giving up."
"You feel a headache beginning at the back of your skull."
"You suddenly freeze in place, a moment of sheer terror overcoming you as one ugly question makes itself known to you: do you have a make-up exam today? You honestly can't remember."


The ParFrontDesk is scenery. The ParFrontDesk is a supporter in PARInterior.
Understand "desk" as the ParFrontDesk.

The description of the ParFrontDesk is "There is a small, old-fashioned looking radio balanced precariously on the edge of the desk and a shiny red lollipop. [line break]  [line break] There are a few scattered leaflets for events that have long passed and look mostly disinteresting.".

The pile of leaflets are on the ParFrontDesk. The pile of leaflets is scenery.

The description of the pile of leaflets is "You pick up the first of the pile: 'Free coffee! Expires 13/01/2007'. [line break] [line break]Useless.[line break][line break]
The next reads: 'Volunteers wanted for social experiment. Must bring own cricket bat and jello.'[line break]
...Well that seems suspicious. [line break][line break]
Finally at the very bottom of the pile, there is a crumpled and dog-eared flier with a faded picture of a young woman. [line break][line break]
'Have you seen Rachel Amber?'[line break][line break]
Your heart feels heavy.".

Understand "leaflet", "leaflets", "flier", "fliers", "voucher", "vouchers", "paper", "papers", "photo", "photos", "pile" as the pile of leaflets.



Instead of taking the leaflets:
	say "[if QuestForTheMissingGirl is true]You fold up the scraps of paper and put them in your pocket. The least you can do is recycle them later [otherwise] You fold up the scraps of paper and put them in your pocket. The least you can do is recycle them later. The young woman's eyes are haunting [end if].";
	if QuestForTheMissingGirl is false:
		now QuestForTheMissingGirl is true;
		now player has MissingGirlflier.

Instead of eating the leaflets:
	say "Ah! I see we have a strong case of papyrophagia here. Maybe you should see someone about that.".

The radio is a device on the ParFrontDesk. The  radio is scenery. The description of the radio is "[if switched on] That earworm is still playing in the background! AHHH! Make it stop! [end if] [if switched off] An ancient looking stereo, the numbers on the dials have all faded away. The aerial is bent at a bizarre angle. The speakers are mercifully silent.".
Understand "dials" and "aerial" as radio.

Instead of switching on the radio:
   say "You flick the switch to the on position. The radio crackles to life and immediately starts playing that song you've had stuck in your head for weeks. Oh great! Now it'll never leave....";
	continue the action.

Instead of switching off the radio:
   say "The radio crackles menacingly before falling silent again.";
	continue the action.

Understand "stereo" as radio.

Babcock Hall is a room. It is west of PARInterior. "[if unvisited] You attempt to open the door towards Babcock Hall, but the metal of the door handle is scalding hot. OUCH! It must have been in the sunlight too long. [else] You don't fancy touching the burning metal again. Maybe you should try another of the residence halls. Carr Harr is lovely this time of day....".

Blaisdell Hall is a room. It is northeast of PARInterior. "[if unvisited] There is a student standing in the way, with a cart full of suitcases and boxes. Strange for someone to be moving in this time of year. [else] The student's pile of boxes has somehow grown since the last time you checked.  Maybe you should try another of the residence halls. Carr Harr is lovely this time of day....".

Saunders Hall is a room. It is east of PARInterior. "[if unvisited] You look up to the sign reading 'Saunders Hall', you are overcome with an insatiable hunger for kentucky fried chicken. Unless you really want to gain the freshman 15, maybe you should go back the way you came. [else] Your stomach rumbles. Maybe you should try another of the residence halls. Carr Harr is lovely this time of day....".

Carr Hall is northwest of PARInterior. "You are standing at the entrance to Carr Hall. There is a door to the [bold type]north[roman type] leading to a corridor where your dorm room is. if you want to leave, you can leave Carr Hall to the [bold type]southeast[roman type]. [if player is in Carr Hall and CarrHalldoor is locked][paragraph break]The door to Carr Hall is heavy and impenetrable without your i card; wouldn't want the riff-raff getting in. The card reader is beeping accusingly. Good thing you have your card in your pocket!"

instead of going nowhere in Carr Hall:
	say "[if player is in Carr Hall and CarrHalldoor is locked]You pace about patting your pockets trying to find your i-card when you finally find it. Eureka! Now you can unlock the door to Carr Hall to the [bold type]north[roman type].[else]You can head [bold type]north[roman type] to your dorm in Carr Hall."

CarrHalldoor is a door.

the printed name of CarrHalldoor is "Carr Hall door"

understand "door" and "carr door" and "Carr Hall door" as CarrHalldoor.

CarrHallDoor is scenery.
CarrHalldoor is north of Carr Hall. CarrHalldoor is lockable and locked.
icard unlocks CarrHalldoor.

after unlocking CarrHallDoor with iCard:
	say "You slide your card through the reader and, to your relief, a few seconds later the light flashes green and the door reluctantly sighs and opens. 'You're welcome....".

CarrHallcorridor is north of CarrHalldoor. "You enter the corridor to a rush of hot, heavy air and the door slams closed behind you. The corridor is empty and the bright sodium lights are beginning to strain your eyes. There appears to be a bathroom to the [bold type]northeast[roman type]. You can exit to the [bold type]south[roman type]."

CarrHallBathroom is a room. CarrHallBathroom is northeast of CarrHallcorridor. "[if unvisited]You stare up at the door, the sign bears a squiggly character that you don't recognise. What kind of language is that supposed to be? [end if] Perhaps, to prevent embarrasment, you should go back the way you came. From here you should go [bold type]southwest[roman type] back to the Carr Hall corridor."

Understand "bathroom" and "Carr Hall bathroom" as CarrHallBathroom.

Instead of going nowhere:
	if player is in PARInterior:
		say "There isn't even a door there, what are you thinking?";
	if player is in Babcock Hall:
		say "The heat coming through the windows is intense; the airconditioning doesn't seem to be helping. Maybe you should look for somewhere cooler to rest.";
	if player is in Blaisdell Hall:
		say "The student who is apparently moving in has struck up a conversation with an RA, they might be here for a while. Maybe you should try heading back to the lobby and trying another dorm.";
	if player is in Saunders Hall:
		say "Even if you were able to overcome the growling from your stomach, your iCard won't work here. Sucks to be you. Go back to the lobby and try another dorm.";
	if player is in Carr Hall:
		say "You're in a corridor: the only way is [bold type]north[roman type] or [bold type]south[roman type], my friend.";
	if player is in CarrHallcorridor:
		say "The door is bearing a sign: 'under construction'. Try another way, [bold type]northeast[roman type] for instance.";
	else:
		continue the action.

The PARreceptionist is a woman. The PARreceptionist is in PARInterior. The PARreceptionist is scenery.

Understand "receptionist" and "Sandra" as the PARreceptionist.

The description of the PARreceptionist is "This poor woman looks like she hasn't had a moments peace, or sleep for that matter, in weeks. The pile of delivery packages is momentous, she must be so tired. [if PARreceptionist is wearing something] She is wearing [a list of things worn by PARreceptionist][end if]".

PARreceptionist is carrying a package for the lost girl.  A package for the lost girl is a container. The description of the package for the lost girl is "A package addressed to Rachel Amber.".

Inside the package for the lost girl is a text book. The package for the lost girl is closed. The package is openable. The description of the text book is "'A Brief History of Space and Time'".
Understand "package" and "box" as package for the lost girl.

Instead of opening the package for the lost girl:
	say "You feel a little weird as you pull open the package. [line break][line break]It was a book after all.[line break] [line break] 'A Brief History of Space and Time', she must have been a physics major.";
	now the package for the lost girl is open.

The PARreceptionist is wearing a nametag. The description of a nametag is "This is how you know her name is Sandra."

The PARreceptionist is wearing a hair pen. The description of a hair pen is "Her long hair is held up by a pen, twisted around and through a ponytail. I bet you wish you knew how to do that.".

the PARreceptionist is wearing a colorfulshirt.
the printed name of colorfulshirt is "colorful shirt."
Understand "shirt" and "colorful shirt" as colorfulshirt.

Instead of examining the colorfulshirt:
	choose a random row in the Table of Shirt Colours;
	say "She is wearing a [colour entry] shirt. That's nice."

Table of Shirt Colours
colour
"Red"
"Maroon"
"Orange"
"Green"
"Black"
"Magenta"
"Aquamarine"
"Vermillion"
"Yellow"
"Aqua and white striped"
"Pink polka-dotted"


Instead of giving something to the PARreceptionist:
	if the noun is a lollipop:
		say "Sandra looks up at you puzzled. 'Umm, thanks? But we get those for free.";
		stop the action;
	else:
		say "She is far too busy stocking and sorting mail for your silly gift";
		stop the action.

Instead of asking PARreceptionist about "mail":
	say "Sandra looks up at you with glazed eyes. [line break][line break]'They just keep coming... Someone ordered thirty six boxes of paperclips...individually.'[line break][line break] Her eyes seem to whisper 'help me...' ".

Mail is a thing. Mail is scenery. Mail is in PARInterior. "The mail seems limp and sad. It is slightly soaked from what seems to be coffee."
Understand "packages", "post", "letters", "boxes" as mail.

Instead of asking PARreceptionist about "direction":
	say "Sandra looks up, exhausted. 'To the [bold type]west[roman type] is Babcock Hall, to the [bold type]northwest[roman type] is Carr Hall, due to the mirrored lay out of the building, to the [bold type]northeast[roman type] is Blaisdell Hall and to the [bold type]east[roman type] is Saunders Hall.' [paragraph break] She mutters under her breath: 'Couldn't you have just used a map or something?'".

Instead of talking to PARreceptionist:
	say "[if PARreceptionist has package for the lost girl]'It's really sad... This package just came through for that missing girl, Rachel? Someone should take it to her roommate. Would you mind?'[line break][line break]She hands you the box, it feels like it might be a book.[else]I don't know anything about the missing girl. I wish I did. I'm sorry.";
	now player has package for the lost girl.

Instead of asking PARreceptionist about something:
	say "Interrupting her now seems a little cruel. Let her get on with her work."

Instead of interrogating PARreceptionist about something:
	try talking to PARreceptionist.

Instead of throwing [something] at [something]:
	if second noun is PARreceptionist:
		say "The [noun] sinks into the steadily growing pile of mail.";
		remove the noun from play;
		stop the action;
	if second noun is hungry students:
		say "The students growl menacingly, but before they have time to retaliate, the line moves forward and the shuffle along.";
		remove the noun from play;
		stop the action;
	if second noun is the bird:
		say "You've startled the poor creature! The bird squawks and flies straight out the open door.";
		now the bird is nowhere;
	else:
		continue the action.

Instead of attacking PARreceptionist:
	say "What kind of cruel monster are you? She's just trying to do her job.";
	stop the action;


Instead of attacking the bird:
	say "The bird rustles its feathers and pecks at your feet before flying out the open door.";
	now the bird is nowhere;
	stop the action.


Instead of cursing:
	if the noun is the radio:
		say "I'm pretty sure this thing is already cursed. Best not make things worse.";
		stop the action;
	if the noun is a person:
		say "Do you really think you're magically adept enough to curse [noun]?";
		stop the action.

instead of talking to  bird:
		say "Oh, so you can speak bird now? I thought not.";
		stop the action.

 Instead of asking bird about "[something]":
	say "Oh, so you can speak bird now? I thought not.";
	stop the action.

A lollipop is a candy on the desk.
The description of a lollipop is "It's a shiny red lollipop that looks incredibly tempting, but for some reason you can't understand, you decide not to eat it at the moment."


MissingGirlflier is a readable thing on the desk. MissingGirlflier is undescribed. MissingGirlflier is important.
The description of MIssingGirlFlier is "Finally at the very bottom of the pile, there is a crumpled and dog-eared flier with a faded picture of a young woman.  [line break] 'Have you seen Rachel Amber?'  [line break] Your heart feels heavy."

Understand "kids", "kid" and "student","students", "people in the line" as hungryPARstudents.

 The description of hungryParstudents is "There is a huge line building up to get into the dining hall. It's the
best place to eat on campus after all."

 the printed name of hungryParstudents is "hungry students".

PARbird is an a scenery animal in PARInterior. The description of the PARbird is "Somehow, a pigeon has found its way into the lobby. It is pecking aimlessly at the ground."
Understand "bird" and "pigeon" and "squawking sound"and "squawking noise" as PARbird.
The printed name of PARbird is "hungry pigeon".

Instead of talking to hungryParstudents:
	say "They're all in their own little cliques and they look frankly ravenous. Maybe you should leave them alone.";
	The Food Is Late in three turns from now.

Instead of attacking PARreceptionist:
		say "What kind of cruel monster are you? She's just trying to do her job.";
		stop the action.

Instead of attacking hungryParstudents:
	say "The students growl and begin to advance, when suddenly the line moves forward and they get back into formation.";
	stop the action;


 Instead of asking hungryParstudents about "[something]":
	say "They look far too starving and anxious to answer your silly question.";
	stop the action.

At 12:43 AM:
	The Land Mine explodes in one turn from now.

At the time when The Land Mine explodes:
	say "A land mine explodes two feet in front of you. You mother did tell you not to go walking around campus at night, but seriously, that was totally unexpected. Your death will go down as a bizarre footnote in UIUC history.";
	now MadeHistory is completed;
	now CurrentEnding is MadeHistory;
	End the Journey.


The Checker is a person.
The Description of Checker is "The Checker seems to be sweating nervously."

At the time when The Food Is Late:
	now The Checker is in PARInterior;
	say "The Checker coughs and looks at their feet, they are obviously nervous. 'The food... Uh... Well - you see - it's going to be another ten minutes... The [list of people in location who are not The Checker] look up, most annoyed.".

Every turn when hungry students is in the location:
	if a random chance of 1 in 20 succeeds:
		say "The hungry students [one of] eye you warily, unable to conjure the energy to react [or] begin to bicker amongst themselves [or] seem to be praying for an end to this ceaseless waiting [at random].".


QuestForTheMissingGirl is a truth state variable. QuestForTheMissingGirl is false.

PART 9 - ARBORETUM

Section 1 - Japan House Story

JapanHouse is a roomproxy in Japan House.
The printed name of JapanHouse is "Japan House".
Understand "Japan House" and "quaint house" as JapanHouse.

JapanHouseInterior is an interior location. JapanHouseInterior is inside from Japan House. 
the printed name of JapanHouseInterior is "Inside Japan House".

The description of JapanHouseInterior is "Now is  [time of day]. You are in the entrance way of the Japan House,
[if the hours part of time of day is 10] A teaism activity is taking place in the Chado Room. You may purchase a Chado Ticket for $10.00 and go [bold type]inside[roman type] to participate in this activity.
[else if the hours part of time of day is 12] A sushi-making class is taking place in the Sushi Room. You may purchase a Sushi Ticket for $8.00 and go [bold type]inside[roman type] to participate in this activity.
[else]but there is no event going on at the moment, so there's nothing to do but exit at the moment." 

Instead of going inside when the player is in JapanHouseInterior:
	 if the hours part of time of day is 10:
		if player has Chado Ticket:
			now player is in JapanHouseInteriorRoomTeaism;
		else:
			say "Did you buy the ticket?";
	else if the hours part of time of day is 12:
		if player has Sushi Ticket:
			now player is in JapanHouseInteriorRoomSushi;
		else:
			say "Did you buy the ticket?";
	else:
		say "The door is closed. There is no event going on."

Instead of going nowhere when the player is in JapanHouseInteriorRoomTeaism:
	now player is in JapanHouseInterior.
	
Instead of going nowhere when the player is in JapanHouseInteriorRoomSushi:
	now player is in JapanHouseInterior.

JapanHouseInteriorRoomTeaism is a room. "Chado is one of the most ancient and revered arts of Japan. Upon entering the room, you were served wagashi, a traditional seasonal Japanese sweet, and matcha tea in a unique handmade tea bowl. Through this experience, you learned about Japanese tea culture."
The printed name of JapanHouseInteriorRoomTeaism is "Chado Room".

JapanHouseInteriorRoomSushi is a room. "As you stepped into the class, you were greeted with an array of fresh, high-quality ingredients, each integral to the sushi-making process. Guided by a skilled sushi chef, you learned the delicate art of preparing and assembling sushi, from perfectly seasoning the rice to expertly slicing the fish. This immersive experience not only taught you the techniques of sushi preparation but also offered a deeper appreciation for the intricacies of Japanese culinary culture."
The printed name of JapanHouseInteriorRoomSushi is "Sushi Room".

Every turn when player is in JapanHouseInteriorRoomTeaism and the hours part of time of day is not 10:
	say "The activity is end. You leave the room.";
	now player is in JapanHouseInterior.

Every turn when player is in JapanHouseInteriorRoomSushi and the hours part of time of day is not 12:
	say "The activity is end. You leave the room.";
	now player is in JapanHouseInterior.
	
Chado Ticket is a NonBeverage ware in JapanHouseInterior. The price of the Chado Ticket is $10.00. Chado Ticket is scenery.
Sushi Ticket is a NonBeverage ware in JapanHouseInterior. The price of the Sushi Ticket is $8.00. Sushi Ticket is scenery.

Your Car is above Daniel Street Parking. "[if unvisited]You walk up the ramp to find your car to drive home after school. No other cars are in the parking garage, and when you turn around the corner, you see glass. So much broken glass.[else]There is shattered glass surrounding your car. A cat also seems to have taken up residence within the vehicle. You wonder if you should adopt the cat.[paragraph break][end if]".

damaged car is scenery in Your Car. "I wouldn't stick around here if I were you."


Instead of going nowhere when the player is in Lincoln & Delaware:
	say "You try to go in that direction, but you end up not going anywhere. What about going [bold type]south[roman type]?"

Instead of going nowhere when the player is in Lincoln & Florida:
	say "You try to go in that direction, but you end up not going anywhere. What about going [bold type]southeast[roman type]?"

Instead of going nowhere when the player is in ArboretumNeighborhood:
	say "As you start to leave the garden, some wind pushes you back .";
	try whichwaying. 
	
Instead of going nowhere when the player is in the Japan House:
	say "As soon as you start walking, a sudden gust of wind blows you back and nearly knocks you over. As you recover, you feel the wind start gently blowing, almost pushing you, to the [bold type]northeast[roman type]."

ArborSmallWoodenBuilding is scenery in IdeaGarden.
The description of ArborSmallWoodenBuilding is "The small wooden building stands tall over the Idea Garden, providing shelter from the rain and sun."
Understand "small wooden building" and "wooden building" and "building" and "structure" and "wooden structure" and "small wooden structure" as ArborSmallWoodenBuilding.
The printed name of ArborSmallWoodenBuilding is "small wooden building".


ArborGarden is scenery in IdeaGarden.
The description of ArborGarden is "The garden is filled with a large variety of flowers, turning the entire space into a lush sight to behold."
Understand "garden" and "gardens" as ArborGarden.
The printed name of ArborGarden is "garden".


ArborFlowers is scenery in IdeaGarden.
The description of ArborFlowers is "The flowers stand and wave around in the wind."
Understand "flowers" and "flower" as ArborFlowers.
The printed name of ArborFlowers is "flowers".


ArborBlueToolbox is a closed openable container in IdeaGarden.
The ArborBlueToolbox is scenery.
The description of ArborBlueToolbox is "The blue toolbox looks a little worn and rusted. You wonder how long it has been sitting there."
Understand "blue toolbox" and "blue box" and "blue" as ArborBlueToolbox.
The printed name of ArborBlueToolbox is "blue toolbox".


a ArborBagel is an edible thing in the ArborBlueToolbox.
The description of ArborBagel is "It's a delicious looking bagel. It appears to be uncut and doesn't have any cream cheese in or with it."
Understand "bagel" as ArborBagel.
The printed name of ArborBagel is "bagel".


ArborRedToolbox is a closed openable container in IdeaGarden.
The ArborRedToolbox is scenery.
The description of ArborRedToolbox is "The red toolbox looks relatively new. Why would someone leave a nice new toolbox here?"
Understand "red toolbox" and "red box" and "red" and "toolbox" as ArborRedToolbox.
The printed name of ArborRedToolbox is "red toolbox".


a ArborOrange is an edible thing in the ArborRedToolbox.
The description of ArborOrange is "It appears to be a fresh orange. You currently do not need any vitamin C. Maybe you can find some use for it later."
Understand "orange" as ArborOrange.
The printed name of ArborOrange is "orange".


a ArborRottenApple is an edible thing in the ArborRedToolbox.
The description of ArborRottenApple is "This old rotten apple's skin has a rainbow of colors and is perforated with numerous holes. You probably should not eat it."
Understand "rotten apple" and "apple" as ArborRottenApple.
The printed name of ArborRottenApple is "rotten apple".


ArborPoem is a thing in the ArborRedToolbox.
The description of ArborPoem is "The poem reads:[paragraph break]A little ORANGE floated on by,[line break]Tis not the season I heard it cry.[line break][line break]Don't KRUSH me, don't krush me, don't krush me please[line break]I don't want to be orange juice. I don't want to be squeezed.[line break][line break]Look, there's a ROTTEN APPLE. Toss it.[line break]It's the troublemaker. It's the misfit.[line break][line break]Deal with it. DROP it somewhere far.[line break]Maybe in JAPAN. Maybe on a star.[line break][line break]Please don’t put me AT death’s DOOR.[line break]Don’t dim my LAMP. Don’t drop me on the floor.[line break][line break]Just leave me ON the ground.[line break]Please just let me go. I want to live my life.[line break][line break]Just let me be. Just let me be. Just let me be. Just let me be. Just let me be. Just let me be. Just let me be. Just let me be. Just let me be. Just let me be."
Understand "poem" and "riddle" and "note" and "paper" as ArborPoem.
The printed name of ArborPoem is "poem".

ArborGrass is a backdrop in ArboretumNeighborhood. 
The description of ArborGrass is "The grass looks even greener once you take a closer look."
Understand "grass" as ArborGrass.
The printed name of ArborGrass is "grass".

ArborBushes is a backdrop in ArboretumNeighborhood. 
The description of ArborBushes is "The bushes really make the garden come together."
Understand "bushes" and "bush" as ArborBushes.
The printed name of ArborBushes is "bushes".

ArborTrees is a backdrop in ArboretumNeighborhood. 
The description of ArborTrees is "The trees over comfortable shade from the sun."
Understand "trees" and "tree" as ArborTrees.
The printed name of ArborTrees is "trees".

ArborCementedPath is a backdrop in ArboretumNeighborhood. 
The description of ArborCementedPath is "It provides a nice relaxing way to walk around the lake."
Understand "pathway" and "path" and "sidewalk" as ArborCementedPath.
The printed name of ArborCementedPath is "pathway".

ArborLake is a backdrop in ArboretumNeighborhood. 
The description of ArborLake is "It glistens and shines as light bounces off its watery surface."
Understand "lake" and "arboretum lake" as ArborLake.
The printed name of ArborLake is "lake".

ArborHouse is a backdrop in ArboretumNeighborhood. 
The description of ArborHouse is "It is situated comfortably next to the lake."
Understand "house" and "japan house" as ArborHouse.
The printed name of ArborHouse is "house".

ArborSign is scenery in the Japan House.
The description of ArborSign is "It hangs proudly and ensures people know that this is the Japan House."
Understand "sign" and "wooden sign" as ArborSign.
The printed name of ArborSign is "sign".

ArborDoorway is scenery in the Japan House.
The description of ArborDoorway is "It is the usual entrance to the Japan House, but today, it appears to be locked and closed."
Understand "doorway" as ArborDoorway.
The printed name of ArborDoorway is "doorway".

a ArborLamp is a switched off device in the Japan House. "[if switched off]A lamp hangs next to the Japan House sign. It is currently turned off.[else]A lamp hangs next to the Japan House sign. It is currently turned on."
The ArborLamp is fixed in place.
The description of the ArborLamp is "The lamp hangs next to the sign, ready to provide light at a moment's notice."
Understand "lamp" and "device" and "lamps" as ArborLamp.
The printed name of ArborLamp is "lamp".

Instead of taking ArborSmallWoodenBuilding:
	say "It is way too big to be taken.";

Instead of taking ArborFlowers:
	say "The flowers are surrounded by bees. Fearful of a potential bee sting, you back away from the flowers."

Instead of eating ArborFlowers:
	say "You are not a cow. You cannot eat these flowers."

Instead of taking ArborBlueToolbox:
	say "You try to lift the blue toolbox, but it does not budge at all. You're not sure if it's made of some extremely dense metal or if it's just that your arms are too weak to move the toolbox."

Instead of examining ArborBlueToolbox:
	if ArborBlueToolbox is closed:
		say "The blue toolbox looks a little worn and rusted. You wonder how long it has been sitting there.";
	else:
		if ArborBagel is in the ArborBlueToolbox:
			say "It appears to be completely empty except for a delicious looking bagel.";
		else:
			say "It is completely empty."

Instead of listening to the ArborBlueToolbox:
	say "You hear...nothing... At least, there doesn't seem to be anything alive in the toolbox."

Instead of touching the ArborBlueToolbox:
	say "You feel the hot metal slightly burning your skin. You immediately pull your fingers away from the pain."

Instead of tasting the ArborBlueToolbox:
	say "You lick the side of the toolbox. It tastes like...burning."

Instead of smelling the ArborBlueToolbox:
	say "A metallic smell strikes your nose as you try to lean in close to the toolbox. Yep, it is really rusted."

Instead of taking ArborBagel:
	say "It sure looks delicious. You decide to take it for later.";
	continue the action.

Instead of eating ArborBagel:
	say "You didn't have any cream cheese, but it still filled you up.";
	Now the ArborBagel is nowhere.

Instead of taking ArborRedToolbox:
	say "You try to lift the red toolbox, but it simply will not move. It seems to be extremely heavy."

Instead of examining ArborRedToolbox:
	if ArborRedToolbox is closed:
		say "The red toolbox looks relatively new. Why would someone leave a nice new toolbox here?";
	else:
		if ArborRottenApple is in the ArborRedToolbox and ArborOrange is in the ArborRedToolbox and ArborPoem is in the ArborRedToolbox:
			say "It appears to be completely empty except for a single rotten apple, a fresh orange, and a poem.";
		else if ArborRottenApple is in the ArborRedToolbox and ArborOrange is in the ArborRedToolbox:
			say "It appears to be completely empty except for a single rotten apple and a fresh orange.";
		else if ArborRottenApple is in the ArborRedToolbox and ArborPoem is in the ArborRedToolbox:
			say "It appears to be completely empty except for a single rotten apple and a poem.";
		else if ArborOrange is in the ArborRedToolbox and ArborPoem is in the ArborRedToolbox:
			say "It appears to be completely empty except for a single fresh orange and a poem.";
		else if ArborRottenApple is in the ArborRedToolbox:
			say "It has a rotten apple sitting at the bottom of the toolbox.";
		else if ArborOrange is in the ArborRedToolbox:
			say "It has an orange sitting at the bottom of the toolbox.";
		else if ArborPoem is in the ArborRedToolbox:
			say "It appears to be completely empty except for a poem.";
		else:
			say "It is completely empty."

Instead of listening to the ArborRedToolbox:
	say "You hear...nothing... So maybe there's nothing alive in it?"

Instead of touching the ArborRedToolbox:
	say "You feel the hot metal slightly burning your skin. You immediately pull your fingers away from the pain."

Instead of tasting the ArborRedToolbox:
	say "You lick the side of the toolbox. It tastes like...burning..."

Instead of smelling the ArborRedToolbox:
	say "You try to sniff the air around the toolbox, but you can't get a whiff of anything around it."

Instead of taking ArborRottenApple:
	say "You likely won't eat it, but maybe you can use it for something? You gingerly take it and put it away.";
	continue the action.

Instead of eating ArborRottenApple:
	say "A little worm burrows its way out of the apple. Nope. You would rather not eat that apple. You move it away from your mouth.";
	stop the action.

ArborRottenAppleDroppedAtDoor is a truth state variable.
ArborRottenAppleDroppedAtDoor is false.

Before dropping ArborRottenApple:
	if person is in Japan House:
		now ArborRottenAppleDroppedAtDoor is true.

Instead of taking ArborOrange:
	say "It looks nice and fresh. You definitely do not need any vitamin C right now. Maybe you'll find some use for it later.";
	continue the action.

Instead of taking ArborGrass:
	say "You start to reach for the grass, but you notice that there are numerous ants crawling around on and around various blades of grass. You decide to back away and leave the ants and grass in peace."

Instead of eating ArborGrass:
	say "You are not a cow. You cannot eat this grass."

Instead of taking ArborBushes:
	say "You don't have the strength or equipment to take these bushes with you."

Instead of eating ArborBushes:
	say "You cannot digest the leaves or branches of these bushes. They also do not have any fruit or edible things on them."

Instead of taking ArborTrees:
	say "These trees are way too big to be taken with you, even if you could pull them out of the ground."

Instead of eating ArborTrees:
	say "These trees do not have any edible things on them."

Instead of taking ArborCementedPath:
	say "You don't quite know how to take out a cemented path..."

Instead of taking ArborSign:
	say "It is nailed securely to the side of the building. You cannot pry it off."

Instead of taking ArborLamp:
	say "It is securely fastened to the building. It does not budge when you try to pull it off."

ArborLampOn is a truth state variable.
ArborLampOn is false.

Instead of switching on ArborLamp:
	if ArborLampOn is false:
		say "The lamp bursts to life, and you can feel the warmth of the incandescent lightbulb radiating from the center of the lamp.";
		now ArborLampOn is true;
		now the ArborLamp is switched on;
	else:
		say "You cannot turn on a lamp that is already on."

Instead of switching off ArborLamp:
	if ArborLampOn is true:
		say "The lamp bulb starts to dim and flicker. After a few seconds, the bulb is completely off.";
		now ArborLampOn is false;
		now the ArborLamp is switched off;
	else:
		say "You cannot turn off a lamp that is already off."



ArborBagel is crushable.
ArborOrange is crushable.
ArborRottenApple is crushable.

Understand "crush [something]" and "krush [something]" as Crushing. Crushing is an action applying to one visible thing.

Check Crushing:
	if noun is not crushable:
		say "You are just not able to crush it. You are not a Hulk. You cannot smash it either.";
		stop the action.

Carry out Crushing:
	say "It has been crushed into oblivion. It has disappeared. It is not of this world. It is intangible now. It cannot be used or seen ever again. It's passed on. This [noun] is no more. It has ceased to be. It's expired and gone to meet its maker. It is a late [noun]. It's run down the curtain and joined the choir invisible. It is an ex-[noun].";
	Now noun is nowhere.

Instead of crushing ArborOrange:
	say "You hear a large rumbling noise from the Japan House. You should probably go investigate.";
	Now ArborOrange is nowhere.

ArborOrangeCrushed is a truth state variable.
ArborOrangeCrushed is false.

Before crushing ArborOrange:
	if ArborOrangeCrushed is false:
		now ArborOrangeCrushed is true.

JapanDeath is a truth state variable.

Every turn when player is in Japan House and JapanDeath is false:
	if ArborOrangeCrushed is true and ArborRottenAppleDroppedAtDoor is true and ArborLampOn is true:
		now Japandeath is true;
		say "Suddenly, the door of the Japan House slams open, and you are whisked into the dark building. You regain your footing, but as you try to look around the dim hallway, you feel your entire body being dragged slowly across the slick brown floorboards. As your eyes adjust, you see at the end of the hallway something even darker than the already dim room around you. It almost seems like it is pulling all the visible light in the space toward it, and you are another helpless item within its gravitational grasp. It soon dawns on you that you are face to face with a black hole that somehow has not completely demolished the surrounding building. Just as you come to this realization, you suddenly lose your footing and tumble head over heels. As the black hole playfully rolls you towards its ravenous maw, you can't help but wonder, 'What will happen next?'";
		now OrangeCrush is completed;
		now CurrentEnding is OrangeCrush;
		End the Journey.
		
Section 2 - Horse Story

horsefood is a kind of edible thing. 
A horseperson is a kind of person. 

[↓ code to add in Idea Garden]
PlainCarrots are an edible thing in the ArborBlueToolbox.
PlainCarrots are a horsefood.
The printed name of PlainCarrot is "a bunch of carrots".
Understand "carrot" and "carrots" and "a bunch of carrots" and "bunch of carrots" and "the carrot" and "the carrots" as PlainCarrots.

The description of PlainCarrots is "You find a bunch of newly-harvested carrots on the bottom of the toolbox. It appears to be a product of the Illini Farm. Of course, it's fine to eat them, since they look delicious. [paragraph break]But you have a hunch that you should savethem for some animal friends, who are not far from your current location."

[
[replace the original description of Arboretum -- not necessary, just making the coin visible instead]
Arboretum Lake is southeast of Hartley Selection Gardens. "[if unvisited]You stand at the edge of the Arboretum Lake. Trees and a cemented path surround the lake. The entire area is quiet and still. You can travel [bold type]north[roman type] or head to the [bold type]southwest[roman type] [else]The trees dance in the wind. You can walk around the cemented path. You can also travel [bold type]north[roman type] or [bold type]southwest[roman type].[end if][paragraph break]
]

A magicSugarCarrot is a horsefood.
The printed name of MagicSugarCarrot is "Magic Sugar Carrot".
The description of  magicSugarCarrot is "This is a delicious magic sugar carrot that the lake nymph gave you as a reward for protecting environment. While you can eat it, the nymph advised you to reserve it for a magic friend."
Understand "magic carrot" and "magic carrots" and "the magic carrot" and "magic sugar carrots" and "a magic sugar carrot" and "magic sugar carrot" and "magic sugar carrots" and "sugar carrot" as MagicSugarCarrot.

LuckyCoin is an undescribed thing in ArborGardenEast. "As you walk along the bank of lake, you feel something under your foot. It appears to be a lucky coin."
The printed name of LuckyCoin is "lucky coin".
Understand "a lucky coin" and "the lucky coin" and "the coin" as LuckyCoin .
The description of LuckyCoin  is "The silver coin's surface is adorned with Nordic runes and the design is said to bring good fortune."

MagicCarrot is a truth state variable.
MagicCarrot is false.

Instead of examining LuckyCoin for the first time:
	say "The silver coin's surface is adorned with Nordic runes that are said to bring good fortune. You suddenly have a weird idea. Since you are standing in front of a lake with a lucky coin, should you throw the coin into the lake like people in the fairy tales do?[paragraph break]";
	if player consents:
		say "You throw the lucky coin into the lake. A beautiful nymph appears in the center of water and asks if you threw the coin into the water. Should you tell her the truth?";
		if player consents:
			say "Hearing your confession, the nymph becomes very angry: 'Why are you throwing coins in my apartment? Do you invite people to throw coins into yours as well?  And you are happy about it and fulfill their wishes?'  [paragraph break] To be honest, this is not the reaction you expected. For the next few hours, you have to stay at the lake bank and listen to the nymph go on about about the importance of protecting the environment. You believe the nymph must have used some kind of magic to isolate you from the rest of the world because when you try to run away, you always return to the same spot. And you have not seen anyone walk by the lake for all those hours, which is rare. When the sky turns dark, the nymph finally finishes her ecological lesson and lets you go. You do not have time to explore anywhere else on campus today. ";
			now NymphEducated is completed;
			now CurrentEnding is NymphEducated; 
			End the Journey;
			now LuckyCoin is nowhere;
		else:
			say "Seeing the nymph's angry face, you immediately denied. But the nymph have already found there is no one near the lake bank now expect you. With an angry voice, she says: 'You not only throwing things into my lake but also lie to me! I need to teach you a lesson'. [paragraph break] After a flash of white light, you turn into a Koi fish and begin swimming around the lake. While it is kind of fun to experience the life of a fish, you definitely won't be doing any more campus exploration today.";    
			now FishFried is completed;
			now CurrentEnding is FishFried; 
			End the Journey;
			now LuckyCoin is nowhere;
	otherwise:
		say "You decide to protect the environment. As you turn to leave the bank of the lake, a beautiful nymph appears in the center of the water and shows her appreciation for your effort in protecting the environment. [paragraph break]'Bring this magical sugar carrot with you,' the nymph says. 'You can eat it for fun, or gift it to a magical friend.' She floats a nicely wrapped sugar carrot in front of you. As you reach for it, she disappears.";
		now the player has the magicSugarCarrot;
		now magicCarrot is true.

ResearchHorses are an undescribed animal in Horse Research Farm. 
The printed name of ResearchHorses is "several brown horses". 
Understand "the horse" and "horses" and "the horses" and "Horses in the research farm" and "Horses in the farm" as ResearchHorses.

Instead of examining ResearchHorses for the first time:
	say "You love these beautiful horses so much, and decide to feed them. As you attempt to do so, a student of the Colllege of Veterinary runs toward you and stops your action. [paragraph break] 'Hey, I understand you want to feed the horse because you love them,' the student says, 'But it is dangerous for their health. Do not give them improper food.' When you have agreed, the student wanders back to their work. Thinking about what the student said, you realize that you are still free to give the horse [italic type]proper[roman type] food."
	
Instead of examining ResearchHorses:
	say "The horses here all seem to be in a good mood, wandering and sometimes eating the grass at the edges of their pen." 

Magic Friend is a undescribed animal in Horse Research Farm. 
Understand "magic friend" as Magic Friend.
The description of Magic Friend is "Magic Friend is a beautiful friendly pony who wears a golden medal, on which curves her name.".

golden medal is an undescribed thing.
medal is worn by Magic Friend.
The description of medal is "On the medal is engraved the words 'Magic Friend'."

Instead of turning the medal:
	say "You get close enough to flip the medal over, and discover another line of text engraved there: 'Created by Xinhui Hu December 2022.'"

Instead of giving something to ResearchHorses:
	if noun is PlainCarrots:
		say "With the vet student's permission, the horses come running over to you as you wave [noun]. It's really fascinating to see adorable horses gather around you and eat the carrots you're holding out. Isn't it an incredible experience? After eating your carrot, the horses become very happy, wandering on the lawn in front of you. ";
		if MagicCarrot is true:
			say "Among them, you see a pony who wears a gold medal, on which curves her name [bold type]'Magic Friends'[roman type]";
			now PlainCarrots are nowhere;
		else:
			say "[line break]";
	else if noun is MagicSugarCarrot:
		say "You don't think that's the proper food for the research horses";
	else:
		say "That's not a proper food for the research horses."
	

Pegasus is a truth state variable. Pegasus is false.


Instead of giving something to Magic Friend:
	if noun is not MagicSugarCarrot:
		say "That's not a proper food for Magic Friend, or any horse.";
	else:
		say "You believe this pony is the magic friend mentioned by the lake nymph and feed her the magic sugar carrot.[paragraph break][Bold type]You are correct![roman type] As Magic Friend eats the magic sugar carrot, her skins starts to shine silver lights and her hair turns into the color of twillight sky. Magic Friends turns into a pegasus! Extending her graceful wings, Magic Friends invited you to fly with her. As you sit firmly on her back, Magic Friend takes off from the ground.  Woo-hoo! You have ascended into the clouds and are now flying.  The University of Illinois campus looks magnificent from above. [paragraph break]With Magic Friend, you can travel easily on any locations of the campus. Now you can travel across any location on campus by typing[bold type] fly to <location name>[roman type].";
		now the printed name of Magic Friend is "Pegasus 'Magic Friend'";
		now the description of Magic Friend is "The magic sugar carrot has turned your Magic Friend into a pegasus with beautiful wings. Now she has the power to bring you anywhere on the map by typing[bold type] fly to <location name>[roman type].";
		now MagicSugarCarrot is nowhere;
		now pegasus is true.


PegasusFlying is an action applying to one thing. 
Understand "Fly to [any outdoor room]" as PegasusFlying. 

Check PegasusFlying: 
	if Pegasus is false:
		say "You can't fly, unless you have discovered your Magic Friend! The Arboretum seems like the most magical place on campus. Maybe start there.";
		stop the action;
	if noun is indoor:
		say "Pegasus can only take you to outdoor locations.";
		stop the action.

Carry out PegasusFlying: 
	say "You climb onto the back of Magic Friend. You and your magnificent pony bask in the sunlight above the clouds, seeing scores of people playing and relaxing on campus, far belong. You hang on tight to her mane as she drops down to the ground and you slide off of her back. She whinnies and disappears into the sky! Farewell, Magic Friend! You will never forget her."; 
	now PlayerDestination is noun;
	now Pegasus is false;
	now Magic Friend is nowhere;
	move player to PlayerDestination.
	

PART 10 - FAR DORMS

[This whole section needs Room Proxies]

FAR is inside of College Ct. "Luckily due to the high traffic of those who go in and out, you are able to easily enter the dorm due to the wide open broken door. You arrive at the main lobby, with the front desk in front of you, but no one inside. The desk has a box on it, slightly weary with a REJECTED stamp on it, seemingly about to be thrown away, as if no one else wants it. There is also a table with some Powerade on it, though you are not particularly thirsty, although Powerade is always appreciated. From here. your options appear to be to go [bold type]west[roman type] to Oglesby Hall, [bold type]east[roman type] to Trelease Hall, [bold type]north[roman type] to leave back to the outside, [if unvisited]or [bold type]down[roman type] from either hall to the basement. [else]or [bold type]down[roman type] from Oglesby Hall to the basement."

WeirdCoin is a thing in College Ct. "A weird looking coin lies on the floor."
Understand "Coin" as WeirdCoin.
The printed name of WeirdCoin is "weird coin".

The description of the WeirdCoin is "It seems to not be any recognizable currency, local or foreign. its purpose remains unknown to you."

Instead of eating WeirdCoin:
	say "Though the coin appears small enough to eat, it is inadvisable to eat it, since it looks to be made an indigestible metal. Plus, it was on the ground for probably more time than 5 seconds.";
	stop the action.


IFRSOShirt is a wearable thing in FAR. " A student group is giving away free shirts."

The description of the IFRSOShirt is "a cheap looking shirt with a printed on logo. The logo often washes away after a few weeks, but often times, so does the colour. But with a shade as garish as this one, that may actually be an advantage."
Understand "accept [something]" as taking.
Instead of taking IFRSOShirt:
	say "The student group member thanks you for taking the shirt. Just to not be rude, you sign up for the mailing list, but give your roommate's details.";
	now player has IFRSOShirt.

Student group member is a person in FAR. "A student stands at a table. She looks quite bored to be giving out shirts."
Understand "student group" and "group member" as Student group member.
The description of student group member is "The student group member appears to be quite bored from her job distributing shirts, one of which she is wearing herself. She has short hair, a normal looking face, and is aimlessly going through her phone to pass the time."

Instead of attacking Student group member:
	say "you think of attacking the student, but do not follow through on it since you don't really need or want to.";
	stop the action.

Instead of talking to student group member:
	say "you open your mouth to talk about something, but nothing particular comes to mind, so you both just talk about some random topic, of no importance."

Instead of asking student group member about "student group":
	say "The member explains that the group is about engineering, and basically allows students to design their own projects and follow through on them. It seems interesting, so you may join later yourself."

Studentgroupmembereatspizza is a truth state variable.
Studentgroupmembereatspizza is false.
eatenpizza is a truth state variable.
eatenpizza is false.

Instead of asking student group member about "Pizza":
	if player has AzzipPizza:
		say "The student group member seems to really want the Pizza you have, since she is really hungry.";
	else:
		say "The student group member would really like some Pizza and asks you to get her some if you have any."
Before giving AzzipPizza to student group member:
	If studentgroupmembereatspizza is false:
		increase Musicscore by 25;
		say "The student group member seems elated to see the Pizza that you have. It's quite large, so you share it with her, and soon enough, both of you have finished the whole thing. Hopefully, the original owner of this Pizza never comes looking for it, not that he'd know you ate it anyways, since you disposed of the evidence. In about 6-8 hours, it will be disposed for good, too.";
		say "The student group member seems elated to see the Pizza that you have. It's quite large, so you share it with her, and soon enough, both of you have finished the whole thing. Hopefully, the original owner of this Pizza never comes looking for it, not that he'd know you ate it anyways, since you disposed of the evidence. In about 6-8 hours, it will be disposed for good, too.";
		now AzzipPizza is nowhere;
		now Studentgroupmembereatspizza is true;
		now eatenpizza is true.

AzzipPizza is an edible thing in Oglesby. "A pizza box sits in the corner, abandoned but still fresh."

The description of AzzipPizza is "The pizza is still warm and fresh. Plain cheese, but to a hungry man such as you, it seemed so tempting to eat. Perhaps just a bite? You won't possibly be able to eat the whole thing, so perhaps? Or would you just devour it whole?"
Understand "pizza Box" as AzzipPizza.
Understand "devour [something]" as eating.
Instead of eating AzzipPizza:
	say "The pizza tasted great, especially with the greatest sauce of the world, hunger.";
	now eatenpizza is true;
	now AzzipPizza is nowhere.

OglesbyBasement is down from Oglesby. "The basement appears to be in full swing, with students working hard in the laudry room, playing in the rec room and excercising in the gym.  The library door also seems to be open for the first time in forever, with many computers but no books inside. There appears to not be much to do of interest here (or at least not right now). Head back [bold type]up[roman type] to Oglesby Hall."

ElectronicBookshelf is a switched on device in the OglesbyBasement. "A bookshelf sits in the corner, but with no books inside. It appears peculiar, almost mechanical."

ElectronicBookshelf is fixed in place.

Instead of switching on ElectronicBookshelf:
	say "The bookshelf switches on slowly, the screen showing some assembly code for a moment, and then a logo that is barely readable or recognizable on the tiny screen. The display then flickers to life, without any change. It's probably pretty sophisticated, at least for a bookshelf.";
	now the ElectronicBookshelf is switched on.
Instead of switching off ElectronicBookshelf:
	say "The bookshelf dies all at once, snapping to black as sson as the switch is flipped.";
	now the ElectronicBookshelf is switched off.

Instead of examining ElectronicBookshelf:
	if player has WeirdCoin:
		say "The bookshelf appears to have electronic buttons and a matrix of virtual books, in some new initiative by the university to implement computing into education more. It appears more like a vending machine than a conventional bookshelf, with codes for each book and a keypad on the right to enter the code. The virtual display is on page 2 of the fiction section, with books ranging from Alice in Wonderland to Dracula. There is a coin slot, a note slot and a credit card slot on the side below the keypad, and a power switch on the back. The coin slot appears to be a good fit for the WeirdCoin you picked up earlier, so inserting it may be a good idea. The keypad just reads 'DEMO', and any coins you push in now would probably be returned or lost.";
	else:
		say "The bookshelf appears to have electronic buttons and a matrix of virtual books, in some new initiative by the university to implement computing into education more. It appears more like a vending machine than a conventional bookshelf, with codes for each book and a keypad on the right to enter the code. The virtual display is on page 2 of the fiction section, with books ranging from Alice in Wonderland to Dracula. There is a coin slot, a note slot and a credit card slot on the side below the keypad, and a power switch on the back. The keypad just reads 'DEMO', and any coins you push in now would probably be returned or lost."
StrangeBook is a thing.
Understand "Book" or "Non distinct Book" as StrangeBook.
The printed name of StrangeBook is "a strange book".
A thing can be beeping or nonbeeping. A thing is usually nonbeeping.
Instead of examining StrangeBook:
	if Metallic Lock-Panel is visible and Bookscanonce is false:
		say "A weird looking book. On opening it, it can be seen that the pages are blank and carved out, with a weird blinking beacon inside. It appears to be firmly held in place and can't be removed from the book. The beacon is blinking and beeping vigorously and loudly, as if something is setting it off nearby.";
	else:
		say "A weird looking book. On opening it, it can be seen that the pages are blank and carved out, with a weird blinking beacon inside. It appears to be firmly held in place and can't be removed from the book.";
		stop the action.

A thing can be insertable or uninsertable. A thing is usually uninsertable.
WeirdCoin is insertable.
Understand "insert [something]" as Inserting. Inserting is an action applying to one visible thing.

Check inserting:
	If ElectronicBookshelf is not in the location:
		say "You can't insert the WeirdCoin into any orifice or hole. It seems important, so you better keep it with you.";
		stop the action;
	else if ElectronicBookshelf is switched off:
		say "You probably won't get any results from the Bookshelf without switching it on, except losing the [noun].";
		stop the action;
	else if noun is uninsertable:
		say "That cannot possibly fit into the tiny slot, and even if it could, you wouldn't get any results from it except breaking the Bookshelf.";
		stop the action.

Carry out Inserting:
	say "you insert [noun] into the Bookshelf, and it bounces back out of the return slot."

Instead of inserting WeirdCoin:
	say "You insert the WeirdCoin into the Bookshelf's coin slot and it slides in easily. After a few moments, there is only silence, and then a mechanical noise, as if the Bookshelf sprung to life and was working on the inside, without any visual clues given to you. After a while, you hear a thud sound, and a non distinct book is seen at the bottom of the Bookshelf, apparantly showing that it is capable of giving physical books as well. The book doesn't have a title or any pictures on the cover, which is hard and red, with a leather binding. You pick up the Book, and the Bookshelf goes back to its resting position.";
	increase Musicscore by 25;
	Now WeirdCoin is nowhere;
	Now player has StrangeBook.

Trelease lobby is a room. "you make your way into the lobby of Trelease hall. Not much is seen here, except a weird passage to the side and an elevator, which is out of service and bares no particular details or special traits. A passage can be seen that leads [bold type]down[roman type]. [if unvisited] a man is seen entering the passage, but you can only catch a glimpse of him, and nothing more. [else] The passage that the man went through earlier is still open, and inviting in some way."

Metallic Lock-panel is an openable, closed, lockable, locked scenery door.
Metallic Lock-panel is east of Trelease and west of Trelease Lobby.

Instead of examining Metallic Lock-panel:
	if player has StrangeBook:
		say "The lock is a very intriguing one, with no holes, slots or anything of the sort to insert any kind of key. It also has no chains or wires coming out of it, and seems to suspend itself upon the door. It is quite a big lock as well, covering both door handles. It seems to emanate an ominous energy. As you move closer to it, the beacon inside the Strange Book becomes to blink faster and faster, and strarts beeping in a quiet tone. Perhaps you should scan it nearby, like one does with an NFC tag?";
	else:
		say "The lock is a very intriguing one, with no holes, slots or anything of the sort to insert any kind of key. It also has no chains or wires coming out of it, and seems to suspend itself upon the door. It is quite a big lock as well, covering both door handles. It seems to emanate an ominous energy. It is best to leave it for now, as it seems immovable and unwavering."
Bookscanonce is a truth state variable.
Bookscanonce is false.
A thing can be scanable or unscanable. A thing is usually unscanable.
StrangeBook is scanable.
Understand "scan [something]" as scaning. scaning is an action applying to one visible thing.

Check scaning:
	If Metallic Lock-panel is not in the location:
		say "What would you scan the [noun] one? There isn't anything to scan it on nearby.";
		stop the action;
	else if noun is unscanable:
		say "You try, but nothing happens, mostly because the [noun] isn't something people usually scan like that.";
		stop the action.

Carry out scaning:
	say "you scan [noun] around, but nothing happens."

Instead of scaning StrangeBook:
	if Bookscanonce is false:
		say "You scan the Strange Book near the glowing lock, and it beeps with a loud sound, and the Lock-panel starts twisting and turning, becoming smaller and smaller until it merely slips behind the door through the tiny gap in between the doors. The beacon in the book also stops beeping and returns to how it was earlier, without any nosie or lights emanating from it. It appears the door to Trelease Hall is now open, leading to Trelease Hall to the [bold type]east[roman type].";
		increase Musicscore by 25;
		Now Metallic Lock-panel is unlocked;
	else:
		say "You scan the Strange Book near the glowing lock, and it beeps with a loud sound, and the Lock-panel starts twisting and turning, becoming smaller and smaller until it merely slips behind the door through the tiny gap in between the doors. The beacon in the book also stops beeping and returns to how it was earlier, without any nosie or lights emanating from it. It appears the door to Trelease Hall is now open, leading to Trelease Hall to the [bold type]east[roman type].";
		Now Metallic Lock-panel is unlocked

Instead of taking Metallic Lock-panel:
	say "You pull on the lock with all of your strength, but it does not budge. It appears to be unaffected by any of your actions. It is best to leave it alone for now.";
	stop the action.

Secret Base is a room. "Through the passage, you enter what appears to be a secret base of sorts, like from the spy movies. The base seems to be much lower than even the basement, given the length of the passage. The man from earlier is standing around, and spots you. He seems to be surprised at your appearance, but is still composed. The area has many weird devices and gadgets, which you better not even look at, or think about. You can still head back [bold type]up[roman type]."
Secret Base is down from Trelease Lobby.

Secret Agent is a person in Secret Base. "[agent different descriptions]".
Understand "Weird Man" and "Man" as Secret Agent.

To say agent different descriptions:
	if Secret Agent is unexamined:
		say "The man is quite busy, and appears to be the owner of this scret area. Perhaps he's a secret agent? The man has an eye on you, but appears to also be looking around for something clumsily.";
To say agent different descriptions:
	if eatenpizza is true:
		say "The man has an eye on you, but appears to also be looking around for something clumsily. He seems hungry.";
		stop the action;
	if player has MetallicDome:
		say "The man falters about in search of something, and mumbles about how he 'lost the package somewhere', and that he must have left it somewhere here and forgotten about it.";
		stop the action;
	else:
		say "The agent appears lost in thought on something. Perhaps a question would elicit a good reply from him?";

Instead of examining Secret Agent:
	if Secret Agent is unexamined:
		say "The man is dressed in a brown trenchcoat, and has black polished shoes and brown pants. He has a weathered face and steady hands, peppered hair and weary eyes. You could probably try asking him where we are and who this man is.";
		now Secret Agent is examined;
		stop the action;
	else:
		if Secret Agent carries something:
			say "The agent is clumsily carrying around [a list of things carried by Secret Agent].";
		if Secret Agent is wearing something:
			say "The agent is wearing [a list of things worn by Secret Agent]";
		say "The man appears to be looking around, and appears to be busy, but he would probably be able to answer something you ask him, especially since you urgently need answers."
Secret Agent is carrying a handgun.
The description of handgun is "The agent's gun appears to be one similar to that the police carry, but with an increased magazine capacity and a longer barrel, indicating that he would need more firepower than the police."
Secret Agent is wearing a Brown Trenchcoat.
The description of Brown Trenchcoat is "A heavy trenchcoat worn by the agent. What could he be holding inside the pockets?"
Instead of taking Brown Trenchcoat:
	say "you think of it, but then you realise that you have no way of telling if the agent is even wearing anything underneat, and so you decide to not take any risks.";
	stop the action.
Instead of taking handgun:
	say "You decide to not try and steal the agent's handgun, since you probably would get shot, and if not, you would certainly be prosecuted.";
	stop the action.

Instead of attacking Secret Agent:
	say "You try to throw a punch, but the man dodges effortlessly and before you know it, he's behind you. All you fell is a sharp pain and then black. You wake up outside in a bush. Some exploring shows that you are in the street just outside FAR.";
	Now player is in College Ct.
Instead of talking to Secret Agent:
	say "You try to talk to him, but he gives no answer. Perhaps you should ask him of something particular and of some importance."

Instead of asking Secret Agent about "man":
	say "the man explains that he is a secret agent, working for a private organization that he can't tell me about. It all seems mysterious, but the base around you and the high tech lock and bookshelf make it seem plausible."
Instead of asking Secret Agent about "Secret Agent":
	say "the man explains that he is a secret agent, working for a private organization that he can't tell me about. It all seems mysterious, but the base around you and the high tech lock and bookshelf make it seem plausible."
Instead of asking Secret Agent about "Weird man":
	say "the man explains that he is a secret agent, working for a private organization that he can't tell me about. It all seems mysterious, but the base around you and the high tech lock and bookshelf make it seem plausible."


Instead of asking Secret Agent about "Secret Base":
	say "The Agent explains that the base is a secret to most people, and that since I got in beyond the Lock, I am witnessing somehting that most people don't know about. He also explains that this secrecy is necessary for the safety of the entire college, and that I am to keep it a scret at all costs."

Instead of asking Secret Agent about "pizza":
	if eatenpizza is true:
		say "The agent says that he ordered pizza some time ago but that he never got it. He lost it somewhere, and when he went back to find it, he couldn't find it anywhere. In the back of your head, you hope that he never finds out what truly happened to his pizza.";
	else:
		say "The agent says that he ordered pizza some time ago but that he never got it. However, he says he doesn't really care about it anymore."


SecretAgentScore is a truth state variable.
Instead of asking Secret Agent about "Dome":
	if Dometaken is true:
		say "The agent appears perplexed as to how you got the dome. He says that it is very important and that he needs to take the dome immediately. After taking the dome, he uses it on a computer in the room, which stretches from the floor to the ceiling, with multiple screens. After doing so, the dome opens up to reveal a stone or something, which appears shiny and smooth. The agent explains that the dome is a container for this object, which is a new source of energy, a meteor fragment that radiates electromagnetic waves that can be picked up and used to power objects. In the hands of the wrong people, this may have been used to create weapons, but now, it is in good hands. The agent thanks you for your help.[paragraph break]The world is saved due to your efforts, as they have lead to the discovery of a new power source that is renewable and stops global warming!";
		increase score by 50;
		now SecretAgentScore is true;
		now Secret Agent is nowhere;
	else:
		say "the agent says he doesn't know what you are talking about."


Instead of giving MetallicDome to Secret Agent when SecretAgentScore is false:
	say "The agent appears perplexed as to how you got the dome. He says that it is very important and that he needs to take the dome immediately. After taking the dome, he uses it on a computer in the room, which stretches from the floor to the ceiling, with multiple screens. After doing so, the dome opens up to reveal a stone or something, which appears shiny and smooth. The agent explains that the dome is a container for this object, which is a new source of energy, a meteor fragment that radiates electromagnetic waves that can be picked up and used to power objects. In the hands of the wrong people, this may have been used to create weapons, but now, it is in good hands. The agent thanks you for your help.[paragraph break]The world is saved due to your efforts, as they have lead to the discovery of a new power source that is renewable and stops global warming!";
	increase score by 50;
	now SecretAgentScore is true;
	now Secret Agent is nowhere;
	now MetallicDome is nowhere;
	stop the action.

Instead of asking Secret Agent about something:
	say "The agent doesn't really answer your question, probably because he doesn't know doesn't want you to know."

BangCounter is a number variable.

Every turn when player is in FAR:
	increment BangCounter.

Every turn when Bangcounter is 3:
	say "you hear a loud sound from downwards, like a bang of some sort. It appears to come from below even the basement. How peculiar.";
	increment Bangcounter.


Floor 9 is up from Oglesby. "The ninth floor appears to have a theme based on the movie Monsters Inc. Why on Earth they didn't choose Monsters University instead boggles your mind. All of the rooms are locked, and one at the end of the hallway has a peculiar noise of typing keyboards coming from it. The Floor lounge appears perfectly normal, but with a hole in the wall, the size of a fist. Perhaps there is more to this room? Or perhaps your head still hurts from thinking too much about the choice of movie? There isn't much else to do here, so you may as well head back [bold type]down[roman type]."

FARBox is a openable container in FAR. The Box is scenery.

The description of FARBox is "A square-ish box with some level or wear and tear. What could be inside? It's right next to the trash, so you may as well look, since no one else wants it. A quick peek inside shows some metallic item, similar to a dome."

MetallicDome is a thing in FARBox.
Dometaken is a truth state variable.
Dometaken is false.
Instead of taking MetallicDome:
	say "You take the dome, which emits some kind of radiant aura. It may come useful in the future, or it may not, but since it is pretty light, you may as well take it along.";
	now player has MetallicDome;
	now Dometaken is true;
	The MetallicDome Explodes in 30 turns from now.

Instead of examining MetallicDome:
	if MetallicDome is in FARBox:
		say "There appears to be a metallic object, like a dome, in the box. It is hard to make out the details when it is still in the box.";
	else:
		say "a wierd looking dome, silver and shining, with a clear edge and no details or imperfections. Its purpose is unkown, and it seems heavy, but is actually quite light."

Understand "Metal" and "Metallic item" and "Metallic object" and "Metallic" as MetallicDome.

At the time when The MetallicDome Explodes:
	if player has MetallicDome:
		say "you feel a warmth from your bag, which upon inspection, appears to be coming from the dome. Suddenly, the dome begins glowing orange and gets even hotter. Within a fraction of a second, the dome explodes and destroys the entire university and a great part of the town.";
		say "[paragraph break]Unbeknownst to you, the dome was actually housing a great source of energy, which due to being cramped in the dome for too long and being shaken a lot by your moving, became unstable and released all of its excess energy in one giant explosion which disintegrated the entire area.";
	else:
		say "You see a bright flash and then nothing. There was a giant explosion which destroyed the whole building and seemingly the whole university.";
		say "[paragraph break]Unbeknownst to you, the dome was actually housing a great source of energy, which due to being cramped in the dome for too long and being shaken a lot by your moving, became unstable and released all of its excess energy in one giant explosion which disintegrated the entire area.";
	now ExplodingDome is completed;
	now Currentending is ExplodingDome;
	now Secret Agent is nowhere;
	now MetallicDome is nowhere;
	End the Journey;
	stop the action.

WoodenFARTable is a supporter in FAR. "A wooden table sits, just outside the dining hall."

Understand "Table" as WoodenFARTable.

The description of WoodenFARTable is "A table sitting just outside the dining hall, its contents fair game to take. Upon the table, you find bottles of Powerade, which seem to be quite refreshing."

powerade is an edible thing on the WoodenFARTable.
The description of powerade is "The powerade seems pure, shining in the light thrown by the lamps overhead. It was complementary, given by some RSO for sports which you don't seem keen on joining anytime soon. "

Instead of taking powerade:
	say "You take the powerade, despite the fact that you will probably never join the student group.";
	now player has powerade.

Instead of going nowhere when the player is in College Ct:
	say "You attempt to leave, but would rather not walk far in this cold. Not to mention, it's quite dark, and you don't have the Safewalks or Saferides numbers."

Instead of going nowhere when the player is in FAR:
	say "One of the advantages of a hallway is that there are only two options to go to, and thus confusion should be minimized. Despite this, you still manage to get confused anyway, and attempt to go somewhere different. Just stick to going [bold type]east[roman type] or [bold type]west[roman type]."

Instead of going nowhere when the player is in Trelease:
	say "You want to go that way, but you really can't, at least not without dying and taking a speactral form, using an explosive to blast open a pathway or using ninja skills to enter through the airvent, none of which you can do at present."

Instead of going nowhere when the player is in Oglesby:
	say "There is nothing of much interest in that direction, just a normal potted plant. On closer observation, there appear to be potted plants in every direction short of [bold type]up[roman type], [bold type]down[roman type] and [bold type]east[roman type]. How peculiar."

Instead of going nowhere when the player is in Basement:
	say "There are many options here, but none of any interest to use. The laundry room is fully occupied, as are the Rec Room and Gym. The FAR Library is currently closed for renovations, and there aren't any other rooms of particular interest here."

Instead of going nowhere when the player is in Floor 9:
	say "There are many rooms here, but none are open to you. The toilets seem normal, and so does the Floor lounge, except for the hole of course. Overall, everything seems normal, or rather boring, as there is nowhere to go of any interest here."

A Weirdbox is a kind of container. a Weirdbox is usually open and openable.
A Weirdbox can be Volumnious or Compact. A Weirdbox is usually Volumnious.

SquareBox is a scenery Weirdbox in Secret Base.
SquareBox is Volumnious.
The printed name of SquareBox is "A squarish Box".
Understand "Squarish box" and "Square" and "Cube" and "Cube box" and "Cubic box" as SquareBox.

RoundBox is a scenery Weirdbox in Secret Base.
The printed name of RoundBox is "A circular box".
RoundBox is Compact.
Understand "circle box" and "circular box" and "cylinder box" and "cylindrical box" and "circle" and "cylinder" as RoundBox.

a thing can be SmallAndCompact or LargeAndStorable.  A thing is usually LargeAndStorable.

NutsAndBolts are a SmallAndCompact thing in RoundBox. "There are nuts and bolts of various size here. It appears that they are for specialty use, perhaps in some of the weird gadgets around."
The printed name of NutsAndBolts is "Nuts and Bolts".
understand "Nuts" and "Bolts" and "Nuts and Bolts" and "Nut" and "Bolt" as NutsAndBolts.

instead of taking NutsAndBolts:
	say "It seems important enough to leave and unimportant enough to not take at the same time somehow."

NeoArmstrongCycloneJetArmstrongCannon is a LargeAndStorable thing in SquareBox. "There is a large cannon inside the square box, fitting well in a modular fashion. On the side is a label, saying 'Neo Armstrong Cyclone Jet Armstrong Cannon'."
The printed name of NeoArmstrongCycloneJetArmstrongCannon is "Neo Armstrong Cyclone Jet Armstrong Cannon".
understand "Neo" and "Armstrong" and "Cannon" and "Neo Armstrong" and "Cyclone" and "Jet" and "Cyclone Jet" and "Armstrong Cannon" and "Jet Armstrong" and "Armstrong Cylcone" and "Neo Armstrong Cyclone Jet Armstrong Cannon" as NeoArmstrongCycloneJetArmstrongCannon.

instead of taking NeoArmstrongCycloneJetArmstrongCannon:
	say "It seems to be too heavy to take, and its best to leave it alone, since it seems dangerous."

Instead of inserting something into Volumnious Weirdbox:
	if noun is SmallAndCompact:
		say "It appears that the object is just too small to be thrown into such a large box.";
	else:
		say "You store it inside, and it fits snuggly.";
		now noun is in second noun.

Instead of inserting something into a Compact Weirdbox:
	if noun is SmallAndCompact:
		say "It fits well enough, being very small as it is.";
		now noun is in second noun;
	else:
		say "There is no way such a large thing as the [noun] will fit in such a small box."

Check examining a Weirdbox:
	say "You can't see what's in there from here. You'll have to INSPECT it.";
	stop the action.

Check searching a Weirdbox:
	say "You can't see what's in there from here. You'll have to INSPECT it.";
	stop the action.

Inspecting is an action applying to nothing. Understand "Inspect" and "Inpect box" and "Perform Inspection" and "Inpect round box" and "Inspect square box" and "Perform inspection on round box" and "Perform inspection on square box" as Inspecting.

Carry out Inspecting:
	Repeat with X running through Weirdboxes in the location:
		say "You dig around in [X] and see [if the number of things in X is not 0][a list of things in X]. [else]nothing of interest. ";
Instead of searching a Weirdbox:
		try Inspecting;
		stop the action.

PART 11 - Many Greenhouses
[
a conservator is a person in Many Greenhouses. "A man is standing here, staring at something. You know usually you cannot enter the greenhouses but you can talk to him anyway."

understand "man" and "the man" as conservator.
instead of talking to conservator:
	say "Thank god someone comes, you see those rabbits?  They should be in the west campus, not here! They are attracted by the great plants grown by our genious students! They will rush into the greenhouse and destory everything in it. Including the graduation assignments of our senior students! You see? they look aggressive, I can't leave you in danger. So can you help me to make sure the temperature in the room is 90 degrees and clear all plants without a lable on by take them away while I am fighting them? The door is already unlocked."
	
GreenhouseInterior is inside from Many Greenhouses. "The greenhouse is full of many different kinds of plants. Most of them have labels saying who planted them. But some of them look like weeds, even with on label on them. It's really hot in here. On the wall a thermometer shows the temperature."

The printed name of GreenhouseInterior is "Student Greenhouse"

Strange plant is in Greenhouseinterior. "A strange plan is in front of you on the table. A seed has fallen and lies beside the plant."

Seed of the strange plant is an undescribed thing in Greenhousinterior.

Instead of examining seed of the strange plant:
	say "the seed of the plant saved your life. Take it to dr. Maghirang in department of agriculture."
	
understand "seed" as seed of the strange plant.
rabbit is a person.
Instead of examining rabbit:
	say "Agressive rabbits trying to eat all palnts here."
	
Tall plant is a plant in greenhouse. "A really tall one appears in your sight."
Instead of examining tall plant:
	say "It is so tall that its leave has reached the light of the room. You don't know what kind of plant it is but you are sure it is not a tree. The label hanging on it shows you that it is Alan's."
	
Instead of taking tall plant:
	say "No, Alan needs it to pass this course. You shouldn't do that.";
	Stop the action.

understand "tall" and "tall one" as Tall plant.

balmiest plant is a plant in greenhouse. "You find another balmiest one smells really good."
Instead of examining balmiest plant:
	say "It smells so good that you even want to taste it. The lable tells you it is planted by Michael."
	
Instead of taking balmiest plant:
	say "No, it is belong to Micheal. Taking it is illegal.";
	Stop the action.
	
understand "balmiest" and "smell" and "smell good" and "balmiest one" as balmiest plant.

Flowers is a plant in greenhouse."There is also a clump flowers in the conner."
Instead of examining flowers:
	say "Most of them are still buds, only few are blooming. The blooming ones look so nice. The label says it is grown by Xinhui."
	
Instead of taking flowers:
	say "No, Xinhui needs it for this course. She may even get an A from it! Not even just one bud!";
	Stop the action.
	
understand "flower" as flowers.

Weedlike plant is a plant in greenhouse. "Though the plants are nice, weeds still exist in them and what you are going to do is remove them. There are two areas have weeds growing in. weed1 and weed2."
Instead of examining weedlike plant:
	say "You are almost removing it. But you suddenlly see there is a label on it. You know it is Yifan's plant. On the back of the label, he writes that I am graduating this semester. The grad school does not require me to send them the GPA of this term. All I need to do is to pass this course, keep it alive. SO EASY!!! Hah!"
	
Instead of taking weedlike plant:
	say "No, though yifan is not serious on it at all. But he still need it alive to graduate. Don't be mean!";
	Stop the action.
	
understand "weed1" and "1" as weedlike plant.

weeds is a plant in greenhouse. 
Instead of examining weeds:
	say "Why weeds can always grow so well?  Even they are kept being removed, they can always come back. You make sure that it is not labeled and you need to remove it."
	
Instead of taking weeds:
	say "You deside to pull them out and leave them as fertilizer for those plants.";
	Now weeds is nowhere;
	Now rabbit is in greenhouse;
	say  "The conservator failed to block all the rabbits! Some of them are in the greenhouse now! The conservator shouts at you 'I am sorry for that, but please fight them and protect those plants!'";
	Stop the action.
	
understand "weed2" and "2" as weeds.

strange plant is a plant in greenhouse. "There is also a strange looking plant in the middle."

Instead of examining strange plant:
	say "It looks so werid, but the label tells you it's dr. Maghirang's. You deside not to comment it."
	
Instead of taking strange plant:
	say " Are you serious? Taking the plant's of the head of a department is not a clever choice.";
	Stop the action.

Instead of attacking rabbit:
	say "You deside to protect those plants. You fight hardly against the rabbits. They are so aggresive that you are badly hurted by them after you win the fight.";
	now rabbit is nowhere;
	say "   ";
	say "You suddenlly feel the pain is going away. You hear a sound saying 'I am dr. Maghirang's plant. Because of his carefully cultivation. Now I have my own mind. Thank you so much for protecting me and other students' plants. I am using my life to cure you. Take my seed to him in the [bold type]Department of Agricultural[roman type].";
	Now seed of the strage plant is in greenhouse;
	Now strange plant is nowhere;
	say "The strage plant is gone, only a seed is still there.";
	Stop the action.

 
department of agriculture is a room.
Dr. Maghirang is a person in department of agriculture. "The head of this department."

understand "doctor" and "dr" and "Maghirang" as dr. Maghirang.

Instead of examining dr. Maghirang:
	say "He is really busy. You can try to talk to him."
	
Instead of talking to dr. Maghirang:
	if the player is carrying seed of the strange plant:
		say "You are not my student... Wait, the seed? what's that? Oh god, she is gone and this is her seed? OK, you, do you want some extra credit? You will get 3 credits by planting this seed."
	else:
		say "You are not the deparment's student. You should not be here. If you are considering transfer here. You should go to the registering office."
]

BOOK 4 - WHOLE CAMPUS

PART 1 - Regions of Regions

WholeCampusOutdoor is a region.
MainQuadOutdoor and EastCampusOutdoor and SouthEastCampusOutdoor and SouthCampusOutdoor and SouthWestCampusOutdoor and WestCampusOutdoor and NorthWestCampusOutdoor and NorthCampusOutdoor and NorthEastCampusOutdoor and CrossCampusIndoor are in WholeCampusOutdoor.

WholeCampusIndoor is a region.
MainQuadIndoor and CentralCampusIndoor and EastCampusIndoor and SouthEastCampusIndoor and SouthCampusIndoor and SouthWestCampusIndoor and WestCampusIndoor and NorthWestCampusIndoor and NorthCampusIndoor and NorthEastCampusIndoor are in WholeCampusIndoor.

TheWorld is a Region. WholeCampusOutdoor and WholeCampusIndoor are in TheWorld.

OutOfWorld is a region. Emergency Room and Extra-diegesis and Lion's Stomach and AttackZone are in OutOfWorld.

PART 2 - Bus System

Bevier Hall and LibBusStopSouth and LibBusStop and Krannert Bus Shelter and Circle Drive and Illini Union Bookstore are bussable.

BusStop is a backdrop. 
BusStop is in Illini Union Bookstore and LibBusStop and Circle Drive and Krannert Bus Shelter and Bevier Hall and LibBusStopSouth. 

BusStopDescription is a text variable. 
To Say BusStopDescription:
	say "[paragraph break]A screen installed on the bus shelter displays the schedule. [one of]There are a couple of students staring at their phones while waiting for the bus. [or]There's a large crowd wanting to get on the next bus. [purely at random]If you want to take the bus you'll have to [bold type]wait[roman type]. "

The printed name of BusStop is "Bus Stop". 

Understand "transit plaza" and "plaza" and "bus stop" and "bus times" and "times" and "arrival times" and "schedule" and "screen" and "display"as Busstop. 

The description of BusStop is "You try to make sense of the bus schedule and are pretty sure a bus will be coming soon. Nothing to do but wait."

[Bussable Rooms defined elsewhere, have the following text variables for their descriptions]

To say BookstoreDescription:
	if player is not in Campus Bus: 
		say "You are standing on a busy street corner just outside the Illini Union Bookstore. Groups of students wander in all directions or stand, waiting for the bus. You can go[bold type] in [roman type]to the bookstore here. ";
		if campus bus is not in the location:
			say "[BusStopDescription]";
			stop the action;
	else:
		say "Through the windows of the bus you can see the Illini Union Bookstore. You can [bold type]ride [roman type]the bus or [bold type]exit[roman type] before it heads to the next stop. " 

To say LibBusStopDescription:
	if player is not in Campus Bus:
		say "People mill around the covered bus stop waiting for CU's excellent public transportation service to take them to their next destination. Some look ready to get home after a long and productive day, others resigned to continue to their next class or meeting. You can go [bold type]north[roman type] for a smoke, [bold type]east[roman type] towards the quad, or [bold type]west[roman type] towards the Armory. "; 
		if campus bus is not in the location:
			say "[BusStopDescription]";
			stop the action;
	if player is in Campus Bus: 
		say "Through the windows of the bus you can see the Main Library Bus Stop. You can [bold type]ride [roman type]the bus or [bold type]exit[roman type] before it heads to the next stop. "		

To say CircleDriveDescription: 
	if player is not in Campus Bus:
		say "You are on the north side of the Illini Union near the Transit Plaza. You can go[bold type] in [roman type]to the union from here, or else meander [bold type]east[roman type]or [bold type]west[roman type] in search of food and drink. "; 
		if campus bus is not in the location:
			say "People are waiting around the covered bus stop waiting for CU's excellent public transportation service to take them to their next destination. Some look ready to get home after a long and productive day, others resigned to continue to their next class or meeting.";
			stop the action;
	if player is in Campus Bus: 
		say "Through the windows of the bus you can see the busy traffic on Green Street going east and west in front of the Union. You can [bold type]ride [roman type]the bus or [bold type]exit[roman type] before it heads to the next stop. "	

To say KrannertBusShelterDescription:
	if player is not in Campus Bus:
		say "You are standing under the glass dome of the bus shelter. There are a few students loitering around the area, waiting for their bus to arrive. You can go [bold type]east[roman type] towards Krannert Center for the Performing Arts, or go back [bold type]west[roman type] towards the Quad. ";
		if campus bus is not in the location:
			say "[BusStopDescription]";
		stop the action;
	if player is in Campus Bus: 
		say "Through the windows of the bus you can see the Krannert Center for the Performing Arts. You can [bold type]ride [roman type]the bus or [bold type]exit[roman type] before it heads to the next stop. "		

To say BevierHallDescription:
	if player is not in Campus Bus:
		say "You are outside of Bevier Hall where students experiment with food. It seems to be closed for business at the moment. You wonder if something went wrong in there. You can go most directions from here.";
		if campus bus is not in the location:
			say "[BusStopDescription]";
			stop the action;
	if player is in Campus Bus: 
		say "Through the windows of the bus you can see the Bevier Hall bus stop, and the campus recreation center across the street. You can [bold type]ride [roman type]the bus or [bold type]exit[roman type] before it heads to the next stop. " 
		
To say LibBusStopSouthDescription:
	if player is not in Campus Bus:
		say "You are standing by the south entrance of the Main Library, near a parking lot and the bookdrop. If you go [bold type]south[roman type] you will enter the Architecture Courtyard and if you go [bold type]west[roman type] you will find yourself at the intersection between Sixth St and Gregory St. To enter the library go [bold type]east[roman type].";
		if campus bus is not in the location:
			say "[BusStopDescription]";
			stop the action;
	if player is in Campus Bus: 
		say "Through the windows of the bus you can see the Main Library parking lot next to the bus stop. You can [bold type]ride [roman type]the bus or [bold type]exit[roman type] before it heads to the next stop. "

Instead of waiting when location is bussable: 
	let WaitTime be a random number between 2 and 20;
	say "After [WaitTime] minutes the bus pulls up to the stop.";
	now time of day is time of day + WaitTime minutes; 
	now Campus Bus is in the location. 

After entering Campus bus:
	say "You step up into the bus. It is stopped at the [location]. You can [bold type]ride [roman type]the bus or [bold type]exit[roman type] before it heads to the next stop."

After exiting from Campus bus:
	say "You exit Campus Bus, and it roars away to its next stop.[paragraph break]";
	now Campus Bus is nowhere;
	say "[description of location][line break]". 
	

BusRiding is an action applying to nothing. Understand "ride" and "ride the bus" and "ride bus" and "ride campus bus" as BusRiding.

Carry out BusRiding:
	say "As you take your seat, the doors close. "; 
	if location is LibBusStop: 
		say "The bus wheels northward on Wright Street towards its next stop.";
		now Campus bus is in Illini Union Bookstore; 
		say "[description of location][line break]";
		stop the action;
	if location is Illini Union Bookstore:
		say "The bus heads northward on Wright Street towards its next stop on.";
		now Campus bus is in Circle Drive;
		try looking; 
		stop the action;
	if location is Circle Drive: 
		say "The bus lumbers on eastward on Green Street, before turning south on Goodwin towards its next stop."; 
		now Campus bus is in Krannert Bus Shelter;
		try looking; 
		stop the action;
	if location is Krannert Bus Shelter:
		say "The bus continues rolling down busy Goodwin towards its next stop."; 
		now Campus bus is in Bevier Hall; 
		try looking; 
		stop the action;
	if location is Bevier Hall: 
		say "The bus turns right on Gregory and continues west towards its next stop.";
		now Campus bus is in LibBusStopSouth; 
		try looking;  [say "[description of location][line break]";]
		stop the action;
	if location is LibBusStopSouth: 
		say "The bus turns right and right again around the Library parking lot."; 
		now Campus bus is in LibBusStop; 
		try looking; 
		stop the action;
	else:
		say "There's no bus here to ride!"
		

[
Instead of doing anything other than riding or exiting Campus Bus:
	say "The bus is stopped at the Green Street bus stop, near the Union. You can [bold type]ride [roman type]the bus or [bold type]exit[roman type] before it heads to the next stop."
]

Campus Bus is a vehicle.  "A bus is here with its doors wide open."

The description of Campus Bus is "It looks like every other campus bus. Its doors are open, so you can [bold type]enter[roman type] if you are tired of walking across campus."

OnTheBus is a truth state variable. OnTheBus is false.

RidingTheBus is a recurring scene.

RidingTheBus is a scene.
RidingTheBus begins when OnTheBus is true.
RidingTheBus ends when OnTheBus is false. 

After entering Campus Bus:
	now OnTheBus is true.

PART 3 - Time Travel

The Player has a list of numbers called ErasAvailable.
The ErasAvailable of the player is {2015, 2020, 2023}.
CurrentYear is a Number Variable. CurrentYear is 2023.
ShiftingTemporalState is an action applying to one number.
Understand "Travel to [any number]" and "Go to [any number]" and "change the year" and "change year to [any number]"as ShiftingTemporalState.
Check ShiftingTemporalState:
	If location of player is untimetravelable:
		say "The glass cover of your watch shimmers and an image of an hourglass with a slash mark through it appears briefly before vanishing. Doesn't look like you're close enough to a space-time rift to time travel.";
		stop the action.
Carry Out ShiftingTemporalState:
	If location of player is timetravelable:
		let X be the number understood;
		if X is CurrentYear:
			say "You already exist in the year [CurrentYear].";
			stop the action;
		Repeat with Y running through ErasAvailable of the player:
			if Y is X:
				say "You feel an odd tingling at the back of your brain for a moment, but the sensation passes. The glass cover of your watch shimmers and the numbers [Y] appear briefly before vanishing. You are now in the year [Y]. Take a look around you to see if anything has changed.";
				now CurrentYear is Y;
				Remap the World; 
				stop the action;
		say "Your time travel device can't take you to that year.";
		stop the action.

A room can be timetravelable or untimetravelable. A room is usually untimetravelable.
NaturalHistoryBuilding2024 is timetravelable.
DanielStreet2016 is timetravelable.
DanielStreet2020 is timetravelable.
DanielStreet2023 is timetravelable.
	

test nhbtravel with "s/s/s/s/x sundial/n/n/n/n/n/n/e/n/go to 2020";


To Remap the World:
	if player is in DanielStreetNeighborhood:
		if CurrentYear is 2016:
			now DanielStreet2016 is mapped west of Illini Union Bookstore;
			now DanielStreet2016 is mapped east of Community United Church of Christ;
			now DanielStreet2016 is mapped south of Turner Student Services;
			now DanielStreet2016 is mapped north of Psychology Building;
			now DanielStreet2016 is mapped northeast of Speech Building;
			now Illini Union Bookstore is mapped east of DanielStreet2016;
			now Community United Church of Christ is mapped west of DanielStreet2016;
			now Turner Student Services is mapped north of DanielStreet2016;
			now Psychology Building is mapped south of DanielStreet2016;
			now Speech Building is mapped southwest of DanielStreet2016;
			move player to DanielStreet2016;
		else if CurrentYear is 2020:
			now DanielStreet2020 is mapped west of Illini Union Bookstore;
			now DanielStreet2020 is mapped east of Community United Church of Christ;
			now DanielStreet2020 is mapped south of Turner Student Services;
			now DanielStreet2020 is mapped north of Psychology Building;
			now DanielStreet2020 is mapped northeast of Speech Building;
			now Illini Union Bookstore is mapped east of DanielStreet2020;
			now Community United Church of Christ is mapped west of DanielStreet2020;
			now Turner Student Services is mapped north of DanielStreet2020;
			now Psychology Building is mapped south of DanielStreet2020;
			now Speech Building is mapped southwest of DanielStreet2020;
			move player to DanielStreet2020;
		else if CurrentYear is 2023:
			now DanielStreet2023 is mapped west of Illini Union Bookstore;
			now DanielStreet2023 is mapped east of Community United Church of Christ;
			now DanielStreet2023 is mapped south of Turner Student Services;
			now DanielStreet2023 is mapped north of Psychology Building;
			now DanielStreet2023 is mapped northeast of Speech Building;
			now Illini Union Bookstore is mapped east of DanielStreet2023;
			now Community United Church of Christ is mapped west of DanielStreet2023;
			now Turner Student Services is mapped north of DanielStreet2023;
			now Psychology Building is mapped south of DanielStreet2023;
			now Speech Building is mapped southwest of DanielStreet2023;
			move player to DanielStreet2023.

VOLUME 12 - The FABLAB TUTORIAL GAME

BOOK 1 - Outside the Fablab

CU Community Fab Lab is southeast of the Giant X and south of ACES Library. "[The Sky Alight]"

CUFabLab is a RoomProxy in CU Community Fab Lab.
The description of CUFabLab is "The Fablab is house in one of the oldest buildings on the campus. It's pretty cute, but seriously, it's much bigger on the inside."
Understand "CU Fablab" and "FabLab" and "Fab Lab" as CUFabLab.
The printed name of CUFabLab is "CU Community Fab Lab".

Instead of going nowhere when the player is in the CU Community Fab Lab:
	say "Ahhhhhhhhh! You have fallen into the abyss of unwritten code!";
	now DidNotRead is completed;
	now CurrentEnding is DidNotRead;
	if bright star is not exploded:
		now bright star is distant;
	End the Journey.


	


BOOK 2 - The Tutorial

[ Please do not edit the Fablab Tutorial code even if you find bugs! ]

PART 1 - Rooms

FablabInterior is an interior location.
FablabInterior is inside from CU Community Fab Lab. "The Champaign-Urbana Community Fablab is humming with activity. At one end of the room students are sitting at computers. At the other end there are sewing machines and craft supplies. There is a trash can and a recycling bin in the center of the room, full of interestingly shaped bits of garbage created by the expensive equipment and 3D printers which are on every available surface. There are open doorways to the [bold type]west[roman type] and the [bold type]southwest[roman type]."
The printed name of FAblabInterior is "Fablab".

The Robotics Lab is west of FabLabInterior.
The description of Robotics Lab is "[if unvisited]You stand in the doorway of the Robotics Lab and peek cautiously around the corner. Never can tell who or what is going to be in there. It is difficult to make your way through this room. [end if]Every square inch of floor or table is covered with pieces of mechanical junk and half-made robots. You can retreat to the [bold type]east[roman type]."

Staff Room is southwest of FabLabInterior. "[if unvisited]You are standing in the Staff Room. It looks like they have been eating their lunch in here. You can go [bold type]northeast[roman type] back to the main room of the Fablab. A small closet is to the [bold type]north[roman type].[else]You are in the Staff Room. You can go [bold type]north[roman type] or [bold type]northeast[roman type]. A small closet is to the [bold type]north[roman type]."

Cramped Closet is north of Staff Room. "You have squeezed yourself into a narrow closet that contains nothing but supplies. [if golden key has not been handled]You have really made a mess of things. Stuff is everywhere!"

The printed name of Cramped Closet is "Where Everybody Throws Stuff at the End of the Day."


[
description of Staff Room and Cramped to go with found Part 3/Tutorial 3 -- Section Doors, but it is not implemented.   

Cramped Closet is north of Staff Room. "You have squeezed yourself into a narrow closet that contains nothing but supplies. The closet door at the south end of the room is currently [if wooden door is closed]closed. [else]open. [end if][if golden key has not been handled]You have really made a mess of things. Stuff is everywhere!"
]




Section 1 - Going Nowhere

Instead of going nowhere in the Cramped Closet, say " The supply bins and shelves lean towards you menacingly, packed in here from floor to ceiling and wall to wall. You can barely turn around without knocking something down, but you might be able to safely squeeze your way out to the SOUTH." 

Instead of going northwest in the Cramped Closet: 
		say "Ouch! You walk into a shelf of multi-colored sheets of plastic."

Instead of going up in the Cramped Closet:
		 say "You climb on a box, and jump up from it, trying to grab the ceiling light, but it’s not clear what that’s going to get you." 

Instead of going nowhere:
		say "You consider going that way but change your mind. If you LOOK around, you’ll see the available directions."

Instead of going nowhere in the Robotics Lab:
	   say "[one of]You take a step in that direction when a robotic arm comes out of nowhere and points a long metallic finger at the doorway to the EAST.[or]The robots eye you warily as you move around the room. Escape lies to the EAST.[or]Nope. Nowhere to go but EAST.[at random]".

PART 2 - Things/Tutorial 2 

Section 1 - Fablab Main Room

expensive equipment is a backdrop in FablabMap. 

Understand "contraptions" and "machinery" and "Fab Lab" and "Fab-lab" and "Fablab" and "laser cutter" and "laser" and "cutter" as expensive equipment.

laser-printed heads are a backdrop in FablabMap. "Printed heads are everywhere. Closer inspection suggests they resemble some of the people you see around the Fablab."

understand "head" as laser-printed heads.

Instead of taking laser-printed heads:
	say "The printed heads don't belong to you."

The description of expensive equipment is "The Fablab is full of contraptions. You have no idea what most of them do."

[
a 3D printer is a switched on device in the Fablab. "You can hear noisy 3D printers printing." ]

[A new description is in Part 5]

The description of a 3D printer is "The 3D printers are lined up in a row printing a variety of amorphous-looking things, some of which look like they might be heads. Only one printer appears to be available."

spewing cocoa is scenery in FablabInterior. 
the description of spewing cocoa is "Messy, yes, but it smells great."

instead of eating spewing cocoa:
	say "You're not going to be able to enjoy the cocoa without a cup."
	
instead of drinking spewing cocoa:
	say "You're not going to be able to enjoy the cocoa without a cup."


Section 2 - Staff Room

A Square Table is a supporter in the Staff Room. "A square wooden table sits in the center of the room. On top of the table you can see a wide variety of food items." 
The description of the Square Table is "You eye the table and realize that you're feeling kinda hungry." 

[
Food Items are scenery on the Square Table. 
"You don’t know how long this stuff as been here. You probably shouldn't eat it. A pizza box looks particularly ancient." 
]

[See Part Four for updated food item description]

the pizza box is a closed openable scenery container on the Square Table. 
The description of a pizza box is "There’s no knowing how long ago this box arrived on the table, or whether the goo has anything to do with the pizza. The box is [if open]open.[else]closed."  

[ a crusty donut is an edible thing in the pizza box. ]

[See Part 3  and Part 4 for updated donut assertion]

Instead of taking food items:
	say "What exactly do you want to take?"

Instead of taking pizza box:
	say "You try to pick it up, but it seems to be stuck to the table."

Instead of eating pizza box:
	say "You lick the pizza box, but are disappointed to find that greasy cardboard doesn't have much flavor."

[
	
Staff Room is southwest of Fablab. "[if player is in SmallCloset] You are in the closet.[else]You are standing in the Staff Room. It looks like the staff have been eating their lunch in here. There’s a small closet in one corner of the room. You can return to the Fablab by going NORTHEAST. "

SmallCloset is a scenery, enterable container in Staff Room. "A narrow closet in the Staff Room contains nothing but drawers of office supplies.  It is barely big enough to ENTER, and nothing to do when in it except to EXIT."

]


[
Cramped Closet is inside from staff room.

FauxCloset is a scenery, enterable container in Staff Room. "A narrow closet in the Staff Room contains nothing but drawers of office supplies.  It is barely big enough to ENTER, and nothing to do when in it except to EXIT."
The printed name of FauxCloset is "The cramped closet".
Understand "closet" and "cramped closet" as FauxCloset.

Instead of entering FauxCloset:
	Try going inside.
]

Section 3 - Robotics Lab

Section 4 - The Player

[The player is wearing a colorful t-shirt. "It is bright green with a Fablab Logo and the words ‘Think It! Make it!’ on the front." ]

[In Tutorial 8, the player can acquire the t-shirt by asking Jeff about the one he is wearing]

PART 3 - Interactions/Tutorial 3

Section 1 - Sewing

a sewing machine is a scenery device in FablabInterior. 

Understand "sewing machines" and "machines" as sewing machine.

[The description of the sewing machine is  "This is nothing like the one your grandmother used to have." ]

[New description in Part 4 ]

Instead of switching on sewing machine:
	   say "You switch on the sewing machine, and a small panel lights up on the side. Just as you start to sit down, a staff member appears and tells you that someone else has reserved that sewing machine for the day, but perhaps you’d like to make a robot.";
	   now the sewing machine is switched on. 

Instead of switching off sewing machine:
	   say "You switch off the sewing machine, promsing to come back another day.";
	   now the sewing machine is switched off.
	
Section 2 - Taking and Eating

Instead of taking crusty donut:
	 say "You just can’t help yourself. With a quick glance around to make sure no one is looking, you purloin the nasty thing.";
	 now player has the crusty donut. 
	
Instead of taking the food items:
	   say "It looks like communal food, so you probably could, but really, I mean, have you looked at this stuff?"

Instead of eating the food items:
	   say "You consider eating the staff's leftovers, but after some gastro-intestinal contemplation, you decide you'd better not."

A crusty donut is an edible thing in the pizza box.
 
The description of crusty donut is "You're not sure what made the sprinkles on the edges of the donut so gelatinous, but by the look of it, it must have been soaking in pizza juice for a few days now. Looks delicious. Really. No, seriously. You know you want to eat it. Go ahead. Actually, you better not."

Emergency Room is a room. "You are in the place that people go after eating mold-encrusted donuts."

Instead of eating the donut:
	say "You force down the nasty old, crusty-looking donut. Oh-oh you don't feel so good.";
	now the donut is nowhere;
	now the player is in Emergency Room;
	now CurrentEnding is DiedByDonut; 
	end the journey.

Instead of going nowhere when player is in Emergency Room:
	say "You're not getting out of here any time soon."


Section 3 - Making Doors

[ Cramped Closet is a room. "You have squeezed yourself into a narrow closet that contains nothing but supplies."

a wooden door is a closed scenery door. "[if player is in staff room]There is a door to the north.[else if player is in Cramped Closet]There is a door to the south."

Staff Room is southwest of Fablab. "You are standing in the Staff Room. You were told you could find supplies in here, but it mostly looks like it’s where the staff eats their lunch. At the NORTH end of the room there is a small closet. The closet door is currently [if wooden door is closed]closed. [else]open. [end if]The main room of the Fablab is to the NORTHEAST." 

a wooden door is a closed scenery door.

a wooden door is south of Cramped Closet and north of Staff Room. 

The description of the wooden door is "It's an ordinary wooden closet door. "

understand "closet door" as wooden door.

Instead of going south from Cramped Closet:
	If player has golden key:
		now wooden door is locked;
		say "You hear a rumble of boxes and printed heads behind you as the door slams shut."
		continue the action;
	else:
		continue the action. 
		
Instead of going north from staff room:
	if player wooden door is locked: 
		say "You can’t get into the closet anymore. There’s a mountain of stuff piled behind the door.";
	else:
		continue the action.	

]


Section 4 - Examining Things

various supplies are a scenery container in Cramped Closet. 
Understand "pile" and "mess" and "enormous pile" and "heads" and "stuff" and "3D printed heads" and "3D boxes" and "3d heads" and "stack" as various supplies.

Instead of examining various supplies for the first time:
	say "As you try to turn around in the small closet, one of your elbows accidentally jostles a tall stack of 3D printed heads and they all come tumbling down. As you vainly try to catch them, you cause a chain reaction that makes everything in the closet fall, until you are nearly buried.";
	now golden key is in various supplies;
	stop the action.

Instead of examining various supplies:
	if golden key is in the various supplies:
		say "As you scramble through the scattered supplies you can see a gleam at the bottom of the pile.";
	else:
		say "There’s nothing else to find in this pile but supplies that you don’t need."

a golden key unlocks golden chest. [the chest is created in Tutorial 8]

Understand "gleam" and "sudden gleam" as a golden key.


Instead of examining golden key:
	if golden key is in the various supplies:
		say "As you dig around in the pile, you think you might see something, is it? Yes it is, gleaming golden key!";
	else:
		say "It's the kind of key that you generally find in adventure games. It's heavy and old fashioned, and it’s a pretty good guess you'll probably need it to unlock something."
		
colorful t-shirt unlocks wooden door.

ClosetDoorBlocked is a truth state variable.

After going south from Cramped Closet:
	if ClosetDoorBlocked is false:
		say "You hear a rumble of boxes and printed heads behind you as the door slams shut.";
		now nowhere is mapped north of Staff Room;
		now ClosetDoorBlocked is true.
		
Instead of going north in staff room when ClosetDoorBlocked is true: 
	say "You can’t get into the closet anymore. There’s a mountain of stuff piled behind the door."

PART 4 - Actions/Tutorial 4

Section 1 -- Understanding 

Understand "doughnut" and "dougnut" and "douknut " and "dounut" and "douhnut" and "crusty doughnut" and "crusty dougnut" and "crusty douknut " and "crustydounut" and "crusty douhnut" and "cursty donut" and "cursty doughnut" as crusty donut.

A crumpled water bottle is a scenery thing in the staff room.

The description of crumpled water bottle is "The bottle is cracked, and most of the stale water seeped out onto the table to become one with the pizza box."

Understand "bottled water" and "stale water" as crumpled water bottle.

Food Items are scenery on the Square Table. 
"You don’t know how long this stuff as been here. A crumpled water bottle is stting on top of a greasy pizza box." 

Section 2 Drinking

Instead of taking crumpled water bottle:
	say "The bottle is stuck to the pizza box."

Instead of eating crumpled water bottle:
	   say "Plastic is not particularly appetizing."

Instead of drinking crumpled water bottle:
	say "You manage to squeeze a couple of drops of water out of the bottle. Not enough to hydrate you, but not enough to poison you either, think about it that way.";
	now player has crumpled water bottle;
	now description of food items is "The greasy pizza box is still stuck to the table."
	
A thing can be undrinkable or drinkable. 
A thing is usually undrinkable. 

Greasy water is a part of crumpled water bottle.
Greasy water is drinkable. 

The block drinking rule is not listed in the check drinking rulebook.

Check drinking:
	if noun is undrinkable:
		say "That doesn't appear to be something you can drink.";
		stop the action.
		
Carry out drinking:
	say "You take a sip of the [noun].";
	stop the action.

Section 3 Breathing

[action is defined in actions section]

Instead of breathing when player is holding the crusty donut:
	say "You are too afraid to breathe, fearful that you’ll inhale a moldy sprinkle."

[
weather is a kind of backdrop. 

air quality is weather. air quality is everywhere.  air quality is usually good.

[opposite of good is evil]

Check breathing: 
	if player is holding the crusty donut: 
		say "You are too afraid to breathe, fearful that you’ll inhale a moldy sprinkle.";
		stop the action;
	If air quality is evil: 
		say "The air here isn't very good.";
		stop the action.
		
Instead of jumping:
	if air quality is good:
		now air quality is bad;
		say "You jump in the air.";
		stop the action;
	if air quality is bad:
		now air quality is good;
		say "good."
]		

Section 4  Sewing

swatches of fabric are undescribed things in FablabInterior. 
The description of swatches of fabric is "Looks like people have been practicing sewing on swatches of fabric that are strewn about near the sewing machine." 

understand "swatch" and "craft supplies" and "supplies" as swatches of fabric.

an instruction sheet is an undescribed thing in FablabInterior.
The description of an instruction sheet is "It’s covered in extremely small print of an alphabet that you don’t recognize."

The description of the sewing machine is "This is nothing like the sewing machine your grandmother used to have. There are some scraps of fabric and an instruction sheet lying next to it." 

Instead of Sewing:
	if noun is swatches of fabric:
		say "You successfully thread the needle and the bobbin, and then you slide the piece of fabric under the needle, but just as you begin to sew, a student worker appears and tells you that the person who reserved the machine will be arriving soon. They take away your swatch and suggest that you might enjoy printing a 3D copy of your head instead.";
		now swatches of fabric are nowhere;
	else:
		if sewing machine is in the location and sewing machine is switched on:
			say "You slide the [noun] under the needle, but just as you begin to sew, a student worker appears and tells you that the person who reserved the machine will be arriving soon. They suggest you might enjoy building a robot instead."
			
Section 5 Reading


The instruction sheet and pizza box and Yllabus are readable. 

Instead of reading instruction sheet:
	   say "You have no luck trying to decipher the strange script." 
	
Instead of reading Yllabus:
	say "The course involves doing a series of programming tutorials using an IF game based in a Fablab. Now, isn't that a coincidence!";
	
Check reading: 
	if noun is not readable:
		say "Try as you might, that's not something you can read, except in a metaphorical way.";
		stop the action.

Carry out reading:
	   say "You read [noun], but learn nothing of significance."

Instead of reading instruction sheet:
	   say "You have no luck trying to decipher the strange script." 

Section 6 - Timing

timing is an action applying to nothing.
Understand "time" and "what's the time" and "what time is it" and "check the time" as timing.
Carry out timing:
	say "It's [time of day]." 


PART 5 -- People/Tutorial 5

Section 1 Jeff

Jeff is a man. "[Jeff Variously Labors] ".

Jeff is proper-named.
Understand "fablab guy" and "guy" and "director" and "fablab director" as Jeff. 

[

These descriptions are updated in Tutorial 7
Jeff is a man in Fablab. "[if unexamined]A 3D printer sits in the corner of the room humming away. Jeff, the fablab guy is watching it print.[else]Jeff is installing a new piece of mind-numbingly awesome equipment."

Instead of examining Jeff:
	if Jeff is unexamined: 
		say "Jeff runs the Fablab. He looks busy. Very very busy. You could try TALKING to him.";
		now Jeff is examined;
		stop the action;
	else:
		say "Jeff is busy helping people figure out how to use the equipment. You could try ASKING him about something."
]

a 3D printer is a switched off scenery device in FablabInterior. 
The printed name of 3D printer is "available printer." 
Understand "printers" and "free printer" and "3D printers" and "one printer" and "available printer" and "printer" as 3D printer.

A thing can be examined or unexamined. A thing is usually unexamined. 

Carry out examining something: 
	   now the noun is examined. 
	
Section 2 Staff

some HardworkingStudents are scenery people in FablabInterior. 
the printed name of HardworkingStudents is "hardworking students".


The description of some HardworkingStudents is "The students are sitting at their computers learning to program in Inform. They are totally involved in what they are doing and pay no attention to you." 

Understand "students" and "hardworking students" and "several students" and "kids" and "kid" and "student" as HardworkingStudents.  

Instead of talking to HardworkingStudents:
	say "They are all too busy to talk to you right now. You could try asking them a question."

Instead of attacking HardworkingStudents:
	say "The students complain to Jeff that you are annoying them and he gives you a stern look. This is not the way to win Jeff's favor";
	stop the action.

[
FablabStaff are scenery in FablabInterior.

Every turn when player is inFablabStaff are not in the location of the player:
	 move FablabStaff to the location of the player. 
]

FablabStaff are a Backdrop in FablabInterior and in Staff Room and in Robotics Lab. 

The description of FablabStaff is "The staff are friendly. They are also busy, but they will get around to helping you when they can."

The printed name of FablabStaff is " the fablab staff".

Understand "workers" and "worker" and "student workers" and "staff members" and "helpers" and "fab lab staff" and "staff" and "fablab staff" as FablabStaff.


Section 3 Robots

MenacingRobots are scenery people in the robotics lab. 

The description of MenacingRobots is "The robots vary in shape and size and functionality. Some of them are cute, but others look quite frightening."

The printed name of MenacingRobots is "robots".

Understand "bots" and "mechanical arm" and "junk" and "robot" and "robots"as MenacingRobots.

Section 4 Talking

Instead of talking to Jeff:
	say "Jeff is too busy for chit-chat. If you ask him about something specific, he might reply." 

Instead of talking to MenacingRobots for the first time:
	say "They don't appear to be interested in talking to you, an an inferior life form, or at least that's what you read in their metallic body language."
	
Instead of talking to MenacingRobots for the second time:
	say "The robots make a serious of mechanical blips and bleeps, but when you don't answer them, they turn away in disappointment or disgust. Hard to tell which."

Instead of talking to MenacingRobots:
	say "They don't even look at you."
	
Instead of talking to cyborg:
	say "The cybog listens attentively and attempts takes a bite out of your nose. You pull your head back just in time." 

Instead of talking to Fablabstaff:
	say "They answer your question so thoroughly, and with so many clever physical demonstrations that you consider applying for a job at the Fablab yourself."

Instead of ThingAsking FablabStaff:
	 say "They seem not to have heard your question, being too engaged in enthusiastically teaching you how to work some piece of amazing equipment and then they rush off to help someone else."


Section 5 Giving and Throwing

Instead of giving donut to Jeff: 
	say "Jeff looks at what you're holding out to him and says, 'A nasty old donut! My favorite, but I wouldn't want to deprive you of such an incredible gastronomic experience. On the other hand, maybe you shouldn't eat it. Maybe there's a REALLY GOOD REASON why you shouldn't eat it."

Instead of throwing [something] at [something]:
	if second noun is Jeff:
		say "He catches the [noun] and throws it back to you. 'This is fun!'";
		stop the action;
	if noun is a person:
		say "That’s not very nice, now is it?";
		stop the action;
	else:
		say "You throw the [noun] at the [second noun] but it misses and lands on the floor. You pick it up again, hoping no one saw that."
	
Instead of giving something to MenacingRobots:
	say "The robots give you an arrogant scowl, or maybe you're reading something into their steely expressions. Hard to say. In any event they don't want what you're offering.";
	stop the action.
	
Section 6 Attacking


Instead of attacking Jeff:
	   say "Jeff laughs at your little joke.";
	   stop the action.

Instead of attacking the golden chest:
	say "The robots give you a steely (literally) glance, and you give up that idea."

Instead of WeaponAttacking the golden chest:
	say "The robots see the [second noun] in your hand and won't let you near the chest.";
	stop the action.

Instead of attacking MenacingRobots when player is in FabLabMap:
	say "It does no good, but you have the feeling they're going to remember you tried."

Instead of weaponAttacking the MenacingRobots: 
	say "You reconsider the action."

Section 7 Asking

Instead of asking HardworkingStudents about "Jeff":
	say "The students shrug. 'He knows everything."

Instead of asking students about something:
	   say "The students barely look up from what they’re doing as they mutter ‘Dunno, didja ask Jeff?". 

Instead of interrogating students about something:
	say  "The students roll their eyes and ignore you."

Instead of asking Jeff about "Jeff":
	say "Yes, I'm Jeff."
	
Instead of asking jeff about "narrow sidewalk":
	say "blech."


Instead of asking Jeff about "hint/hints":
	   say "Jeff shakes his head, ‘Now that would be cheating.'" 

Instead of asking Jeff about "Minecraft":
	   say "Jeff nods. 'It’s installed on all of our computers!'"

[Instead of asking Jeff about something:
	say "Jeff is too busy to talk to you right now." ]
	
[This default rule needs to come after future "instead of asking" rules]

Instead of ThingAsking FablabStaff: 
	say "They seem not to have heard your question, being too engaged in enthusiastically teaching you how to work some piece of amazing equipment and then they rush off to help someone else."
	
		
Section 8 Pets and Changing Player Character 

[
The description of the player is "[if player is wearing colorful t-shirt]You are a Fablab staff person! You now can eat whatever you can find in the staff room![else]You are having an okay hair day and are wearing a nice teal-colored shirt. You are thinking about aplying for a job at the Fablab, which is why you are here."
]

[
Every turn when Jeff is not in the location of the player:
	 move Jeff to the location of the player. 
]
		

PART 6 - Variables/Tutorial 6

Section 1 - Passing Time

[
Every turn:
	   say "The time is [time of day]. The number of turns is [turn count]."
	
Every turn when the time of day is 9:02 am:
	   say "You think you smell pizza."

Every turn when the turn count is 3:
	   say "You think you smell pizza."

Instead of jumping:
	  say "You start jumping up and down, which startles everyone around you, but you keep doing it, with the hope that someone else will join you and make it less embarrassing, but they don’t, so you just stop.";
	  increase the time of day by 3 minutes.
]

JeffEntryCounter is a number variable. JeffEntryCounter is 0. 

After examining something when player is in FablabInterior:
	increase JeffEntryCounter by 2;
	continue the action.

After switching on something when player is in FablabInterior:
	increase JeffEntryCounter by 5;
	continue the action.

Section 2 - Jeff Enters

JeffInRoom is a truth state variable.
JeffInRoom is false.

[
Every turn when JeffEntryCounter is greater than 5 and JeffInRoom is false:
	say "Jeff, the Fablab Director, enters the room. ";
	say "[line break]A 3D printer sits silently in the corner of the room. Jeff goes over to it, grumbles something you don't understand and switches it on."; 
	now 3D printer is switched on;
	now Jeff is in FablabInterior; 
	now JeffInRoom is true.

This is updated in Tutorial 7]



Section 3 - Scoring

Use Scoring.  the maximum score is 100.

KeyTaking is a truth state variable. KeyTaking is false.
DonutTaking is a truth state variable. DonutTaking is false.

Before taking golden key:
	if KeyTaking is false:
		increase score by 20;
		now KeyTaking is true.

Before taking crusty donut: 
	if DonutTaking is false:
		increase score by 20;
		now DonutTaking is true.
		
Section 4 - Meteor

A meteor is a kind of thing. A meteor can be distant or approaching or exploding or exploded.  A meteor is usually distant. 

The Bright Star is a distant, photogenic scenery meteor in CU Community Fab lab.

Understand "sky" and "stars" and "meteor" and "meteor shower" and "shower" and "meteorite" and "comet" as bright star.

[description of bright star is in variables section below]

After photographing bright star:
	try examining bright star.

Instead of taking the bright star:
	try photographing the bright star;
	try examining the bright star.

Instead of examining bright star:
	if bright star is distant:  
		say "The strange star is getting brighter and brighter every second. It's incredibly beautiful, but a little scary too, because in the time that it has taken you to read this sentence, it's now so big and bright that it fills the entire sky. You might want to go inside the Fablab now. Right now.";
		The Meteorite Lands in two turns from now;
		now the bright star is approaching;
		stop the action; 
	if bright star is approaching:
		say "You've got other things to worry about.";
		now the star is exploding;
		stop the action;
	if bright star is exploded:
		say "You can't see the star anymore."

meteor dust is a thing.  "Meteor dust makes the ground sparkle."
The description of meteor dust is "It's sparkly and a little rough, as though it has tiny pieces of metal in it."

At the time when The Meteorite Lands:
	say "A meteor has exploded in an enormous fireball in the sky above the University of Illinois campus! ";
	now bright star is exploded;
	remove Bright Star from play;
	move meteor dust to CU Community Fab Lab;
	if player is in CU Community Fab Lab:
		say "The meteor was really, really beautiful, and you are really, really dead. Or you would be if Jeff, the Director of the Fablab, hadn't reached his arm out of the Fablab just in time to pull you inside. 'Well,' he says. 'That was brightens up the day. Welcome to the Fablab!' Then he wanders off and leaves you alone to explore.";
		now player is in FabLabInterior;
		stop the action;
	if player is in FabLabInterior or player is in Staff Room or player is in Robotics Lab or player is in Cramped Closet:
		say "You hear the explosion happening outside the heavy door of the Fablab. Good thing you're safely inside!";
		stop the action.
		
Section 5 - Text Variables

To say The Sky Alight:
	if bright star is distant:
		say "You are outside the Champaign Urbana Community Fab Lab. From here you can only go [bold type]in, west, northwest, north, northeast [roman type]or [bold type]east. [roman type]No other directions are currently available.
		[paragraph break]A bright star is shining in the evening sky. ";
	else if bright star is approaching:
		say "You are mesmerized by the light of the approaching star! Don't say I didn't warn you. ";
		now the bright star is Exploding;
		stop the action;
	else if bright star is exploding:
		say "Oh-oh.";
	else:
		say "You are outside the Champaign Urbana Community Fab Lab. From here you can only go [bold type]in, west, northwest, north, northeast [roman type ]or [bold type]east. [roman type]"


PART 7 - Lists/Tutorial 7

Section 1 - Jeff's Stuff

Jeff is carrying a purple paper clip. 
The description of paper clip is "This paper clip is definitely purple."

Jeff is wearing a colorful t-shirt. 
The description of colorful t-shirt is "It is bright green with a Fablab Logo and the words ‘Think It! Make it!’ on the front in ironic Comic Sans."

Instead of examining Jeff:
	if Jeff is unexamined: 
		say "Jeff runs the Fablab. He looks busy. You could try TALKING to him."; 
		now Jeff is examined;
		stop the action;
	else:
		if Jeff carries something:
			say "Jeff is carrying [a list of things carried by Jeff]. ";
		if Jeff is wearing something:
			say "He is wearing [a list of things worn by Jeff].  You could try ASKING him about something." 

Instead of taking paper clip:
	if Jeff has paper clip:
		say "You attempt to grab the paper clip out of Jeff's hand. He gives you a funny look. 'All you had to do was ask.,' he says, as he hands it over to you.";
		now player has paper clip.


Section 2 - Turning out the Lights

TimeChanging is an action applying to nothing. Understand "change time" as timechanging.

Carry out TimeChanging:
	now the time of day is 9:59 pm.

Every turn when the time of day is 10:00 pm:
	repeat with X running through lighted rooms:
		now X is dark;
	say "The Fablab is closing for the night. All the lights go dark." 

Instead of jumping when the location of the player is dark:
	say "You jump up and down a few times. [if player is wearing colorful t-shirt]As you do, the Fablab t-shirt you are wearing begins to glow.[end if]You can hear the other people in the Fablab begin jumping around you, and their shirts begin to glow. Before long the Fablab is as brightly lit as it had been before.";
	now Jeff is in the location;
	repeat with W running through wearable things:
		now W is lit. 

[
The player is wearing teal-colored shirt. 
The description of the teal-colored shirt is "It is teal-colored."
]
[This is revised in Tutorial 8]


Section 3 - Catching bugs

a biting black fly is a flying insect. "A biting black fly nips you on the arm and dives away."

a persistent mosquito is a flying insect.  "A persistent mosquito is buzzing around your ear, waiting for its chance."

A small white moth is a flying insect.  "A small white moth is munching a hole on the back of your t-shirt."

a dangerous looking wasp is a flying insect.  "A dangerous looking wasp is determined to get into your inventory." 

an industrious spider is a crawling insect. "An industrious spider has already started building a web between two printers."

a many-legged centipede is a crawling insect. "A many-legged centipede is burrowed into a fabric pile near the sewing machines."

an excited cricket is a hopping insect. "A very excited cricket is leaping around, trying to avoid being trampled by unlucky humans."

numberless bugs are a backdrop. numberless bugs are everywhere.  
understand "insects" and "bug" as numberless bugs. 
The description of numberless bugs is "Computer bugs can be hiding anywhere."

a dusty old computer is an undescribed device in FablabInterior. 

The description of a dusty old computer is "Most of the computers are in use except for one dusty old machine in the corner, half behind other equipment. "

Understand "screen" and "computers" and "monitor" and "lab computers" and "dusty old computer" as dusty old computer.

Instead of switching on dusty old computer for the first time:
	say "You turn on the computer in the corner, and as you do two things happen at once. A Fablab staff member yells at you from across the room, ‘Don't use that computer! It’s got bugs!’ just as a steady stream of something wriggling and alive comes shooting out of its cobwebby USB.[paragraph break]";
	now dusty old computer is switched on;
	repeat with X running through insects:
		now X is in the location;
		say "[initial appearance of X] ";
	say "[line break]".
	
Instead of switching off dusty old computer: 
	say "Nothing happens. This old computer is deceased. It is an ex-computer.";
	stop the action.

Instead of switching on dusty old computer: 
	say "Nothing happens. This old computer is deceased. It is an ex-computer.";
	stop the action.

Every turn when JeffEntryCounter is greater than 5 and JeffInRoom is false:
	say "Jeff, the Director of the Fablab, enters the room. ";
	if dusty old computer is switched on:
		say "He swats at a mosquito and says, 'Did someone turn on that buggy computer?'";
	else:
		say "[line break]";
	now Jeff is in FablabInterior;
	now JeffInRoom is true.
	
Every turn when Jeff is in FablabInterior: 
	if 3d printer is switched on and player is Cyborgfree:
		say "Jeff rushes over and quickly shuts it off. As he looks around for a culprit, he glances in your direction. You pretend to be very interested in the laser cutter.";
		now 3D printer is switched off.
	
a finely woven net is a container.
The description of finely woven net is "It looks like a butterfly net. You might try waving it." 

Instead of examining an insect when finely woven net is nowhere:
	if Jeff is in the location: 
		say "Jeff correctly surmises that you are responsible for the bugs. He hands you a small net. ‘Have fun bug-catching!'"; 
		now player has finely woven net;
	else:
		say "A Fablab staff person hands you a small net. 'You release 'em, you catch 'em.";
		now player has finely woven net.

Instead of Bugcatching for the first time:
	repeat with Buggy running through insects in the location:
		if Buggy is flying:
			now Buggy is in the finely woven net;
		else:
			  now Buggy is nowhere;
	say "You run around the room waving the net wildly in the air for a while. At the end of it, you have managed to catch [list of insects in the finely woven net with indefinite articles]. The other insects seem to have crawled or hopped away."

Section 4 - Recycling

[
Fablab is a room. "The Fablab is bustling with activity. At one end of the room there are sewing machines and craft supplies. At the other end students are sitting at computers. Staff members are helping visitors with the expensive equipment and 3D printers. There is a trash can and a recycling bin in the center of the room. [paragraph break]There are open doorways to the WEST and the SOUTHWEST. You can also go OUT of the Fablab from here."
]

a TrashCan is a kind of scenery receptacle. 
a TrashCan is usually open and openable.

a RecyclingBin is a kind of scenery receptacle. 
a RecyclingBin is usually open and openable.

FablabTrashCan is a TrashCan in FablabInterior.  
FablabRecyclingBin is a RecyclingBin in FablabInterior. 

RoboticsTrashCan is a TrashCan in  Robotics Lab. 
RoboticsRecyclingBin is a RecyclingBin in Robotics Lab. 

StaffTrashCan is a TrashCan in Staff Room. 
StaffRecyclingBin is a RecyclingBin in Staff Room. 

The printed name of a TrashCan is "trash can".
Understand "trash can" and "trash" and "garbage can" and "garbage" and "can" and "trash bin" and "garbage bin" and "skip" as TrashCan. 

The printed name of a RecyclingBin is "recycling bin".
Understand "recycling bin" and "recycling can" and "recycling" and "bin" as RecyclingBin.


A TrashCan is always NotTrash. 
A RecyclingBin is always NotTrash.

some useless scraps are a recyclable thing in FablabRecyclingBin. 

the description of useless scraps is "These are totally useless bits of acrylic. What a treasure!"


crusty donut and biting black fly and persistent mosquito and small white moth and dangerous looking wasp are recyclable.
colorful t-shirt and finely woven net and golden key and purple paper clip are unrecyclable.

a crumpled Yllabus is a recyclable thing in FablabTrashCan.

the description of Yllabus is "It is a syllabus for a class about the interactive fiction language, Inform. Looks like a fun class. There's no explanation on it for why its called an Yllabus. Maybe it's a typo. Maybe not." 

Instead of inserting something into a TrashCan: 
	if noun is recyclable:
		say "You start to throw the [noun] into the trash, but then you realize that it could be recycled.";
	else if noun is NotTrash:
		say "That doesn't belong in the trash!";
	else:
		say "Tossed!";
		now noun is in second noun.
		
Recycling is an action applying to one visible thing.

Understand "recycle [something]" as Recycling.

Carry out Recycling:
	repeat with R running through RecyclingBins:
		if R is in the location:
			try inserting noun into R;
			stop the action;
	say "There is nowhere to recycle it."
		
Instead of inserting something into a RecyclingBin:
	if noun is recyclable:
		say "You recycle the [noun].";
		now noun is in second noun; 
	else if noun is NotTrash:
		say "That doesn't belong in a recycling bin!";
	   else:
		say "Oh-oh, caught yourself just in time. That [noun] is not recyclable. Better find a garbage can."
		
Instead of examining a receptacle: 
	say "You can't see what's in the bin from outside the bin. If you're really curious, you'll have to do a dumpster dive.";
	   stop the action.

Instead of searching a TrashCan:
	   try DumpsterDiving;

[Dumpster diving is define at top of file]


PART 8 - 

Section 1 - Random Events

Every turn when player is in FabLabMap: 
	if a random chance of 1 in 50 succeeds: 
		choose a random row in the Table of Random Fablab Events;
		say "The completely random event fairy appears in the air above your head and [event entry][line break]".

Table of Random Fablab Events
event
"makes it rain on your parade."
"grants you 10,000 points. Unfortunately she changes her mind and takes them back again."
"waves her wand and turns you into a bat-eared fox for about 30 seconds."
"talks to you about completely random things for a few moments before randomly disappearing." 
"tries to get you to sing show tunes" 
"plays air guitar for a while before disappearing again."
"turns into a postage stamp. It sounds more impressive than it looks."

Section 2 - Interrogating it about


Instead of interrogating MenacingRobots about something: 
	say "The robots aren't telling you anything about anything."
	
Table of Jeff Responses 
Item		reply 
paper cup		"Jeff says, 'There's gotta be one around here somewhere. We're always running out.'"  
crusty donut		"Jeff says, 'So delicious and nutritious and has other uses too!'"
a golden key		"Jeff shrugs. 'I never can remember where I leave the keys." 
pizza box		"Jeff says, 'I think it's a pizza box. Or is it a trick question?'" 
spewing cocoa		"Jeff says, 'Mmm, hot cocoa! Too bad we're out of cups.'"

Instead of interrogating Jeff about an item listed in the Table of Jeff Responses: 
	say "[reply entry][paragraph break]";
	stop the action.

Instead of interrogating Jeff about something:
	if second noun is expensive equipment: 
		say "Jeff says, ‘Feel free to try out the equipment, ’ without looking up from his work.";
		stop the action;
	if second noun is Jeff:
		say "Hi, I'm Jeff. I'm a little busy at the moment, so catch you later!";
	else:
		say "Jeff says he is too busy to talk to you at the moment."

Instead of interrogating students about something:
	   say "The students shrug and mutter something about asking Jeff about a job". 

Section 3 - Cyborg Boss Fight

Angry Cyborg is a photogenic and scavengerhuntable scenery monster.
The description of the angry cyborg is "You don't have time to examine the cyborg. It has more sharp bits than you can count."

A person can be CyborgFree or CyborgAttacked or CyborgLiberated. A person is usually CyborgFree.

Instead of going west from FablabInterior when the player has meteor dust: 
	if Jeff is not nowhere:
		say "As you enter the Robotics Lab, every mechanical body in the room turns its attention towards you.... ";
		now player is Cyborgattacked;
		remove meteor dust from play;
		now player is in AttackZone;
		now Jeff is in AttackZone;
		now angry cyborg is in AttackZone;
	else:
		say "As you enter the Robotics Lab, you feel the eyes of the robots gazing at you intently. So intimidating is their gaze, in fact, it's rather predatory, and you feel that what you ought to do is to back out slowly, very slowly, and report this phenomenon to the Fablab Director.";
		stop the action.
		
Instead of interrogating Jeff about MenacingRobots:
	say "Jeff grins. 'They really are cute, aren't they?"

Instead of asking Jeff about "robots": 
	say "Jeff grins. 'They really are cute, aren't they?"

Does the player mean interrogating jeff about MenacingRobots: it is very likely.
Rule for clarifying the parser's choice of MenacingRobots: say "".


AttackZone is a room.
The printed name of AttackZone is "Robotics Lab".

Instead of going nowhere when player is in AttackZone:
	   say "There is no escape from the Cyborg."

Table of Cyborg Attacks 
attack
"You've got one turn left before becoming a cyborg's lunch. If only you had a weapon! "
"The cyborg gets rid of your shoes with a disintegration ray and sprinkles some salt on your toes."
"The cyborg pokes you in the tummy, and makes a kind of noise that sounds like 'tum tum yumm.'."
"Cool! You always wanted to get your eyebrow pierced. You were just hoping it would happen in a more hygienic way."
"The cyborg isn't interested in anything but you. That would be flattering, if it weren't so terrifying!" 
"If you weren't in danger of being eaten, you might be curious to know where the cyborg came from. Did Jeff make it? Why don't you ask him? The cyborg disturbs your thinking by chomping on your left ankle Yow! " 
"The cyborg is gnawing on your elbow. You might want to consider running away." 
"The robots seem interested in the meteor dust. You hold it out in your hand to give them a better look. One small drone flies over, lowers a small vacuum cleaner-like attachment and sucks up the dust. You watch in amazement as the drone transforms itself into an enormous and angry cyborg![paragraph break]The robots pretend to be busy and leave you to confront it alone. But no, not completely alone. Jeff stands in the doorway. "

FabLabDanger is a number that varies. FabLabDanger is  8.

Every turn when the player is Cyborgattacked:  
	move the angry cyborg to the location of the player;
	choose row FabLabDanger in the Table of cyborg   Attacks; 
	if FabLabDanger is greater than 0: 
		say "[attack entry] You have [FabLabDanger] turns to get rid of the cyborg.[paragraph break]";
		decrease FabLabDanger by 1;
	else:
		if player is not Cyborgliberated:
			say "Just as it is about to destroy you, the cyborg picks you up in its mechanical arms and tenderly combs your hair, runs a lint roller over your clothes, polishes your shoes, flosses your teeth, moisturizes your cuticles, puts you in an induced coma as it empties the contents of your stomach, gives you a high colonic, replaces your plasma with a genetically improved variant, rearranges your neurons, installs a few cyber improvements, assimilates you into its hive mind and sets you back on your feet with a metallic kiss on the cheek, before executing a breathtaking triple Lutz on the ceiling and sticking a perfect landing. Then it beams itself up to its mother ship.[paragraph break]You turn to Jeff for some kind of explanation. He shrugs. 'That kind of thing happens all the time around here. Hey, did somebody turn off the printer again?' He strides out of the room."; 
			now player is CyborgLiberated;
			now angry cyborg is nowhere;
			move player to robotics lab;
			move Jeff to FablabInterior;    
		else:
			say "Whew! That was close!"
			  
Instead of WeaponAttacking equipment:
	if player is in Robotics Lab:
		say "The robots see the [second noun] in your hand and won't let you near the equipment.";
		stop the action;
	else:
		say "A staff member rushes over and takes the [second noun] out of your hand.";
		now second noun is nowhere.
		
Instead of WeaponAttacking Jeff:
	say "Jeff deflects the [second noun] without looking up from what he is doing."; 
		stop the action.

Instead of WeaponAttacking cyborg:
	if the second noun is not donut:
		say "Resistance is futile. The cyborg has consumed your weapon.";
		now the second noun is nowhere;
		stop the action;
	else:
		Liberate the Lab.

Instead of throwing something at cyborg: 
	if the noun is not donut:
		say "Resistance is futile. The cyborg has consumed your projectile.";
		now the noun is nowhere;
		stop the action;
	else:
		Liberate the Lab. 

To Liberate the Lab:
	say "[line break]You whack away at the angry cyborg with the crusty donut, revealing an inner filling of green, moldy undercooked dough. The cyborg grabs the delicious treat out of your hand and zooms off to eat it privately. Unfortunately it ventures into the unwritten parts of the game map and falls into the abyss.[paragraph break]Jeff walks up to you and pats you on the back. 'That was awesome and you totally deserve a reward!' His voice lowers, and he whispers, 'XYZZY'.";
		now player is Cyborgliberated;
		remove angry cyborg from play;
		remove crusty donut from play;
		now player is in Robotics lab;
		now Jeff is in fablabinterior.



[
	if the noun is not crusty donut:
		say "Resistance is futile. The cyborg has consumed your projectile.";
		now the second noun is nowhere;
	else:
		say "[line break]You fling the crusty donut at the cyborg. It disintegrates midair, revealing an inner filling of green, moldy undercooked dough. The cyborg grabs the delicious treat and zooms off to eat it privately. Unfortunately it ventures into the unwritten parts of the game map and falls into the abyss.[paragraph break]Jeff walks up to you and pats you on the back. 'That was awesome and you totally deserve a reward!' His voice lowers, and he whispers, 'say XYZZY'.";
		now player is Cyborgliberated;
		remove angry cyborg from play;
		remove crusty donut from play;
		now player is in Robotics lab;
		now Jeff is in fablabinterior.
]	

Table of Monster Talk 
comment
"Jeff is saying, 'Did you know there's a cyborg attacking you? "
"Jeff pulls out his cell phone and starts taking pictures. 'This could go viral! "
"Jeff suggests that a weapon could be helpful. "
"Jeff says 'Oh dear!' "
"Jeff wonders if he could turn this experience into a summer workshop for kids. "
"Jeff is counting the cyborg's teeth. 'I think it's got 41 -- no 62!' "
"Jeff would prefer it if you took care of the cyborg before the timer ran out. "
"Jeff screams, 'Stop fooling around and attack! "
"Jeff takes a deep breath and calmly asks you what you think you’re doing."

Jeff Variously Labors is a text variable.

To say Jeff Variously Labors:
	if player is in FablabInterior and Jeff is in FablabInterior:
		if a random chance of 1 in 5 succeeds:
			say "Jeff [one of]is saying, 'Hot cocoa sounds good right about now'[or]is installing a new piece of mind-numblingly awesome equipment [or]wonders if he can get donuts delivered to the Fablab[or]is thinking about what he's going to have for dessert tonight[or]is helping some students make 3-D scans of their head[or]informs you that there might be a meteor shower this evening[or]is etching the complete works of Shakespeare on a grain of rice[or]is daydreaming about the next pizza delivery[at random]. ";
			stop the action;
		else:
			say "The 3D-printers are all humming away except for one. ";
			stop the action;
	if bright star is exploding:
		say "Jeff looks towards the robotics lab. 'Is someone working on wearable combustibles again?'"; 
		stop the action;
	if player is CyborgAttacked: 
		choose a random row in the Table of Monster Talk;
		say "[comment entry]";
		blank out the whole row;
		stop the action.


The description of grain of rice is "’Nobody thought it could be done,' Jeff whispers, ‘but all you need is the right equipment.'"

Section 4 -- Golden Chest

The golden chest is a lockable, locked, closed container in robotics lab.  "A golden chest is sitting in the corner of the room gleaming goldenly."

check taking golden chest:
	say "A robot throws a loose screw at you, and you take your hand off the chest.";
	stop the action.

a golden key unlocks the golden chest

Instead of examining golden chest:
	if player is cyborgfree: 
		say "Are you kidding? The robots are never going to let you near the chest.";
		stop the action;
	if unexamined:
		say "It's the kind of chest you find in Adventure Games. It’s heavy and old fashioned and probably locked.";
		now the golden chest is examined;
		stop the action;
	else if the golden chest is locked:
		say "If only you had a way to unlock it….’";
		stop the action;
	else if golden chest is closed:
		say "The anticipation is tremendous! What could be inside?"; 
	 else:
		   say "Did you ever notice that a treasure chest is much less exciting after it has been opened?"

a recycled paper cup is a container in the golden chest. 

The description of a recycled paper cup is "This is a reasonably high quality cup used for the purpose of drinking hot beverages.[if player has hot cocoa] It is full of hot cocoa!"

Instead of unlocking the golden chest with [something]:
	if the noun is unlocked:
		say "[The noun] is already unlocked.";
		stop the action;
	else if second noun is not the golden key:
		say "Even if the robots let you near the chest, which they won't, you're never going to unlock the chest with the [second noun].";
		stop the action;
	else:
		if golden key is not carried:
			say "You need a golden key to unlock a golden chest!";
			stop the action;
		else if player is CyborgFree:
			say "One of the robots tries to swipe the golden key from your hand. Another blocks your path. It's not going to happen.";
			stop the action;
		else if player is cyborgLiberated:   
			say "As the golden key unlocks the golden chest, you hear angels singing. Or it might be the sound of the engraver in the other room, etching on glass. The golden chest slowly opens, revealing an unused paper cup."; 
			now golden chest is unlocked;
			now the golden chest is open;
			now golden key is nowhere;
			stop the action;
		else:
			say "A couple of robots move between you and the chest.";
			stop the action.

After taking paper cup for the first time:
	say "As you reach for the cup, the lid of the chest begins to close. You pull it (and your fingers) out of the way as it snaps shut. You hear the chest lock, and watch the golden key disappear in a brilliant flash of light.";
	increase score by 20;
	now the player is holding the paper cup;
	now the golden chest is locked;
	now the golden key is nowhere.

CupFilled is a truth state variable. CupFilled is false.

Instead of giving something to Jeff:
	if the noun is paper cup or the noun is hot cocoa:
		if CupFilled is false:
			say "Jeff grins and points at the printer. 'Would you like to do the honor?'";
			try switching on 3D printer;
		else:
			say "Jeff accepts the cup of hot cocoa, takes a sip and grins. 'Not bad. Hey, how would you like to join the Fablab staff? (Y/N)' ";
			if player consents:
				say "[line break]Jeff approves your choice. 'Now what did you want to talk to me about?'[run paragraph on] ";
				now paper cup is nowhere;
				now hot cocoa is nowhere;
				now EarnedAttention is completed;
				now CurrentEnding is EarnedAttention;
				End the Journey;
	else: 
		say "Jeff doesn't looks at what you're holding out to him. He just slips it into his pocket and mumbles something intelligible. It might have been 'thanks,' but honestly you just can't tell.";
		now Jeff has the noun.

The carrying requirements rule does nothing when giving the hot cocoa to jeff. 


Instead of switching on 3D printer:
	if player has recycled paper cup: 
		if CupFilled is false:
			say "You head straight for the 3D printer and switch it on. You lift the cover and hold out the cup and it is filled with delicious, steaming hot cocoa."; 
			remove spewing cocoa from play;
			now CupFilled is true;
			now player has hot cocoa; 
			increase score by 20;
			stop the action;
		else:
			say "Your cup is already full of hot cocoa.";
			stop the action;
	else:
		say "Hot cocoa starts spewing out of the printer!";
		now 3d printer is switched on.
		
spewing cocoa is an edible, drinkable thing.
hot cocoa is an edible, drinkable thing.
The description of hot cocoa is "The hot cocoa smells amazing!"

The carrying requirements rule does nothing when giving the hot cocoa to Jeff. 
The carrying requirements rule does nothing when giving the paper cup to Jeff. 


Section 5 - Joining the Fablab Team

[
sapphire beetle is a female animal. "A sapphire-colored beetle catches the light."

Before doing anything: 
	 say "Your beetle friend follows close behind you.";
	 move sapphire beetle to the location of the player.
]


Instead of asking Jeff about "job":
	try interrogating Jeff about colorful t-shirt.
	
Instead of asking Jeff about "a job":
	try interrogating Jeff about colorful t-shirt.

Instead of asking Jeff about something:
	say "Jeff is too busy to talk to you right now." 

Instead of interrogating Jeff about colorful t-shirt: 
	if player is wearing colorful t-shirt: 
		say "Jeff raises an eyebrow. 'You've already got your t-shirt and pig -- you know, the staff room could use some tidying up!'";
		stop the action;
	else:
		say "Jeff briefly admires the t-shirt he is wearing and says, if you join the Fablab staff, you'll get a Fablab T-shirt of your very own. Do you want a job?’";
		if player consents:
			say "Jeff hands you a 3D printed Minecraft pig and a colorful t-shirt, rushing off to help another visitor. You step into a dark corner and change into your new shirt. There's no mirror around, but you can try to examine yourself to see how you look.";
			now player is wearing colorful t-shirt;
			now player is holding basic clothes;
			now player has 3D printed pig;
		else:
			say "Jeff shrugs. 'Suit yourself,' he mumbles and wanders away." 

The description of 3D printed pig is "The pig is wearing a small golden crown."

Instead of asking MenacingRobots about something:
	try talking to Menacingrobots instead.

Instead of taking sewing machine:
	say "Honestly, there's no good reason I can think of in carrying around a sewing machine."

Instead of taking various supplies:
	say "You can't take the whole pile of junk!"

Instead of asking Jeff about "Fablab":
	   say "the FabLab Guy says ‘Yes indeed, that’s where you are,’ without looking up from his work."
	

Instead of asking Jeff about "pizza":
	   say "Jeff says, ‘Mmm, pizza. Pizza and donuts....’"
Instead of asking Jeff about "hint":
	   say "Jeff shakes his head, ‘Now that would be cheating.'"
Instead of asking Jeff about "winning":
	say "Jeff says, 'Now that would be cheating!'"
Instead of asking Jeff about something:
	say "Jeff is too busy to talk to you right now."

Instead of interrogating Jeff about bright star:
	say "Jeff says, 'It's a beautiful sight!'"
Instead of interrogating Jeff about meteor dust:
	say "Jeff says, 'Wow! Cool!'"
Instead of interrogating Jeff about donut:
	say "Jeff says, 'So delicious and nutritious and makes an excellent weapon too!'"
Instead of interrogating Jeff about key:
	say "Jeff shrugs. 'I never can remember where I leave the keys."
Instead of interrogating Jeff about pizza box:
	say "Jeff says, 'I think it's a pizza box. Or is this a trick question?'"
Instead of interrogating Jeff about printer:
	say "Jeff says, 'I'm 3-D printing hot cocoa! If only I had a paper cup to put it in."
Instead of interrogating Jeff about equipment:
	say "Jeff says, 'I guess you can play Minecraft if you want.'"
Instead of interrogating Jeff about Jeff:
	say "Jeff grins. 'What can I say? I'm Jeff!'"
Instead of interrogating Jeff about the angry cyborg:
	if player is cyborgliberated:
		say "He shrugs. 'Yeah, sorry about all that. It has never happened before. Honestly.'";
	else if player is cyborgattacked:
		say "Jeff shakes his head. 'Why are you wasting time asking me about it when it's about to kill you? Do something!'";
	else:
		say "Cyborg, what cyborg?".

Instead of interrogating Jeff about something:
	say "Jeff is purposely ignoring you by pretending to be really, really busy."
Instead of interrogating Jeff about cup:
	say "Jeff says, 'There's gotta be one around here somewhere. We're always running out.'"

Instead of interrogating Jeff about hot cocoa when hot cocoa is in paper cup:
	try giving hot cocoa to Jeff; 
	stop the action.

Does the player mean interrogating Jeff about the paper cup: it is very likely.
Rule for clarifying the parser's choice of the paper cup while interrogating:
	say "".

Does the player mean interrogating Jeff about the 3D printer: it is very likely.
Rule for clarifying the parser's choice of the 3D printer while interrogating:
	say "".


Instead of interrogating cyborg about something:
	say "The angry cyborg is in no mood to talk, if it even could talk, which it can't."

Instead of asking cyborg about something:
	say "The angry cyborg is in no mood to talk, if it even could talk, which it can't."

Instead of attacking angry cyborg:
	say "Ouch! You attacked the cyborg with your bare hands. Maybe you should be looking for some kind of weapon.";
	stop the action.

Instead of WeaponAttacking when player is in FablabMap:
	if the second noun is not donut:
		say "You swing [the second noun] at the [noun] which is certainly creative, but it doesn't damage the [noun] in the least." ;
		stop the action;
	else:
		say "You hit the [noun] with the crusty donut. Chunks of it fall onto the floor. You hastily shove it together again. In its present state of decomposition it glombs together pretty well.";
		stop the action.




Instead of attacking something when player is in the FablabMap:
	say "The [noun] is impervious to your pathetic attack."

Instead of asking [someone]:
	say "You should ask [the noun] ABOUT things.";
	stop the action.

Instead of giving something to cyborg:
	say "The angry cyborg shakes its head with an expression of disgust.  It doesn't want that."


Instead of doing anything when player is in FablabInterior and time of day is 8:00 pm:
	repeat with X running through lighted rooms in FablabMap:
		now X is dark;
		say "Suddenly the room goes dark. There’s no light anywhere at all.[paragraph break] You hear the Jeff’s voice boom across the Fablab. ‘Don’t be alarmed. We’re just trying out a new kinetic light system. Everyone, please jump!"

Every turn when time of day is 8:00 am:
	repeat with X running through dark rooms in FablabMap:
		now X is lighted.

Instead of doing anything when player is in FablabInterior and time of day is 10:00 pm:
	repeat with X running through lighted rooms in FablabMap:
		now X is dark;
		say "Suddenly the room goes dark. There’s no light anywhere at all.[paragraph break] You hear the Jeff’s voice boom across the Fablab. ‘Don’t be alarmed. We’re just trying out a new kinetic light system. Everyone, please jump!"


Instead of jumping when player is in FablabMap and the location of the player is dark:
	say "You jump up and down a few times and as you do, the Fablab t-shirt you are wearing begins to glow. You can hear the other people in the Fablab begin jumping around you, and their shirts begin to produce light as well. Before long the Fablab is as brightly lit as it had been before.";
	repeat with ClothingItem running through wearable things:
		now ClothingItem is lit.
		



Chapter 1 - In the Tutorial but not in the Game

[
[FablabInterior is a room. "The Fablab is bustling with activity. The 3D printers are humming, and the engraver is engraving. There is a trash can and a recycling bin in the center of the room, full of interestingly shaped bits of garbage. Several students are sitting at computers. Staff members are helping others with the expensive equipment. There are open doorways to the [bold type]west[roman type] and [bold type]southwest[roman type]." ]

a TrashReceptacle is a kind of container.
a TrashReceptacle is usually open and openable.
a TrashReceptacle can be ForGarbage or ForRecycling.
a TrashReceptacle is a kind of container.
a TrashReceptacle is usually open and openable.
a TrashReceptacle can be ForGarbage or ForRecycling.

FablabTrashCan is a scenery TrashReceptacle in  FablabInterior.  FablabTrashCan is ForGarbage.

The printed name of FablabTrashCan is "the trash can".
Understand "trash can" and "trash" and "garbage can" and "garbage" and "can" as fablabTrashCan.

FablabRecyclingBin is a scenery TrashReceptacle in FablabInterior. FablabRecyclingBin is ForRecycling.

The printed name of FablabRecyclingBin is "the recycling bin".
Understand "recycling bin" and "recycling" and "bin" as FablabRecyclingBin.
interesting scraps are a recyclable thing in FablabRecyclingBin.

the Player is carrying a wad of chewing gum.
A wad of chewing gum is unrecyclable.

a crumpled Yllabus is a recyclable thing in FablabTrashCan.

Instead of inserting something into a ForGarbage TrashReceptacle:
	if noun is recyclable:
		say "You start to throw the [noun] into the trash, but then you realize that it could be recycled.";
		else:
			say "Tossed!";
			now noun is in second noun.

Instead of inserting something into a ForRecycling TrashReceptacle:
	if noun is recyclable:
		say "You recycle the [noun].";
		now noun is in second noun;
	else:
		say "Oh-oh, caught yourself just in time. That [noun] is not recyclable. Better find a garbage can."

Instead of DumpsterDiving when player is in FablabMap:
	   Repeat with X running through TrashReceptacles in the location:
	   say "You dig around in the [X] and see [if the number of things in X is not 0][a list of things in X]. [else]nothing of interest. ";
	   if X contains crumpled Yllabus:
			  say "You have no idea what an YLLABUS is, but you are curious enough to take it out of the bin. You smooth out the wrinkles, fold it carefully and put it in your pocket. ";
			  now player has crumpled Yllabus.

Rookie Staff Member is a scenery person in FablabInterior.
Rookie Staff Member is carrying a 3-D printed Minecraft pig.

The description of Rookie Staff Member is "[if player is Rookie Staff Member]You are a new employee of the Fablab. You look eager to help someone use the fabulous equipment. If only you knew how to use the fabulous equipment.[else]The Rookie Staff Member looks eager to help."

Instead of asking asking the Jeff about "a job":
	  say "the FabLab Guy smiles brightly, shakes your hand vigorously, hands you a 3-D printed Minecraft pig and says ‘Welcome to the Fablab family! You are now a Rookie Staff Member of the Fablab.";
	 now player is Rookie Staff Member.
]


VOLUME 13 - OUT of WORLD

BOOK 1 - WHEN PLAY ENDS


[
Use scoring.
The Quad final score rule is listed instead of the print final score rule in for printing the player's obituary.

This is the Quad final score rule: say "You have found [NumberOfEndings] of the Endings. You have visited [number of visited rooms]/[number of rooms]."
]

PART 1 -- ENDING THE JOURNEY

Extra-diegesis is a room. "[if unvisited][run paragraph on][else]You may RESUME playing the game, which will give you credit for this discovery, and send you back to Center of the Quad with your inventory and your progress intact. You may want to SAVE before you RESUME, as a backup to your progress. Alternately, you may QUIT, RESTART, RESTORE a previously saved game, or UNDO your last few commands. (Endings with multiple branches are only counted once, so you will have to go back now if you want to experience them all)."

Rule for printing the name of a room when player is in Extra-diegesis:
	do nothing.

Instead of going nowhere when player is in Extra-diegesis:
	say "There is no narrative exit from extra-diegesis." 

NumberOfEndings is a number variable.

To End the Journey:
	Let N be number of EndingsFound minus 1;
	say "[paragraph break][italic type]     *** You [CurrentEnding] ***[paragraph break]";
	pause the game;
	increment NumberOfEndings;
	now EndTheJourney is true;
	say "[line break][bold type]Congratulations! You have discovered one of the endings of the Quad Game![paragraph break][italic type]Altogether you have captured [Number of snapped things] of [number of photogenic things] photogenic curiosities, and found [NumberOfEndings] of [N] possible endings.[paragraph break]";
	say "[roman type]You may RESUME playing the game, which will give you credit for this discovery, and send you back to Center of the Quad with your inventory and your progress intact. You may want to SAVE before you RESUME, as a backup to your progress. Alternately, you may QUIT, RESTART, RESTORE a previously saved game, or UNDO your last few commands. (Endings with multiple branches are only counted once, so you will have to go back now if you want to experience them all). [paragraph break]Type STATUS at any prompt to see the list of endings found and photographs taken.";
	now player is in extra-diegesis.

Resuming is an action applying to nothing. Understand "resume" as resuming.

EndTheJourney is a truth state variable;

Carry out Resuming:
	if EndTheJourney is true:
		Now player is in Center of the Quad;
		now EndTheJourney is false;
		stop the action;
	else:
		say "There's no need to RESUME the game while you are still playing it.";
		stop the action.



PART 2 --  STATUS REGIONS and ENDINGS

[Every ending in the campus has a Flag, called EndingsFound, to record if it is complete or incomplete. Since we want to show the player a list of endings completed (or incompleted, if we are kind), we need to index them. The following code creates that index. ]

RegionalLoc is a text that varies. RegionalLoc is "Main Quad"

Table of Endings
Ending	RegionLoc
LostStacks	"Central Campus"
OpeningInfinity 	"Central Campus"
ZombieDevours 	"Central Campus"
MadeHistory 	"Central Campus"
SelfDefeat 	"Central Campus"
EatenbyGrues	"Central Campus"
InDeepShit	"Central Campus"
CaffeineWithdrawal	"Central Campus"
AbductedByAliens	"Central Campus"
PandoraWrapped 	"Main Quad"
PoisonedByLeftovers 	"Main Quad"
PreacherCorrupted 	"Main Quad"
DevouredByDark 	"Main Quad"
FashionDisaster	"Main Quad"
HelpedGhost	"Main Quad"
DrownedByGhost	"Main Quad"
FeltLikeFlying	"Main Quad"
EduardoHurt 	"Main Quad"
EduardoHelp 	"Main Quad"
HitGround 	"Main Quad"
TitanicDefeat 	"North East Campus"
DestroyedWorld 	"North East Campus"
GradAttack	"North East Campus"
JerkedAround 	"North East Campus"
KranVic	"East Campus"
FilledHall 	"East Campus"
WastedAgain	"East Campus"
DustPiled	"East Campus"
FatalBounce 	"South East Campus"
MadeChoice 	"South East Campus"
SurviveStorm 	"South East Campus"
OrangeCrush	"South East Campus"
ExplodingDome	"South East Campus"
MindYourManners	"South East Campus"
NymphEducated	"South East Campus"
FishFried	"South East Campus"
DidNotRead 	"South Campus"
EarnedAttention 	"South Campus"
FairWarning 	"South Campus"
NewYou 	"South Campus"
CircusEnd	"South Campus"
FellToDeath	"South Campus"
DiedByDonut	"South Campus"
GoInsane 	"Southwest Campus"
PackRat 	"Southwest Campus"
GoingToJail 	"Southwest Campus"
BadPerson 	"Southwest Campus"
TightSqueeze 	"Southwest Campus"
DealWithFailure 	"Southwest Campus"
KilledByGabe	"Southwest Campus"
ThingsAtHand 	"West Campus"
FratPin 	"West Campus"
KilledByAmazon	"West Campus"
NoGoodDeed	"West Campus"
FoolBorn 	"Northwest Campus"
BetterThanBagels 	"North Campus"
BigBoom 	"North Campus"
BadSurprise 	"North Campus"
DrinkingProblem 	"North Campus"
StaredStupidly	"North Campus"
SelfDriveSpace	"North Campus"
ChocolateCloset	"North Campus"


An EndingsFound is a kind of thing.
An EndingsFound can be Incompleted or Completed. An EndingsFound is usually Incompleted.

CurrentEnding is an EndingsFound that varies.
CurrentEnding is NoEnding.

NoEnding is an EndingsFound.

AbductedbyAliens is an Endingsfound. The printed name of AbductedbyAliens is "Were Abducted by Aliens".
DestroyedWorld is an EndingsFound. The printed name of DestroyedWorld is "Destroyed the World."
DevouredByDark is an EndingsFound. The printed name of DevouredByDark is "Fell into Darkness".
DiedByDonut is an EndingsFound. The printed name of DiedByDonut is "Died by Donut".
DustPiled is an Endingsfound. the printed name of DustPiled is "Pestered the Robots".
FishFried is an EndingsFound. The printed name of FishFried is "Became a Fish."
JerkedAround is an EndingsFound. The printed name of JerkedAround is "Shouldn't have Eaten the Jerky".
LostStacks is an EndingsFound.  The printed name of LostStacks is "Lost Yourself".
NymphEducated is an Endingsfound. The printed name of NymphEducated is "Annoyed a Nymph".
OpeningInfinity is an EndingsFound. The printed name of OpeningInfinity is "Achieved Enlightenment".
PandoraWrapped is an EndingsFound. The printed name of PandoraWrapped is "Refilled Pandora's Box".
PoisonedByLeftovers is an EndingsFound. The printed name of PoisonedByLeftovers is "Scrounged Unwisely".
PreacherCorrupted is an EndingsFound. The printed name of PreacherCorrupted is "Corrupted a Preacher".
TitanicDefeat is an EndingsFound. The printed name of TitanicDefeat is "Died in Battle."
KranVic is an EndingsFound. The printed name of KranVic is "Achieved Some Peace".
FilledHall is an EndingsFound. The printed name of FilledHall is "Filled the Hall".
FatalBounce is an EndingsFound. The printed name of FatalBounce is "Aggravated the Bouncer."
MadeChoice is an EndingsFound. the printed name of MadeChoice is "Contemplated Being Evil."
MadeHistory is an EndingsFound. The printed name of MadeHistory is "Made UIUC History".
SurviveStorm is an EndingsFound. the printed name of SurviveStorm is "Survived the Storm".
DidNotRead is an EndingsFound. The printed name of DidNotRead is "Did Not Read the Room Description".
EarnedAttention is an EndingsFound. The printed name of EarnedAttention is "Earned Jeff's  Attention".
FairWarning is an EndingsFound. The printed name of FairWarning is "Ignored a Fair Warning".
NewYou is an EndingsFound. The printed name of NewYou is "Installed some Upgrades".
GoInsane is an EndingsFound. The printed name of GoInsane is "Reminisced with a Vacuum".
PackRat is an EndingsFound.  The printed name of PackRat is "Repurposed an Old Tool".
GoingToJail is an EndingsFound. The printed name of GoingToJail is "Became a Parolee".
BadPerson is an EndingsFound. The printed name of BadPerson is "Proved Yourself to be a Jerk".
TightSqueeze is an EndingsFound. The printed name of TightSqueeze is "Flattened Remarkably".
DealWithFailure is an EndingsFound. The printed name of DealWithFailure is "Dealt with Feelings of Failure".
FoolBorn is an EndingsFound. The printed name of FoolBorn is "Let Yourself Be Played".
ThingsAtHand is an EndingsFound. The printed name of ThingsAtHand is "Used What was at Hand".
FratPin is an EndingsFound. The printed name of FratPin is "Reminisced Someone Else's Memories".
BetterThanBagels is an EndingsFound. The printed name of BetterThanBagels is "Became someone's Lunch".
SelfDefeat is an EndingsFound. The printed name of SelfDefeat is "Gave Up".
DrinkingProblem is an EndingsFound. The printed name of DrinkingProblem is "Made a Bad Call".
BadSurprise is an EndingsFound. The printed name of BadSurprise is "Surprised from Above".
BigBoom is an EndingsFound. The printed name of BigBoom is "Walked Too Slow".
OrangeCrush is an EndingsFound. The printed name of OrangeCrush is "Shouldn't Have Crushed the Orange".
EatenByGrues is an EndingsFound. The printed name of EatenByGrue is "Were Eaten by a Grue".
FashionDisaster is an EndingsFound. The printed name of FashionDisaster is "Are a Fashion Disaster".
HelpedGhost is an EndingsFound. The printed name of HelpedGhost is "Liberated the Drowned".
DrownedByGhost is an EndingsFound. The printed name of DrownedByGhost is "Drowned Standing Up".
KilledByAmazon is an EndingsFound. The printed name of KilledByAmazon is "Were Defeated by a Corporate Giant".
NoGoodDeed is an EndingsFound. The printed name of NoGoodDeed is "Did a Good Deed".
WastedAgain is an EndingsFound. The printed name of WastedAgain is "Wasted Your Life".
ExplodingDome is an EndingsFound. The printed name of ExplodingDome is "Blew Up Champaign-Urbana".
CircusEnd is an EndingsFound. The printed name of CircusEnd is "Joined the Circus".
GradAttack is an EndingsFound. The printed name of GradAttack is "Pushed a Grad Student Too Far".
StaredStupidly is an EndingsFound. The printed name of StaredStupidly is "Neglected to Run Away".
FellToDeath is an EndingsFound. The printed name of FellToDeath is "Fell to Your Death".
KilledByGabe is an EndingsFound. The printed name of KilledByGabe is "Were Killed by Gabe".
MindYourManners is an EndingsFound. The printed name of MindYourManners is "Were Rude to the Narrator".
CaffeineWithdrawal is an EndingsFound. The printed name of CaffeineWithdrawal is "Required Caffeine".
FeltLikeFlying is an EndingsFound. The printed name of FeltLikeFlying is "Were Flying for a Minute There".
InDeepShit is an EndingsFound. The printed name of InDeepShit is "Were in Deep Shit".
ZombieDevours is an EndingsFound. The printed name of ZombieDevours is "Nourished a Zombie".
EduardoHurt is an EndingsFound. The printed name of EduardoHurt is "Messed With the Wrong Crime Boss". 
EduardoHelp is an EndingsFound. The printed name of EduardoHelp is "Formed a Strong Connection".
HitGround is an EndingsFound. The printed name of HitGround is "Hit the Ground Too Hard". 
SelfDriveSpace is an EndingsFound. The printed name of SelfDriveSpace is "Self Drive to Space".
ChocolateCloset is an EndingsFound. The printed name of ChocolateCloset is "Ate Way Too Much Chocolate".
SpellNoNotebook is an EndingsFound. The printed name of SpellNoNotebook is "Cast a Gibberish Spell".
SpellNoAlteredDirect is an EndingsFound. The printed name of SpellNoAlteredDirect is "Atomized the Earth Among a Million Universes".
SpellAlteredDirect is an EndingsFound. The printed name of SpellAlteredDirect is "Violated the Pauli Exclusion Principle".
SpellNoAlteredReversed is an EndingsFound. The printed name of SpellNoAlteredReversed is "Went to Purdon't".
SpellAlteredReversed is an EndingsFound. The printed name of SpellAlteredReversed is "Attained Ultimate Happiness".



StatusDisplaying is an action applying to nothing. Understand "Status " as StatusDisplaying.
Carry out StatusDisplaying:
	Let N be number of EndingsFound minus 1;
	if NumberOfEndings is 0:
		say "[bold type]You have not yet discovered any endings to the Quad Game. There are currently [N] possible outcomes, across 11 game regions.";
	else:
		say "[bold type]You have completed [NumberOfEndings] of [N] possible endings. Specifically, you: [line break]";
		repeat through the Table of Endings:
			let E be ending Entry;
			if E is completed:
				say "     [italic type][ending entry][line break]";
	say "[line break][bold type]You have photographed [number of snapped squirrelpersons] of [number of squirrelpersons] squirrels. You have photographed [number of snapped photogenic things] of [number of photogenic things] photogenic curiosities. [run paragraph on] ";
	if number of snapped photogenic things is greater than 0:
		say "So far you have captured:[line break]";
		repeat with X running through snapped photogenic things:
			if X is not a volunteer:
				say "     [italic type][X][line break]";
	say "[line break]".

EndingListing is an action applying to nothing. Understand "List Endings" and "show endings" as EndingListing.

SawList is a truth state variable. SawList is false.

Carry out EndingListing:
	say "The command STATUS will provide a list of the endings you have found, and how many are left to be found.[line break][bold type]These are the names and locations of all Quad Game Endings[paragraph break]";
	repeat through the Table of Endings:
		say "[bold type][RegionLoc entry]: ";
[		say "[italic type][ending entry][run paragraph on] "; ]
		say "[italic type][ending entry][line break] ";
		if ending entry is completed:
			say "(Completed)";
			say "[line break]."

BOOK 2 - META-INFORMATION

PART 1 - CREDITS

CreditsDisplaying is an action applying to nothing. Understand "credits" as CreditsDisplaying.

Carry out CreditsDisplaying:
	say "The Quad Game is a collaboratively authored, on-going work of Interactive Fiction written by students in INFO 490: 'Design and Programming of Interactive Fiction,' a course offered by professor Judith Pintar at the University of Illinois at Urbana-Champaign. [paragraph break]
The original map was created in Fall 2015 by Antoine DeJong, Saadia Gaon, William Gillespie, Joseph Ha, Amanda Kim, Michael Kopera, Yang Lu, Ethan Madarieta, Melisa Puthenmadom, Andrew Simpson, Morgan Wang, and Seri Wang.[paragraph break]
Contributions were made in Fall 2016 by Jose Beserra, Jemma Briggeman, Krystal Cooper, Aidan Epstein, Jovan Geary, Brian Guerrero, Kenneth Hau, Justin Leonchik, Marie Liu, Sarah Lord, Luke Oprondek, and Peter Wukitsch.[paragraph break]
Contributions were made in Fall 2017 by Aki Akhauri, Emma Basdeckis, Charles Chandra, Raymond Cheng, Ambika Dubey, Jacob Evins, Collin Hasken, Andrew Holler, Brock Judson, Mehmet Kurt, Nicholas Magana, Jorge Rojas Alvarez, Salvador Sarmiento, Arvind Subramanian Anandhanarayanan, Kavya Varghese, Alexis Kim, Dylan San Roman, and Rebecca Whalen.  [paragraph break]
Contributions were made in Fall 2018 by Andrew Szelina, Chris Kovac, Federico Hernandez Nater, Jean-Luc Belous, Emily Wielbik, Jack Ducham, Seo-Hee Choi, Clover Gao, Jesse Wydrinski, Michael Dentino, Sara Berlowe, Angel Heredia, Jacob Theobald, Theo Grant, Dean Sfondilias, Denzel Pfeifer, Bernardo Vargas, Phillip Lovetere,  and Vanessa Willes. [paragraph break]The World Squirrel Game Module was written in Spring 2019 by Chris Kovac, with contributions by Chase Duncan, Victoria Lieggi, and Alexis Kim. [paragraph break]
Contributions were made in Fall 2019 by Mackenzie Cooper, Zoe Moersch, Victoria Schmitz, Chester Wilson, Rebecca Xun, Andy Fung, Garima Gupta, Nancy Hong, Aidan Huddleston, Edgar Madrigal, Carson McCall, Het Patel, Abdul Qaddour, Gabriel Rodriguez, Brandon Rylicki, Jonah Toch, and Wally West.[paragraph break]
Contributions were made in Fall 2022 by Jaden Alcantara, Jaritt Catellier, Jake Cumberland, Kate Ebes, Alan Hou, Edrian Hu, Xinui Hu, Yichen Huang, M. Landon, Yangze Liu, Kacper Sobotka, and Yifan Yin. [paragraph break]
Amanda Kim, Brian Guerrero, Alexis Kim, Christopher Kovac and Justin Malone made extended contributions to the game beyond the bounds of the classroom through the years."

Part 2 Leafs and Credits

leafpile is a fixed in place container.
leafpile is in Armory North. "There's a leafpile on the ground here, as though someone raked them there intentionally."
Description of leafpile is "It looks like this leafpile needs a few more leaves before you can really jump into it."

understand "leaf pile", "pile","pile of leaves" and "leaves" as leafpile.

QuadLeaf is a fallenleaf in Grassy Spot. "You notice on the ground an unnaturally blue and orange leaf." 
The description of  the QuadLeaf is "As you examine the strange leaf, you hear the letters I-L-L being chanted in your mind, followed by I-N-I. You wonder if you're going crazy."
Understand "leaf","Leaf", and "Orange blue leaf", "quad leaf", "quadleaf" as QuadLeaf.
The printed name of QuadLeaf is "quad leaf". 

EnglishLeaf is a fallenleaf in English Classroom. "A great brown leaf is lying on the floor." The description of the EnglishLeaf is "The leaf looks important. You wonder how it got in here." 
Understand "leaf","Leaf", and "brown leaf", "english leaf" as EnglishLeaf.
The printed name of EnglishLeaf is "brown leaf".

MainLibraryLeaf is a fallenleaf in MainLibraryRoof. "A leaf is lying here, all by itself, on the ground." 
The description of  MainLibraryLeaf is "It looks like a watercolor painting of oranges, yellows, and greens." 
Understand "leaf", "Leaf", "watercolor leaf", and "colorful leaf" as  MainLibraryLeaf.
The printed name of MainLibraryLeaf is "colorful leaf".

RedLeaf is a fallenleaf in IceRink. "Your eye is caught by a leaf, bright red against the whiteness of the ice." 
The description of  RedLeaf is "The leaf is bright and crisp, its red color is striking. It makes you sigh, thinking of the inevitability of the changing seasons. That's probably why you love the ice rink. It's always winter here."

Understand "red leaf" and "leaf" as  RedLeaf.
The printed name of RedLeaf is "Red Leaf".

AbstractLeaf is a fallenleaf in ArtDesignBuilding. "You come across a leaf that looks like it belongs in a gallery." 
The description of AbstrasctLeaf is "It has such a ‘je ne sais quoi’ to it that’s quite fascinating. When you angle it in a certain way, the gold really sparkles in the warm light. You can definitely feel the tree’s inner turmoil as they worked on this composition and the craftsmanship is impeccable, it really shows influences of Picasso. Remarkable."
Understand "Abstract Leaf" and "artsy leaf" and "pretencious leaf" as  AbstractLeaf.
The printed name of AbstractLeaf is "abstract ;eaf".

TurtleLeaf is a fallenleaf in ArborOakGrove. "A strangely-shaped leaf is lying here."
The description of TurtleLeaf is "Oh dear. It looks like this leaf has had a couple bites taken out of it by a turtle."
Understand "leaf" and "Leaf" and "turtle leaf" and "partially eaten leaf" as TurtleLeaf.
The printed name of TurtleLeaf is "partially eaten leaf".

JohnParkingLeaf is a fallenleaf in John Street Parking. "A crumpled leaf lies here." 
The description of JohnParkingLeaf is "It looks sad, as if it has been trampled on by many a pedestrian."
Understand "leaf" and "crumpled leaf" and "parking leaf" as JohnParkingLeaf.
The printed name of JohnParkingLeaf is "crumpled leaf".

InvisibleLeaf is a fallenleaf in GraingerCourtyard. "You notice the faint outline of a leaf on the ground." 
The description of  InvisibleLeaf is  "Almost magically, this leaf blends into its surroundings."
Understand "leaf","invisible leaf","Invisible Leaf" as InvisibleLeaf.
The printed name of InvisibleLeaf is "invisible leaf".

a goldenrod Leaf is a fallenleaf in ArtDesignWestEntry1F. The description of  Goldenrod Leaf is "A shimmering yellow leaf is lying on the ground. It isn't particularly dried out yet, the stem of it still holding some flexibility."

Understand "gold leaf" and "golden leaf" and "shimmering leaf" as  Goldenrod Leaf.
The printed name of Goldenrod Leaf is "golden leaf".

a decrepit leaf is a fallenleaf in Goodwin Apartments. "You spot a decrepit leaf on the ground." 
The description of decrepit leaf is "It seems like it would break even with the lightest of touches."
Understand "leaf", "Leaf", and "decrepitleaf" and "Decrepit Leaf" as decrepit leaf.
The printed name of decrepit Leaf is "decrepit leaf".

a CampusTourLeaf is a fallenleaf in Alice Campbell Alumni Center. "You spot a blue and orange leaf on the ground." 
The description of CampusTourLeaf is "It's not clear what tree this leaf could have fallen from.."
Understand "leaf", "Leaf", and "blue and orange leaf" and "blue leaf" as CampusTourLeaf.
The printed name of CampusTourLeaf is "colorful leaf".

instead of examining leaf: 
	if EnglishLeaf is in leafpile :
		say "Maker of the leaf code  - Andy Fung 2019";
	if QuadLeaf is in leafpile :
		say "You found the credits pile, go around the Quad game and find the other leaves, put them here and they will reveal all of those who worked on this game  from past to present. ∞";
	if RedLeaf is in leafpile :
		say "'When I Grow Up I Wanna Be Famous~Pussycat Dolls'- Chester Wilson III Sophmore 2019.";
	if AbstractLeaf is in leafpile :
		say "Remember to support your local artists! - Edgar Madrigal 2019.";
	if TurtleLeaf is in leafpile :
		say "There are some animals to befriend in the game - Nancy Hong 2019.";
	if JohnParkingLeaf is in leafpile:
		say "You found this leaf near a parking garage? You should have been looking for your car! - Zoe Moersch 2019";
	if InvisibleLeaf is in leafpile :
		say "Sometimes it's a little harder to be seen. Thank you for looking. - Wally West 2019.";
	if MainLibraryLeaf is in leafpile :
		say "You find the clue, time to raise the roof, violets are blue, and dogs go woof - Garima 2019.";
	if Goldenrod Leaf is in leafpile :
		say "Oh ho ho? Can you predict the future? No? Well I can. And I'm just a leaf. - Gabriel Rodriguez - 2019.";
	if AbstractLeaf is in leafpile :
		say "You must a real artistic eye if you picked this leaf up. Remember to support your local artists! - Edgar Madrigal 2019.";
	if decrepit leaf is in leafpile:
		say "You found the credits pile, nice job. That's better than I ever could have done. Keep going around the Quad game to find everyone else who has contributed to this game. - Jonah Toch 2019"; 
	if CampusTourLeaf is in leafpile:
		say "Faithfully guiding your tour of campus! – Justin Malone, Spring 2020.";
	else:
		continue the action.
	
instead of entering leafpile:
	say "You take a running jump and land in the leafpile. ";
	if number of fallenleafs in leafpile is less than 10:
		say "Ouch, not enough leafs in the pile yet!";
		stop the action;
	else: 
		say "You cannon ball into the leaf pile, and the leaves scatter. From the ground, each leaf looks different than it did before.";
		now player is in leafpile.
		
[

To add more fallenLeafs in the future follow the template below - Andy Fung 2019

[LeafName]Leaf is a fallenleaf in [location]. The description of  [LeafName]Leaf is "[appearance description of leaf]"
Understand "[alternate leaf names]" as  [LeafName]Leaf.
The printed name of [LeafName] is "[Print Name]".

instead of examining leaf in leafpile:
if [LeafName]Leaf is in leafpile :
	   say "[short quote or personal credit you want to write for player] - [Name][Year].";

]

	



BOOK 3 -- IDEAS IN DEVELOPMENT

PART 1 - A Quest Hub System

PART 2 - Hint System 

RequestingHelp is an action applying to nothing. Understand "Help" and "Hint" as RequestingHelp.

[the intermezzo cafe part should go into an instead rule -- needs a default check and carry out]

Carry out RequestingHelp:
	if player is in intermezzo cafe:
		say "There's something on the counter that might help you go east.";
		stop the action;
	[any room can have a context sensitive hint]
	else:
		say "[bold type]EXAMINE (X) [roman type]things listed in room descriptions and [bold type]TAKE [roman type]whatever you can.[line break]
	 [bold type]INVENTORY (I) [roman type]shows you what you are carrying.[line break]
	 [bold type]LOOK (L) [roman type]helps you to recall where you are.[line break]
	[bold type]GO NORTH (N), SOUTHEAST (SE) ... UP, DOWN, IN, and OUT[roman type]to move around the map.[line break]
	 [bold type]WAY [roman type]provides a list of available directions in any location.[line break]
	 [bold type]TALK TO [roman type]anyone you meet and [bold type]ASK [roman type]them [bold type]ABOUT [roman type]topics they are likely to no something about.[line break]
	[bold type]SNAP [roman type](or [bold type]TAKE A PHOTOGRAPH OF [roman type]) whatever seems photogenic. You can [bold type]CHECK PICS[roman type] to see what you've captured. [line break]
	[bold type]SNAP [roman type](or [bold type]TAKE A PHOTOGRAPH OF [roman type]) whatever seems photogenic. You can [bold type]CHECK PICS[roman type] to see what you've captured. [line break]

	[bold type]ATTACK[roman type] anything that might reasonably hurt you[line break] or [bold type]ATTACK [roman type]a villain [bold type]WITH [roman type]whatever weapon you might have at hand.
	 [bold type]HELP [roman type]will repeat these instructions and occasionally give strategic aid.[line break]
	 [bold type]CREDITS [roman type]will give credit where credit is due. [line break]
	 Finally, don't forget to [bold type]SAVE [roman type]your game before you [bold type]QUIT[roman type] or your progress will be lost!"
	

PART 3 -  A Means to Direct Player to Endings

[A random event when outside that directs the player to locations with decent enough games and endings in them.]

Every turn when the location of the player is outdoor:
	If a random chance of 1 in 500 succeeds:
		choose a random row in Table of Findable Games;
		say "A random student walks by and whispers [Words entry] " ;


Table of Findable Games
Words
"'I'm heading to the basement of the Y. I heard there's a party going on.'[line break]"
"'Some clowns walk into the Stock Pavilion, do you think there's a circus going on there?'[line break]"
"'There's a great play in Krannert. You should try going there sometime.'[line break]"
"'There's great coffee over at Siebel! The students there were acting a little wierd tho, wonder what's up with them?'[line break]"
"'Be careful when you go to the main library, you could get lost.'[line break]"
"'You won't live much longer past today, so enjoy what time you have left.'[line break]"[reference to the Mine ending]
"'Be careful in the MechE lab. Some reports say theres some kinda shadow there.'[line break]"
"'Reportedly there's a killer in Grainger. Perhaps you could catch them?'[line break] "
"'Some folks say they could hear a dog in the bookstore. That seems pretty odd.'[line break]"
"'They say the iSchool used to be home to some fraternities long ago.  Some people also say legends never die.'[line break]"
"'I've heard there's a haunted bathroom in Flagg Hall. I'd check it out, but I'm too scared.'[line break]"
"'A troll has been spotted in David Kinley Hall. Are you capable of slaying such a beast?'[Line Break]"
"'The Fablab always has a bunch of fun gadgets to play around with. You should check it out!'[Line Break]"
"'PAR might have better food, but FAR's got it going on. Some people say they might have seen some men in black there.'[Line Break]"
"'There's some neat poetry near the Japan House, people say.'[Line break]"
"'Make sure to always be in good health. Some people say there's Vampires in McKinley'[Line break]"
"'In the mood for some good tunes? Head on by to the Canopy Club!'[Line break]"
"'People have been saying the nuclear engineering kids have had too much time on their hands. Leads to dark thoughts.'[Line Break]"

VOLUME 14 - Seasonal or Archived Game Modules

Book 1 - Saving the World Squirrel

Part 1 - May Pole 

[The May Pole appears in SouthEndSouthQuad when Spring begins.]

a May Pole is a supporter. "A twenty foot tall pole is planted at the center of the field.[if WorldSquirrel is in the location]  Looking up, you can see a small grey squirrel sitting at the very top."

NumberOfRibbons is a number variable. NumberOfRibbons is 0.

The description of a May Pole is "[MayPoleRibbons][run paragraph on] ".
MayPoleDancing is a truth state variable.

To say MayPoleRibbons:
	if NumberOfRibbons is greater than 9:
		if MayPoleDancing is false:
			say "The ribbons on the pole -- which you understand now to be a May Pole, are whirling around seemingly under their own power. They are braiding and unbraiding themselves in an insane fashion, shooting off sparks as they collide. You hear the sound of a penny whistle on the wind, and you find yourself beginning to spontaneosly prance around the pole, doing something which would undoubtedly strike observers as a crazy cross between Ukrainian Hopak, K-pop hip hop and a Highland Fling. The World Squirrel claps appreciatively and shouts down to you 'Congratulations! You have found my memories!";
			now MayPoleDancing is true;
			stop the action;
		else:
			say "The Maypole is in a state of crazy ribbon winding delight. The squirrel is swinging from one ribbon to another, and singing some squirrely song at the top of its lungs. Thank you for returning my memories to me!";
			stop the action;
	if NumberOfRibbons is 0:
		say "The pole seems to be made of wood. It is perfectly smooth from top to bottom. Oddly, there is no base at all, holding it into place. It looks like it just grew straight up out of the ground. ";
	else if NumberOfRibbons is 1:
		say "A lone ribbon has been attached to the very top of the pole. It is fluttering in the wind. ";
	else if NumberOfRibbons is greater than 1:
		say "From the top of the pole, [NumberOfRibbons in words] ribbons are attached and fluttering in the wind. ";
	else:
		say "[line break]";
	if WorldSquirrel is in SouthEndSouthQuad:
		say "There is a squirrel on top of it.";
		stop the action;
	else:
		say "[line break]".

a MayDayRibbon is a kind of thing.  A MayDayRibbon is scenery.

some fluttering ribbons is part of May Pole. 
the description of some fluttering ribbons is "Ribbons on may poles are typically attached at the top, so they can wind around them."

Spurlock ribbon is a MayDayRibbon. The description of Spurlock ribbon is "As the ribbon winds itself around the pole, it sounds like rolling dice. As the wind unwinds it again, it sounds like crickets chirping."

Altgeld ribbon is a MayDayRibbon. The description of Altgeld ribbon is "As the ribbon winds itself around the pole, it sounds like ringing bells."

Grainger ribbon is a MayDayRibbon. The description of Grainger ribbon is "As the ribbon winds itself around the pole, it sounds like a soft 'shh'."

ACES ribbon is a MayDayRibbon. The description of ACES ribbon is "As the ribbon winds itself around the pole, it sounds like a page being flipped."
Understand "ribbons" as ACES ribbon.

Art Design ribbon is a MayDayRibbon. The description of Art Design ribbon is "As the ribbon winds itself around the pole, it appears like a brush stroke on a canvas."
Understand "ribbons" as Art Design ribbon.

Union ribbon is a MayDayRibbon. The description of Union ribbon is "As the ribbon winds itself around the pole, the air around you suddenly smells like pretzels."
Understand "ribbons" as Union ribbon.

Fab Lab ribbon is a MayDayRibbon. The description of Fab Lab ribbon is "As the ribbon winds itself around the pole, it appears as though it is being printed."
Understand "ribbons" as Fab Lab ribbon.

Siebel ribbon is a MayDayRibbon. The description of Siebel ribbon is "As the ribbon winds itself around the pole, you hear the typing of a keyboard."
Understand "ribbons" as Siebel ribbon.

Armory ribbon is a MayDayRibbon. The description of Armory ribbon is "As the ribbon winds itself around the pole, you feel like you are in another world."
Understand "ribbons" as Armory ribbon.

Lincoln ribbon is a MayDayRibbon. The description of Lincoln ribbon is "As the ribbon winds itself around the pole, you cannot help but stand still."
Understand "ribbons" as Lincoln ribbon.

Morrow Plots ribbon is a MayDayRibbon. The description of Morrow Plots ribbon is "As the ribbon winds itself around the pole, you feel connected to the earth beneath you. As it unwinds again, it lets off the scent of fresh corn."
Understand "ribbons" as Morrow Plots ribbon.


Part 2 - World Squirrel

[WorldSquirrel defined in squirrel section ]


SquirrelConversing is a truth state variable. SquirrelConversing is false.
	
WaitingForYou is a truth state variable.

Instead of examining the WorldSquirrel:
	if WaitingForYou is false: 
		say "It looks pretty much like all the other little gray squirrels across campus. Except that this one is sitting on the top of a pole looking at you with an intent expression on its face. It's almost like it's waiting for you.";
		now WaitingforYou is true;
		stop the action;
	else:
		continue the action.


SquirrelIntroduction is a number variable. SquirrelIntroduction is 0.

Instead of talking to WorldSquirrel when SquirrelIntroduction is 0:
	say "The squirrel runs down the tree and nearly gives you a heart attack by jumping onto your head. 'I can hear you better this way,' it whispers into your ear. 'What? Who am I? You don’t know? But you see me everywhere! I am the World Squirrel, steward of the Spirit of the University, a gestalt of memories that students, professors, researchers, staff, and visitors have made here over the years. It’s my job to keep those memories safe. I stuff them into acorns, hiding them until they are absorbed fully into the Spirit of the University. Being a squirrel, sometimes I forget where I hide acorns. That’s why I made the memory map, to help me keep track.'";
	now SquirrelIntroduction is 1.

After reading a command when SquirrelIntroduction is 1:
	say "The World Squirrel looks disheartened. 'While I was gardening the other day, or maybe I was reading – okay – while I was digging through the garbage, someone stole my memory map! If I don’t find the lost acorns, the memories they hold will fade into oblivion, and the Spirit of the University will weaken in its eternal fight against the Darkness from Below! Don’t ask me about the D-f-B. I don’t want to think about it and you don’t want to know. Did you just feel that little quake underneath your feet? The D-f-B is down there waiting for its chance to destroy us. One of its agents must have stolen my map!'";
	increment SquirrelIntroduction;
	stop the action.

After reading a command when SquirrelIntroduction is 2:
	say "Fortunately, there is hope – if you choose to help me. I hid the acorns near special objects and places across the campus. I also wrote some limericks. Why limericks? Well, it’s no different from when you forget your password and are asked to recall the name of your childhood pet cricket to get it back. I mean, seriously, it was only alive for a couple of weeks, how are you supposed to remember that? Hmm, that reminds of something. Oh well, it’s gone again! Here are the poems I wrote. Maybe you can figure out what they mean:";
	say "[line break][line break][Lines in row 1 of the Table of Limericks]";
	say "[line break]If you’re clever, these should help you locate three special objects hidden somewhere in Spurlock Museum. If you find all three at Spurlock, you will receive a Memory Code that will allow me to retrieve a lost memory! If you'd like to head over to Spurlock right away, be sure to be polite and say goodbye!";
	increment SquirrelIntroduction;
	now SquirrelConversing is true;
	stop the action.

Table of Limericks
Triggerword		Lines
SpurlockReferences	"On my sides are the decoration,[line break]
					Of the tools for enumeration,[line break]
					If chance is your joy,[line break]
					Then I am your toy,[line break]
					For thrilling, nail-biting recreation.[paragraph break]
					Strategy and skill is how you play this game,[line break]
					Conquering the other kingdom is the aim,[line break]
					The rulers are powerful pieces,[line break]
					Take them and the enemy's power decreases,[line break]
					In the renaissance of the mind this sport has fame.[paragraph break]
					A little black thing am I,[line break]
					Watch me leaping from earth to sky,[line break]
					Chirp, chirp is what I say,[line break]
					But only at night – I sleep in the day,[line break]
					In some places, they eat me fried![line break]"
AltgeldReferences			"In 1897 I was the University's original library, [line break]
					The many years of additions functioned temporarily,[line break]
					In 1927 I was occupied by the School of Law,[line break]
					My castle-like structure leaves students in awe,[line break]
					My most recent tenant is the Mathematics Library.[line break]"
GraingerReferences		"Commonly known as 'Bob', but that's not my real name,[line break]
					I sit on a bench and always look the same,[line break]
					Forever I sit in front of the library of engineering,[line break]
					I represent the students here who are persevering,[line break]
					'The Future' is a book to which I always have a claim.[line break]"
ACESReferences		"Venture now to the octagonal library, [line break]
					In this location there is plenty of information about the prairie,[line break]
					Here they focus on corn, the environment, and agriculture,[line break]
					These topics are a big part of Midwest culture,[line break]
					This library is dedicated to a funky family who is legendary[line break]"
ArtDesignReferences	"Find the next memory in the building of design and art,[line break]
							Here you will learn a lot about the color chart,[line break]
							Wander to the place where announcements are stored,[line break]
							On the east side you'll find the bulletin board,[line break]
							Appreciate the creativity produced by these students, then depart.[line break]"
UnionReferences			"This building is a multi-purpose facility,[line break]
						Groups can gather here or sit alone for some tranquility,[line break]
						Find this memory near the tanks with fish,[line break]
						Then grab a pretzel or pizza as a mid-adventure dish,[line break]
						You can explore this place of union that is meant for public utility.[line break]"
FabLabReferences		"By the South Quad in a laboratory,[line break]
					I print in the way that you see,[line break]
					Green, red, blue and white,[line break]
					On the door of my site,[line break]
					Let’s make in the plane of z.[line break]"
SiebelReferences	"My name comes from ancient Greece,[line break]
					I display colors with microfiche,[line break]
					I have many operations,[line break]
					For games and education,[line break]
					Computer science made me in the 70s.[line break]"
ArmoryReferences			"I make a world you can see but not feel,[line break]
					Although it may be close it is not real,[line break]
					Like from science fiction,[line break]
					If escape is you predilection,[line break]
					There’s virtually no place I can’t reveal.[line break]"
LincolnReferences	"You reside in the land from which I come,[line break]
					Walt called me captain when our fearful trip was done,[line break]
					Upon my bronze bust you will find,[line break]
					Memories of a certain kind,[line break]
					To help your squirrel friend on his mission.[line break]"
MorrowPlotsReferences	"Beneath the sun I am the oldest experiment of my kind,[line break]
					I showed soil is what matters if produce is on your mind,[line break]
					An unexpected plot,[line break]
					Among buildings and lots,[line break]
					East of the UGL it is me you will find.[line break]"


Instead of talking to WorldSquirrel when SquirrelIntroduction is greater than 2:
	if the WorldSquirrel is not on the May Pole and the WorldSquirrel is not in the location:
		say "The World Squirrel seems to have wandered away from the May Pole.";
		stop the action;
	if the WorldSquirrel is in SouthEndSouthQuad:
		say "The squirrel runs down the pole and nearly gives you a heart attack by jumping onto your head. 'I can hear you better this way,' it whispers into your ear.' Would you like to have a conversation?";
	else:
		say "The World Squirrel jumps onto your shoulder and whispers in your ear, 'Would you like to have a conversation?'";
	if player consents:
		say "The World Squirrel digs its little claws into your shoulder enthusiastically. 'Yes, let's talk! You can speak to me normally, as you would to any human. Just say 'bye' when you're done.'";
		now SquirrelConversing is true;
	else:
		say "'Okay then, suit yourself,' the World Squirrel says, before leaping back on to the pole and scurrying way back up to the top."

Triggerword is a kind of value.


Instead of asking the WorldSquirrel about something:
	chat away.

Instead of interrogating the WorldSquirrel about something:
	chat away.


Limerick is a Triggerword.
Understand "limerick" and "limericks" as Limerick.

ClueQuery is a Triggerword.
Understand "help" and "clue" and "where is" and "target image" and "AR game" as ClueQuery.

CodeQuery is a Triggerword.
Understand "memory code" and "code" and "memory" as CodeQuery.

SpurlockCode is a Triggerword.
Understand "crickets" as SpurlockCode.

SpurlockReferences is a Triggerword.
Understand "Spurlock" and "Museum" as SpurlockReferences.

AltgeldCode is a Triggerword.
Understand "snail mail" as AltgeldCode.

AltgeldReferences is a Triggerword.
Understand "altgeld" and "math" as AltgeldReferences.

GraingerCode is a Triggerword.
Understand "Bob" as GraingerCode.

GraingerReferences is a Triggerword.
Understand "Grainger" and "engineering" as GraingerReferences.

ACESCode is a Triggerword.
Understand "Funky" as ACESCode.

ACESReferences is a Triggerword.
Understand "ACES" as ACESReferences.

ArtDesignCode is a Triggerword.
Understand "Artsy" as ArtDesignCode.

ArtDesignReferences is a Triggerword.
Understand "Art" and "Design" as ArtDesignReferences.

UnionCode is a Triggerword.
Understand "next stop" as UnionCode.

UnionReferences is a Triggerword.
Understand "Union" as UnionReferences.

FabLabCode is a Triggerword.
Understand "3D print" as FabLabCode.

FabLabReferences is a Triggerword.
Understand "Fab lab" and "fablab" as FabLabReferences.

SiebelCode is a Triggerword.
Understand "Papyri" as SiebelCode.

SiebelReferences is a Triggerword.
Understand "Plato" and "terminal" and "Siebel" as SiebelReferences.

ArmoryCode is a Triggerword.
Understand "virtuality" as ArmoryCode.

ArmoryReferences is a Triggerword.
Understand "Armory" and "VR Lab" and "tech hub" as ArmoryReferences.

LincolnCode is a Triggerword.
Understand "five dollars" as LincolnCode.

LincolnReferences is a Triggerword.
Understand "Lincoln" and "bust" as LincolnReferences.

MorrowPlotsCode is a Triggerword.
Understand "Shade and corn" as MorrowPlotsCode.

MorrowPlotsReferences is a Triggerword.
Understand "Morrow" and "plots" and "corn" and "field" as MorrowPlotsReferences.

Profanity is a Triggerword.
Understand "shit" and "fuck" and "damn" and "hell" and "asshole" and "bitch" and "fucking" as Profanity.

Greetings is a Triggerword.
Understand "hey" and "hello" and "hi" and "talk to " and "examine" and "Hows" and "whats" as Greetings.

Leaving is a Triggerword.
Understand "bye" and "by" and "goodbye" and "farewell" and "farwell" and "ciao" and "leaving" and "out of here" and "goodby" and "see ya"  as Leaving.

Nidhogg is a Triggerword.
Understand "dragon" and "danger" and "d-f-b" and "dfb" and "darkness" as Nidhogg.


WaitingForCode is a truth state variable.

CurrentTriggerWord is a Triggerword that varies.  CurrentTriggerWord is SpurlockReferences.

PreviousTriggerWord is a Triggerword that varies.  PreviousTriggerWord is SpurlockReferences.


After reading a command when SquirrelConversing is true:
	now PreviousTriggerWord is CurrentTriggerWord;
	if the player's command includes "[Triggerword]":
		now CurrentTriggerWord is the Triggerword understood;
		if WaitingForCode is true:
			Evaluate Code;
		else:
			Chat Away;
		stop the action;
	else:
		if Waitingforcode is true:
			Check for clues;
			stop the action;
		else if Spurlock Ribbon is in SouthEndSouthQuad:
			choose a random row in the Table of Limericks;
			say "The World Squirrel mutters to itself what sounds like a short poem, as if trying to remember how it goes, [paragraph break]'[Lines Entry][line break]";
			stop the action;
		else:
			choose a random row in the Table of Lost Memory Hints;
			say "You chat away but you seem to have lost the World Squirrel's attention. It looks around anxiously, sniffing the air. The World Squirrel says, '[Reply entry]'[line break]";
			now WaitingforCode is false;
			stop the action.

To Chat Away:
	if SquirrelConversing is false:
		say "The World Squirrel tilts its head and gives you a quizzical look. Perhaps you could try TALKing to it.";
		stop the action;
	if CurrentTriggerWord is Nidhogg:
		say "The World Squirrel looks around nervously, and shakes its head. It's not going to talk to you about that.";
		stop the action;
	if CurrentTriggerWord is Leaving:
		choose a random row in the Table of Goodbyes;
		say "The World Squirrel runs down your arm and winks. 'Okay, you can come back and TALK TO ME whenever you like.' It scampers back up the May Pole, and shouts down at you, '[Reply entry]'[line break]";
		now SquirrelConversing is false;
		now WorldSquirrel is in SouthEndSouthQuad;
		stop the action;
	if CurrentTriggerWord is Greetings:
		choose a random row in the Table of Greetings;
		say "The World Squirrel says, '[Reply entry]'[line break]";
		stop the action;
	if CurrentTriggerWord is CodeQuery and Spurlock Ribbon is not in SouthEndSouthQuad:
		say "The World Squirrel tilts his head and looks at you quizzically. 'Do you not understand? You need to travel across the campus looking for my acorns. When you find them, they will provide you with a code, which will release one of my memories. If you have one, tell me now!";
		now WaitingForCode is true;
		stop the action;
	if CurrentTriggerWord is SpurlockReferences and Spurlock Ribbon is not in SouthEndSouthQuad:
		say "The World Squirrel runs in excited circles around your legs. 'Did you really find my Spurlock memories? Say the code slowly so I can hear every word.'";
		now WaitingForCode is true;
		stop the action;
	if CurrentTriggerWord is AltgeldReferences and Altgeld Ribbon is not in SouthEndSouthQuad:
		say "The World Squirrel runs in excited circles around your legs. 'Did you really find my Altgeld memory? Say the code slowly so I can hear every word.'";
		now WaitingForCode is true;
		stop the action;
	if CurrentTriggerWord is GraingerReferences and Grainger Ribbon is not in SouthEndSouthQuad:
		say "The World Squirrel runs in excited circles around your legs. 'Did you really find my Grainger memory? Say the code slowly so I can hear every word.'";
		now WaitingForCode is true;
		stop the action;
	if CurrentTriggerWord is ACESReferences and ACES Ribbon is not in SouthEndSouthQuad:
		say "The World Squirrel runs in excited circles around your legs. 'Did you really find my ACES memory? Say the code slowly so I can hear every word.'";
		now WaitingForCode is true;
		stop the action;
	if CurrentTriggerWord is ArtDesignReferences and Art Design Ribbon is not in SouthEndSouthQuad:
		say "The World Squirrel runs in excited circles around your legs. 'Did you really find my Art and Design memory? Say the code slowly so I can hear every word.'";
		now WaitingForCode is true;
		stop the action;
	if CurrentTriggerWord is UnionReferences and Union Ribbon is not in SouthEndSouthQuad:
		say "The World Squirrel runs in excited circles around your legs. 'Did you really find my Union memory? Say the code slowly so I can hear every word.'";
		now WaitingForCode is true;
		stop the action;
	if CurrentTriggerWord is FabLabReferences and Fab Lab Ribbon is not in SouthEndSouthQuad:
		say "The World Squirrel runs in excited circles around your legs. 'Did you really find my Fablab memory? Say the code slowly so I can hear every word.'";
		now WaitingForCode is true;
		stop the action;
	if CurrentTriggerWord is SiebelReferences and Siebel Ribbon is not in SouthEndSouthQuad:
		say "The World Squirrel runs in excited circles around your legs. 'Did you really find my Siebel Lab memory? Say the code slowly so I can hear every word.'";
		now WaitingForCode is true;
		stop the action;
	if CurrentTriggerWord is ArmoryReferences and Armory Ribbon is not in SouthEndSouthQuad:
		say "The World Squirrel runs in excited circles around your legs. 'Did you really find my Armory memory? Say the code slowly so I can hear every word.'";
		now WaitingForCode is true;
		stop the action;
	if CurrentTriggerWord is LincolnReferences and Lincoln Ribbon is not in SouthEndSouthQuad:
		say "The World Squirrel runs in excited circles around your legs. 'Did you really find my Lincoln Hall memory? Say the code slowly so I can hear every word.'";
		now WaitingForCode is true;
		stop the action;
	if CurrentTriggerWord is MorrowPlotsReferences and Morrow Plots Ribbon is not in SouthEndSouthQuad:
		say "The World Squirrel runs in excited circles around your legs. 'Did you really find my memories? Say the code slowly so I can hear every word.'";
		now WaitingForCode is true;
		stop the action;
	if CurrentTriggerWord is ClueQuery:
		if Spurlock Ribbon is in SouthEndSouthQuad:
			choose a random row in the Table of Limericks;
			say "'Okay,' the World Squirrel says agreeably. Here's a clue: [paragraph break][Lines entry]";
			stop the action;
		else:
			say "Here's a clue -- head over to Spurlock Museum and examine everything strange that you find there.";
			stop the action;
	if CurrentTriggerWord is Profanity:
		say "The World Squirrel is unimpressed. 'You are not worthy,' it saids, in a disappointed voice. 'The game is now unwinnable for you.' It jumps off your shoulder into the air, and disappears into nothingness.";
		now the WorldSquirrel is nowhere;
		now SquirrelConversing is false;
		stop the action;
	if CurrentTriggerWord is Limerick:
		choose a random row in the Table of Limericks;
		say "Aha! So, you do like poetry after all! Hmm... let me think a moment... oh, yes! I've got just the one! [line break][line break][Lines entry]";
		stop the action;
	if CurrentTriggerWord is SpurlockCode and Spurlock Ribbon is not in SouthEndSouthQuad:
		now PreviousTriggerWord is SpurlockReferences;
		evaluate code;
		stop the action;
	if CurrentTriggerWord is AltgeldCode and Altgeld Ribbon is not in SouthEndSouthQuad:
		now PreviousTriggerWord is AltgeldReferences;
		evaluate code;
		stop the action;
	if CurrentTriggerWord is GraingerCode and Grainger Ribbon is not in SouthEndSouthQuad:
		now PreviousTriggerWord is GraingerReferences;
		evaluate code;
		stop the action;
	if CurrentTriggerWord is ACESCode and ACES Ribbon is not in SouthEndSouthQuad:
		now PreviousTriggerWord is ACESReferences;
		evaluate code;
		stop the action;
	if CurrentTriggerWord is ArtDesignCode and Art Design Ribbon is not in SouthEndSouthQuad:
		now PreviousTriggerWord is ArtDesignReferences;
		evaluate code;
		stop the action;
	if CurrentTriggerWord is UnionCode and Union Ribbon is not in SouthEndSouthQuad:
		now PreviousTriggerWord is UnionReferences;
		evaluate code;
		stop the action;
	if CurrentTriggerWord is FabLabCode and Fab lab Ribbon is not in SouthEndSouthQuad:
		now PreviousTriggerWord is FabLabReferences;
		evaluate code;
		stop the action;
	if CurrentTriggerWord is SiebelCode and Siebel Ribbon is not in SouthEndSouthQuad:
		now PreviousTriggerWord is SiebelReferences;
		evaluate code;
		stop the action;
	if CurrentTriggerWord is ArmoryCode and Armory Ribbon is not in SouthEndSouthQuad:
		now PreviousTriggerWord is ArmoryReferences;
		evaluate code;
		stop the action;
	if CurrentTriggerWord is LincolnCode and Lincoln Ribbon is not in SouthEndSouthQuad:
		now PreviousTriggerWord is LincolnReferences;
		evaluate code;
		stop the action;
	if CurrentTriggerWord is MorrowPlotsCode and Morrow Plots Ribbon is not in SouthEndSouthQuad:
		now PreviousTriggerWord is MorrowPlotsReferences;
		evaluate code;
		stop the action;
	else if a random chance of one in 20 succeeds:
		 if Spurlock Ribbon is in SouthEndSouthQuad:
			choose a random row in the Table of Limericks;
			say "Go find another memory of mine. Here's a clue! [paragraph break][Lines entry]";
			stop the action;
		else:
			continue the action;
	else:
		choose a random row in the Table of Lost Memory Hints;
		say "You chat away but you seem to have lost the World Squirrel's attention. It looks around anxiously, sniffing the air. The World Squirrel says, '[Reply entry]'[line break]";
		stop the action.

colorful bug is a scenery thing in VR Lab.
Understand "strange bug" and "bug" as colorful bug.
Instead of examining colorful bug when ArmoryMemory is Incompleted:
	say "As you stare at the bug, his iridescent shell begins to shimmer. You begin to feel that strange humming of energy around you that you understand to be a memory of the World Squirrel coming back into the world. The bug gives off a bright white light!  The bug seems to be singing an english word, how strange! The word, you think, is 'virtuality.' If you don't think you'll remember it, you might want to write it down. And then... poof! The strange insects disappears from sight. Perhaps coincidentally, the figure inside the lab starts stomping on the floor, as if they are squishing bugs. You rub your eyes and forehead which feel achy and heavy again.";
	now ArmoryMemory is Completed;
	now colorful bug is nowhere;
[	now the right hand status line is "virtuality";  ]
	stop the action.

To Evaluate Code:
	if CurrentTriggerWord is SpurlockCode and PreviousTriggerWord is SpurlockReferences:
		say "'Yes, yes, yes!' The World Squirrel jumps up and down in excitement. 'Ah! Thank you! You have released memories of play which I hid among toys of distant lands and ancient peoples. I remember when museum's collections were exhibited on the top floor of Lincoln Hall. I remember a half century ago, a young archaeologist working there in the middle of the night, daring to play with these dice and finding they were loaded. I remember playing Dungeons and Dragons in the spring of 1983 in Beckwith Hall. I remember playing the Sinking of the Titanic in Union Hall in [‘]71. I remember Avatar being played on Plato. I remember 35 years of Winter War. Games bring joy, and companionship to weary students and scholars alike.'[paragraph break]The World Squirrel meditates a moment, with a happy smile on its little squirrely face. Then it leaps over to the pole, climbs to the top and busies itself with something. You may want to examine the pole again.";
		now SpurlockMemory is completed;
		[Remove Spurlock Limericks
		choose row 1 in the Table of Limericks;
		blank out the whole row;
		choose row 2 in the Table of Limericks;
		blank out the whole row;
		choose row 3 in the Table of Limericks;
		blank out the whole row;		]
		now the right hand status line is "[time of day]";
		increment NumberOfRibbons;
		now Spurlock Ribbon is in SouthEndSouthQuad;
	else if CurrentTriggerWord is AltgeldCode and PreviousTriggerWord is AltgeldReferences:
		say "'Thanks! You've released my memories of Altgeld Hall! This place has so much history…I remember when this used to be the university's library and the hundreds of students that would spend hours studying here. I remember when the School of Law moved in and one student in particular who ended up spending all night on the floor studying for exams. Now's it home to the beautiful Mathematics Library.'[paragraph break]The World Squirrel meditates a moment, with a happy smile on its little squirrely face. Then it leaps over to the pole, climbs to the top and busies itself with something. You may want to examine the pole again.";
		now AltgeldMemory is completed;
		choose row 2 in the Table of Limericks;
[		blank out the whole row;		]
		now the right hand status line is "[time of day]";
		increment NumberOfRibbons;
		now Altgeld Ribbon is in SouthEndSouthQuad;
	else if CurrentTriggerWord is GraingerCode and PreviousTriggerWord is GraingerReferences:
		say "'Wow! You've helped me find good ol' Bob! I remember when Grainger Bob came to sit on this bench for the first time and all of the students that have sat next to him. I remember all of the new, bright-eyed engineering students that have come to this library and the many sleepless nights they have spent here. There are so many students that have passed through these doors and have gone on to do wonderful things!'[paragraph break]The World Squirrel meditates a moment, with a happy smile on its little squirrely face. Then it leaps over to the pole, climbs to the top and busies itself with something. You may want to examine the pole again.";
		now GraingerMemory is completed;
[		choose row 3 in the Table of Limericks;
		blank out the whole row;				]
		now the right hand status line is "[time of day]";
		increment NumberOfRibbons;
		now Grainger Ribbon is in SouthEndSouthQuad;
	else if CurrentTriggerWord is ACESCode and PreviousTriggerWord is ACESReferences:
		say "'Yes, you did it! You found my memories of the Funk Library! Good ol' Midwestern agriculture is embodied in this octagonal building. I remember every biologist, environmentalist, and farm enthusiast that has sat and studied near the large windows. Sometimes I like to come in here myself and read about the vast history of squirrels.[paragraph break]The World Squirrel meditates a moment, with a happy smile on its little squirrely face. Then it leaps over to the pole, climbs to the top and busies itself with something. You may want to examine the pole again.";
		now ACESMemory is completed;
[		choose row 4 in the Table of Limericks;
		blank out the whole row;			]
		now the right hand status line is "[time of day]";
		increment NumberOfRibbons;
		now ACES Ribbon is in SouthEndSouthQuad;
	else if CurrentTriggerWord is ArtDesignCode and PreviousTriggerWord is ArtDesignReferences:
		say "'Woo hoo! You helped find my memories of the Art + Design building, thanks! Many beautiful and influential art pieces started here in this very building. I remember watching students develop their ideas on canvas, in wood, metal, with cameras, and now with computers. I've seen the evolution of art and the creative mind happen in these very classrooms.'[paragraph break]The World Squirrel meditates a moment, with a happy smile on its little squirrely face. Then it leaps over to the pole, climbs to the top and busies itself with something. You may want to examine the pole again.";
		now ArtDesignMemory is completed;
[		choose row 5 in the Table of Limericks;
		blank out the whole row;		]
		now the right hand status line is "[time of day]";
		increment NumberOfRibbons;
		now Art Design Ribbon is in SouthEndSouthQuad;
	else if CurrentTriggerWord is UnionCode and PreviousTriggerWord is UnionReferences:
		say "'You did it! You found my memories of the Illini Union! I remember when construction started on this building that now functions as the student headquarters of this campus. I remember the discussions of making this building into the shape of an 'I' in 1939. I remember when Eleanor Roosevelt visited and dedicated this building in 1942! I remember all of the fish that have lived in the tanks and every pretzel I've found outside on the sidewalk.'[paragraph break]The World Squirrel meditates a moment, with a happy smile on its little squirrely face. Then it leaps over to the pole, climbs to the top and busies itself with something. You may want to examine the pole again.";
		now UnionMemory is completed;
[		choose row 6 in the Table of Limericks;
		blank out the whole row;				]
		now the right hand status line is "[time of day]";
		increment NumberOfRibbons;
		now Union Ribbon is in SouthEndSouthQuad;
	else if CurrentTriggerWord is FabLabCode and PreviousTriggerWord is FabLabReferences:
		say "'Yes! This is the memory of community. He remembers children, students and families from the community coming together to create things together. Thank you for finding him!'[paragraph break]The World Squirrel meditates a moment, with a happy smile on its little squirrely face. Then it leaps over to the pole, climbs to the top and busies itself with something. You may want to examine the pole again.";
		now FabLabMemory is completed;
[		choose row 7 in the Table of Limericks;
		blank out the whole row;			]
		now the right hand status line is "[time of day]";
		increment NumberOfRibbons;
		now Fab Lab Ribbon is in SouthEndSouthQuad;
	else if CurrentTriggerWord is SiebelCode and PreviousTriggerWord is SiebelReferences:
		say "'Right! The memory of playful computation lives in the Plato terminal. It remembers how Illinois made a magnificent machine for education but the students took it over for games. They made some of the first networked multiplayer games ever!'[paragraph break]The World Squirrel meditates a moment, with a happy smile on its little squirrely face. Then it leaps over to the pole, climbs to the top and busies itself with something. You may want to examine the pole again.";
		now SiebelMemory is completed;
[		choose row 8 in the Table of Limericks;
		blank out the whole row;		]
		now the right hand status line is "[time of day]";
		increment NumberOfRibbons;
		now Siebel Ribbon is in SouthEndSouthQuad;
	else if CurrentTriggerWord is ArmoryCode and PreviousTriggerWord is ArmoryReferences:
		say "'Thank you! This is the memory of invention you've found. It remembers all of the technologies that have been developed and explored here, including virtual reality experiences.'[paragraph break]The World Squirrel meditates a moment, with a happy smile on its little squirrely face. Then it leaps over to the pole, climbs to the top and busies itself with something. You may want to examine the pole again.";
		now ArmoryMemory is completed;
[		choose row 9 in the Table of Limericks;
		blank out the whole row;		]
		now the right hand status line is "[time of day]";
		increment NumberOfRibbons;
		now Armory Ribbon is in SouthEndSouthQuad;
	else if CurrentTriggerWord is LincolnCode and PreviousTriggerWord is LincolnReferences:
		say "'Correct! You've found the memory of matriculation. It resides in Lincoln hall where almost every student of Illinois will have taken a class by graduation. Lincoln hall is the second most used classroom building on the campus!'[paragraph break]The World Squirrel meditates a moment, with a happy smile on its little squirrely face. Then it leaps over to the pole, climbs to the top and busies itself with something. You may want to examine the pole again.";
		now LincolnMemory is completed;
[		choose row 10 in the Table of Limericks;
		blank out the whole row;		]
		now the right hand status line is "[time of day]";
		increment NumberOfRibbons;
		now Lincoln Ribbon is in SouthEndSouthQuad;
	else if CurrentTriggerWord is MorrowPlotsCode and PreviousTriggerWord is MorrowPlotsReferences:
		say "'That's right! You found my memory of experimental research. She remembers how researchers have played with parameters and wild solutions to problems which seem insurmountable at the time but, once solved, seem obvious in retrospect. Although many people think of science and math as staid endeavors, we know they are full of play when people are pushing the boundaries of what we know.'[paragraph break]The World Squirrel meditates a moment, with a happy smile on its little squirrely face. Then it leaps over to the pole, climbs to the top and busies itself with something. You may want to examine the pole again.";
		now MorrowPlotsMemory is completed;
[		choose row 11 in the Table of Limericks;
		blank out the whole row;		 ]
		now the right hand status line is "[time of day]";
		increment NumberOfRibbons;
		now Morrow Plots Ribbon is in SouthEndSouthQuad;
	else:
		Check for Clues;
	now WaitingForCode is false;
	now SquirrelConversing is false.

To Check for Clues:
	say "The World Squirrel is disappointed. It jumps off your shoulder onto the pole, runs up to the top and turns away from you, twitching its tail in annoyance. 'That's not it. Do you need a clue?'";
	if player consents:
		choose a random row in the Table of Lost Memory Hints;
		say "The squirrel whispers '[reply entry]'[line break]";
		now WaitingforCode is false;
		stop the action;
	else:
		say "The World Squirrel shrugs and turns away. You're on your own.";
		now WaitingforCode is false.


Table of Greetings
Reply
"Hello. Can I help you?"
"Hey. Ask me a question already."
"Howdy."
"Whatever. I'm bored."
"Hello. How are you?"
"I'm tired. Do you have a question or something?"
"Hey, how ya doin? Why are you here?"

Table of Goodbyes
Reply
"See ya!"
"Later!"
"Bye!"
"Bye bye!"
"See you later!"
"Catch ya' later!"
"Adios!"
"Smell ya later!"
"Bye now!"
"It's been fun!"
"Come back soon!"
"Goodbye!"

Table of Lost Memory Hints
Reply
"Do you hear those bells? No? Just me?"
"Socrates, Aristotle, and... hmm... Thomas? No, that's not it..."
"I smell flowers... and something I don't know, grainy?"
"Where do they get all the pigskin? I'v never even seen a pig!"
"If you'd like to stop talking to me, just say BYE."
"Shouldn't you say goodbye and get going?"
"What are you waiting for?"
"There's not time for idle chit-chat! Say farewell and off you go!"
"What a great state we live in. ? We had the greatest president, don't you agree?"

Part 3 - Memories Found and Status

A MemoryFound is a kind of thing.
A MemoryFound can be Incompleted or Completed. MemoryFound is usually Incompleted.

CurrentMemory is a MemoryFound that varies.
CurrentMemory is NoMemory.

NoMemory is a MemoryFound.
SpurlockMemory is a MemoryFound.
NumSpurlockMemoryFragmentsFound is a number variable. NumSpurlockMemoryFragmentsFound is 0.
DiceMemory is a MemoryFound.
ChessPieceMemory is a MemoryFound.
CricketBoxMemory is a MemoryFound.

AltgeldMemory is a MemoryFound.
GraingerMemory is a MemoryFound.
ACESMemory is a MemoryFound.
ArtDesignMemory is a MemoryFound.
UnionMemory is a MemoryFound.

FabLabMemory is a MemoryFound.
SiebelMemory is a MemoryFound.
ArmoryMemory is a MemoryFound.
LincolnMemory is a MemoryFound.
MorrowPlotsMemory is a MemoryFound.

The printed name of SpurlockMemory is "You found the memory of ANCIENT PLAY!"
BeckmanMemory is a MemoryFound.
JapaneseGazebo is a MemoryFound.



Part 4 - Code temporarily moved here that should go back  to where it belongs later

SpurlockMuseum is a RoomProxy in Spurlock Museum. Understand "Spurlock" and "spurlock" and "Spurlock Museum" and "museum" as SpurlockMuseum.
The printed name of SpurlockMuseum is "Spurlock Museum".

Before reading a command when the player is in SpurlockMap:
	if NumSpurlockMemoryFragmentsFound is less than 3:
		now the right hand status line is "[NumSpurlockMemoryFragmentsFound]/3 Memories";
	else:
		now the right hand status line is "I hear crickets!".

Instead of going nowhere when the player is in SpurlockMap:
	say "You look around curiously, but there doesn't seem to be much in that direction."

SpurlockMuseumInterior is an Interior Location. "The inside of the spurlock museum is quiet and very spacious. The first thing you see is an information desk in front. You are eager to explore the museum. You can see the Central Core Gallery to the [bold type]northwest[roman type].  To the [bold type]south[roman type] is the Knight Auditorium. You can also [bold type]exit[roman type] the museum from here."
The printed name of SpurlockMuseumInterior is "Spurlock Museum Entrance".
SpurlockMuseumInterior is inside from Spurlock Museum.

SpurlockInformationDesk is scenery in SpurlockMuseumInterior. "This is where you imagine a museum guard or a docent might sit, but there's no one sitting there now."

Understand "desk" and "information desk" as SpurlockInformationDesk.

Instead of smelling something when player is in SpurlockMap:
	say "The museum smells fresh and mysterious."

KnightAuditorium is south of SpurlockMuseumInterior.
"This cavernous space with comfortable looking seats running down to a stage below is empty at the moment. Perhaps check back later and something will be happening in here. You can exit to the [bold type]north[roman type]."
The printed name of KnightAuditorium is "Knight Auditorium."


InformationDesk is a scenery supporter in SpurlockMuseumInterior.
Instead of examining InformationDesk:
	say "There's no one at the information desk at the moment, but you can see the Central Core Gallery to the [bold type]west[roman type], and wonder if it would be okay just to sneak in."

Central Core Gallery is northwest of SpurlockMuseumInterior. "The Central Core Gallery is a round room, full of light. The ceiling is very high above. You feel you have entered into a different world. It's like an oasis in the desert. A grand white staircase goes [bold type]up[roman type] from here. There are galleries to the [bold type]north[roman type] and [bold type]east[roman type]. The museum entrance is back to the [bold type]southeast[roman type]."
The printed name of MuseumLobby is "Spurlock Museum Main Lobby".

UpStaircase is a scenery supporter in Central Core Gallery.
The printed name of Upstaircase is "winding white staircase going up".
understand "winding white staircase" and "white staircase" and "winding staircase" and "staircase" and "stairs" as UpStaircase.

DownStaircase is a scenery supporter in SpurlockSecondFloorLanding.
The printed name of Downstaircase is "winding white staircase going down".
understand "winding white staircase" and "white staircase" and "winding staircase" and "staircase" and "stairs" as DownStaircase.

Instead of entering UpStaircase:
	say "You bound up the winding white stairway.";
	try going up.

Instead of entering DownStaircase:
	say "You gracefully descend the winding white stairway.";
	try going down.

Instead of taking something in NorthFirstFloorExhibit:
	say "Everything in here is inside of locked cases, but even if it wasn't, you shouldn't be taking anything."

NorthFirstFloorExhibit is north of Central Core Gallery. "[if unvisited]You have entered an exhibition room. [end if]This room features exhibits on the indigenous cultures of North America and South America. Scanning the room for objects of interest, you see many kinds of things being exhibited here, including pottery, ceremonial outfits, and sculptures. You can return to the main lobby by going [bold type]south[roman type]."
The printed name of NorthFirstFloorExhibit is "First Floor North Exhibition Room".

NorthFirstFloorPotteryDisplay is scenery in NorthFirstFloorExhibit.
Understand "pottery", "pottery display", "pottery display case", "pottery exhibit" as NorthFirstFloorPotteryDisplay.
The description of NorthFirstFloorPotteryDisplay is "You walk up to a display case that holds ancient North American pottery. They are painted beautifully with colorful patterns."
The printed name of NorthFirstFloorPotteryDisplay is "pottery display case".

NorthFirstFloorOutfitsDisplay is scenery in NorthFirstFloorExhibit.
Understand "ceremonial outfits", "ceremonial outfits display", "ceremonial outfits display case", "outfits", "outfits display", "headdress", "headress", "fabric" and "outfits display case" as NorthFirstFloorOutfitsDisplay.
The description of NorthFirstFloorOutfitsDisplay is "[if unexamined]You walk up to a display case that holds ceremonial outfits and an ancient North American headress. The fabric is warm and inviting. The headress is decorated extravagantly.[else]You have already examined the items in this display case."
The printed name of NorthFirstFloorOutfitsDisplay is "outfits display case".

NorthFirstFloorSculpturesDisplay is scenery in NorthFirstFloorExhibit.
Understand "sculptures", "sculpted figures", "sculptures display", "sculptures display case" as NorthFirstFloorSculpturesDisplay.
The description of NorthFirstFloorSculpturesDisplay is "You walk up to a display case that holds small sculpted figures from South America."
The printed name of NorthFirstFloorSculpturesDisplay is "sculptures display case".

EastFirstFloorExhibit is east of Central Core Gallery. "[if unvisited]You have entered an exhibition room. [end if]This room features exhibits on the Ancient Mediterranean. Your eyes first settle upon an imposing statue. Behind it are beautifully carved columns. To the left, a display case featuring ancient weapons. The main lobby is back to the [bold type]west[roman type]."
The printed name of EastFirstFloorExhibit is "First Floor East Exhibit Room".


EastFirstFloorExhibitStatue is photogenic scenery container in EastFirstFloorExhibit.
Understand "Greek figure", "Greek statue", "statue", "figure", "sculpture" and "serpent" as EastFirstFloorExhibitStatue.
The printed name of EastFirstFloorExhibitStatue is "statue".
The description of EastFirstFloorExhibitStatue is "The statue shows a naked man with a muscular physique grappling with sea serpants. Two other men are also tangled in the fight. The sign says it is entitled 'Laocoon and his Sons.' It is a Greek statue, unearthed in Rome. The original is displayed at the Vatican." 

EastFirstFloorExhibitColumns is scenery in EastFirstFloorExhibit.
Understand "column", "columns", "pillar", "pillars" as EastFirstFloorExhibitColumns.
The description of EastFirstFloorExhibitColumns is "Nine sturdy-looking white stone columns surround the space. Thin grooves run down their spines to a strong base. The tops of the columns are the most emmaculate, displaying intricate leaf-like designs."
The printed name of EastFirstFloorExhibitColumns is "columns".

EastFirstFloorExhibitWeaponsCase is scenery in EastFirstFloorExhibit.
Understand "case", "display case", "weapons case", "weapons" and "blades" as EastFirstFloorExhibitWeaponsCase.
The description of EastFirstFloorExhibitWeaponsCase is "Along the left wall of the exhibit runs a display case holding many fierce-looking weapons. You can tell they have seen their fair share of battle by the worn conditions of the blades."
The printed name of EastFirstFloorExhibitWeaponsCase is "weapons".

Instead of taking something in EastFirstFloorExhibit:
	say "Everything in this gallery is locked behind glass."

EastFirstFloorExhibitMural is scenery in EastFirstFloorExhibit.
Understand "mural", "stone mural" as EastFirstFloorExhibitMural.
The description of EastFirstFloorExhibitMural is "The mural shows a crowd of people leading a pig and a sheep to a shrine. You read the label and discover the mural depicts a sacrifice to the gods."
The printed name of EastFirstFloorExhibitMural is "mural".


GlassBox is a scenery container in EastFirstFloorExhibit.
pottery is a scenery object in Glassbox. "The pottery is placed inside the glass container. The pottery is in a bizarre shape. The overall color of the pottery is white and there is a curved bridge connecting the two opening of the pottery. There are also patterns drawn on the pottery in red.".
patterns is a scenery thing. Understand "pattern" and "red pattern" as patterns.
glassKey is a scenery thing. The description of glassKey is "The key seems can be used to break open the pottery."
Instead of examining patterns:
	say "The patterns shows the tradition of pottery making throughout the pueblos of the American Southwest. You can see grandmothers, mothers, aunts teach the next generation in their family. They are using methods like sourcing materials, preparing clays, and firing their pieces.";
	now player has the glassKey.
Instead of destroying the pottery:
	choose a random row in the Table of Pottery Response;
	say "You break open the pottery and found a piece of paper lying inside. The paper says[comment entry]";
	now player is in Central Core Gallery.

Table of Pottery Response
comment
"A dream you have will come true."
"You will become great if you believe in yourself."
"Never give up. You're not a failure if you don't give up."
"You already know the answer to the questions lingering inside your head."
"It is now, and in this world, that we must live."
"You must try, or hate yourself for not trying."
"You can make your own happiness."
"A short stranger will soon enter your life with blessings to share."
"Now is the time to try something new."

SpurlockSecondFloorLanding is up from Central Core Gallery. "Standing at the top of the stairs, you can look down at the Central Core Gallery below. There are exhibit halls to the [bold type]north[roman type], [bold type]east[roman type] and [bold type]south[roman type]. You can also head back [bold type]down[roman type]."
The printed name of SpurlockSecondFloorLanding is "Second Floor Landing"


NorthSecondFloorExhibit is north of SpurlockSecondFloorLanding. "You have entered an exhibit room. It features exhibits on East Asia, Southeast Asia, and Oceania. From here you can see a terracotta soldier, samurai swords, paintings, and the mythical lion-like creature, Barong Ket."
The printed name of NorthSecondFloorExhibit is "Second Floor North Exhibits".

TerracottaSoldier is scenery in NorthSecondFloorExhibit.
Understand "statue", "terracotta", "soldier", "clay soldier" as TerracottaSoldier.
The description of TerracottaSoldier is "The terracotta soldier stands straight and tall, looking over the entire exhibit. A small grin peeking out from beneath his mustache suggests he is pleased with his prominent position among the displays.  [if CricketBoxMemory is Incompleted]Tucked beside him on the floor is a small odd-looking box. Perhaps try examining this 'odd box'?".

SamuraiSwords is scenery in NorthSecondFloorExhibit.
Understand "swords", "sword", "samurai", "samurai sword" as SamuraiSwords.
The description of SamuraiSwords is "Next to the terracotta soldier is a display case showing off samurai swords different sizes. Even from behind the glass, the hairs on your neck stand up at the sight of such a sharp edge. Beside the swords are small sculptures of samurai in a battle stance."

EastAsianPaintings are scenery in NorthSecondFloorExhibit.
Understand "painting", "paintings" as EastAsianPaintings.
The description of EastAsianPaintings is "You walk across the room to see the paintings on display. Behind the glass is a beautiful image of a cherry blossom tree running down a long scroll of paper. The image captures your attention with especially vibrant hue of pink, and the petals appear as though they are softly floating away in the wind."
The printed name of NorthSecondFloorExhibit is "Second Floor North Exhibits".

BarongKet is scenery in NorthSecondFloorExhibit.
Understand "lion", "dragon", "barong", "barong ket" as BarongKet.
The description of BarongKet is "You look up at the mythical Barong Ket, which suspends from the ceiling by thin black wires. The creature swings gently from the wires, as if gliding through the air. Gilded jewelry drapes along its back, and small circular mirrors reflect just fragments of your face. From under its golden coat hangs long white fur like that of a lion's mane. The creature's face looks small as it is engulfed in large plates of gold, but the bright red face is hard to miss. From the mouth protrudes four white fangs that push its lips into a smile, and above the mouth sits a large nose with flared nostrils. Above the white fangs and flared nostrils are two bulbous eyes that seem to rest upon its large grin. Its eyes are almost swallowed entirely by deep black pupils, held at bay only by fiery orange irises. It is indeed the king of spirits."

SouthSecondFloorExhibit is south of SpurlockSecondFloorLanding. "[if unvisited]You have entered an exhibit room. [end if]This room features exhibits on Africa, Ancient Mesopotamia, and Ancient Egypt. In the exhibit on Africa, you can see instruments. In the exhibit on Ancient Mesopotamia, you can see cylinder seals. In the exhibit on Ancient Egypt, you can see a statue of a pharaoh. You can head back to the second floor landing by going [bold type]north[roman type]."
The printed name of SouthSecondFloorExhibit is "Second Floor South Exhibits".

Ancient Dice is a scenery thing in SouthSecondFloorExhibit.
Understand "strange cubes", and "small cubes" and "strange cube" and "cubes" and "small cube" as Ancient Dice.
Instead of examining Ancient Dice when DiceMemory is Incompleted:
	say "Unlike other exhibits, this statue of the pharoah is not behind glass. Checking that no one is looking, you pull the cubes out of the pharoah's grasp. Immediately you realize that they are, in fact, a pair of ancient dice! You start to feel strange, and the room around you begins to hum with energy. The dice start to grow hot in your hand, giving off bright white light! And then... Poof! They vaporize into nothingness. Your eyes ache a bit and your head feels strangely heavy.";
	now DiceMemory is Completed;
	increase NumSpurlockMemoryFragmentsFound by 1;
	say "[SpurlockMemoryMessage]";
	now Dice is nowhere;
	stop the action.

PharaohStatue is scenery supporter in the SouthSecondFloorExhibit.
Understand "pharaoh", "statue", "Khafre" as PharaohStatue.
The printed name of PharaohStatue is "Pharaoh Khafre".
The description of PharaohStatue is "A large statue of Pharaoh Khafre is displayed on the east side of the room in the Egyptian exhibit. The statue is made of dark black stone. Khafre is sitting comfortably at his throne. [if DiceMemory is Incompleted]In one of its hands, the figure is holding a couple of small, strange cubes.[end if]"

CylinderSealDisplay is a scenery container in the SouthSecondFloorExhibit.
Understand "seal", "seals", "cylinder", "cylinder", "cylinder seals", "cylinder seal" and "horse" and "warrior" and "horse seal" and "warrior seal" as CylinderSealDisplay.
The description of CylinderSealDisplay is "Small Mesopotamian cylinder seals sit in a display case embedded in the wall. You peruse the line of seals. One seal has an engraving of a horse. Another has an engraving of a warrior."


CricketBox is a scenery thing in NorthSecondFloorExhibit.
Understand "odd box" as CricketBox.
Instead of examining the CricketBox when CricketBoxMemory is Incompleted:
	say "You realize that you're probably not supposed to be touching the display, but curiosity overcomes your manners. You carefully lift the box from where it is resting and open it up. You peer eagerly inside and you see... a cricket! Yuck! You would drop the box except for the fact that the cricket seems to demand your attention. Suddenly, you feel the room begin to hum with energy. The cricket box starts to give off an intense stream of white light! And then... Poof! It disappears from your very hands. Your eyes ache a bit and your head feels somewhat heavier.";
	now CricketBoxMemory is Completed;
	increase NumSpurlockMemoryFragmentsFound by 1;
	say "[SpurlockMemoryMessage]";
	now CricketBox is nowhere;
	stop the action.


AfricanInstruments are scenery in the SouthSecondFloorExhibit.
Understand "instruments", "African instruments" as AfricanInstruments.
The description of AfricanInstruments is "You head over to the exhibit on Africa. In one of the display cases here, you see a piece of cloth with an image of dancing people hanging behind an array of various instruments."
The printed name of AfricanInstruments is "African instruments".

EastSecondFloorExhibit is east of SpurlockSecondFloorLanding. "You have entered an exhibit room. It features exhibits on Europe, including an enormous marble statue and a display case."
The printed name of EastSecondFloorExhibit is "Second Floor East Exhibits".

RomanceStatue is scenery in EastSecondFloorExhibit.
Understand "statue" and "marble statue" and "statue of a woman" and "sorrowful woman" as RomanceStatue.
The description of RomanceStatue is "A large statue of a woman with a sorrowful expression is displayed in the center of the room. She is holding a man in her arms who appears to be dead."
The printed name of RomanceStatue is "marble statue".

EuropeanDisplayCase is scenery in EastSecondFloorExhibit.
Understand "display", "display case", "case", "mighty-looking sword" and "sword" as EuropeanDisplayCase.
The description of the EuropeanDisplayCase is "In this display case there is a mighty-looking sword that has obviously seen some time in battle. The case is open, as though someone left before they finished rearranging the items in the case. [if ChessPieceMemory is Incompleted]Some sort of wood carving seems to have fallen behind the sword. Perhaps try examining the strange carving?"
The printed name of EuropeanDisplayCase is "European display case".

ChessPiece is a scenery thing in EastSecondFloorExhibit.
Understand "wood carving" and "strange wood carving" and "strange carving" and "carving" and "chess piece" as ChessPiece.
Instead of examining the ChessPiece when ChessPieceMemory is Incompleted:
	say "You reach into the case and grab the small carving. It's a finely carved chess piece! Before you can even put together another thought, the room begins to hum with energy. The chess piece starts to glow with a remarkable white light! And then... Poof! It vanishes into thin air. Your eyes ache a bit and your head feels somewhat heavier.";
	now ChessPieceMemory is Completed;
	increase NumSpurlockMemoryFragmentsFound by 1;
	say "[SpurlockMemoryMessage]";
	now ChessPiece is nowhere;
	stop the action.

To say SpurlockMemoryMessage:
	say "[line break]You have found a Spurlock Memory Fragment! ([NumSpurlockMemoryFragmentsFound] / 3)";
	if NumSpurlockMemoryFragmentsFound is 3:
		say "[line break]Ahhh! Your head is pounding with information! All you can hear is the deafening sound of chirping crickets! Go tell the World Squirrel what you hear!"


[Cayla Changes: Fix so it compiles again]
ACESLibrary is a RoomProxy in ACES Library.
The printed name of ACESLibrary is "ACES Library".
Understand "ACES Library" as ACESLibrary.

ACESLibraryInterior is an Interior Location. "You enter the interestingly shaped ACES Library and look around you. You don't know what you were expecting, but some baby farm animals might have been nice. [if old framed photograph is in ACESLibraryInterior]Your gaze drifts to an old framed photograph on the wall next to a sign explaining that you have entered the Funk Library. [end if]You can only [bold type]exit[roman type] from here, because you don't know where you are going."
The printed name of ACESLibraryInterior is "Inside ACES Library".

CultTile is an enterable container. "Remembering the words of the corn squirrel, you notice a tile with the shape of a kernel embedded into it. It looks looser than the other tiles around it."
[Will be put in after talking to corn squirrel]
The printed name of CultTile is "Strange Tile".
Understand "tile" and "strange tile" and "kernel" and "kernel tile" as CultTile.

Instead of examining CultTile for the first time:
	say "You examine it closer, and move it to reveal an entrance into the cultists' lair! You can now go down from here!";
	change the down exit of ACESLibraryInterior to CultStaircase;
	change the up exit of CultStaircase to ACESLibraryInterior;

Instead of examining CultTile:
	say "You have revealed a downwards entrance to the cultists' lair!";

Instead of entering CultTile:
	move player to CultStaircase;

CultStaircase is a room. "A grand staircase, descending into the depths. From it you can hear ritual chanting."
The printed name of CultStaircase is "Cult Staircase".

CultStaircase is up from Cult Main Hallway.

Cultist 1 is a cultist.
Cultist 2 is a cultist.
Cultist 3 is a cultist.

After going to CultStaircase for the first time:
	let cults be the list of culty rooms;
	sort cults in random order;
	let ents be the number of entries in cults;
	let cur_idx be 0;
	repeat with X running through cultists:
		let list_ent be cur_idx + 1;
		let cult_room be entry list_ent of cults;
		now X is in cult_room;
		now cur_idx is remainder after dividing (cur_idx + 1) by ents;
	continue the action;

To decide what list of directions is the list of navigable directions for (culty - a cultist):
	let poss_dirs be a list of directions;
	let cult_loc be the location of culty;
	let dirs be the list of directions;
	repeat with dir running through dirs:
		if the room dir from cult_loc is culty:
			add dir to poss_dirs;
	decide on poss_dirs;

To decide what K is a random member of (list - a list of values of kind K):
	let ents be the number of entries in list;
	let rand_ent be a random number between 1 and ents;
	decide on entry rand_ent of list;

To NavigateCultists:
	repeat with culty running through the cultists:
		let culty_dirs be the list of navigable directions for culty;
		if culty_dirs is not empty:
			let culty_dir be a random member of culty_dirs;
			try silently culty going culty_dir;
			if the location of culty is the location of the player:
				say "You see [culty] come from the [opposite of culty_dir], but they don't see you yet."

Every turn when player is in a culty room:
	let cultists_present be the list of cultists in the location of the player;
	if cultists_present is not empty:
		let primary_cultist be a random member of cultists_present;
		if the player is wearing Cult Robe:
			say "[Primary_cultist] glances at you, as if about to say something, but then stops. Your disguise must have fooled them!";
		else:
			say "The [primary_cultist] looks at you with a strange expression. 'You're not supposed to be here!' they says. 'You're not a cultist!'[line break]";
			say "They quickly force you out of their hideout, and back into the Funk Library.";
			now player is in ACESLibraryInterior;
	NavigateCultists.

Every turn when player is in Cult Main Hallway:
	NavigateCultists.

To say PossDirections:
	repeat with dir running through the list of Navigable directions:
		let rom be the room dir from the location of the player;
		let culties be the list of cultists in rom;
		let num_culties be the number of entries in culties;
		say " To your [dir] is [rom], in which ";
		if num_culties is 0:
			say "there are no cultists.";
		otherwise if num_culties is 1:
			say "there is one cultist.";
		otherwise:
			say "there are [num_culties] cultists.";

Instead of WhichWaying in a culty room:
	say "You can go the following directions.[PossDirections]".
Cult Main Hallway is a room. Cult Main Hallway is down from CultStaircase. "A hallway connecting to various rooms in the cult's lair.[PossDirections]".

Robe Chamber is a culty room. Robe Chamber is west of Cult Main Hallway. "A room with several cultish looking robes hanging on the wall.[PossDirections]".
Cult main hallway is east of Robe Chamber.

Robes is a scenery container in Robe Chamber. "The robes are a dark obsidian-like black, replete with frills at the arms. The fabric is like satin. The hood droops down significantly, allowing for maximal facial obscuration."
The printed name of Robes is "Robes".
Understand "robes" and "cult robes" and "cultish robes" as Robes.

Cult Robe is a wearable thing in Robes. "Just one of the many cult robes in the room. If one would wear it, they would be indistinguishable from a cultist."
Understand "cult robe" and "robe" and "cultish robe" and "cultish robe" as Cult Robe.

Instead of taking robes:
	say "You pick one of the cult robes up, and feel how satin-y the fabric is. These cultists may be evil, but they have a damn good seamstress.";
	now the player carries Cult Robe;

Before wearing robes:
	say "You put on the cult robes, now becoming indistinguishable from another member of the cult.";
	now player is wearing Cult Robe;
	stop the action;

Hot YogaRoom is a culty room. Hot YogaRoom is east of Cult Main Hallway. "A room with yoga balls, mats, a large mirror, and several red glowing sigils. Your standard hot yoga room.[PossDirections]".
Culture Main Hallway is west of Hot YogaRoom.
The printed name of Hot YogaRoom is "Hot Yoga Room".

Yoga Balls are things in Hot YogaRoom. "The yoga balls are a bright red, and are quite large. They are made of a rubbery material, and are quite bouncy. They seem affixed by some dark, theft preventing magic."
Yoga Balls are fixed in place.
Understand "yoga balls" and "yoga ball" and "ball" and "balls" as Yoga Balls.

Yoga Mats are things in Hot YogaRoom. "The yoga mats are a glossy green color, and are large enough to allow anyone to participate in the yoga activities. While these are not affixed by magic, the clear amount of sweat caked onto them is reason enough to not touch them."
Yoga Mats are fixed in place.
Understand "yoga mats" and "yoga mat" and "mat" and "mats" as Yoga Mats.

Yoga Mirror is a thing in Hot YogaRoom. "The tall wide mirror takes up the western wall of the studio. In addition to yourself, you can see the various swirling souls of those who came before you."
Yoga Mirror is fixed in place.
Understand "mirror" and "yoga mirror" as Yoga Mirror.

Arcane Sigils are things in Hot YogaRoom. "The sigils glow a bright neon red color. They surround the balls and mats, swirling around some, and making sharp corners around others. The intensity of the glow fluctuates, almost as if to suggest breath."
Arcane Sigils are fixed in place.
Understand "sigils" and "sigil" and "arcane sigils" and "arcane sigil" as Arcane Sigils.

Yogaing is an action applying to nothing. Understand "yoga" and "do yoga" and "do hot yoga" and "hot yoga" as Yogaing.

Carry out Yogaing:
	say "As you do various yoga poses, the sigils on the ground burn brighter than before and the souls on the mirror swirl much more viciously. As you feel your tension melt away, you begin to hear an ethereal voice.";
	say "'Hey this is the person who programmed this room, why in the world are you doing yoga in a cult hideout? This room is F I L L E R! Go do the interesting thing here, don't just dilly dally!'";
	say "Does this mean you've reached nirvana?"

Central Cult Hallway is a culty room. Central Cult Hallway is north of Cult Main Hallway. "A crossroad hallway in the cults hideout, allowing you to go to many other sections in the cult.[PossDirections]".

East Cult Hallway is a culty room. East Cult Hallway is east of Central Cult Hallway. "A hallway in the cults hideout, allowing you to go to many other sections in the cult.[PossDirections]".
West Cult Hallway is a culty room. West Cult Hallway is west of Central Cult Hallway. "A hallway in the cults hideout, allowing you to go to many other sections in the cult.[PossDirections]".
North Cult Hallway is a culty room. North Cult Hallway is north of Central Cult Hallway. "A hallway in the cults hideout, allowing you to go to many other sections in the cult.[PossDirections]".

Central Cult Hallway is west of East Cult Hallway, east of West Cult Hallway, and south of North Cult Hallway.
Main Cult Hallway is south of Central Cult Hallway.

Hot YogaRoom is south of East Cult Hallway.
Robe Chamber is south of West Cult Hallway.

Cult Classroom is a culty room. Cult Classroom is north of West Cult Hallway and west of North Cult Hallway. "A classroom in the cults hideout. It must be where all the young kids become young cultists.[PossDirections]". 

Desks are things in Cult Classroom. "The desks of the cult's students. On them are various drawings of how the kids view their life in the cult."
Desks are fixed in place.
Understand "desks" or "desk" or "student desks" or "student desk" or "classroom desks" or "classroom desk" or "class desks" or "class desk" or "cult desks" or "cult desk" as Desks.

DeskDrawings is a list of text that varies. DeskDrawings is {"On it is a drawing of a student atop a corn monster. They ride it into battle on the middle of the quad, and the monster appears to be shooting out a beam of boiling hot high fructose corn syrup at Altgeld Hall.", "On it are several drawings of the corn squirrel. One of them depicts the corn squirrel in an anime art style, with it's eyes being hyper-cute corn cobs. In another, it's depicted in a film noir style - with the corn squirrel in a dimly lit office, smoking a match.", "On it is a drawing of an S made up of 14 lines."}.

Instead of examining Desks:
	let drawing be a random member of DeskDrawings;
	say "You glance at one of the desks. [drawing]";

Blackboard is a thing in Cult Classroom. "The blackboard is covered in scribbles and equations. It can best be described as what algebra would be if every variable was a style of corn and not a letter. You hated it when they brought letters into math, you can't begin to think of what it would be like if they brought corn into math."
Blackboard is fixed in place.

Instead of examining Blackboard:
	say "All you know is that dcorn/dt is something that scares you."

NorthMorrowMonsterDoor is a MorrowMonsterDoor in North Cult Hallway. "There is a door to the east. It is tightly locked, bright flashes emanate from it occasionally."
WestMorrowMonsterDoor is a MorrowMonsterDoor in East Cult Hallway. "There is a door to your north. It is tightly locked, bright flashes emanate from it occasionally."
The printed name of NorthMorrowMonsterDoor is "Locked, Flashing Door".
The printed name of WestMorrowMonsterDoor is "Locked, Flashing Door".
Understand "door" and "locked door" and "flashing door" and "locked flashing door" and "locked flashing doors" and "flashing doors" and "flashing door" and "doors" and "door" as NorthMorrowMonsterDoor.
Understand "door" and "locked door" and "flashing door" and "locked flashing door" and "locked flashing doors" and "flashing doors" and "flashing door" and "doors" and "door" as WestMorrowMonsterDoor.

Instead of going east in North Cult Hallway:
	say "You try to go east, but the door is locked. You can't go that way.";

Instead of going north in East Cult Hallway:
	say "You try to go north, but the door is locked. You can't go that way.";


To say MorrowMonsterRoomDescription:
	say "You look through the window embedded into the door, inside the flashing room. You see a group of cultists performing an arcane ritual with what looks like the mutant vegetation in the middle. Or at least half of it.";
	say "Surrounding it is a complex sigil, oscillating between being green and red. For every time it's green, the creature raises in the air and begins writhing, and every time it turns red the creature falls back to the ground motionless.";
	say "A scientist enters from another inaccessible door, takes some notes, and leaves."

Instead of examining a MorrowMonsterDoor:
	say "[MorrowMonsterRoomDescription]";

ExperimentRoom is a culty room. ExperimentRoom is north of North Cult Hallway. "A room containing a single pedestal. Atop it is a book entitled ``The Experiment''."
The printed name of ExperimentRoom is "Experiment Room".

North Cult Hallway is south of ExperimentRoom.

Pedestal is a scenery supporter in ExperimentRoom.
The description of Pedestal is "The pedestal is made of a dark stone. It is quite sturdy, and has a book atop it. In the dark stone appears to be several carved sigils, all looking suspiciously like corn cobs."

Experiment Book is a readable thing on Pedestal. "The book is entitled ``The Experiment.'' It is a dark red color, and has a picture of an ear of corn on it. A dark viscous energy seems to emanate forth from it." 
Understand "book" and "experiment book" and "experiment" and "results book" and "book of results" and "book of experiments" and "corn book" and "ear of corn book" and "The Experiment" as Experiment Book.

To ExamineExperimentBook:
	say "The book contains phonographic writing and pictographic displays of what can best be described as spells. One of the pages is bookmarked. On it is a picture of a great tower in the middle of a field, along with a spell beginning with 'Hash, Galagh, Künig...'";
	choose a row with a convotopic of CTResult in the Table of CSCT Meta;
	now the enabled entry is true;
	choose a row with a convotopic of CTBellTower in the Table of CSCT Meta;
	now the enabled entry is true;

Instead of examining Experiment Book:
	ExamineExperimentBook.

Instead of reading Experiment Book:
	ExamineExperimentBook.


ACESLibraryInterior is inside from ACES Library.

old framed photograph is scenery in ACESLibraryInterior.
Instead of examining old framed photograph:
	say "You examine the photograph closely. A small group of students is standing in the middle of a herd of goats. One of the goats appears to be smiling. You rub your eyes and look again. Sure enough, it is looking straight out of the photograph right into your eyes. You're not sure if it is cute or creepy, but you can't help yourself from reaching out to touch the surface of the photograph. You pull your finger back quickly -- as the tiny goat in the photograph lets out an earsplitting bleat! He seems to be bleating 'funky' which is funny, considering you are standing in the Funk Library. And then... poof! The entire photograph, goat and all disappears from the wall. You rub your eyes and forehead which feel achy and heavy again.";
	now ACESMemory is Completed;
	now old framed photograph is nowhere;
	now the right hand status line is "funky";
	stop the action.

WorldSquirrelStatusDisplaying is an action applying to nothing. Understand "ws status" as WorldSquirrelStatusDisplaying.

Carry out WorldSquirrelStatusDisplaying:
	say "Spurlock Memory Quest: [SpurlockMemoryQuestStatus]";
	say "Altgeld Memory Quest: [AltgeldMemoryQuestStatus]";
	say "Grainger Memory Quest: [GraingerMemoryQuestStatus]";
	say "ACES Memory Quest: [ACESMemoryQuestStatus]";
	say "Art Design Memory Quest: [ArtDesignMemoryQuestStatus]";
	say "Illini Union Memory Quest: [UnionMemoryQuestStatus]";
	say "Fab Lab Memory Quest: [FabLabMemoryQuestStatus]";
	say "Siebel Memory Quest: [SiebelMemoryQuestStatus]";
	say "Armory Memory Quest: [ArmoryMemoryQuestStatus]";
	say "Lincoln Memory Quest: [LincolnMemoryQuestStatus]";
	say "Morrow Plots Memory Quest: [MorrowPlotsMemoryQuestStatus]".

To say SpurlockMemoryQuestStatus:
	if NumSpurlockMemoryFragmentsFound is 3:
		say "Completed ([SpurlockMemory])";
	else:
		say "Incompleted ([NumSpurlockMemoryFragmentsFound] / 3 memory fragments found)"

To say AltgeldMemoryQuestStatus:
	if AltgeldMemory is Completed:
		say "Completed";
	else:
		say "Incompleted".

To say GraingerMemoryQuestStatus:
	if GraingerMemory is Completed:
		say "Completed";
	else:
		say "Incompleted".

To say ACESMemoryQuestStatus:
	if ACESMemory is Completed:
		say "Completed";
	else:
		say "Incompleted".

To say ArtDesignMemoryQuestStatus:
	if ArtDesignMemory is Completed:
		say "Completed";
	else:
		say "Incompleted".

To say UnionMemoryQuestStatus:
	if UnionMemory is Completed:
		say "Completed";
	else:
		say "Incompleted".

To say FabLabMemoryQuestStatus:
	if FabLabMemory is Completed:
		say "Completed";
	else:
		say "Incompleted".

To say SiebelMemoryQuestStatus:
	if SiebelMemory is Completed:
		say "Completed";
	else:
		say "Incompleted".

To say ArmoryMemoryQuestStatus:
	if ArmoryMemory is Completed:
		say "Completed";
	else:
		say "Incompleted".

To say LincolnMemoryQuestStatus:
	if LincolnMemory is Completed:
		say "Completed";
	else:
		say "Incompleted".

To say MorrowPlotsMemoryQuestStatus:
	if MorrowPlotsMemory is Completed:
		say "Completed";
	else:
		say "Incompleted".


Book 2 - Welcome to the U of I

Part 1 - WelcomeSquirrel


colorful scarf is a wearable thing. WelcomeSquirrel is wearing colorful scarf. 
Understand "scarf" and "blue scarf" and "orange scarf" and "orange and blue scarf" and "blue and orange scarf" as colorful scarf. 

The description of colorful scarf is "The scarf has been knitted in the school colors of the University of Illinois, orange and blue. They are exactly the colors of a Belted Kingfisher."

Instead of taking colorful scarf: 
	say "The squirrel chitters at you irritably. You're not getting that scarf."
	
a welcogami is a readable, origamiable, photogenic thing. 
WelcomeSquirrel is carrying a welcogami. 

The printed name of a welcogami is "scavenger hunt list". 
Understand "flier" and "schedule" and "schedule of events" and "folded piece of paper" and "piece of folded paper" and "piece of paper" and "origami" and "paper" and "piece of origami" and "Scavenger Hunt List" and "the list" and "list" as Welcogami. 

To say WelcomeSquirrel Appearance:
	if WelcomeSquirrel has Welcogami:
		say "A spirited squirrel is here, trying to get your attention. ";
		stop the action;
	else: 
		say "There is a squirrel here, searching the grass near your feet. "
 
Does the player mean examining WelcomeSquirrel when WelcomeSquirrel is in the location: 
	it is very likely.

Does the player mean talking to WelcomeSquirrel when WelcomeSquirrel is in the location:
	it is very likely.
	
Does the player mean taking WelcomeSquirrel when WelcomeSquirrel is in the location:
	it is very likely.

Does the player mean interrogating WelcomeSquirrel about Blue Waters: it is very likely.

Rule for clarifying the parser's choice of WelcomeSquirrel: say "".
Rule for clarifying the parser's choice of Blue Waters: say "".

Instead of taking Welcogami:
	say "You pluck the origami from the squirrel's tiny fist. It unfolds itself and magically expands into a colorful [bold type]flier [roman type]with [italic type]Welcome to the U of I [roman type]written across the top."; 
	now player has Welcogami. 

Instead of reading Welcogami when WelcomeSquirrel is holding Welcogami:
		say "You can't read what it says while the squirrel is holding it."

Instead of examining Welcogami: 
	if WelcomeSquirrel is carrying Welcogami:
		say "The tiny origami looks to have been folded into the shape of the state of Illinois. You are impressed! The squirrel holds it out, so that you can more easily [bold type]take it[roman type].[line break]";
	else if player is carrying Welcogami:
		say "[if Welcogami is unexamined]The top of the flier informs you that the last campus tour of the day is beginning shortly on the grass area outside Alice Campbell Alumni Center, which is a six minute walk due east from the center of the Quad. The rest of the flier is something about a scavenger hunt. [end if]You can [bold type]read the rules [roman type]of the Scavenger Hunt or [bold type]check the list [roman type]for items you still have to find.";
		now Welcogami is examined.
		
Instead of unfolding Welcogami:
	if WelcomeSquirrel is carrying Welcogami:
		say "The squirrel won't let you do that.";
	else:
		say "The origami has already been unfolded."

Instead of folding Welcogami:
	say "Unfortunately you don't have the skill."

Instead of examining WelcomeSquirrel:
	if player is carrying WelcomeSquirrel or player is wearing WelcomeSquirrel:
		say "You can't see it very well on your shoulder, but you certainly know it's there, because it's fur is making your ear itch, but you don't want to scratch it and risk getting bit or something.";
		stop the action; 
	if player is carrying Welcogami and player is not carrying WelcomeSquirrel:
		say "The squirrel seems very invested in the Scavenger Hunt. It is pointing to the north, towards the student Union, and to the southwest towards Lincoln Hall. It draws some wild circles in the air, which you interpret to mean that you'll find the what you need in pretty much every direction.";
		stop the action;
	if WelcomeSquirrel is carrying Welcogami:
		say "The squirrel looks almost exactly like the other squirrels you will find across the University of Illinois campus, except that this one is wearing a blue and orange striped scarf that trails onto the ground behind it. It is carrying an [bold type]origami[roman type] in its tiny little fist.";
		stop the action.

Table of Scavenger Hunt Hints
reference						hint
Blue Jay Feather Reference							"The feather fell atop the Elm,[line break]
										Resting above the squirrel realm,[line break] 
										Look upon the branch and see,[line break]
										An unknown language family."
Eternal Flame Reference						"‘A lover’s kiss will bring eternal bliss’,[line break]
											Though ‘eternal’ seems a bit amiss,[line break] 
										Merely words and English phrase,[line break]
										Electric fire not yet ablaze."
Fish Tank Reference								"Listen here, bub – Glub glub,[line break]
										We’re at the center of a social hub,[line break]
										Come and grab a coffee drink,[line break]
										Then sit and lounge and have a think."
Artemis Reference								"The Goddess stands with coins replete,[line break]
										Water trickling below her feet,[line break]
										A simple offering is all one ought,[line break]
										Perhaps a penny for her thought?"
Lincoln's nose Reference							"Rub the nose to bring good luck,[line break]
											The eyes may leave one terror-struck,[line break]
											A glare felt throughout the hall,[line break]
											Who knew a bust could move at all?"
Glowering Stone Reference					"Sunder statues and silent stares,[line break] 
											Some say sullen, some say scared,[line break]
											South of steps and seats and stage,[line break] 
											Solemnly sits the shadowed sage."
Experimental Corn Reference						"Who knew agricultural experimentation -[line break]
											Would lead to mutant vegetation?[line break]
											I can honestly think of no campus spots -[line break]
											As sacred as the Morrow Plots!"
Small Sundial Reference						"Sunlight sprinkles upon the dial,[line break]
											Time has flown – been here a while?[line break]
											Your watch and time look at odds,[line break]
											You may fix this here, between two quads."
Weeping Statues Reference						"Weeping, wallowing, wonder why?[line break]
											Oh - they’re waiting for you to walk by![line break]
											But wait… oh no… oh gosh… oh dear![line break]
											I’ve forgotten which library they’re near!"
Eye of Sauron Reference							"An eye in the sky that also sings,[line break]
											It bellows each hour with rhythmic tings,[line break]
											Overlooking the entire south quad in style,[line break]
											A staring contest would surely take a while!"
Alien Graffiti Reference							"X marks the spot! Or maybe not quite…[line break]
												Just a bit south and you’ll see it alright,[line break]
												Admire the artwork and before you leave,[line break]
												Take a picture and say ‘I want to believe!’"
Astronomical Grue Reference				"Does a 12-foot refractor sound cool to you?[line break]
												Great! Just watch out for the Astronomical Grue![line break]
												If you’re into stargazing, then this is the spot![line break]
												Just head on over to the Morrow Plots!"
Monolithic Football Player Reference					"Football! Football! Orange Krush unite![line break]
												Nothing like a game on a Friday night![line break]
												Head to Memorial Stadium to see the game,[line break]
												And make sure to snap a pic of famous ‘Red’ Grange!"
Sad-Eyed Beagle of the Lowlands Reference	"This sad looking puppy is sure hard to find,[line break]
												Luckily there’s a drink that’ll help you unwind,[line break]
												I hear they serve it at the YMCA,[line break]
												This stuff will help you see Gregory in a different way."
Alma Mater Statue Reference							"Another statue by Lorado Taft?[line break]
												Let’s make sure this one lasts![line break]
												‘Her children arise up and call her Blessed’,[line break]
												There’s Labor and Learning, but Alma’s the best!"
Mananaan Reference								"Mananaan - the ancient Irish god of the sea,[line break]
												Now where would that be? Where would that be?[line break]
												Ah, yes – I remember now, stranger![line break]
												Mananaan is just south of good ol’ Grainger!"
Serious Larper Reference					"At the research institute far north from the quad,[line break]
												Stands a tall man who may seem a bit odd,[line break]
												Equipped with a wizard’s robe, hat, and staff,[line break]
												LARPing is serious – so try not to laugh!"
Blue Waters Reference								"Thirteen quadrillion calculations per second,[line break]
												Wow! That’s a lot of thinking, I reckon![line break]
												Blue Waters can handle all your computing needs,[line break]
												With a huge amount of space, and super-fast speed!"
Burrito King Food Truck Reference					"Morning - a place for telecommunication,[line break]
												Noon - a place for transportation,[line break]
												Evening - a place for performer hearts,[line break] 
												Night - a center for design and arts."
Atomic Bomb Reference							"To the north is a place of artful creation,[line break]
												But this is a place of world devastation,[line break]
												Nuclear power and evil men,[line break]
												Wait for the call from an old friend."
Nick Offerman Gazebo Reference				"A lovely tribute to his sensei and mentor,[line break]
												Could you possibly ask for anything more?[line break]
												Not sure where to look? Then I beg your pardon,[line break]
												Try taking a stroll south of Idea Garden!"
Angry Cyborg Reference						"Ever been to the Fab Lab? That place sure is fun,
												It’s the best place to get your 3D printing done!
												But be wary of walking around with meteor dust,
												There are some robots you just can’t trust!"
	
	
Blue Jay Feather Reference is a Triggerword. 
Understand "bluejay" and "blue jay" and "feather" and "blue jay feather" and "bluejay feater" and "bird feather" as Blue Jay Feather Reference.

Eternal Flame Reference is a Triggerword. 
Understand "eternal" and "flame" and "eternal flame" and "eternal fire" as Eternal Flame Reference.

Fish Tank Reference is a Triggerword. 
Understand "fish" and "tank" and "fish tank" as Fish Tank Reference.

Artemis Reference is a Triggerword. 
Understand "artemis" as Artemis Reference.

Lincoln's nose Reference is a Triggerword. 
Understand "lincoln" and "nose" and "lincoln nose" and "lincolns nose" as Lincoln's nose Reference.

Glowering Stone Reference is a Triggerword. 
Understand "glowering" and "glowering stone" and "stone" as Glowering Stone Reference.

Experimental Corn Reference is a Triggerword. 
Understand "experimental" and "corn" and "experimental corn" as Experimental Corn Reference.

Small Sundial Reference is a Triggerword. 
Understand "sundial" and "small sundial" as Small Sundial Reference.

Weeping Statues Reference is a Triggerword. 
Understand "weeping" and "weeping statue" and "weeping statues" as Weeping Statues Reference.

Eye of Sauron Reference is a Triggerword.
Understand "eye" and "sauron" and "eye of sauron" as Eye of Sauron Reference.

Alien Graffiti Reference is a Triggerword.
Understand "alien" and "graffiti" and "alien graffiti" as Alien Graffiti Reference.

Astronomical Grue Reference is a Triggerword.
Understand "astronomical" and "grue" as Astronomical Grue Reference 

Monolithic Football Player Reference is a Triggerword.
Understand "football" and "football player" as Monolithic Football Player Reference.

Sad-Eyed Beagle of the Lowlands Reference is a Triggerword.
Understand "beagle" and "sad-eyed" and "lowlands" as Sad-Eyed Beagle of the Lowlands Reference

Alma Mater Statue Reference is a Triggerword.
Understand "alma" and "mater" and "alma mater" as Alma Mater Statue Reference.

Mananaan Reference is a Triggerword.
Understand "mananaan" as Mananaan Reference.

Serious Larper Reference is a Triggerword.
Understand "serious" and "larper" and "serious larper" as Serious Larper Reference.

Blue Waters Reference is a Triggerword.
Understand "blue" and "waters" and "blue waters" as Blue Waters Reference.

Burrito King Food Truck Reference is a Triggerword.
Understand "burrito" and "king" and "burrito king" and "food truck" as Burrito King Food Truck Reference

Atomic Bomb Reference is a Triggerword.
Understand "atomic" and "bomb" and "atomic bomb" as Atomic Bomb Reference.

Nick Offerman Gazebo Reference is a Triggerword.
Understand "nick" and "offerman" and "nick offerman" and "gazebo" as Nick Offerman Gazebo Reference.

Angry Cyborg Reference is a Triggerword.
Understand "angry" and "cyborg" and "angry cyborg" as Angry Cyborg Reference.


WelcomeSquirrelConversing is a truth state that varies. WelcomeSquirrelConversing is false.

FirstSquirrelSpeak is a truth state variable.

Check interrogating it about:
	if noun is WelcomeSquirrel:
		try talking to the WelcomeSquirrel;
		stop the action.

Does the player mean interrogating WelcomeSquirrel about something: it is very likely. 

Rule for clarifying the parser's choice of the WelcomeSquirrel: say "". 
	
	
Instead of talking to the WelcomeSquirrel:
	if WelcomeSquirrel is not in the location:
		say "There's no squirrel in sight.";
		stop the action;
	else if Welcogami is examined:
		if FirstSquirrelSpeak is false:
			say "To your surprise the squirrel begins to speak! 'Hello human person. Don't look so surprised.' He laughs a little squirrley laugh. ";
		else:
			say "The squirrel [one of]scratches under one arm [or]yawns [or]chitters for a moment [or]scrutinizes you [or]appears a little bored [at random]. ";
		say "'Ask me about anything on the list and I'll give you a hint. But only once an hour. More would be cheating!'";
		now FirstSquirrelSpeak is true;
		now WelcomeSquirrelConversing is true;
	else: 
		say "The squirrel doesn't want to talk to you just yet."

WelcomeTriggerWord is a Triggerword that varies. 


After reading a command when WelcomeSquirrel is in the location and WelcomeSquirrelConversing is true:
	if the player's command includes "[Triggerword]":
		now WelcomeTriggerWord is the Triggerword understood;
		if WelcomeTriggerWord is Leaving:
			choose a random row in the Table of Goodbyes;
			say "The squirrel says '[Reply entry]' and then goes back to foraging through the grass.";
			now WelcomeSquirrelConversing is false;
			stop the action;
		else: 
			if there is a hint corresponding to the reference of WelcomeTriggerWord in the Table of Scavenger Hunt Hints:
				Let HINT be the hint corresponding to the reference of WelcomeTriggerWord in the Table of Scavenger Hunt Hints;
				say "The squirrel stands up on its hint legs, rests its front paws on its little white belly and begins to recite.[paragraph break]";
				say "[HINT][paragraph break]";
				say "The squirrel drops back to the ground, scurries off across the quad and disappears under a bush."; 
				now WelcomeSquirrel is nowhere;
				now WelcomeSquirrelConversing is false;
				WelcomeSquirrelReturns in 60 turns from now;
				stop the action;
	else:
		say "The squirrel shakes its little head, pointing at the checklist.";
		stop the action.

At the time when WelcomeSquirrelReturns:
	now WelcomeSquirrel is in Grassy Expanse; 
	now initial appearance of WelcomeSquirrel is "The spirited squirrel is back and lounging here in the grass." 

	
[
Instead of taking WelcomeSquirrel:
	try taking UbiquitousSquirrel.
	say "The squirrel avoids your attempt to pick it up, and chitters with annoyance.";

	else:
		say "The squirrel evades your grasp and looks fed up with you. It turns away and folds another origami, looking for someone else to help. Bad call!" 
]
		
hunt rules is a scenery part of Welcogami.  
		
Instead of reading hunt rules: 
	say "[bold type]Scavenger Hunt Rules[roman type][line break]
1. Search the campus for curiosities on the list.[line break]
2. Snap a picture of each one after you find it.[line break] 
3. Check the list to check your progress. [line break]
4. Snap a picture of the completed list. [line break]
5. Visit the Illini Union Help Desk to pick up your prize! [line break]";
	stop the action.

Instead of reading Welcogami:
	try examining Welcogami.

Instead of checking Welcogami: 
	if the number of unsnapped scavengerhuntable things is 0:
		say "You have found everything on the Scavenger Hunt List! Now just snap a picture of the list and head to the Union Help Desk!";
	if the number of unsnapped scavengerhuntable things is greater than 0:
		say "[italic type]You must find:[roman type][line break]";
		let x be the list of unsnapped scavengerhuntable things;
		repeat with y running through x:
			say "[y][line break]";
	if the number of snapped scavengerhuntable things is greater than 0:
		say "[line break][italic type]You have found:[roman type][line break]";
		let z be the list of snapped scavengerhuntable things;
		repeat with y running through z:
			say "[y][line break]".
			
Instead of jumping when player has Welcogami:
	let z be the list of unsnapped scavengerhuntable things;
	repeat with y running through z:
		now y is snapped. 

PlushSquirrel is a thing.
The description of PlushSquirrel is "This adorable University of Illinois plushie looks astonishingly like a real squirrel. You really really really hope that it is made from artificial fibers." 

Understand "squirrel" and "stuffed squirrel" and "squirrel plushie" and "plushie" as PlushSquirrel.
The printed name of PlushSquirrel is "Plush Squirrel".


Instead of examining HelpDeskReceptionist: 
	if number of unsnapped scavengerhuntable things is 0 and player is not carrying PlushSquirrel: 
		say "The Help Desk Receptionist counts the pictures that you took during your scavenger hunt. 'Congratulations!' they say enthusiastically. 'Well done! And here is your prize!' They hand you a small stuffed squirrel wearing an orange and blue scarf. It looks just like the squirrel you met on the Quad.'";
		now player has PlushSquirrel;
		stop the action;
	else if number of unsnapped scavengerhuntable things is 0 and player is carrying PlushSquirrel:
		say "You already got your scavenger hunt prize! No double-dipping!";
		stop the action;
	else: 
		say "he Help Desk Receptionist counts the pictures that you took during your scavenger hunt. 'Nope,' they say. 'You haven't found everything on your Scavenger Hunt list yet.'"
		
Instead of asking HelpDeskReceptionist about something:
	say "They mumble a reply, while talking on the phone to someone else, and you realize that you'll need to get your answers elsewhere."	

Part 2 - Campus Tour

your i-STAR guide is a photogenic scenery man in Alice Campbell Alumni Center. 

Understand "Justin" as your i-STAR guide.

[This allows the guide to answer questions about any building -- remember that reference to buildings as objects is only through their room proxy -- so you can interrogate i-start guide about SpurlockMuseum, but not about Spurlock Museum -- the first is a room proxy, the second is a location, which has not long description! ]

After deciding the scope of the player while your i-STAR Guide is in the location: 
	if the noun is a roomproxy:
		place noun in scope. 

Instead of photographing your i-STAR guide for the first time:
	say "Justin smiles for the camera, making a peace sign by his face.";
	now your i-STAR guide is snapped.
	
Instead of photographing your i-STAR guide: 
	say "You've already photographed him! How many pics of your guide do you honestly need? He's waiting for you to follow him."

Instead of saying yes in the presence of your i-Star guide:
	say "Justin smiles. 'Great, Let's get moving. Just follow me!'"

Instead of saying no in the presence of your i-Star guide:
	say "No? Well, that's okay with me." 

[This is the code that controls the first meeting with the guide]

FirstJustinDescription is a truth state variable.
JustinApology is a truth state variable.
JustinTalkToggle is a truth state variable. 

Every turn when player is in Alice Campbell Alumni Center and FirstJustinDescription is false:
	say "Small groups of students are following tour guides in various directions away from here.  Only one campus tour guide is left.  His name tag declares him to be 'Justin.' You see him looking down at his smart watch. Oh-oh, are you late? You check your unsmart watch and realize that it's running slow again.";
	now FirstJustinDescription is true;
	now i-STAR guide is in the location;
	stop the action.

every turn when i-STAR guide is in the location:
	say "Justin looks at you expectantly."
	
Instead of examining your i-STAR guide when JustinApology is false:
	try talking to your i-STAR guide.
	
Instead of examining your i-STAR guide when JustinApology is true:
	say "[one of]Justin has a friendly face. He is one of enthusiastic campus tour guides. If you [bold type]follow Justin[roman type] he will take you on a tour of the U of I campus. if you [bold type]listen to Justin[roman type] or [bold type]ask Justin about[roman type] one of the nearby buildings, he'll tell you about the sights of the campus.[or]Justin looks at you expectantly, in case you have a question.[or]Justin looks thoughtful.[or]Justin quickly sends a text.[or]Justin smiles at you in an encouraging welcome to Illinois kind of way.[or]You can follow Justin to the next destination, or wander away from the tour.[or]Justin encourages you to follow him to the next destination.[or]Justin patiently waits for you to follow him.[or]It is astonishing how cheerfully Justin does his job.[stopping]".			


Instead of talking to your i-STAR guide when JustinApology is false: 
	say "You walk up to Justin and apologize for being late. 'No problem!' he says. 'Welcome to the i-STAR Tour brought to you by the Office of Undergraduate Admissions! My name is Justin and I'll be your guide! We'll be walking in a big circle around the campus and end up back here again. At the moment we're standing between the [bold type]Alice Campbell [roman type] Alumni Center and the Office of [bold type]Admissions [roman type]and Records.'[paragraph break]You can [bold type]listen to Justin [italic type]to hear the next topic on the tour, [bold type]ask about [italic type]a specific building he mentions, or [bold type]follow Justin[italic type] to leave this location and move to the next.[roman type][line break]";
	now JustinApology is true. 

Instead of talking to your i-STAR guide:
	say "Justin is perfectly willing to chat with you, but you notice he keeps checking his watch.  Probably it would be better to either [bold type]listen[roman type] to Justin or [bold type]follow [roman type]him."
	
[This is the code that shows how to respond to "listen to justin" for each location. The default is to give one set of information, for each notable site, unless they ask for more, and then to move on automatically to the next site, even if the player doesn't say follow justin -- that stops the tour and moves to the next place ]

AliceExplained is a truth state variable.
[you could use a number variable isntead of a truth variable, for any topic where they might ask more than twice, or the tour guide has more than two things to say about a single topic. We could also do this in a table, but I think it will be easier to edit like this. We may change our minds later if the tour text gets out of control. ]

JustinPrepares is a text variable. 


To say JustinPrepares:
	say "[one of]Justin smiles.[or]Justin points as he explains.[or]Justin checks his notes. Just kidding. He doesn't need to.[or]Justin indicates the sight in front of you.[or]Justin addresses the tour group cheerfully.[or]Justin whispers to you confidentially.[or]Justin chuckles to himself for a moment before he speaks.[or]Justin assesses the interest of the group before speaking.[or]Justin excuses himself for a moment to answer a text before continuing his description of campus sights.[or]Justin grins enthusiastically.[in random order][line break]".
	
instead of listening when your i-STAR guide is in the location:
	try listening to your i-STAR guide.

Instead of listening to your i-STAR guide when player is in alice campbell alumni center:
	if AliceExplained is false:
		say "[JustinPrepares]'The U of I boasts an astonishing 470,000 alumni! It's a great community to join. Among them are film critic Roger Ebert, actor Nick Offerman, athlete Dick Butkus, director Ang Lee, 11 Nobel Prize winners and 18 Pulitzer Prize winners!'";
		now AliceExplained is true; 
	else if AdmissionsExplained is false:
		say "[JustinPrepares] 'Our admissions office is open to help you, and we encourage you to speak with a counselor if you have any questions at the conclusion of our tour!'";
		now AdmissionsExplained is true; 
	else: 
		say "Justin announces that it's time to move along towards Spurlock Museum. '";
		try following your i-STAR guide.

Instead of asking your i-STAR guide about "Alice Campbell": 
	if AliceExplained is false:  
		say "The U of I boasts an astonishing 470,000 alumni! It's a great community to join. Among them are film critic Roger Ebert, actor Nick Offerman, athlete Dick Butkus, director Ang Lee, 11 Nobel Prize winners and 18 Pulitzer Prize winners!'";
		now AliceExplained is true; 
	else:
		say "The Alice Campbell Alumni Center is one of our newest buildings on campus, it features an exhibit on the history of the University of Illinois, two grand ballrooms, and office space for our alumni to meet with faculty of the university. Personally, I also think it has the best bathrooms on campus!"

SpurlockExplained is a truth state variable.	

AdmissionsExplained is a truth state variable.
Instead of asking your i-STAR guide about "Admissions": 
	if AdmissionsExplained is false:  
		say "Our admissions office is open to help you, and we encourage you to speak with a counselor if you have any questions at the conclusion of our tour!'";
		now AdmissionsExplained is true; 
	else:
		say "The Office of Undergraduate Admissions is where each one of our nearly 20,000 applications submitted per year are holistically evaluated and thoroughly read through. Illinois is a competitive school, but we know how to have fun too, follow along to see what we're up to!"	

Instead of following your i-STAR guide when player is in Alice Campbell Alumni Center: 
	say "[line break]Justin strides away to the west, and you rush to keep up with him.";
	now player is in Spurlock Museum; 
	now your i-STAR guide is in Spurlock Museum. 

Instead of listening to your i-STAR guide when player is in Spurlock Museum:
	if SpurlockExplained is false:  
		say "The Spurlock Museum opened in 2002, which means that if it were a student, it would be applying with your class! It's open six days a week and it's totally free to visit! Inside are abour 45,000 artifacts from as long as one million years ago and from every continent except Antarctica. Sorry Antarctica.'";
		now SpurlockExplained is true; 
	else:
		say "Justin announces that it's time to move along towards Krannert Center for the Performing Arts. '";
		try following your i-STAR guide.		

[the space between the word Arts and the quote -- Arts. " -- above is deliberate; it reduces the extra space that is created by redirecting the player through the follow command ]	

[SpurlockMuseum requres "interrogating" as will any room proxy. Other notable sights on the tour can use "asking about" and put the key word in quotes ]

Instead of interrogating your i-STAR guide about SpurlockMuseum:
	if SpurlockExplained is false:  
		say "The Spurlock Museum opened in 2002, which means that if it were a student, it would be applying to U of I! It's open six days a week and it's totally free to visit! Inside are about 45,000 artifacts from as long as one million years ago and from every continent except Antarctica. Sorry Antarctica.'";
		now SpurlockExplained is true; 
	else:
		say "Some of my favorite exhibits are the suits of armor and and an ancient Egyptian mummy! Spurlock also provides tours, where you can learn more about the exhibits, and sometimes they have concerts of music from around the world!"

Does the player mean interrogating your i-STAR guide about SpurlockMuseum:
	it is very likely.
	
Instead of following your i-STAR guide when player is in Spurlock Museum:  
	say "[line break]Justin sprints to the north, past Levis. He waits for a bus to go by before crossing Gregory Street.";
	now player is in North Entrance to Krannert; 
	now your i-STAR guide is in North Entrance to Krannert. 

KrannertExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in North Entrance to Krannert:
	if KrannertExplained is false:
		say "Justin intone: 'Every year the Krannert Center for the Performing Arts hosts more than 350 performances, meaning almost every day there's something to see here. It is a two block wide structure, has five full size theaters including a grand concert hall, five individual levels, and two levels of underground parking.'";
		now KrannertExplained is true;
	else:
		say "Justin tells you it's time to move on to the Life Sciences buildings.'";
		try following your i-STAR guide.
		
Instead of asking your I-STAR guide about "Krannert":
	if KrannertExplained is false:
		say "Justin intone: 'Every year the Krannert Center for the Performing Arts hosts more than 350 performances, meaning almost every day there's something to see here. It is a two block wide structure, has five full size theaters including a grand concert hall, five individual levels, and two levels of underground parking.";
		now KrannertExplained is true;
	else:
		say "Justin explains that Krannert is home to the Theater and Dance departments, as well as the Opera Program at the school of Music. Its Great Hall is one of the most acoustically perfect halls in the world, and the whole building was designed by an Illinois graduate: Max Abramovitz."

Instead of following your i-STAR guide when player is in North Entrance to Krannert:  
	say "[line break]Justin leads you to the west, past Krannert Center for the Performing Arts and towards Burrill Hall. The traffic stops as Justin carefully enters the crosswalk. He motions for you to follow, and the two of you cross the street.'";
	now player is in Burrill Hall; 
	now your i-STAR guide is in Burrill Hall. 
		
BurrillExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Burrill Hall:
	if BurrillExplained is false:
		say "Justin cheerily explains 'You are now standing between our two Life Sciences buildings: Burrill and Morrill Hall, the two are connected by a skyway above us, and they house mostly lab space and classrooms. One of the features of these buildings is their Cadaver Lab, a popular class location for human anatomy classes and biology. People are just dying to get in!'";
		now BurrillExplained is true;
	else:
		say "Justin checks his watch and says the tour is right on schedule, but that we should move on.";
		try following your i-STAR guide.

Instead of asking your I-STAR guide about "Burrill":
	if BurrillExplained is false:
		say "You are now standing between our two Life Sciences buildings: Burrill and Morrill Hall, the two are connected by a skyway above us, and they house mostly lab space and classrooms. One of the features of these buildings is their Cadaver Lab, a popular class location for human anatomy classes and biology. People are just dying to get in!";
		now BurrillExplained is true;
	else:
		say "There are two Engineering programs not within the College of Engineering: Chemical and Biomolecular Engineering in Liberal Arts and Sciences, and Agricultural and Biological Engineering in the College of Agricultural, Consumer, and Environmental Sciences or ACES. Both programs are housed in this cluster. In fact, our recently opened Medical School on campus focuses primarily on BioEngineering, furthering our place as a world-renowned STEM school and also creating the first engineering-based medical school in the world!"

Instead of following your i-STAR guide when player is in Burrill Hall: 
	say "[line break]Justin sets off west again towards the Natural History Building.";
	now player is in NaturalHistoryBuilding2024; 
	now your i-STAR guide is in NaturalHistoryBuilding2024. 

NaturalHistoryExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in NaturalHistoryBuilding2015:
	if NaturalHistoryExplained is false:
		say "The Natural History Building is home to four academic departments: Integrative Biology, Geology, Geography, and Atmospheric Sciences. The building itself is over 125 years old, though looks just like new. Even older is the building situated just to the south of it, Harker Hall. [line break]Harker Hall is the oldest building on campus, having been built in 1877. It houses the University Foundation which organizes fundraising for the University.'";
		now NaturalHistoryExplained is true;
	else:
		say "Justin walks westward again towards a large grassy opening, the Quad.";
		try following your i-STAR guide.

Instead of asking your I-STAR guide about "Harker":
	if NaturalHistoryExplained is false:
		say "The Natural History Building is home to four academic departments: Integrative Biology, Geology, Geography, and Atmospheric Sciences. The building itself is over 125 years old, though looks just like new. Even older is the building situated next to it, Harker Hall. [line break]Harker Hall is the oldest building on campus, having been built in 1877. It houses the University Foundation which organizes fundraising for the University.";
		now NaturalHistoryExplained is true;
	else:
		say "To clarify, the Mumford House on the south quad was built in 1870, and is officially listed as the oldest STRUCTURE on campus. Because Mumford is currently not occupiable, Harker Hall takes the oldest building title."

Instead of asking your I-STAR guide about "Natural History":
	if NaturalHistoryExplained is false:
		say "The Natural History Building is home to four academic departments: Integrative Biology, Geology, Geography, and Atmospheric Sciences. The building itself is over 125 years old, though looks just like new. Even older is the building situated next to it, Harker Hall. [line break]Harker Hall is the oldest building on campus, having been built in 1877. It houses the University Foundation which organizes fundraising for the University.";
		now NaturalHistoryExplained is true;
	else:
		say "Inside is state of the art technology such as the hyperwall auditorium which visualizes live ocean currents, atmospheric circulations, and storms. Design-wise, the Natural History Building has a few fun secrets. Its flooring is designed to represent the geological time scale of Earth—each color represents a different era!"

Instead of following your I-STAR guide when player is in NaturalHistoryBuilding2024:
	now player is in Anniversary Plaza;
	now your I-STAR guide is in Anniversary Plaza.

QuadExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Anniversary Plaza:
	if QuadExplained is false:
		say "We are now on the northernmost part of the Main Quad. This is the center of student life at Illinois. Surrounded by major academic buildings and green grass, it has an Atlantic and Ivy League feel. Our first president John Milton Gregory designed it that way, to prove a world class university could be comfortably situated in the midwest. '";
		now QuadExplained is true;
	else:
		say "Justin takes his time to wait for you to have a chance to snap a few pictures before he turns on his heels and heads into the Illini Union behind him.";
		try following your i-STAR guide.

Instead of asking your I-STAR guide about "Quad":
	if QuadExplained is false:
		say "We are now on the northernmost part of the Main Quad. Surrounded by major academic buildings and green grass, it has an Atlantic and Ivy League feel. Our first president John Milton Gregory designed it that way to prove a world class university could be comfortably situated in the midwest.";
		now QuadExplained is true;
	else:
		say "Many events take place on this field, including Quad day, a chance for students to find clubs and organizations at the beginning of the academic year. Almost all of our 4,000 registered student organizations put up a table and talk with students about joining their club. [line break]If you'd like, feel free to take a few pictures!"

Instead of following your I-STAR guide when player is in Anniversary Plaza:
	say "[line break]Justin opens the grand doors of the Illini Union and you follow him down a long hallway.";
	now player is in Courtyard Cafe;
	now your I-STAR guide is in Courtyard Cafe.

UnionExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Courtyard Cafe:
	if UnionExplained is false:
		say "The Illini Student Union is the center of student life here at Illinois, it's estimated that over 20,000 people pass through here each day! This building was dedicated in 1941, and in 1942 First Lady Eleanor Roosevelt cut the cake for its 1st birthday! There's always something happening in this building, from concerts to art shows, but I think its south lounge is the perfect spot to take a nap.'";
		now UnionExplained is true;
	else:
		say "Justin turns around and leads you west once more out of the Union.";
		try following your i-STAR guide.

Instead of asking your I-STAR guide about "Union":
	if UnionExplained is false:
		say "The Illini Student Union is the center of student life here at Illinois, it's estimated that over 20,000 people pass through here each day! This building was dedicated in 1941, and in 1942 First Lady Eleanor Roosevelt cut the cake for its 1st birthday! There's always something happening in this building, from concerts to art shows, but I think its south lounge is the perfect spot to take a nap.";
		now UnionExplained is true;
	else:
		say "This is fantastic social space to study or meet friends. There is a full food court downstairs and a hotel upstairs! But you had better book your room now, the reservations fill up quick!"

Instead of following your I-STAR guide when player is in Courtyard Cafe:
	say "[line break]Outside, Justin heads towards a large brass statue with its back facing you.";
	now player is in Alma Mater;
	now your I-STAR guide is in Alma Mater.

AlmaExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Alma Mater:
	if AlmaExplained is false:
		say "This is Alma Mater, she was sculpted by Loredo Taft, a world famous sculptor and Illinois graduate! For over 90 years she has welcomed students to our university, in fact, it's tradition to take a picture with her when you start at Illinois and on the day you graduate. If you want, you can start early now!'";
		now AlmaExplained is true;
	else:
		say "Justin looks up to the wide clock face of the Illini Union and reports that the tour should keep moving to stay on schedule.";
		try following your i-STAR guide.

Instead of asking your I-STAR guide about "Alma":
	if AlmaExplained is false:
		say "This is Alma Mater, she was sculpted by Loredo Taft, a world famous sculptor and Illinois graduate! On either side of her are two figures who represent the Illinois motto: 'Learning and Labor'. [line break] [line break]For over 90 years the Alma Mater has welcomed students to our university, in fact, it's tradition to take a picture with her when you start at Illinois and on the day you graduate. If you want, you can start early now!";
		now AlmaExplained is true;
	else:
		say "Alma Mater is dressed up for special occasions—she held a basketball and wore a jersey and headband when the Illini made the Final Four in 2005, she was decorated with roses when the football team made it to the Rose Bowl in 2008, and she has been seen wearing mittens and a stocking cap during harsh winter days! [line break]Her inscription reads 'To thy happy children of the future, those of the past send greetings.'"

Instead of following your I-STAR guide when player is in Alma Mater:
	say "[line break]Justin heads south, you take one last look at Alma's welcoming arms before sprinting to catch up.";
	now player is in Altgeld Hall;
	now your I-STAR guide is in Altgeld Hall.
		
AltgeldExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Altgeld Hall:
	if AltgeldExplained is false:
		say "This is Altgeld Hall, it houses our Mathematics and Actuarial Science Departments. At almost every state university in Illinois there are similar gothic style 'castle' buildings, and at Southern and Northern there are also Altgeld Halls; all three named for John Altgeld, a Governor of Illinois. Legend says that there is a replica castle in Germany, if you put all the 'Altgelds' together, you can recreate the castle. Lucky we have the bell tower!'";
		now AltgeldExplained is true;
	else:
		say "Before we turn to continue on our tour, if you look to the north you'll get our closest view of the Bardeen quad, which houses nearly the entirety of our Grainger College of Engineering.[line break]Across the street you can see our thriving business district: Green Street, also known as Campus Town. It has tons of great restaurants and shops, and it's a great place to find good food from around the world.'";
		try following your i-STAR guide.	

Instead of asking your I-STAR guide about "Altgeld":
	if AltgeldExplained is false:
		say "This is Altgeld Hall, it houses our Mathematics and Actuarial Science Departments. At almost every state university in Illinois there are similar gothic style 'castle' buildings, and at Southern and Northern there are also Altgeld Halls; all three named for John Altgeld, a Governor of Illinois. Legend says that there is a replica castle in Germany, if you put all the 'Altgelds' together, you can recreate the castle. Lucky we have the bell tower!";
		now AltgeldExplained is true;
	else:
		say "The bell tower holds 15 bells, with the largest weighing over 300 pounds! It can nearly play a whole chromatic scale, but is missing two notes: D# and F.  The reason is because those notes are not present in the Illinois fight song, but also maybe because Illinois students don't get Ds or Fs![line break]Students can join an organization on campus to learn to play the chimes, in fact they hold a concert daily!"

Instead of following your I-STAR guide when player is in Altgeld Hall:
	say "[line break]Justin mentions that the tour is about to enter Champaign for the first and only time and walks south, past a few buildings which he says to pay attention to.";
	now player is in Illini Union Bookstore;
	now your I-STAR guide is in Illini Union Bookstore.
		
BookstoreExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Illini Union Bookstore:
	if BookstoreExplained is false:
		say "We are now standing outside the Illini Union Bookstore, inside you can find Illinois merchandise as well as every book on every class reading list.[line break]Earlier we passed the Student Services Arcade Building which houses the Career Services Center and the Office of Student Financial Aid.[line break]These two offices provide valuable services to students, the Career Center offers counseling to students in the form of resume workshops, their career library, interview critiques, workshops on salary negotiation and applying to graduate school. Illinois Grads are ranked #3 in the country by corporate recruiters thanks in part to the services provided here.[line break]The Office of Financial Aid offers walk-in hours from 9-4:30 Monday through Friday. At Illinois, 72% of students receive some sort of financial assistance and 100% of students with need receive need-based aid.'";
		now BookstoreExplained is true;
	else:
		say "Justin moves to cross the street, and you sprint after him.";
		try following your i-STAR guide.	

Instead of asking your I-STAR guide about "Bookstore":
	if BookstoreExplained is false:
		say "We are now standing outside the Illini Union Bookstore, inside you can find Illinois merchandise as well as every book on every class reading list.";
		now BookstoreExplained is true;
	else:
		say "All the proceeds from this store go towards funding student entertainment at the Illini Union as well as other programs held on the Quad like Spring Jam. After the semester, the Bookstore will buy back all your books and has a pricing tool for you to find the best price on your books even if it's not at the bookstore."
	
Instead of asking your I-STAR guide about "Career":
	if BookstoreExplained is false:
		say "The Career Center offers counseling to students in the form of resume workshops, their career library, interview critiques, workshops on salary negotiation and applying to graduate school. Illinois Grads are ranked #3 in the country by corporate recruiters thanks in part to the services provided here.";
		now BookstoreExplained is true;
	else:
		say "The Career Center hosts career fairs throughout the year which gives students the opportunity to meet and talk with potential employers. They also offer pre-professional academic advising for pre-med, pre-law, pre-pharmacy and others."

Instead of asking your I-STAR guide about "Aid":
	if BookstoreExplained is false:
		say "The Office of Financial Aid offers walk-in hours from 9-4:30 Monday through Friday. At Illinois, 72% of students receive some sort of financial assistance and 100% of students with need receive need-based aid.";
		now BookstoreExplained is true;
	else:
		say "The Office of Financial Aid offers walk-in hours from 9-4:30 Monday through Friday. At Illinois, 72% of students receive some sort of financial assistance and 100% of students with need receive need-based aid."
		
Instead of following your I-STAR guide when player is in Illini Union Bookstore:
	say "[line break]Justin crosses the street, careful to watch for the passing busses.";
	now player is in Henry Administration;
	now your I-STAR guide is in Henry Administration.
	
HenryExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Henry Administration:
	if HenryExplained is false:
		say "This is the David Dodds Henry Administration Building, despite its named administrative functions, students can take classes in its classroom spaces such as RHET 105 and MATH 220.'";
		now HenryExplained is true;
	else:
		say "Justin checks his watch and notes that is time to move on to the English Building.";
		try following your i-STAR guide.

Instead of asking your I-STAR guide about "Henry":
	if HenryExplained is false:
		say "This is the David Dodds Henry Administration Building, despite its named administrative functions, students can take classes in its classroom spaces such as RHET 105 and MATH 220.";
		now HenryExplained is true;
	else:
		say "The University Billing office is also inside, as well as University President Tim Killeen's Office on the 3rd floor, giving reference to the 'Administration' moniker in the building's name."

Instead of following your I-STAR guide when player is in Henry Administration:
	say "[line break]Justin continues to walk south, down the west side of the Quad.";
	now player is in English Building;
	now your I-STAR guide is in English Building.
	
EnglishExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in English Building:
	if EnglishExplained is false:
		say "The English Building is home to the Departments of English, Rhetoric, and Business and Technical Writing. General Education classes are held here often as well!'";
		now EnglishExplained is true;
	else:
		say "Justin notes that the tour will return to the quad side of the buildings before turning to head towards Lincoln Hall";
		try following your i-STAR guide.

Instead of asking your I-STAR guide about "English":
	if EnglishExplained is false:
		say "The English Building is home to the Departments of English, Rhetoric, and Business and Technical Writing. General Education classes are held here often as well!";
		now EnglishExplained is true;
	else:
		say "The English Building used to be a women's residence hall, inside was a swimming pool. Legend has it that a student drowned in that pool and her ghost still haunts the halls! Every Halloween, a student organization gets together to go ghost hunting. I don't know if they've ever found anything, but let me know if they do!"

Instead of following your I-STAR guide when player is in English Building:
	say "[line break]Justin strolls down the wide pavements of the quad and stops near a tall lamppost.";
	now player is in Lincoln Hall;
	now your I-STAR guide is in Lincoln Hall.

LincolnExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Lincoln Hall:
	if LincolnExplained is false:
		say "We are now standing outside Lincoln Hall. This building houses the College of Liberal Arts and Sciences and as you may have guessed is named for our 16th President. 80% of students will have a class in Lincoln Hall before they graduate mainly because of the volume of General Education classes offered here.'";
		now LincolnExplained is true;
	else:
		say "Justin looks up to the clock on top of the Union and announces that it is time to move on.";
		try following your i-STAR guide.
		
Instead of asking your I-STAR guide about "Lincoln":
	if LincolnExplained is false:
		say "We are now standing outside Lincoln Hall. This building houses the College of Liberal Arts and Sciences and as you may have guessed is named for our 16th President. 80% of students will have a class in Lincoln Hall before they graduate mainly because of the volume of General Education classes offered here.";
		now LincolnExplained is true;
	else:
		say "This lamppost is known as the eternal flame. Myth says 'a lovers kiss will bring eternal bliss'… in earlier days, according to the myth, if a couple kisses beneath the flame their love would be eternal. The current 'flame' is now a light bulb that is sometimes turned off to save electricity, so if a couple kisses beneath the flame now they are likely to have an on and off relationship!"	

Instead of following your I-STAR guide when player is in Lincoln Hall:
	say "[line break]Justin continues to walk south along the quad.";
	now player is in Gregory Hall;
	now your I-STAR guide is in Gregory Hall.

GregExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Gregory Hall:
	if GregExplained is false:
		say "This is Gregory Hall, named for our first University president: John Milton Gregory. It houses the College of Media as well as the Departments of History and Philosophy. In the basement is the Communications Library, one of our over 20 on campus.'";
		now GregExplained is true;
	else:
		say "Justin checks his watch and announces that the tour will soon be saying goodbye to the Main Quad, but not before one last stop.";
		try following your i-STAR guide.
		
Instead of asking your I-STAR guide about "Gregory":
	if GregExplained is false:
		say "This is Gregory Hall, named for our first University president: John Milton Gregory. It houses the College of Media as well as the Departments of History and Philosophy. In the basement is the Communications Library, one of our over 20 on campus.";
		now GregExplained is true;
	else:
		say "When John Milton Gregory died, he stipulated in his will that he wanted no memorials or anything named after him so of course we named a building and two streets after him."
			
Instead of following your I-STAR guide when player is in Gregory Hall:
	say "[line break]Justin walks south once again off the Quad.";
	now player is in Foellinger Hall;
	now your I-STAR guide is in Foellinger Hall.
	
FoellingerExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Foellinger Hall:
	if FoellingerExplained is false:
		say "This is Foellinger Auditorium, it holds lectures, concerts, and other special events. Often guess speakers will visit and hold events in Foellinger. The auditorium seats 1,750 people.'";
		now FoellingerExplained is true;
	else:
		say "Justin points behind Foellinger to a wide courtyard and says it's time to move on.";
		try following your i-STAR guide.
	
Instead of asking your I-STAR guide about "Foellinger":
	if FoellingerExplained is false:
		say "This is Foellinger Auditorium, it holds lectures, concerts, and other special events. Often guess speakers will visit and hold events in Foellinger. The auditorium seats 1,750 people.";
		now FoellingerExplained is true;
	else:
		say "Famous people often visit the auditorium, in 2018 Barack Obama gave a lecture, we've also hosted Bill Gates, Nick Offerman, and Eleanor Roosevelt!"
	
Instead of following your I-STAR guide when player is in Foellinger Hall:
	say "[line break]Justin crosses the pavement and continues south.";
	now player is in Undergraduate Library Courtyard;
	now your I-STAR guide is in Undergraduate Library Courtyard.

UGLExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Undergraduate Library Courtyard:
	if UGLExplained is false:
		say "We are now between two of our largest libraries on campus which may come as a surprise since only one is visible. Our Undergraduate Library is actually built two stories underground![line break]To the west is our Main Library which houses our Main Stacks. All together the holdings of our library total the largest public academic library in the world as well as the 3rd largest library in the country, right behind the Library of Congress and Harvard University's.'";
		now UGLExplained is true;
	else:
		say "Justin motions that it's time to move on east.";
		try following your i-STAR guide.

Instead of asking your I-STAR guide about "Library":
	if UGLExplained is false:
		say "We are now between two of our largest libraries on campus which may come as a surprise since only one is visible. Our Undergraduate Library is actually built two stories underground!";
		now UGLExplained is true;
	else:
		say "The undergraduate library was built below ground to preserve the open mall behind Foellinger Auditorium and for architectural symmetry, although it's often joked that it was built in this fashion so as not to cast a shadow on our Morrow Plots, which we'll see next!"

Instead of following your I-STAR guide when player is in Undergraduate Library Courtyard:
	say "[line break]Walks along a wide sidewalk next to a bustling street, you have to listen carefully to hear what he says over the sound of cars and buses.";
	now player is in Morrow Plots;
	now your I-STAR guide is in Morrow Plots.

PlotExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Morrow Plots:
	if PlotExplained is false:
		say "The Morrow Plots are the oldest experimental field in the western hemisphere. There used to be fields just like them all over campus, though as we've industrialized we've no longer focused on having crop plots in the middle of campus so only 3 of our original 10 remain.'";
		now PlotExplained is true;
	else:
		say "Justin announces that it is time to continue east with the tour.";
		try following your i-STAR guide.
	
Instead of asking your I-STAR guide about "Morrow":
	if PlotExplained is false:
		say "The Morrow Plots are the oldest experimental field in the western hemisphere. There used to be fields just like them all over campus, though as we've industrialized we've no longer focused on having crop plots in the middle of campus so only 3 of our original 10 remain.";
		now PlotExplained is true;
	else:
		say "It is rumored that if students are caught on the Morrow Plots they risk expulsion from the University! It's best to stay off the field."
	
Instead of following your I-STAR guide when player is in Morrow Plots:
	say "[line break]Justin continues to walk down the wide street towards a large, scientific-looking building.";
	now player is in Institute of Genomic Biology;
	now your I-STAR guide is in Institute of Genomic Biology.
		
GeneExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Location:
	if GeneExplained is false:
		say "This is our Institute of Genomic Biology, which is one of our primary scientific research centers on campus. In fact, lots of students do research at Illinois. We're ranked a Research 1 institution which means all our faculty participate in research and are always looking for assistants.'";
		now GeneExplained is true;
	else:
		say "Justin says it is time to continue with the tour.";
		try following your i-STAR guide.
	
Instead of asking your I-STAR guide about "Research":
	if GeneExplained is false:
		say "This is our Institute of Genomic Biology, which is one of our primary scientific research centers on campus. In fact, lots of students do research at Illinois. We're ranked a Research 1 institution which means all our faculty participate in research and are always looking for assistants.";
		now GeneExplained is true;
	else:
		say "We have a lot of projects going on here, like developing improving photosynthesis funded by Bill Gates and research into the origins of life in the universe funded by NASA. But all majors, not just science, has research to be done."
		
Instead of following your I-STAR guide when player is in Institute of Genomic Biology:
	say "[line break]Justin walks once again east, down the wide road.";
	now player is in Bevier Hall;
	now your I-STAR guide is in Bevier Hall.

BevExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Bevier Hall:
	if BevExplained is false:
		say "Bevier Hall is the home of Food Science & Human Nutrition (FSHN) and Human Development & Family Studies (HDFS). Both are in ACES. There are also two student-run businesses open to the public: Bevier Café and Spice Box. They provide a hands on learning experience for undergrads in food science and also hospitality.'";
		now BevExplained is true;
	else:
		say "Justin announces that it is time to continue once again down the street to the east.";
		try following your i-STAR guide.

Instead of asking your I-STAR guide about "Bevier":
	if BevExplained is false:
		say "Bevier Hall is the home of Food Science & Human Nutrition (FSHN) and Human Development & Family Studies (HDFS). Both are in ACES. There are also two student-run businesses open to the public: Bevier Café and Spice Box. They provide a hands on learning experience for undergrads in food science and also hospitality.";
		now BevExplained is true;
	else:
		say "Both businesses in Bevier use greens and fish grown aquaponically in the Turner Hall greenhouses. Also, the Illinois Sustainable Food Project's produce and grain like tomatoes and wheat make a quick pit stop at the Department of Food Science & Human Nutrition (FSHN) Pilot Processing Plant to be turned into the ingredients that become the many dishes students will serve in the Bevier Café."
	
Instead of following your I-STAR guide when player is in Bevier Hall:
	say "[line break]Justin crosses a familiar street - Goodwin Ave – and continues on.";
	now player is in Campus Rec;
	now your I-STAR guide is in Campus Rec.

RecExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Campus Rec:
	if RecExplained is false:
		say "This is Campus Recreation Center East, one of our recreation facilities on campus. It holds locker rooms, multi-purpose gym, free weights, and aerobic fitness center and was expanded in 2004 to include a pool, water slide, hot tub, indoor track and more!'";
		now RecExplained is true;
	else:
		say "Justin announces that there is only one more stop on this road before the tour heads back north to the Alice Campbell Alumni Center.";
		try following your i-STAR guide.
		
Instead of asking your I-STAR guide about "Recreation":
	if RecExplained is false:
		say "This is Campus Recreation Center East, one of our recreation facilities on campus. It holds locker rooms, multi-purpose gym, free weights, and aerobic fitness center and was expanded in 2004 to include a pool, water slide, hot tub, indoor track and more!";
		now RecExplained is true;
	else:
		say "In addition to the Division I sports on campus, students have the opportunity to join a club or intramural team! Club sports are competitive and have tryouts while intramural sports are relaxed, allowing you to get a group of friends together and play."
		
Instead of following your I-STAR guide when player is in Campus Rec:
	say "[line break]Justin moves to turn the corner before pointing out a large brick building behind him.";
	now player is in Allen Hall;
	now your I-STAR guide is in Allen Hall.

AllenExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Allen Hall:
	if AllenExplained is false:
		say "Allen Hall is one of out most popular residence halls on campus. It houses our Unit One Living Learning Community. Unit One has a focus on community while also fostering artistic skills of students. It offers photography dark rooms, ceramic studios, music recording studios and practice rooms!'";
		now AllenExplained is true;
	else:
		say "Justin motions to you to follow him once again.";
		try following your i-STAR guide.
	
Instead of asking your I-STAR guide about "Allen":
	if AllenExplained is false:
		say "Allen Hall is one of out most popular residence halls on campus. It houses our Unit One Living Learning Community. Unit One has a focus on community while also fostering artistic skills of students. It offers photography dark rooms, ceramic studios, music recording studios and practice rooms!";
		now AllenExplained is true;
	else:
		say "Living Learning Communities are popular among students because of their close-knittedness and specificity in interests. Students can live near students with the same interests as them. There are 11 in total, such as Business, Global Crossroads, Health Professions or Honors!"

Instead of following your I-STAR guide when player is in Allen Hall:
	say "[line break]Justin turns to his right and heads north along a small pathway.";
	now player is in Child Development Lab;
	now your I-STAR guide is in Child Development Lab.
		
CDLExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in Child Development Lab:
	if CDLExplained is false:
		say "At the Child Development Lab, undergraduate and graduate students are given hands on experience to use theory, research, and practice while observing and interacting with children. There is also a preschool and child care program for children 6 weeks to five years old. Students in Early Childhood Education and Human Development and Family Studies work here with the children along with full time professional staff.'";
		now CDLExplained is true;
	else:
		say "Justin motions for you to follow him to the last location of the tour.";
		try following your i-STAR guide.
	
Instead of asking your I-STAR guide about "Child":
	if CDLExplained is false:
		say "At the Child Development Lab, undergraduate and graduate students are given hands on experience to use theory, research, and practice while observing and interacting with children. There is also a preschool and child care program for children 6 weeks to five years old. Students in Early Childhood Education and Human Development and Family Studies work here with the children along with full time professional staff.";
		now CDLExplained is true;
	else:
		say "You may notice a large playground on the premises. That's for freshmen."

Instead of following your I-STAR guide when player is in Child Development Lab:
	say "[line break]Justin walks north through a wide expanse of businesses and restaurants.";
	now player is in GregoryStreetNorthEnd;
	now your I-STAR guide is in GregoryStreetNorthEnd.
		
OffCampusExplained is a truth state variable.
		
Instead of listening to your i-STAR guide when player is in GregoryStreetNorthEnd:
	if OffCampusExplained is false:
		say "We are actually currently off campus for our first time this whole tour! It's a common misconception that 'off campus' means far from class, but we're actually closer to the quad here than from almost all residence halls on campus! If you're considering living in an apartment your sophomore year or later, keep in mind how close off-campus apartments can be!'";
		now OffCampusExplained is true;
	else:
		say "Justin says to follow him now back to the start of the tour just a few steps north.";
		try following your i-STAR guide.
	
Instead of asking your I-STAR guide about "Off Campus":
	if OffCampusExplained is false:
		say "We are actually currently off campus for our first time this whole tour! It's a common misconception that 'off campus' means far from class, but we're actually closer to the quad here than from almost all residence halls on campus! If you're considering living in an apartment your sophomore year or later, keep in mind how close off-campus apartments can be!";
		now OffCampusExplained is true;
	else:
		say "Our School of Social Work is also housed just around the corner, which is an alternative to psychology with more hands on curriculum. It has only one major: social work! It's a great degree to get if you're interested in working in schools, hospitals, courts, clinics, senior centers or adoption agencies."
		
Instead of asking your I-STAR guide about something:
	say "Unbelievable as it may be, Justin has nothing to tell you about that. Try asking him about a building instead."

TourComplete is a truth state variable.

Instead of following your I-STAR guide when player is in GregoryStreetNorthEnd:
	say "[line break]Justin crosses a street and you see a familiar building reappear over the horizon as you follow him.";
	now player is in Alice Campbell Alumni Center;
	now your I-STAR guide is in Alice Campbell Alumni Center;
	now TourComplete is true.
	
Instead of doing anything when TourComplete is true:
	say "This is where we have to end our tour, right back where we started. You can feel free to explore some of the places we visited in more detail. Welcome to the U of I! Come back whenever you'd like for another tour!'";
	now AliceExplained is false;
	now SpurlockExplained is false;
	now KrannertExplained is false;
	now BurrillExplained is false;
	now NaturalHistoryExplained is false;
	now QuadExplained is false;
	now UnionExplained is false;
	now AlmaExplained is false;
	now AltgeldExplained is false;
	now BookstoreExplained is false;
	now HenryExplained is false;
	now EnglishExplained is false;
	now LincolnExplained is false;
	now GregExplained is false;
	now FoellingerExplained is false;
	now UGLExplained is false;
	now PlotExplained is false;
	now GeneExplained is false;
	now BevExplained is false;
	now RecExplained is false;
	now AllenExplained is false;
	now CDLExplained is false;
	now OffCampusExplained is false;
	now TourComplete is false.
[

Book 2 - Narrascope

[NarraSquirrel definition is in Squirrel section ]

volunteerhunting is a truth state variable. 

To say NarraSquirrel Appearance:
	if NarraSquirrel has Narragami:
		say "A spirited squirrel is here, trying to get your attention. ";
		stop the action;
	if SquirrelTug is true:
		say "The squirrel is tugging at your pants leg. ";
		stop the action;
	if VolunteerHunting is true:
		say "The squirrel is pointing to the north and the southwest. ";
		stop the action;
	else: 
		say "There is a squirrel here, searching the grass near your feet. "
 
Does the player mean examining Narrasquirrel: 
	it is very likely.

Does the player mean talking to Narrasquirrel when NarraSquirrel is in the location:
	it is very likely.

Rule for clarifying the parser's choice of the NarraSquirrel: say "".


NarraSquirrel is carrying Narragami. 
Narragami is a readable, origamiable thing. 
The printed name of Narragami is "Narrascope Flier". 
Understand "flier" and "schedule" and "schedule of events" and "folded piece of paper" and "piece of folded paper" and "piece of paper" and "origami" and "paper" and "piece of origami" and "sextant" and "origami sextant" and "folded paper" as Narragami. 

Instead of examining Narragami: 
	if NarraSquirrel is carrying Narragami:
		say "The tiny origami looks to have been folded into the shape of a sextant. The squirrel holds it out, so that you can more easily [bold type]take it[roman type].[line break]";
	else if player is carrying Narragami:
		try reading narragami. 
		
colorful scarf is a wearable thing. NarraSquirrel is wearing colorful scarf. 
Understand "scarf" and "blue scarf" and "orange scarf" and "orange and blue scarf" and "blue and orange scarf" as colorful scarf. 

The description of colorful scarf is "The scarf has been knitted in the school colors of the University of Illinois, orange and blue. Someone once upon a time must have thought this color combination was a good idea."

Instead of taking colorful scarf: 
	say "The squirrel chitters at you irritably. You're not getting that scarf."
	
Instead of taking Narragami:
	now the printed name of NarraSquirrel is "Narrascope squirrel";
	say "You pluck the origami from the squirrel's tiny fist. It unfolds itself and magically expands into a colorful [bold type]flier [roman type]with [italic type]Narrascope 2020! [roman type]written across the top."; 
	now player has Narragami. 

Instead of checking scavenger hunt list:
	try reading scavenger hunt list.

Instead of reading Narragami when NarraSquirrel is holding Narragami:
		say "You can't read what it says while the squirrel is holding it."

squirreltug is a truth state variable.
Instead of reading Narragami when player is holding Narragami for the first time:
	say "[line break]The flier says that the [italic type]NarraScope 2020 [roman type], will be held [italic type]May 27-29 [roman type]at the [italic type]University of Illinois [roman type]. It tells you that Plenary sessions will be held in [bold type]Lincoln Hall Theater[roman type], that the three tracks of regular sessions will be held in [bold type]Gregory Hall[roman type], and that the Registration Table, Demos and Exhibitions will take place in the [bold type]Armory Building[roman type]. Meals will be provided at the [bold type]Student Union[roman type].[paragraph break]The squirrel is tagging at your pants leg, trying to get your attention.";
	now squirreltug is true.
	
Instead of reading Narragami when squirreltug is true:
	try examining NarraSquirrel.


Instead of examining NarraSquirrel:
	if volunteerhunting is true:
		say "The squirrel seems very invested in the search for Narrascope Volunteers. It is pointing to the north, towards the student Union, and to the southwest towards Lincoln Hall. It draws some wild circles in the air, which you interpret to mean that you'll find the other buildings further to the southwest, and then even further to the southwest.";
		stop the action;
	if squirreltug is true:
		say "When you lean over to see what the Squirrel wants from you, it taps the flier's bottom paragraph, to make sure you see the bit it wants you to see. You need to find [bold type]eight Narrascope volunteers[roman type] across campus where they are working to get the conference spaces set up. Just [bold type]snap a picture[roman type] of the volunteers to prove you found them and you'll be entered into a campus Scavenger Hunt -- with prizes to be awarded at Narrascope Registration! Time to go volunteer-hunting!";
		now squirreltug is false;
		now volunteerhunting is true;
		stop the action;
	if NarraSquirrel is carrying Narragami:
		say "The squirrel looks almost exactly like the other squirrels you will find across the University of Illinois campus, except that this one is wearing a blue and orange striped scarf that trails onto the ground behind it. [if NarraSquirrel is carrying Narragami] It is carrying an [bold type]origami[roman type] in its tiny little fist.";
		stop the action;
	if NarraSquirrel is carrying SpecialAcorn:
		say "The squirrel's cheek is very chubby. It seems eager to answer your questions. Why not [bold type]ask[roman type] the squirrel [bold type]about[roman type] something that interests you.";
		stop the action;
	else:
		say "The squirrel looks almost exactly like the other squirrels you will find across the University of Illinois campus, except that this one is wearing a blue and orange striped scarf. The squirrel's expression clearly suggests that it is hoping you might have an acorn." 

Part 2 - Volunteer Hunting and Scavenger Hunt

Instead of reading Narragami:
	say  "The flier says that the [italic type]NarraScope 2020 [roman type], will be held [italic type]May 27-29 [roman type]at the [italic type]University of Illinois [roman type]. It tells you that Plenary sessions will be held in [bold type]Lincoln Hall Theater[roman type], that the three tracks of regular sessions will be held in [bold type]Gregory Hall[roman type], and that Registration, Workshops, Demos and Exhibitions will be held in the [bold type]Armory Building[roman type]. Meals will be provided at the [bold type]Student Union[roman type].";
	if VolunteerHunting is true: 
		say "[line break]These would be good places to look for the [VolunteersFound] Narrascope Volunteer[if VolunteersFound is greater than 1]s[end if] you need to find so you can enter the campus Scavenger Hunt.";
	else:
		say "[line break]".
	
After deciding the scope of the player while the location of the player is in Center of the Quad:
	if the noun is a roomproxy:
		place noun in scope. 
		
Scavenger Hunt List is readable and photogenic. 

Instead of examining scavenger hunt list: 
	say "The list is long and obscure. Do you want to [bold type]read the rules[roman type] or [bold type]check the list [roman type]of items you have to find?"
			
hunt rules is a scenery part of scavenger hunt list. 
		
Instead of reading hunt rules: 
	say "[bold type]Narrascope Scavenger Hunt Rules[roman type][line break]
1. Search the campus for curiosities on the list.[line break]
2. Snap a picture of each one after you find it.[line break] 
3. View the list to check your progress. [line break]
4. Snap a picture of the completed list. [line break]
5. Visit the registration table for your prize! [line break]";
	stop the action.

Instead of reading scavenger hunt list: 
	if the number of unsnapped scavengerhuntable things is 0:
		say "You have found everything on the Scavenger Hunt List! Now just snap a picture of the list and head to Armory 182.";
	if the number of unsnapped scavengerhuntable things is greater than 0:
		say "[italic type]You must find:[roman type][line break]";
		let x be the list of unsnapped scavengerhuntable things;
		repeat with y running through x:
			say "[y][line break]";
	if the number of snapped scavengerhuntable things is greater than 0:
		say "[line break][italic type]You have found:[roman type][line break]";
		let z be the list of snapped scavengerhuntable things;
		repeat with y running through z:
			say "[y][line break]".

VolunteersFound is a number variable. VolunteersFound is 8.
	
Instead of photographing scavenger hunt list:
	if scavenger hunt list is unsnapped:
		if number of unsnapped scavengerhuntable things is greater than 1:
			say "You consider taking a photograph of your unfinished scavenger hunt list, but that's a depressing act committed by a defeated player, and you decide not to give up yet!";
			stop the action;
		else:
			say "You take a picture of your completed list."; 
			now scavenger hunt list is snapped;
			stop the action;
	else:
		say "You already took a picture of your completed list. Show your list to the Narrascope Volunteer in Armory 182 to get your prize!";
		stop the action.
		
Instead of photographing a volunteer:
	say "You ask the Narrascope Volunteer if you can take their picture. ";
	if noun is snapped:
		say "You already took a picture of this volunteer. No cheating!";
		stop the action;
	else:
		decrement VolunteersFound;
		now noun is snapped;
		Deliver Scavanger List.
		
To Deliver Scavanger List:
	if VolunteersFound is 0:
		say "'Sure!' the volunteer says and smiles for the camera. 'So you've visited all the Narrascope buildings and session spaces? Congratulations!' He hands you a [bold type]Scavenger Hunt List.[roman type][paragraph break]'Now you can have a wander around the rest of the campus, getting to know the place a little better. You'll get a special prize at the registration table when the conference opens if you have a photograph of everything on this list! Good luck!'";
		now player has scavenger hunt list;
		now volunteerhunting is false;
	else:
		say "Now you have only [VolunteersFound in words] more Narrascope Volunteer[if VolunteersFound is greater than 1]s[end if] to find!"
		
Instead of interrogating someone about LincolnHall: 
	if noun is volunteer:
		say "They tell you that Lincoln Hall is on the southwest side of the Main Quad, between the English Building and Gregory Hall."
	
Instead of asking a volunteer about "the Armory/Armory/Armory Building/where is the Armory/where is Armory Building/where is the armory/where is the armory building":
	say "They tell you that the Armory is west, and just a titch south of Gregory Hall."

Instead of asking a volunteer about "the Union/Union/Student Union/the student union//where is the uion/where is the student union":
	say "They tell you that the Student Union is at the north end of the Main Quad."
			
Instead of asking a volunteer about something:
	say "I'm a little busy right now -- how about asking the Narrasquirrel. That's what he's there for!";
	stop the action.

Instead of photographing an unsnapped scavengerhuntable thing:
	say "You take a picture of the [noun] and cross that one off of your scavenger list.";
	now noun is snapped.
	
Instead of folding Narragami:
	say "You make your best attempt at re-folding the flier into the delicate shape of the a Narragami -- the Narrascope sextant, but you just don't have a squirrel's touch."; 
	now Narragami is folded;
	now player is in the location.
	
Instead of giving SpecialAcorn to NarraSquirrel:
	if SpecialAcorn is in pants pocket:
		say "You search your belongins, and feel a small lump of something in your pants pocket.";
		stop the action;
	if player has SpecialAcorn:
		say "You offer the acorn to the spirited little squirrel, who snatches it from you and stuffs it into its cheek.";
		now NarraSquirrel has specialacorn.
	
Instead of talking to NarraSquirrel:
	if player does not have PlushNarraSquirrel: 
		say "Now, you know perfectly well that squirrels can't talk!";
		stop the action;
	else:
		if player is not wearing Narrasquirrel:
			say "The squirrel clambers up your leg, takes a detour across your back, and comes to rest comfortably on your shoulder.  'If you need a hint while you're looking for the volunteers, feel free to ask', it says amiably. 'If you don't want to use hints, just say goodbye and I'll be on my way!'[paragraph break][italic type]While the squirrel is sitting on your shoulder, you can speak to it conversationally. When it is on the ground, you will have to go back to conventional IF diction[roman type].";
			now player is wearing Narrasquirrel;
		else:
			say "The squirrel's vocabulary is temporarily out of order. 'So sorry,' the Squirrel says in a conspiratorial tone. 'My Real World Overlords are busy, so some patience is required.'"
			
Instead of interrogating Narrasquirrel about something:
		try talking to Narrasquirrel.

Instead of asking Narrasquirrel about something:
		try talking to Narrasquirrel.

Instead of giving SpecialAcorn to UbiquitousSquirrel:
	say "You toss your special acorn to one of the squirrels running around in the bushes near you.";
	now SpecialAcorn is nowhere.
	
Part 3 - Following Duncan

Duncan is a scenery volunteer.  The description of Duncan is "He has a friendly face. You can trust him to take you where you need to go."
Every turn when Duncan is in the location:
	say "Duncan waits for you to follow him."

Instead of photographing Duncan for the first time:
	say "Duncan indulges you and smiles for the camera, making a peace sign by his face. ";
	now Duncan is snapped;
	decrement VolunteersFound;
	Deliver Scavanger List.

Instead of photographing Duncan:
	say "You've already photographed him! He's waiting for you to follow him."

AlexisHappyMeter is number variable.

NarrascopeLocalHost is a woman in GregoryHallInterior. "A Narrascope local host is standing here directing volunteers. You hear someone call her Alexis."
Understand "woman" and "host" and "narrascope host" and "narrascope local host" and "local host" and "Alexis" and "" as NarrascopeLocalHost. 
The printed name of NarrascopeLocalHost is "Local Host".

NarrascopeBox is a container.
The printed name of NarrascopeBox is "cardboard box".
Understand "box" and "cardboard box" as NarrascopeBox.
Instead of examining NarrascopeBox:
	say "This is a superior cardboard box -- it has handles! ";
	if the number of things in NarrascopeBox is 0:
		say "The box is empty. Better find some Narrascope bling to put into it!";
	else:
		say "In this superior box you can see [list of things in NarrascopeBox].".
	
NarrascopeLocalHost is holding NarrascopeBox.

NarrascopeMaterials are a scenery thing in GregoryHallInterior.
The description of NarrascopeMaterials is "Posters and things."
Understand "materials" and "conference materials" and "posters" as narrascopeMaterials.
The printed name of NarrascopeMaterials is "conference materials".

sentforboxes is a truth state variable.

Instead of photographing NarrascopeLocalHost:
	say "She declines to be photographed, and you dutifully put your phone away."


Instead of examining NarrascopeLocalHost:
	if sentforboxes is false: 
		say "Alexis is all business. Her expression suggestions that doesn't yet find you worthy. She asks if you'll go to Armory 182 to pick up a box load of printed Narrascope schedules and bring them back here. This is a way to prove yourself. Will you go? Yes or no?[paragraph break] >";
		if player consents:
			now sentforboxes is true;
			increment AlexisHappyMeter;
			say "[line break]'Excellent,' Alexis says, handing you an empty box. She surmises you might be from out of town. 'Do you know how to get to Armory 182?' She hands a box to the volunteer next to you. 'This is Duncan. You can [bold type]follow [roman type]him. Off you go!'[line break]";
			now Duncan is in the location;
			now player has NarrascopeBox;
			now the initial appearance of NarrascopeLocalHost is "Alexis is here directing volunteers.";
		else:
			decrement AlexisHappyMeter;
			say "Alexis frowns and turns away without a word, handing your box to a student volunteer who brightly agrees and disappears down the hall and out the door. That might have been a bad call.";
	else:	
		say "Alexis is very busy at the moment getting ready for Narrascope. [if player is carrying NarrascopeBox]She looks up to see if you have brought her anything." 
			
Instead of talking to NarrascopeLocalHost:
	try examining NarrascopeLocalHost

Instead of asking NarrascopeLocalHost about something when AlexisHappyMeter is less than 0:
	say "The volunteer appears not to hear you. You may have to do something to get in her good graces."

Instead of asking NarrascopeLocalHost about something:
	say "It's not she doesn't like to talk. It's just that she doesn't want to talk to you."	

Instead of interrogating NarrascopeLocalHost about something when AlexisHappyMeter is less than 0:
	say "Alexis hears you but chooses not to answer you. Did you do something to upset her?"
	
Instead of interrogating NarrascopeLocalHost about something:
	say "Alexis tells you that she doesn't have time for your questions. [if player is not wearing squirrel]'Have you given the Narrasquirrel an acorn? yet? Have you even checked your pockets?'[else] 'Try asking your squirrel, or go find Professor Pintar.' She glances at the time. 'She's probably at her on ice office hours right now.'" 

Instead of giving ArmfulNarrascopeStuff to NarrascopeLocalHost:
	try giving NarrascopeBox to NarrascopeLocalHost.

Instead of giving NarrascopeBox to NarrascopeLocalHost:
	if armfulNarrascopeStuff is in the Narrascopebox:
		say "Alexis looks up briefly. 'Congratulations, you're a volunteer,' she mutters anticlimactically, already on to the next task. When she sees you still standing there she adds, 'You can go get more if you want.'";
		increment AlexisHappyMeter;
		now armfulNarrascopeStuff is nowhere;
	else:
		say "'You'll find the Narrascope stuff I need in Armory 182,' she says, giving her attention to the person behind you."

Following is an action applying to one thing. 

Understand "follow [someone]" as following.

Instead of following Duncan when player is in GregoryHallInterior:
	say "Duncan dashes out the door, and you rush to keep up with him.";
	now player is in Gregory Hall;
	now Duncan is in Gregory Hall.

Instead of following Duncan when player is in Gregory Hall: 
	say "Duncan sprints down the stairs, and circles the corner past the students who are waiting for the bus.";
	now player is in LibBusStop;
	now Duncan is in LibBusStop.
	
Instead of following Duncan when player is in LibBusStop: 
	say "Duncan maneuvers past the crowd at the bus stop and dashes down the street that runs parallel to the library parking lot. You catch up with him at the red light, and then you cross together. The massive Armory building looms just ahead.";
	now player is in LibParkingLot; 
	now Duncan is in LibParkingLot. 

Instead of following Duncan when player is in LibParkingLot: 
	say "As soon as the pedestrian light turns on, Duncan is across the street and making his way towards the northeast entrance of the Armory.";
	now player is in Armory Northeast; 
	now Duncan is in Armory Northeast. 
	
Instead of following Duncan when player is in Armory Northeast:
	say "Duncan slips through a door into the Armory. You pause only a moment to admire a squirrel that is sitting on a nearby stone bench. This one isn't wearing a scarf, and you suppose it must be an ordinary one. You open the door to the Armory and step inside, but Duncan is nowhere to be seen. What do you do now?";
	now player is in ArmoryNEInterior;
	now Duncan is nowhere. 

Instead of interrogating someone about GregoryHall:
	if noun is a volunteer:
		say "The volunteer points in the direction you should go to get there. 'Gregory Hall is in the southwest corner of the Quad, right next to Lincoln Hall and Foellinger Hall."

Instead of asking someone about "Gregory Hall/Gregory":
	if noun is a volunteer:
		say "The volunteer points in the direction you should go to get there. 'Gregory Hall is in the southwest corner of the Quad, right next to Lincoln Hall and Foellinger Hall."
	
UnionNarrascopeVolunteer is a volunteer in UnionElevators."A Narrascope Volunteer is standing here, attaching a poster to the wall."
The printed name of UnionNarrascopeVolunteer is "Narrascope Volunteer".
The description of UnionNarrascopeVolunteer is "The young woman has a Narrascope sextant pin attached to her t-shirt. She is clutching a handful of posters."
Understand "Narrascope Volunteer" and "volunteer" as UnionNarrascopeVolunteer


Unionsextantpin is part of UnionNarrascopeVolunteer. The description of sextant pin is "It's a pretty little pin. You'll get one probably, if you register for Narrascope."
The printed name of unionsextantpin is "Narrascope sextant pin".
Understand "pin" and "narrascope pin" and "sextant pin" and "sextant" as Unionsextantpin.

unionposters are scenery in UnionElevators. 
understand "posters" and "handful of posters" as unionposters.
The description of unionposters is "The headline which reads 'Welcome to Narrascope 2020'!". 
The printed name of unionposters is "handful of posters."


Instead of talking to UnionNarrascopeVolunteer: 
	say "She smiles. 'Welcome to the Union! Many of our Narrascope guests will be staying here at the Union Hotel. You can use these elevators to get to your room. If you're staying at the TownehousePlace Suites Green Street, just exit the Union and go two blocks west. If you're staying at Presby Residence Hall, I can provide a local volunteer to show you the way. Would you like a guide to take you to Presby?'[line break]";
	if player consents:
		say "'Okay,' she says, calls over a young men who is walking by. 'Have you met Duncan yet? Just follow him and he'll show you the way.";
		now Duncan is in the location;
		stop the action;
	else:
		say "'Well, there's lots to see in the Union. Some meals will be catered in this building, probably on the second floor. You can't check in yet! But feel free wander around the Union!'"

Instead of following Duncan when player is in UnionElevators:
	say "Duncan dashes through the Union and out the south-facing door, and you rush to keep up with him.";
	now player is in Anniversary Plaza;  
	now Duncan is in Anniversary Plaza. 

Instead of following Duncan when player is in Anniversary Plaza: 
	say "Duncan sprints southwest past Henry Administration building and heads to Wright Street. You almost lose him in the press of students hurrying across the Quad.";
	now player is in Henry Administration; 
	now Duncan is in Henry Administration.
	
Instead of following Duncan when player is in Henry Administration:  
	say "Duncan waits for the busses to go by and crosses Wright Streeet to the west, arriving at Illini Union Bookstore. He completely ignores your desire to have a look inside.";
	now player is in Illini Union Bookstore; 
	now Duncan is in Illini Union Bookstore.  

Instead of following Duncan when player is in Illini Union Bookstore: 
	say "Duncan crosses diagonally southwest across Daniel Street to stand in front of the Psychology Building.";
	now player is in Psychology Building;  
	now Duncan is in Psychology Building. 

Instead of following Duncan when player is in Psychology Building: 
	say "Duncan crosses sixth street to the west, and points out the Speech and Hearing Building as he breezes by it.";
	now player is in Speech Building;   
	now Duncan is in Speech Building.  

Instead of following Duncan when player is in iSchool:  
	say "As Duncan leads you past the iSchool, he mentions that the office of Professor Pintar, a Narrascope Local Host is iSchool 50, in the basement of this building. Then he crosses the street diagonally to the northwest. He points out a tall building on the McKinley Foundation grounds, set away from the street. 'There's Presby Hall,' he says, and dashes off. You turn to see where he went, but he's out of sight.";
	now player is in Presby Hall;
	now Duncan is nowhere. 
	


Narrascope Registration table is a supporter in Armory 182. "A large table sits conspicuously in the middle of this long, narrow room."
Understand "many tables" and "tables" as Narrascope Registration Table.

The description of Narrascope Registration table is "All the tables in this room will be used for demos and exhibits during the Narrascope conference, except for this one. The table at the center will be the Registration Table. At the moment it has posters, fliers, conference schedules, and other sorts of stuff piled on top of it."

VariousPaperwork is scenery on narrascope registration table. 
The description of variouspaperwork is "There are piles of paper here related to the Narrascope Conference."
Understand "posters" and "fliers" and "stuff" and "other sorts of stuff" and "conference schedules" as VariousPaperwork.

Instead of taking variouspaperwork:
	say "There's too much here to carry without a box. The Volunteer looks up and says, 'You can get a box in Gregory Hall in the Volunteer station."

ArmfulNarrascopeStuff is a thing. 
The description of armfulNarrascopestuff is "This is stuff that Alexis asked you to pick up from 182."
Understand "armful of stuff" and "stuff" and "armful of narrascope stuff" and "narrascope stuff" as ArmfulNarrascopeStuff.
The printed name of ArmfulNarrascopeStuff is "an armful of Narrascope stuff".

four screens are a scenery thing in Armory 182. 
The description of four screens is "There are four screens installed along one wall of this long room. They will be used for demoing games and other interactive works during the conference."

Armory182NarrascopeVolunteer is a volunteer in Armory 182. "A Narrascope Volunteer is here, busy trying to get a laptop connected to the system and displayed on the four screens that line the wall of this long narrow room."
The printed name of Armory182NarrascopeVolunteer is "Narrascope Volunteer".
Understand "Narrascope Volunteer" and "volunteer" as Armory182NarrascopeVolunteer.

Instead of giving something to Armory182NarrascopeVolunteer:
	try examining Armory182NarrascopeVolunteer.
	
Instead of showing something to Armory182NarrascopeVolunteer:
	try examining Armory182NarrascopeVolunteer.

Instead of talking to Armory182NarrascopeVolunteer:
	try examining Armory182NarrascopeVolunteer.


NarraSquirrel is a wearable squirrelperson in Center of Quad. "[NarraSquirrel Appearance]".  
The printed name of NarraSquirrel is "spirited squirrel".
Understand "squirrel" and "squirel" and "spirited squirrel" and "Narrascope squirrel" and "narasquirel" and "narrasquirel" and "narasquirrel" as NarraSquirrel.

Instead of photographing Narrasquirrel for the first time:
	say "The Squirrel shows its teeth the camera. You suppose that's a smile, and you snap the pic.";
	now NarraSquirrel is snapped;
	increment SquirrelsSnapped. 

LincolnHallNarrascopeVolunteer is a volunteer in Lincoln Hall Theater. "A Narrascope Volunteer is standing on the stage, down at the bottom of the tiered seating. He is staring up at the empty seats and his lips are moving. He might be counting, but you can't tell."
The printed name of LincolnHallNarrascopeVolunteer is "Narrascope Volunteer".
Understand "Narrascope Volunteer" and "volunteer" as LincolnHallNarrascopeVolunteer.

The description of LincolnHallNarrascopeVolunteer is "This volunteer looks pretty mellow, but seems to be pretty busy at the moment. Perhaps you can check back later to ask your questions about the Lincoln Hall sessions."

"narrascope/conference/volunteer"	"He looks puzzled. 'Narra-what?'"

ArmoryNortheastEntranceVolunteer is a volunteer in ArmoryNEInterior. "A Narrascope Volunteer is standing here, attaching a poster to the wall."
The printed name of ArmoryNortheastEntranceVolunteer is "Narrascope Volunteer".
The description of ArmoryNortheastEntranceVolunteer is "The young woman has a Narrascope sextant pin attached to her t-shirt. She is clutching a handful of posters."
Understand "narrascope volunteer" and "volunteer" and "woman" and "young woman" as ArmoryNortheastEntranceVolunteer.

Armorysextantpin is part of ArmoryNortheastEntranceVolunteer. The description of sextant pin is "It's a pretty little pin. You'll get one probably, if you register for Narrascope."
Understand "sextant" and "sextant pin" and "pin" as Armorysextantpin.
The printed name of armorysextantpin is "sextant pin."

Does the player mean examining armorysextantpin when player is in ArmoryNEInterior:
	it is very likely.

a handful of posters are scenery in ArmoryNEInterior. The description of handful of posters is "The headline which reads 'Welcome to Narrascope 2020'!" 
Understand "poster" as a handful of posters.

Instead of talking to ArmoryNortheastEntranceVolunteer:
	say "They smile and say 'Welcome to the Armory! If you're in the building for Narrascope, all of our sessions will be on the first floor, just [bold type]south[roman type] of here. You can get a cup of coffe to the [bold type]west[roman type]. If you want to go for a run, the entrance to the track is on the far west side of the building. And if you'd like a word of advice, don't venture upstairs.'"
	
Instead of asking the ArmoryNortheastEntranceVolunteer about something:
	say "They shake their head. 'I don't know anything. I'm only a volunteer. " 
	
Instead of going up from ArmoryNEInterior for the first time:
	say "As you set your foot upon the first step, the Narrascope volunteer rushes over and says, 'No, don't use that staircase! Use [italic type]this[roman type] staircase over here. But honestly, you probably shouldn't go up any of them at all. Lots of people who go wandering in the Armory never find their way out again. But no worries, Narrascope events are all taking place on the first floor.";

Armory100NarrascopeVolunteer is a volunteer in Front of Armory 100. "A Narrascope Volunteer is here untangling cables at the front of the room."
The printed name of Armory100NarrascopeVolunteer is "Narrascope Volunteer".
Understand "narrascope volunteer" and "volunteer" as Armory100NarrascopeVolunteer.

The description of Armory100NarrascopeVolunteer is "She isn't paying any attention to you. She looks quite aggravated actually."

Instead of talking to Armory100NarrascopeVolunteer:
	say "You offer to help her, but she's nearly got it sorted out."

[

ChrisBallOffice is an open, unlocked, enterable container in GregoryHallInterior. "The door to Gregory 115 is wide open, and even though it's clearly a faculty office and only the size of a closet, there is a stream of students going Narrascope Volunteers going in and out of it carrying handfuls of conference materials."
Understand "office" and "chris ball's office" and "christopher ball's office" and "Gregory 115" and "Greg 115" and "professor christopher ball's office" and "volunteer center" as ChrisBallOffice.
The printed name of ChrisBallOffice is "Gregory 115".

Instead of entering ChrisBallOffice:
	say "Gregory 115 is the personal office of Professor Christopher Ball, on of the local Narrascope Hosts. he has kindly allowed the Narrascope volunteers to use it as a conference station. The office is so full of people that there's no room for you! Maybe come back later.";
	stop the action.
	
NarrascopeVolunteers are scenery people in GregoryHallInterior.
The printed name of NarrascopeVolunteers is "Narrascope Volunteers".

Understand "volunteers" and "narrascope volunteers" as NarrascopeVolunteers.
The description of NarrascopeVolunteers is "They look too busy to talk to you at the moment. Better catch them later."

Instead of photographing NarrascopeVolunteers:
	say "They move too fast for you to get a good picture of any of them. Too bad!"
]

[

GregorySecondFloorVolunteer is a volunteer in EntranceGreg213. "A Narrascope Volunteer stands here. His only purpose is to direct conference attendees to Gregory 223. He lifts his hands like semaphores, pointing [bold type] in [roman type]towards Greg 213 and [bold type]west[roman type] towards Gregory 223."
The printed name of GregorySecondFloorVolunteer is "Narrascope Volunteer".
Understand "narrascope volunteer" and "volunteer" as GregorySecondFloorVolunteer.

The description of GregorySecondFloorVolunteer is "They look quite content being a Narrascope Volunteer. They smile and say something enthusiastic about how great the conference is going to be."

Instead of talking to GregorySecondFloorVolunteer:
	say "They chatter to you for a while, but you have places to go, people to see, things to find, so you say goodbye."
]

[
Gregory100NarrascopeVolunteer is a volunteer in Gregory 100. "A Narrascope volunteer is here fiddling with the equipment at the presenter's station."
The description of Gregory100NarrascopeVolunteer is "He is singing a jaunty pirate song, but he looks a little harried. Better not bother him at the moment."
Understand "narrascope volunteer" and "volunteer" and "zarf" and "Andrew" and "Andrew Plotkin" as Gregory100NarrascopeVolunteer. 
The printed name of Gregory100NarrascopeVolunteer is "Narrascope Volunteer".
]


]

[TESTS]
Test gettocornsquirrel with "xyzzy/go to morrow plots/eat kernel/wait/wait/wait/wait/wait".
Test cornsquirrel with "test gettocornsquirrel/ ask corn squirrel about corn/ think about what to ask/ ask the corn squirrel about corn/ think about what to ask/ ask squirrel about corn/ ask the squirrel about corn/ ask the squirrel about bs/ ask the squirrel about itself/ ask the squirrel about going home/yes".
Test lair with "test gettocornsquirrel/ask corn squirrel about monster/ask corn squirrel about monster/ask corn squirrel about library/ask corn squirrel to return/yes/se/se/w/enter/examine tile/down/down".
Test getbook with "test lair/west/wear robes/n/e/n/n/take book/s/s/s/u/u/exit/w/w/read results book".
Test alterbook with "eat kernel/wait/wait/wait/wait/wait/ask corn squirrel about results/ask corn squirrel about results/ask corn squirrel about results/ask corn squirrel about results/ask corn squirrel about results/ask corn squirrel to go home/yes".
Test alteredending with "test getbook/test alterbook/".
Test badendings with "test getbook/".
Test wonkyending with "xyzzy/go to aces library/w/w/cast spell".
